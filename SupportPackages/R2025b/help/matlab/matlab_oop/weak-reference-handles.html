<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage">
<head>
<meta xmlns="http://www.w3.org/1999/xhtml" charset="utf-8">
<meta xmlns="http://www.w3.org/1999/xhtml" name="viewport" content="width=device-width, initial-scale=1.0">
<meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="X-UA-Compatible" content="IE=edge">
<title>Weak Reference Handles</title>
<script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
      {
      "@context": "http://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement":
      [{
          "@type": "ListItem",
          "position": 1,

          "item": {
          "@id": "../index.html",
          "name": "MATLAB"
}

          } 
        ,
        {
          "@type": "ListItem",
          "position": 2,

          "item": {
          "@id": "../programming-and-data-types.html",
          "name": "Programming"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 3,

          "item": {
          "@id": "../object-oriented-programming.html",
          "name": "Classes"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 4,

          "item": {
          "@id": "../object-oriented-programming-in-matlab.html",
          "name": "Define Classes"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 5,

          "item": {
          "@id": "../handle-classes.html",
          "name": "Handle Classes"
}

          }]
      }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "VisibleBreadcrumbs",

        "itemListElement":
        [
        "handle-classes"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/bootstrap.min.css" rel="stylesheet" type="text/css">


  <meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="Content-Script-Type" content="text/javascript">
<meta xmlns="http://www.w3.org/1999/xhtml" name="toctype" itemprop="pagetype" content="ug">
<meta xmlns="http://www.w3.org/1999/xhtml" name="infotype" itemprop="infotype" content="ex">

<meta xmlns="http://www.w3.org/1999/xhtml" name="description" itemprop="description" content="Create weak references to handle classes."><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-3.6.0.min.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-migrate.min.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_lg.css" rel="stylesheet" media="screen and (min-width: 1200px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_md.css" rel="stylesheet" media="screen and (min-width: 992px) and (max-width: 1199px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm+xs.css" rel="stylesheet" media="screen and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm.css" rel="stylesheet" media="screen and (min-width: 768px) and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_xs.css" rel="stylesheet" media="screen and (max-width: 767px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_offcanvas_v2.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/shared/highlight/styles/mwdochighlight.min.css" rel="stylesheet" type="text/css">

<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/l10n.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/f1help.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/mw.imageanimation.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/jquery.highlight.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/underscore-min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/use_platform_screenshots.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/suggest.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/overload.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/helpservices.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/productfilter.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/matlab_dialog_shared.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/highlight/highlight.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/localstorage.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/product_group.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/saxonjs/SaxonJS2.rt.js"></script><script xmlns="http://www.w3.org/1999/xhtml">
            window.history.replaceState(window.location.href, null, ""); // Initialize
            window.onload = function() {    
            mystylesheetLocation = "../../includes/shared/scripts/product_group-sef.json";
            mysourceLocation = "../../docset/docset.xml";
            product_help_location = "matlab";
            pagetype = "section";
            doccentertype = "product";
            langcode = "";
            getProductFilteredList(mystylesheetLocation, mysourceLocation, product_help_location, pagetype, doccentertype, langcode);  
            }
          </script>




<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery.mobile.custom.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/bootstrap.bundle.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/global.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_base.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_installed.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_print.css" rel="stylesheet" type="text/css" media="print">
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/equationrenderer/release/MathRenderer.js"></script>
</head>
<body id="responsive_offcanvas">
<div xmlns="http://www.w3.org/1999/xhtml" id="doc_header_spacer" class="header"></div>
<div xmlns="http://www.w3.org/1999/xhtml" class="section_header level_3"><div class="container-fluid"><div class="row" id="mobile_search_row"><div class="col-sm-6 col-md-7 has_horizontal_local_nav" id="section_header_title"><div class="section_header_content"><div class="section_header_title"><h1><a href="../../documentation-center.html">Help Center</a></h1></div></div></div><div class="col-12 col-sm-6 col-md-5" id="mobile_search"><div class="search_nested_content_container"><form id="docsearch_form" name="docsearch_form" method="get" data-release="R2025b" data-language="en" action="../../templates/searchresults.html"><div class="input-group tokenized_search_field"><label class="visually-hidden form-label">Search Help</label><input type="text" class="form-control conjoined_search" autocomplete="off" name="qdoc" placeholder="Search Help" id="docsearch"> <div><button type="submit" name="submitsearch" id="submitsearch" class="btn icon-search btn_search_adjacent btn_search icon_16" tabindex="-1"></button></div></div></form></div><button class="btn icon-remove btn_search float-end icon_32 d-sm-none" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div><div class="d-sm-none" id="search_actuator"><button class="btn icon-search btn_search float-end icon_16" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div></div></div></div><div class="row-offcanvas row-offcanvas-left">
<div xmlns="http://www.w3.org/1999/xhtml" class="sidebar-offcanvas" id="sidebar">
<nav class="offcanvas_nav" role="navigation">
<div class="offcanvas_actuator" data-bs-toggle="offcanvas" data-bs-target="#sidebar" id="nav_toggle"><button type="button" class="btn"><span class="visually-hidden">Off-Canvas Navigation Menu Toggle
                  Off-Canvas Navigation Menu Toggle</span><span class="icon-menu"></span></button><span class="offcanvas_actuator_label" id="translation_icon-menu" tabindex="-1" aria-hidden="true"></span></div><div class="nav_list_wrapper" id="nav_list_wrapper"><nav class="offcanvas_nav" role="navigation"><ul class="nav_breadcrumb" id="ul_left_nav_ancestors"><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../../documentation-center.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Documentation Home</span></a></li></ul>
<ul class="nav_disambiguation"><li><a href="../index.html?s_tid=CRUX_lftnav" id="index">MATLAB</a>
</li>
<li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../programming-and-data-types.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Programming</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../object-oriented-programming.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Classes</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../object-oriented-programming-in-matlab.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Define Classes</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../handle-classes.html?s_tid=CRUX_lftnav" itemprop="url" id="bs6io3j-1"><span itemprop="title">Handle Classes</span></a></li></ul><div class="search_refine_v4"><div id="facets_area"><ul class="nav_scrollspy nav list-unstyled" id="pnav">
<li class="nav_scrollspy_function nav-item"><a href="#responsive_offcanvas">Weak Reference Handles</a></li>
<li class="nav_scrollspy_title nav-item" id="SSPY810-section">On this page</li>
<!--ADD_REFENTRY_TITLE_HERE 11--><li class="nav-item"><a href="#mw_de7c2c17-6db9-463b-a8ce-a7915938b9f5" class="nav-link intrnllnk">Create Weak References</a></li><li class="nav-item"><a href="#mw_106e1d81-9ab4-4552-ac87-0b89536caf27" class="nav-link intrnllnk">Create Back Pointers Using Properties Defined with WeakHandle Attribute</a></li><li class="nav-item"><a href="#mw_82927ce8-9da7-4e3b-9eb7-5dcfa54c2914" class="nav-link intrnllnk">Create a Cache Using the matlab.lang.WeakReference Class</a></li><li class="nav-item"><a href="#mw_2c19f866-65cd-4821-b971-891757c513c9" class="nav-link intrnllnk">Immediate Destruction of Weak References</a></li><li class="nav-item"><a href="#d126e10519" class="nav-link intrnllnk">See Also</a></li></ul></div></div>
</nav></div></nav>
<script src="../../includes/product/scripts/offcanvas_v2.js"></script></div><!--END.CLASS sidebar-offcanvas-->
<div class="offcanvas_content_container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sticky_header_container"><div class="horizontal_nav"><div class="horizontal_nav_container"><div class="offcanvas_horizontal_nav"><div class="container-fluid"><div class="row"><div class="col-sm-12 d-none d-sm-block"><nav class="navbar navbar-default" role="navigation" id="subnav"><div><ul class="nav navbar-nav crux_browse"><li id="crux_nav_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_example" class="crux_resource"><a href="../examples.html?category=handle-classes&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=handle-classes&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=handle-classes&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></nav></div><div class="d-sm-none"><div class="container-fluid"><div class="row"><div class="col-9"><div class="mobile_crux_nav_trigger"><div class="btn-group"><button type="button" class="btn btn-default dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Resources</button><ul class="dropdown-menu"><li id="crux_nav_mobile_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_mobile_example" class="crux_resource"><a href="../examples.html?category=handle-classes&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_mobile_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=handle-classes&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_mobile_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=handle-classes&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></div></div><div class="col-3"><div class="translate_placeholder"></div></div></div></div></div></div></div></div></div></div></div><div class="content_container" id="content_container" itemprop="content">
<div class="container-fluid">
<div class="row">
<div class="col-12">

<main id="skip_link_anchor" tabindex="-1">
<div xmlns="http://www.w3.org/1999/xhtml" id="product_info_alert"></div><section xmlns="http://www.w3.org/1999/xhtml" id="doc_center_content" lang="en" data-language="en"><div id="pgtype-topic">
<section><h2 class="title r2025b" itemprop="title content" id="mw_fa9c91ab-f65c-408c-b02f-66c5e4dc1932">Weak Reference Handles</h2><div class="doc_topic_desc"><div class="purpose_container"><em>Since R2024b</em></div></div><a class="indexterm" name="d126e10254"></a><a class="indexterm" name="d126e10256"></a><p>A weak reference to a handle object works much like a regular handle, but a weak
            reference does not prevent the object it references from being deleted. You can use weak
            references to manage object lifecycles more efficiently. </p><section><h3 class="title" id="mw_de7c2c17-6db9-463b-a8ce-a7915938b9f5">Create Weak References</h3><p>For example, this class defines a property using the <code class="literal">WeakHandle</code>
                property attribute. (See <a href="property-attributes.html" class="a">Property Attributes</a> for more information.)</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#0000FF">classdef</span> Example &lt; handle
    <span style="color:#0000FF">properties</span> (WeakHandle)
        Prop <span style="color:#A0522D">Example</span>
    <span style="color:#0000FF">end</span>
<span style="color:#0000FF">end</span>
</pre></div></div></div><p>Create two instances of the class, and use the second instance as the value of
                    <code class="property">Prop</code> in the first.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>x = Example;
y = Example;
x.Prop = y;</pre></div></div></div><p>The second instance of <code class="class">Example</code> is referenced by two handles:
                    <code class="property">y</code> and <code class="property">x.Prop</code>, and
                    <code class="property">x.Prop</code> is a weak reference. Clear
                <code class="property">y</code>.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>clear(<span style="color:#A020F0">"y"</span>);</pre></div></div></div><p> If <code class="property">x.Prop</code> were a strong reference, the object it referenced
                would still exist. However, <code class="property">x.Prop</code> is a weak reference, so
                    MATLAB<sup>&#x00AE;</sup> deletes the object. Verify this by accessing
                    <code class="property">x.Prop</code>.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>x.Prop</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>ans = 

  handle to deleted Example</pre></div></div></div><p>Outside of the context of a property definition, you can also create weak
                references using the <code class="class">matlab.lang.WeakReference</code> wrapper class. See
                    <a href="../ref/matlab.lang.weakreference-class.html"><code class="class">matlab.lang.WeakReference</code></a> for an example.</p></section><section><h3 class="title" id="mw_106e1d81-9ab4-4552-ac87-0b89536caf27">Create Back Pointers Using Properties Defined with <code class="literal">WeakHandle</code>                 Attribute</h3><p>Data structures like trees or lists can contain objects with back pointers to
                objects above them in a hierarchy. Back pointers that are strong reference handles
                force MATLAB to do extra work when checking to see which objects can be deleted.
                Replacing strong references with weak references provides more efficient management
                of handle objects.</p><p>For example, the class <code class="class">Car</code> contains properties that reference parts
                of a car. The class <code class="class">Engine</code> represents one part that
                    <code class="class">Car</code> can reference.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#0000FF">classdef</span> Car &lt; handle
    <span style="color:#0000FF">properties</span>
        VIN <span style="color:#A0522D">string</span>
        EngineInstalled <span style="color:#A0522D">Engine</span>
    <span style="color:#0000FF">end</span>
<span style="color:#0000FF">end</span></pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#0000FF">classdef</span> Engine &lt; handle
    <span style="color:#0000FF">properties</span> (WeakHandle)
        InstalledIn <span style="color:#A0522D">Car</span>
    <span style="color:#0000FF">end</span>
    <span style="color:#0000FF">properties</span>
        SerialNumber <span style="color:#A0522D">string </span>= <span style="color:#A020F0">"00000"</span>
        LastService <span style="color:#A0522D">datetime </span>= <span style="color:#A020F0">"today"</span>
    <span style="color:#0000FF">end</span>
<span style="color:#0000FF">end</span></pre></div></div></div><p>The <code class="class">Engine</code> class defines a weak reference,
                    <code class="class">InstalledIn</code>, back to the car that the engine is installed in. All
                properties defined with the <code class="literal">WeakHandle</code> attribute must use class
                validation. In this case, <code class="class">InstalledIn</code> must be of type
                    <code class="class">Car</code>.</p><p>Construct <code class="object">myCar</code> and <code class="object">myCarEngine</code>. Assign
                    <code class="object">myCarEngine</code> to the <code class="property">EngineInstalled</code>
                property of <code class="object">myCar</code>, and set the <code class="property">InstalledIn</code>
                property of <code class="object">myCarEngine</code> to <code class="object">myCar</code>.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>myCar = Car;
myCarEngine = Engine;
myCar.EngineInstalled = myCarEngine;
myCarEngine.InstalledIn = myCar;</pre></div></div></div><p>Now, both <code class="class">myCar</code> and <code class="class">myCarEngine</code> reference each
                other, although the reference from <code class="class">myCarEngine</code> to
                    <code class="class">myCar</code> is a weak reference. Clear <code class="class">myCar</code>.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>clear(<span style="color:#A020F0">"myCar"</span>)</pre></div></div></div><p>If the handle in the <code class="property">InstalledIn</code> property of
                    <code class="class">myCarEngine</code> were a strong reference, the object pointed to by
                    <code class="class">myCar</code> would still exist because it would be strongly referenced
                by <code class="property">myCarEngine.InstalledIn</code>. However, the
                    <code class="property">myCarEngine.InstalledIn</code> property is now the only reference
                to <code class="class">myCar</code>. Because <code class="property">myCarEngine.InstalledIn</code> is a
                weak reference, it does not prevent MATLAB from deleting the <code class="class">myCar</code> object. Confirm this by
                accessing <code class="property">myCarEngine.InstalledIn</code>.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>myCarEngine.InstalledIn</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>ans = 

  handle to deleted Car</pre></div></div></div></section><section><h3 class="title" id="mw_82927ce8-9da7-4e3b-9eb7-5dcfa54c2914">Create a Cache Using the <code class="class">matlab.lang.WeakReference</code> Class</h3><p>You can use weak references to design a cache. Because caches are usually intended
                for quick access to data without necessarily preserving that data, you can use weak
                references to help manage lifecycles of data objects. Each object in the cache can
                have a weak reference, but the weak references do not prevent the code that manages
                the cache from deleting objects.</p><p>First, define a basic class <code class="class">TrialData</code> that represents experimental
                data.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#0000FF">classdef</span> TrialData &lt; handle
    <span style="color:#0000FF">properties</span>
        trialNumber <span style="color:#A0522D">string </span>= <span style="color:#A020F0">"A001"</span>
        trialResults <span style="color:#A0522D">double </span>= 0
    <span style="color:#0000FF">end</span>
<span style="color:#0000FF">end</span>
</pre></div></div></div><p>Create the basis for a cache by defining a <a href="../ref/dictionary.html"><code class="object">dictionary</code></a>, <code class="literal">workingData</code>. The dictionary maps a
                string-valued key to a weak reference to the data object. You cannot use the
                    <code class="literal">WeakHandle</code> property attribute here, so instead use an empty
                array of the <code class="class">matlab.lang.WeakReference</code> wrapper class as the initial
                value.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>workingData = dictionary(string.empty,matlab.lang.WeakReference.empty)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>workingData =

  dictionary (string ⟼ matlab.lang.WeakReference) with no entries.</pre></div></div></div><p>Construct two instances of <code class="class">TrialData</code> and add them to
                    <code class="literal">workingData</code>. Use the <code class="property">trialNumber</code>
                property of the <code class="class">TrialData</code> instances as the keys for the entries in
                the dictionary. The dictionary values are weak references to <code class="object">first</code>
                and <code class="object">second</code> because the dictionary values were initially defined as
                type <code class="class">matlab.lang.WeakReference</code>. </p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>first = TrialData;
second = TrialData;
second.trialNumber = <span style="color:#A020F0">"A002"</span>;
second.trialResults = 1;
workingData(first.trialNumber) = first;
workingData(second.trialNumber) = second</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>workingData =

  dictionary (string ⟼ matlab.lang.WeakReference) with 2 entries:

    "A001" ⟼ 1×1 matlab.lang.WeakReference
    "A002" ⟼ 1×1 matlab.lang.WeakReference</pre></div></div></div><p>The instance referenced by each dictionary value is held by the
                    <code class="property">Handle</code> property of
                <code class="class">matlab.lang.WeakReference</code>. Access the property values of the object
                referenced by <code class="literal">“A002”</code> through the <code class="property">Handle</code>
                property.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>result2 = workingData(<span style="color:#A020F0">"A002"</span>).Handle.trialResults</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>result2 =

     1</pre></div></div></div><p>Because the dictionary values are weak references, they do not prevent any of the
                objects referenced from being cleared from memory. Clear <code class="literal">second</code>,
                and confirm that the reference in the dictionary now points to a deleted
                object.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>clear(<span style="color:#A020F0">"second"</span>)
workingData(<span style="color:#A020F0">"A002"</span>).Handle</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>ans = 

  handle to deleted TrialData
</pre></div></div></div></section><section><h3 class="title" id="mw_2c19f866-65cd-4821-b971-891757c513c9">Immediate Destruction of Weak References</h3><p>MATLAB immediately deletes an object that has only weak references to it. For
                example, construct an instance of <code class="class">Example</code> from the introduction to
                    <a href="weak-reference-handles.html#mw_de7c2c17-6db9-463b-a8ce-a7915938b9f5" class="intrnllnk">Create Weak References</a>. Set
                    <code class="property">Prop</code> using the <code class="class">Example</code> constructor instead
                of creating a separate instance as a strong reference.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#0000FF">classdef</span> Example &lt; handle
    <span style="color:#0000FF">properties</span> (WeakHandle)
        Prop <span style="color:#A0522D">Example</span>
    <span style="color:#0000FF">end</span>
<span style="color:#0000FF">end</span>
</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>x = Example;
x.Prop = Example;</pre></div></div></div><p>Because the object referenced by <code class="property">x.Prop</code> has only a weak
                reference, MATLAB deletes it immediately after it is created.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>x.Prop</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>ans = 

  handle to deleted Example</pre></div></div></div><p>To avoid this behavior, define a strong reference first so that MATLAB does not immediately delete the object, as shown in the <a href="weak-reference-handles.html#mw_106e1d81-9ab4-4552-ac87-0b89536caf27" class="intrnllnk">Create Back Pointers Using Properties Defined with WeakHandle Attribute</a>
                example.</p></section>
            <h2 id="d126e10519">See Also</h2><p><span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/matlab.lang.weakreference-class.html"><span itemprop="name"><code class="class">matlab.lang.WeakReference</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/matlab.lang.handleplaceholder-class.html"><span itemprop="name"><code class="class">matlab.lang.HandlePlaceholder</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/matlab.lang.invalidhandle.html"><span itemprop="name"><code class="function">matlab.lang.invalidHandle</code></span></a></span></p>
            <h3 id="d126e10531">Topics</h3><ul class="list-unstyled"><li><a href="property-attributes.html" class="a">Property Attributes</a></li><li><a href="validate-property-values.html" class="a">Validate Property Values</a></li></ul>
        </section>
    </div></section><div xmlns="http://www.w3.org/1999/xhtml" class="clearfix"></div>
<div xmlns="http://www.w3.org/1999/xhtml" align="center" class="feedbackblock" id="mw_docsurvey"><script src="https://www.mathworks.com/help/docsurvey/docfeedback.js"></script>
<script>loadSurveyHidden();</script>
<link rel="stylesheet" href="https://www.mathworks.com/help/docsurvey/release/index-css.css" type="text/css">
<script src="https://www.mathworks.com/help/docsurvey/release/bundle.index.js"></script>

<script>initDocSurvey();</script></div></main>


</div>
</div>
</div>
</div><!--close_0960-->
<footer xmlns="http://www.w3.org/1999/xhtml" id="footer" class="bs-footer">
<div class="container-fluid">
<div class="footer">
<div class="row">
<div class="col-12">
<p class="copyright">© 1994-2025 The MathWorks, Inc.</p>
<ul class="footernav"><li class="footernav_help"><a href="matlab:web(matlab.internal.licenseAgreement)">Terms of Use</a></li><li class="footernav_patents"><a href="matlab:web([matlabroot '/patents.txt'])">Patents</a></li><li class="footernav_trademarks"><a href="matlab:web([matlabroot '/trademarks.txt'])">Trademarks</a></li><li class="footernav_piracy"><a href="matlab:web([docroot '/acknowledgments.html'])">Acknowledgments</a></li></ul></div>
</div>
</div>
</div>
</footer>
</div><!--close row-offcanvas-->
</div><!--close_0970-->
</body>
</html>
