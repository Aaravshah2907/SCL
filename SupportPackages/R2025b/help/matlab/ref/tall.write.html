<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage">
<head>
<meta xmlns="http://www.w3.org/1999/xhtml" charset="utf-8">
<meta xmlns="http://www.w3.org/1999/xhtml" name="viewport" content="width=device-width, initial-scale=1.0">
<meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="X-UA-Compatible" content="IE=edge">
<title>write</title>
<script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
      {
      "@context": "http://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement":
      [{
          "@type": "ListItem",
          "position": 1,

          "item": {
          "@id": "../index.html",
          "name": "MATLAB"
}

          } 
        ,
        {
          "@type": "ListItem",
          "position": 2,

          "item": {
          "@id": "../data-import-and-analysis.html",
          "name": "Data Import and Analysis"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 3,

          "item": {
          "@id": "../large-files-and-big-data.html",
          "name": "Large Files and Big Data"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 4,

          "item": {
          "@id": "../tall-arrays.html",
          "name": "Tall Arrays"
}

          }]
      }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "VisibleBreadcrumbs",

        "itemListElement":
        [
        "tall-arrays"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "ExtendedCapabilities",

        "itemListElement":
        [
{
          "@type": "ListItem",
          "position": 1,
"item": 
        {
        "@context": "http://schema.org",
        "@type": "PropertyValue",
          "name": "distributedarrays",
          "value": "full"

        }
          },
{
          "@type": "ListItem",
          "position": 2,
"item": 
        {
        "@context": "http://schema.org",
        "@type": "PropertyValue",
          "name": "tall",
          "value": "full"

        }
          }
        ]
        }
        </script>
<meta xmlns="http://www.w3.org/1999/xhtml" name="chunktype" content="refpage"><meta xmlns="http://www.w3.org/1999/xhtml" name="refentity" itemprop="refentity" content="function:write"><meta xmlns="http://www.w3.org/1999/xhtml" name="refentity" itemprop="refentity" content="method:tall.write"><link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/bootstrap.min.css" rel="stylesheet" type="text/css">


  <meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="Content-Script-Type" content="text/javascript">
<meta xmlns="http://www.w3.org/1999/xhtml" name="toctype" itemprop="pagetype" content="fcn">
<meta xmlns="http://www.w3.org/1999/xhtml" name="infotype" itemprop="infotype" content="ref/function">

<meta xmlns="http://www.w3.org/1999/xhtml" name="description" itemprop="description" content="This MATLAB function calculates the values in tall array tA and writes the array to files in the folder specified by location."><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-3.6.0.min.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-migrate.min.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_lg.css" rel="stylesheet" media="screen and (min-width: 1200px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_md.css" rel="stylesheet" media="screen and (min-width: 992px) and (max-width: 1199px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm+xs.css" rel="stylesheet" media="screen and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm.css" rel="stylesheet" media="screen and (min-width: 768px) and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_xs.css" rel="stylesheet" media="screen and (max-width: 767px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_offcanvas_v2.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/shared/highlight/styles/mwdochighlight.min.css" rel="stylesheet" type="text/css">

<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/l10n.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/f1help.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/mw.imageanimation.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/jquery.highlight.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/underscore-min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/use_platform_screenshots.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/suggest.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/overload.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/helpservices.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/productfilter.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/matlab_dialog_shared.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/highlight/highlight.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/localstorage.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/product_group.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/saxonjs/SaxonJS2.rt.js"></script><script xmlns="http://www.w3.org/1999/xhtml">
            window.history.replaceState(window.location.href, null, ""); // Initialize
            window.onload = function() {    
            mystylesheetLocation = "../../includes/shared/scripts/product_group-sef.json";
            mysourceLocation = "../../docset/docset.xml";
            product_help_location = "matlab";
            pagetype = "refentry";
            doccentertype = "product";
            langcode = "";
            getProductFilteredList(mystylesheetLocation, mysourceLocation, product_help_location, pagetype, doccentertype, langcode);  
            }
          </script>




<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery.mobile.custom.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/bootstrap.bundle.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/global.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_base.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_installed.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_print.css" rel="stylesheet" type="text/css" media="print">
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/equationrenderer/release/MathRenderer.js"></script>
</head>
<body id="responsive_offcanvas">
<div xmlns="http://www.w3.org/1999/xhtml" id="doc_header_spacer" class="header"></div>
<div xmlns="http://www.w3.org/1999/xhtml" class="section_header level_3"><div class="container-fluid"><div class="row" id="mobile_search_row"><div class="col-sm-6 col-md-7 has_horizontal_local_nav" id="section_header_title"><div class="section_header_content"><div class="section_header_title"><h1><a href="../../documentation-center.html">Help Center</a></h1></div></div></div><div class="col-12 col-sm-6 col-md-5" id="mobile_search"><div class="search_nested_content_container"><form id="docsearch_form" name="docsearch_form" method="get" data-release="R2025b" data-language="en" action="../../templates/searchresults.html"><div class="input-group tokenized_search_field"><label class="visually-hidden form-label">Search Help</label><input type="text" class="form-control conjoined_search" autocomplete="off" name="qdoc" placeholder="Search Help" id="docsearch"> <div><button type="submit" name="submitsearch" id="submitsearch" class="btn icon-search btn_search_adjacent btn_search icon_16" tabindex="-1"></button></div></div></form></div><button class="btn icon-remove btn_search float-end icon_32 d-sm-none" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div><div class="d-sm-none" id="search_actuator"><button class="btn icon-search btn_search float-end icon_16" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div></div></div></div><div class="row-offcanvas row-offcanvas-left">
<div xmlns="http://www.w3.org/1999/xhtml" class="sidebar-offcanvas" id="sidebar">
<nav class="offcanvas_nav" role="navigation">
<div class="offcanvas_actuator" data-bs-toggle="offcanvas" data-bs-target="#sidebar" id="nav_toggle"><button type="button" class="btn"><span class="visually-hidden">Off-Canvas Navigation Menu Toggle
                  Off-Canvas Navigation Menu Toggle</span><span class="icon-menu"></span></button><span class="offcanvas_actuator_label" id="translation_icon-menu" tabindex="-1" aria-hidden="true"></span></div><div class="nav_list_wrapper" id="nav_list_wrapper"><nav class="offcanvas_nav" role="navigation"><ul class="nav_breadcrumb" id="ul_left_nav_ancestors"><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../../documentation-center.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Documentation Home</span></a></li></ul>
<ul class="nav_disambiguation"><li><a href="../index.html?s_tid=CRUX_lftnav" id="index">MATLAB</a>
</li>
<li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../data-import-and-analysis.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Data Import and Analysis</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../large-files-and-big-data.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Large Files and Big Data</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../tall-arrays.html?s_tid=CRUX_lftnav" itemprop="url" id="bvaolz6"><span itemprop="title">Tall Arrays</span></a></li></ul><div class="search_refine_v4"><div id="facets_area"><ul class="nav_scrollspy nav list-unstyled" id="pnav">
<li class="nav_scrollspy_function nav-item notranslate"><a href="#responsive_offcanvas"><span class="refname">write</span></a></li>
<li class="nav_scrollspy_title nav-item" id="SSPY810-refentry">On this page</li>
<!--ADD_REFENTRY_TITLE_HERE 11--><li><a href="#d126e2012513" class="intrnllnk">Syntax</a></li><li class="nav-item"><a href="#description" class="nav-link intrnllnk">Description</a></li><li class="nav-item"><a href="#bvciprm-4" class="nav-link intrnllnk">Examples</a><ul class="nav"><li class="nav-item"><a href="#bvdhomp-1" class="nav-link intrnllnk">Write and Reconstruct Tall Array</a></li></ul><ul class="nav"><li class="nav-item"><a href="#mw_67f7c92b-2104-4964-920a-dd1f24f9b931" class="nav-link intrnllnk">Write Spreadsheet File to Cloud Storage</a></li></ul><ul class="nav"><li class="nav-item"><a href="#mw_900da264-25a7-4ad1-bc84-ba1b022e4ff9" class="nav-link intrnllnk">Write Images with Custom Write Function</a></li></ul></li><li class="nav-item"><a href="#bvciprm-2" class="nav-link intrnllnk">Input Arguments</a><ul class="nav"><li class="nav-item"><a href="#bvciprm-location" class="nav-link intrnllnk">location</a></li><li class="nav-item"><a href="#bvciprm-tA" class="nav-link intrnllnk">tA</a></li><li class="nav-item"><a href="#mw_b6988d37-965c-40cc-8e74-0b3812839a42" class="nav-link intrnllnk">filepattern</a></li></ul></li><li class="nav-item"><a href="#namevaluepairs" class="nav-link intrnllnk">Name-Value Arguments</a><ul class="nav"><li class="nav-item"><a href="#mw_a3c1a98f-bd4d-4f51-a6b5-c3eaf89c4de1" class="nav-link intrnllnk">General Options</a><ul><li class="nav-item"><a href="#mw_23b82c52-2202-47b0-b5db-22cfe09a7a94" class="nav-link intrnllnk">FileType</a></li><li class="nav-item"><a href="#mw_39b2e1dd-34aa-4787-91e5-7dbb46c26d56" class="nav-link intrnllnk">WriteFcn</a></li></ul></li></ul><ul class="nav"><li class="nav-item"><a href="#mw_75847b81-2e4a-4e99-9740-1b3095de698c" class="nav-link intrnllnk">Text or Spreadsheet Files</a><ul><li class="nav-item"><a href="#mw_b4318124-90e7-4aa0-a602-87961a4ad859" class="nav-link intrnllnk">WriteVariableNames</a></li><li class="nav-item"><a href="#mw_7e06da98-d308-4421-b707-f92e4f8b0ee8" class="nav-link intrnllnk">DateLocale</a></li></ul></li></ul><ul class="nav"><li class="nav-item"><a href="#mw_73a070bf-8c0e-4e93-a71e-8205469d4873" class="nav-link intrnllnk">Text Files Only</a><ul><li class="nav-item"><a href="#mw_79e6646a-1007-4828-a07b-169e3e6aea0a" class="nav-link intrnllnk">Delimiter</a></li><li class="nav-item"><a href="#mw_2bf7b0f6-5822-40d3-9834-38bf83494df6" class="nav-link intrnllnk">QuoteStrings</a></li><li class="nav-item"><a href="#mw_60d226a2-4bd2-4467-b130-4f3e5b7b4696" class="nav-link intrnllnk">Encoding</a></li></ul></li></ul><ul class="nav"><li class="nav-item"><a href="#mw_c8ef3b97-27b3-4745-867c-4ea0547ef959" class="nav-link intrnllnk">Spreadsheet Files Only</a><ul><li class="nav-item"><a href="#mw_0ebc1254-04a1-4264-b8bc-aeb64629b094" class="nav-link intrnllnk">Sheet</a></li></ul></li></ul><ul class="nav"><li class="nav-item"><a href="#mw_257ed6b1-8554-4793-b64c-e9059e05759c" class="nav-link intrnllnk">Parquet Files Only</a><ul><li class="nav-item"><a href="#mw_62829d56-7659-4621-9c46-adfbff4ada79" class="nav-link intrnllnk">VariableCompression</a></li><li class="nav-item"><a href="#mw_9ea468d4-1cd9-4372-ac49-cc60b528c025" class="nav-link intrnllnk">VariableEncoding</a></li><li class="nav-item"><a href="#mw_fcde966a-72f1-497c-8c26-36bdfa3fd772" class="nav-link intrnllnk">Version</a></li></ul></li></ul></li><li class="nav-item"><a href="#mw_80c46658-7d80-4400-b400-68914a76f5b9" class="nav-link intrnllnk">Limitations</a></li><li class="nav-item"><a href="#bvdk2g8-4" class="nav-link intrnllnk">Tips</a></li><li class="nav-item"><a href="#refsect-extended-capabilities" class="nav-link intrnllnk">Extended Capabilities</a></li><li class="nav-item"><a href="#bvciprm_vh" class="nav-link intrnllnk">Version History</a></li><li class="nav-item"><a href="#bvciprm_seealso" class="nav-link intrnllnk">See Also</a></li></ul></div></div>
</nav></div></nav>
<script src="../../includes/product/scripts/offcanvas_v2.js"></script></div><!--END.CLASS sidebar-offcanvas-->
<div class="offcanvas_content_container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sticky_header_container"><div class="horizontal_nav"><div class="horizontal_nav_container"><div class="offcanvas_horizontal_nav"><div class="container-fluid"><div class="row"><div class="col-sm-12 d-none d-sm-block"><nav class="navbar navbar-default" role="navigation" id="subnav"><div><ul class="nav navbar-nav crux_browse"><li id="crux_nav_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_example" class="crux_resource"><a href="../examples.html?category=tall-arrays&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=tall-arrays&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=tall-arrays&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></nav></div><div class="d-sm-none"><div class="container-fluid"><div class="row"><div class="col-9"><div class="mobile_crux_nav_trigger"><div class="btn-group"><button type="button" class="btn btn-default dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Resources</button><ul class="dropdown-menu"><li id="crux_nav_mobile_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_mobile_example" class="crux_resource"><a href="../examples.html?category=tall-arrays&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_mobile_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=tall-arrays&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_mobile_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=tall-arrays&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></div></div><div class="col-3"><div class="translate_placeholder"></div></div></div></div></div></div></div></div></div></div></div><div class="content_container" id="content_container" itemprop="content">
<div class="container-fluid">
<div class="row">
<div class="col-12">

<main id="skip_link_anchor" tabindex="-1">
<div xmlns="http://www.w3.org/1999/xhtml" id="product_info_alert"></div><section xmlns="http://www.w3.org/1999/xhtml" id="doc_center_content" lang="en" data-language="en"><div id="pgtype-ref-function"><div class="function_ref"><span id="bvciprm" class="anchor_target"></span><h1 class="r2025b notranslate" itemprop="title"><span class="refname">write</span></h1><div class="doc_topic_desc"><div class="purpose_container"><p itemprop="purpose">Write tall array to local and remote locations for checkpointing</p><div class="switch"><a href="javascript:void(0);" id="expandAllPage" data-allexpanded="true1">collapse all in page</a></div></div></div>
<div class="ref_sect"><h2 id="d126e2012513">Syntax</h2><div class="syntax_signature"><div class="syntax_signature_module"><div class="code_responsive"><code class="synopsis"><a href="#d126e2012520" class="intrnllnk">write(location,tA)</a></code></div><div class="code_responsive"><code class="synopsis"><a href="#d126e2012542" class="intrnllnk">write(filepattern,tA)</a></code></div><div class="code_responsive"><code class="synopsis"><a href="#d126e2012566" class="intrnllnk">write(<span class="argument_placeholder">___</span>,Name,Value)</a></code></div></div></div></div><div class="clear"></div><span id="bvciprm-1" class="anchor_target"></span><h2 id="description">Description</h2><div class="descriptions"><div class="cshsummary" id="csh_bvciprm"><div class="description_module"><div class="description_element"><div class="code_responsive"><p><span id="d126e2012520" itemprop="syntax"><code class="synopsis">write(<a href="#bvciprm-location" class="intrnllnk"><code class="argument">location</code></a>,<a href="#bvciprm-tA" class="intrnllnk"><code class="argument">tA</code></a>)</code></span> calculates
                the values in tall array <code class="literal">tA</code> and writes the array to files in the
                folder specified by <code class="literal">location</code>. The data is stored in an efficient
                binary format suitable for reading back using
                <code class="literal">datastore(location)</code>.</p></div><p class="syntax_example"><a href="tall.write.html#bvdhomp-1" class="intrnllnk">example</a></p></div><div class="description_element"><div class="code_responsive"><p><span id="d126e2012542" itemprop="syntax"><code class="synopsis">write(<a href="#mw_b6988d37-965c-40cc-8e74-0b3812839a42" class="intrnllnk"><code class="argument">filepattern</code></a>,<a href="#bvciprm-tA" class="intrnllnk"><code class="argument">tA</code></a>)</code></span>
                uses the file extension from <code class="literal">filepattern</code> to determine the output
                format. <code class="literal">filepattern</code> must include a folder to write the files
                into, followed by a file name that includes a wildcard <code class="literal">*</code>. The
                wildcard represents incremental numbers for generating unique file names. For
                example, <code class="literal">write('folder/myfile_*.csv',tA)</code>.</p></div><p class="syntax_example"><a href="tall.write.html#mw_67f7c92b-2104-4964-920a-dd1f24f9b931" class="intrnllnk">example</a></p></div><div class="description_element"><div class="code_responsive"><p><span id="d126e2012566" itemprop="syntax"><code class="synopsis">write(<span class="argument_placeholder">___</span>,<a href="#namevaluepairarguments" class="intrnllnk"><code class="argument">Name,Value</code></a>)</code></span>
                specifies additional options with one or more name-value pair arguments using any of
                the previous syntaxes. For example, you can specify the file type with
                    <code class="literal">'FileType'</code> and a valid file type (<code class="literal">'mat'</code>,
                    <code class="literal">'seq'</code>, <code class="literal">'parquet'</code>,
                    <code class="literal">'text'</code>, or <code class="literal">'spreadsheet'</code>), or you can
                specify a custom write function to process the data with
                    <code class="literal">'WriteFcn'</code> and a function handle.</p></div><p class="syntax_example"><a href="tall.write.html#mw_900da264-25a7-4ad1-bc84-ba1b022e4ff9" class="intrnllnk">example</a></p></div></div></div></div><div class="clear"></div><div class="examples"><h2 id="bvciprm-4">Examples</h2><div class="expandableContent" id="expandableExamples"><p class="switch"><a href="javascript:void(0);" class="expandAllLink" data-allexpanded="true3">collapse all</a></p><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true" id="expand_accordion_heading_bvdhomp-1"><div class="accordion-item "><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_bvdhomp-1" data-bs-target="#expand_accordion_body_bvdhomp-1" aria-controls="expand_accordion_body_bvdhomp-1" class="accordion-button add_cursor_pointer" aria-expanded="true"><h3 id="bvdhomp-1">Write and Reconstruct Tall Array</h3></button></div><div role="tabpanel" id="expand_accordion_body_bvdhomp-1" aria-labelledby="expand_accordion_heading_bvdhomp-1" class="accordion-collapse collapse show"><div class="accordion-body"><div class="examples_short_list hidden_ios_android" data-products="ML"><div data-pane="metadata" class="card metadata_container"><div class="card-body metadata_content"><div class="d-grid"><a class="btn btn_color_blue" href="matlab:openExample('matlab/WriteAndReconstructTallArrayExample')" data-ex-genre="Live Script">Open Live Script</a></div></div></div></div><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "DigitalDocument",
          "headline": "Write and Reconstruct Tall Array",
          "description": "Write a tall array to disk, and then recover the tall array by creating a new datastore for the written files. This process is useful to save your work or share a tall array with a colleague.",
          "thumbnailURL": "../../includes/product/images/doc_center/DefaultImage.png",
          "genre": "Live Script",
          "isBasedOn": {
          "@type": "Product",
          "name": "MATLAB"

        },
          "isPartOf": {
          "@type": "CreativeWork",
          "url": "tall.write.html"

        },
          "identifier": "matlab.WriteAndReconstructTallArrayExample",
          "name": "WriteAndReconstructTallArrayExample",
          "url": "tall.write.html#bvdhomp-1"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "PropertyValue",
          "name": "open_command",
          "value": "matlab:openExample('matlab/WriteAndReconstructTallArrayExample')"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "ExampleSourceFiles",

        "itemListElement":
        [
        "WriteAndReconstructTallArrayExample.mlx",
        "airlinesmall.csv"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><p class="shortdesc">Write a tall array to disk, and then recover the tall array by creating a new datastore for the written files. This process is useful to save your work or share a tall array with a colleague.</p><p>Create a datastore for the <code class="literal">airlinesmall.csv</code> data set. Select only the <code class="literal">Year</code>, <code class="literal">Month</code>, and <code class="literal">UniqueCarrier</code> variables, and treat <code class="literal">'NA'</code> values as missing data. Convert the datastore into a tall table.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>ds = datastore(<span style="color:#A020F0">'airlinesmall.csv'</span>);
ds.TreatAsMissing = <span style="color:#A020F0">'NA'</span>;
ds.SelectedVariableNames = {<span style="color:#A020F0">'Month'</span>,<span style="color:#A020F0">'Year'</span>,<span style="color:#A020F0">'UniqueCarrier'</span>};
tt = tall(ds)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>tt =

  M×3 tall table

    Month    Year    UniqueCarrier
    _____    ____    _____________

     10      1987       {'PS'}    
     10      1987       {'PS'}    
     10      1987       {'PS'}    
     10      1987       {'PS'}    
     10      1987       {'PS'}    
     10      1987       {'PS'}    
     10      1987       {'PS'}    
     10      1987       {'PS'}    
      :       :            :
      :       :            :
</pre></div></div></div><p>Sort the data in descending order by year and extract the top 25 rows. The resulting tall table is unevaluated.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>tt_new = topkrows(tt,25,<span style="color:#A020F0">'Year'</span>)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>tt_new =

  M×3 tall table

    Month    Year    UniqueCarrier
    _____    ____    _____________

      ?       ?            ?      
      ?       ?            ?      
      ?       ?            ?      
      :       :            :
      :       :            :

Preview deferred. Learn more.
</pre></div></div></div><p>Save the results to a new folder named <code class="literal">ExampleData</code> on the <code class="literal">C:\</code> disk. (You can specify a different write location, especially if you are not using a Windows&#174; computer.) The <code class="literal">write</code> function evaluates the tall array prior to writing the files, so there is no need to use the <code class="literal">gather</code> function prior to saving the data.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>location = <span style="color:#A020F0">'C:\ExampleData'</span>;
write(location,tt_new)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>Writing tall data to folder C:\ExampleData
Evaluating tall expression using the Local MATLAB Session:
- Pass 1 of 1: Completed in 0.25 sec
Evaluation completed in 0.65 sec
</pre></div></div></div><p>Clear <code class="literal">tt</code> and <code class="literal">ds</code> from your working directory. To recover the tall table that was written to disk, first create a new datastore that references the same directory. Then convert the datastore into a tall table. Since the tall table was evaluated before being written to disk, the display now includes a preview of the values.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>clear <span style="color:#A020F0">tt</span> <span style="color:#A020F0">ds</span>
ds2 = datastore(location);
tt2 = tall(ds2)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>tt2 =

  M×3 tall table

    Month    Year    UniqueCarrier
    _____    ____    _____________

      1      2008       {'WN'}    
      1      2008       {'WN'}    
      1      2008       {'WN'}    
      1      2008       {'WN'}    
      1      2008       {'WN'}    
      1      2008       {'WN'}    
      1      2008       {'WN'}    
      1      2008       {'WN'}    
      :       :            :
      :       :            :
</pre></div></div></div><div class="procedure"></div></div></div></div></div><div itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/Example" itemprop="example" class="em_example"><meta itemprop="exampleid" content="matlab-WriteAndReconstructTallArrayExample"><meta itemprop="exampletitle" content="Write and Reconstruct Tall Array"></div><div class="accordion" role="tablist" aria-multiselectable="true" id="expand_accordion_heading_mw_67f7c92b-2104-4964-920a-dd1f24f9b931"><div class="accordion-item "><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_mw_67f7c92b-2104-4964-920a-dd1f24f9b931" data-bs-target="#expand_accordion_body_mw_67f7c92b-2104-4964-920a-dd1f24f9b931" aria-controls="expand_accordion_body_mw_67f7c92b-2104-4964-920a-dd1f24f9b931" class="accordion-button add_cursor_pointer" aria-expanded="true"><h3 id="mw_67f7c92b-2104-4964-920a-dd1f24f9b931">Write Spreadsheet File to Cloud Storage</h3></button></div><div role="tabpanel" id="expand_accordion_body_mw_67f7c92b-2104-4964-920a-dd1f24f9b931" aria-labelledby="expand_accordion_heading_mw_67f7c92b-2104-4964-920a-dd1f24f9b931" class="accordion-collapse collapse show"><div class="accordion-body"><div class="examples_short_list hidden_ios_android" data-products="ML"><div data-pane="metadata" class="card metadata_container"><div class="card-body metadata_content"><div class="d-grid"><a class="btn btn_color_blue" href="matlab:openExample('matlab/WriteSpreadsheetFileToCloudStorageExample')" data-ex-genre="Live Script">Open Live Script</a></div></div></div></div><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "DigitalDocument",
          "headline": "Write Spreadsheet File to Cloud Storage",
          "description": "Create a tall table referencing the tsunamis.xlsx data file, which contains time-stamped data about the location, magnitude, and cause of tsunamis.",
          "thumbnailURL": "../../includes/product/images/doc_center/DefaultImage.png",
          "genre": "Live Script",
          "isBasedOn": {
          "@type": "Product",
          "name": "MATLAB"

        },
          "isPartOf": {
          "@type": "CreativeWork",
          "url": "tall.write.html"

        },
          "identifier": "matlab.WriteSpreadsheetFileToCloudStorageExample",
          "name": "WriteSpreadsheetFileToCloudStorageExample",
          "url": "tall.write.html#mw_67f7c92b-2104-4964-920a-dd1f24f9b931"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "PropertyValue",
          "name": "open_command",
          "value": "matlab:openExample('matlab/WriteSpreadsheetFileToCloudStorageExample')"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "ExampleSourceFiles",

        "itemListElement":
        [
        "WriteSpreadsheetFileToCloudStorageExample.mlx"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><p class="shortdesc">Create a tall table referencing the <code class="literal">tsunamis.xlsx</code> data file, which contains time-stamped data about the location, magnitude, and cause of tsunamis.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>ds = spreadsheetDatastore(<span style="color:#A020F0">'tsunamis.xlsx'</span>);
T = tall(ds)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>T =

  M×20 tall table

    Latitude    Longitude    Year    Month    Day    Hour    Minute    Second    ValidityCode            Validity             CauseCode          Cause           EarthquakeMagnitude          Country                   Location             MaxHeight    IidaMagnitude    Intensity    NumDeaths    DescDeaths
    ________    _________    ____    _____    ___    ____    ______    ______    ____________    _________________________    _________    __________________    ___________________    ___________________    __________________________    _________    _____________    _________    _________    __________

      -3.8        128.3      1950     10       8       3       23       NaN           2          {'questionable tsunami' }        1        {'Earthquake'    }            7.6            {'INDONESIA'      }    {'JAVA TRENCH, INDONESIA'}       2.8            1.5            1.5          NaN          NaN    
      19.5         -156      1951      8      21      10       57       NaN           4          {'definite tsunami'     }        1        {'Earthquake'    }            6.9            {'USA'            }    {'HAWAII'                }       3.6            1.8            NaN          NaN          NaN    
     -9.02       157.95      1951     12      22     NaN      NaN       NaN           2          {'questionable tsunami' }        6        {'Volcano'       }            NaN            {'SOLOMON ISLANDS'}    {'KAVACHI'               }         6            2.6            NaN          NaN          NaN    
     42.15       143.85      1952      3       4       1       22        41           4          {'definite tsunami'     }        1        {'Earthquake'    }            8.1            {'JAPAN'          }    {'SE. HOKKAIDO ISLAND'   }       6.5            2.7              2           33            1    
      19.1         -155      1952      3      17       3       58       NaN           4          {'definite tsunami'     }        1        {'Earthquake'    }            4.5            {'USA'            }    {'HAWAII'                }         1            NaN            NaN          NaN          NaN    
      43.1        -82.4      1952      5       6     NaN      NaN       NaN           1          {'very doubtful tsunami'}        9        {'Meteorological'}            NaN            {'USA'            }    {'LAKE HURON, MI'        }      1.52            NaN            NaN          NaN          NaN    
     52.75        159.5      1952     11       4      16       58       NaN           4          {'definite tsunami'     }        1        {'Earthquake'    }              9            {'RUSSIA'         }    {'KAMCHATKA'             }        18            4.2              4         2236            3    
        50        156.5      1953      3      18     NaN      NaN       NaN           3          {'probable tsunami'     }        1        {'Earthquake'    }            5.8            {'RUSSIA'         }    {'N. KURIL ISLANDS'      }       1.5            0.6            NaN          NaN          NaN    
       :            :         :        :       :      :        :         :            :                      :                    :                :                      :                      :                         :                     :              :              :            :            :
       :            :         :        :       :      :        :         :            :                      :                    :                :                      :                      :                         :                     :              :              :            :            :
</pre></div></div></div><p>Combine the <code class="literal">Year</code>, <code class="literal">Month</code>, <code class="literal">Day</code>, <code class="literal">Hour</code>, <code class="literal">Minute</code>, and <code class="literal">Second</code> variables into a single datetime variable, and then remove those variables from the table. Remove any rows that contain missing data.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>T.DateTime = datetime(T.Year, T.Month, T.Day, T.Hour, T.Minute, T.Second);
T(:,3:8) = [];
TT = rmmissing(T)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>TT =

  M×15 tall table

    Latitude    Longitude    ValidityCode          Validity          CauseCode               Cause                EarthquakeMagnitude       Country                 Location              MaxHeight    IidaMagnitude    Intensity    NumDeaths    DescDeaths          DateTime      
    ________    _________    ____________    ____________________    _________    ____________________________    ___________________    _____________    ____________________________    _________    _____________    _________    _________    __________    ____________________

     42.15        143.85          4          {'definite tsunami'}        1        {'Earthquake'              }            8.1            {'JAPAN'    }    {'SE. HOKKAIDO ISLAND'     }        6.5           2.7              2           33           1         04-Mar-1952 01:22:41
     58.34       -136.52          4          {'definite tsunami'}        3        {'Earthquake and Landslide'}            8.3            {'USA'      }    {'SE. ALASKA, AK'          }     524.26           4.6              5            5           1         10-Jul-1958 06:15:53
     -39.5         -74.5          4          {'definite tsunami'}        1        {'Earthquake'              }            9.5            {'CHILE'    }    {'CENTRAL CHILE'           }         25           4.6              4         1260           3         22-May-1960 19:11:17
      -6.8         -80.7          4          {'definite tsunami'}        1        {'Earthquake'              }            6.8            {'PERU'     }    {'PERU'                    }          9           3.2            2.5           66           2         20-Nov-1960 22:01:56
      61.1        -147.5          4          {'definite tsunami'}        3        {'Earthquake and Landslide'}            9.2            {'USA'      }    {'PRINCE WILLIAM SOUND, AK'}         67           6.1              5          221           3         28-Mar-1964 03:36:14
     38.65         139.2          4          {'definite tsunami'}        1        {'Earthquake'              }            7.5            {'JAPAN'    }    {'NW. HONSHU ISLAND'       }        5.8           2.7              2           26           1         16-Jun-1964 04:01:44
       0.2         119.8          4          {'definite tsunami'}        1        {'Earthquake'              }            7.8            {'INDONESIA'}    {'BANDA SEA'               }         10           3.3              3          200           3         14-Aug-1968 22:14:19
      -3.1         118.9          4          {'definite tsunami'}        1        {'Earthquake'              }            6.9            {'INDONESIA'}    {'MAKASSAR STRAIT'         }          4             2              2          600           3         23-Feb-1969 00:36:56
       :            :             :                   :                  :                     :                           :                   :                       :                      :              :              :            :            :                  :
       :            :             :                   :                  :                     :                           :                   :                       :                      :              :              :            :            :                  :
</pre></div></div></div><p>Write the table as a spreadsheet file to a remote location in Amazon S3&#8482; storage. To read or write data to Amazon S3 you must set the <code class="literal">AWS_ACCESS_KEY_ID</code> and <code class="literal">AWS_SECRET_ACCESS_KEY</code> environment variables using the credentials for your account. For more information, see <a href="../import_export/work-with-remote-data.html" data-docid="import_export#buh9wge-1" class="a">Work with Remote Data</a>.</p><div class="code_responsive"><pre id="d126e2013955" class="programlisting">setenv(<span style="color:#A020F0">'AWS_ACCESS_KEY_ID'</span>, <span style="color:#A020F0">'YOUR_AWS_ACCESS_KEY_ID'</span>); 
setenv(<span style="color:#A020F0">'AWS_SECRET_ACCESS_KEY'</span>, <span style="color:#A020F0">'YOUR_AWS_SECRET_ACCESS_KEY'</span>); 

location = <span style="color:#A020F0">'s3://bucketname/preprocessedData/'</span>;
write(location, TT, <span style="color:#A020F0">'FileType'</span>, <span style="color:#A020F0">'spreadsheet'</span>)
</pre></div><p>To read the data back, use <code class="literal">datastore</code> to point to the remote location where the data now resides.</p><div class="code_responsive"><pre id="d126e2013961" class="programlisting">ds = datastore(location);
tt = tall(ds);
</pre></div><div class="procedure"></div></div></div></div></div><div itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/Example" itemprop="example" class="em_example"><meta itemprop="exampleid" content="matlab-WriteSpreadsheetFileToCloudStorageExample"><meta itemprop="exampletitle" content="Write Spreadsheet File to Cloud Storage"></div><div class="accordion" role="tablist" aria-multiselectable="true" id="expand_accordion_heading_mw_900da264-25a7-4ad1-bc84-ba1b022e4ff9"><div class="accordion-item "><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_mw_900da264-25a7-4ad1-bc84-ba1b022e4ff9" data-bs-target="#expand_accordion_body_mw_900da264-25a7-4ad1-bc84-ba1b022e4ff9" aria-controls="expand_accordion_body_mw_900da264-25a7-4ad1-bc84-ba1b022e4ff9" class="accordion-button add_cursor_pointer" aria-expanded="true"><h3 id="mw_900da264-25a7-4ad1-bc84-ba1b022e4ff9">Write Images with Custom Write Function</h3></button></div><div role="tabpanel" id="expand_accordion_body_mw_900da264-25a7-4ad1-bc84-ba1b022e4ff9" aria-labelledby="expand_accordion_heading_mw_900da264-25a7-4ad1-bc84-ba1b022e4ff9" class="accordion-collapse collapse show"><div class="accordion-body"><div class="examples_short_list hidden_ios_android" data-products="ML"><div data-pane="metadata" class="card metadata_container"><div class="card-body metadata_content"><div class="d-grid"><a class="btn btn_color_blue" href="matlab:openExample('matlab/WriteImagesWithCustomWriteFunctionExample')" data-ex-genre="Live Script">Open Live Script</a></div></div></div></div><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "DigitalDocument",
          "headline": "Write Images with Custom Write Function",
          "description": "Create and use a custom writing function to write data in additional formats that are not directly supported by write, such as image files.",
          "thumbnailURL": "../../examples/matlab/win64/WriteImagesWithCustomWriteFunctionExample_01.png",
          "genre": "Live Script",
          "isBasedOn": {
          "@type": "Product",
          "name": "MATLAB"

        },
          "isPartOf": {
          "@type": "CreativeWork",
          "url": "tall.write.html"

        },
          "identifier": "matlab.WriteImagesWithCustomWriteFunctionExample",
          "name": "WriteImagesWithCustomWriteFunctionExample",
          "url": "tall.write.html#mw_900da264-25a7-4ad1-bc84-ba1b022e4ff9"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "PropertyValue",
          "name": "open_command",
          "value": "matlab:openExample('matlab/WriteImagesWithCustomWriteFunctionExample')"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "ExampleSourceFiles",

        "itemListElement":
        [
        "WriteImagesWithCustomWriteFunctionExample.mlx",
        "imageWriter.m"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><p class="shortdesc">Create and use a custom writing function to write data in additional formats that are not directly supported by <code class="literal">write</code>, such as image files.</p><p>Create an image datastore that references all of the sample images in the <code class="literal">toolbox/matlab/demos</code> folder. The selected images have the extensions <code class="literal">.jpg</code>, <code class="literal">.tif</code>, and <code class="literal">.png</code>. Convert the datastore to a tall cell array.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>demoFolder = fullfile(matlabroot,<span style="color:#A020F0">'toolbox'</span>,<span style="color:#A020F0">'matlab'</span>,<span style="color:#A020F0">'demos'</span>);
ds = imageDatastore(demoFolder,<span style="color:#A020F0">'FileExtensions'</span>,{<span style="color:#A020F0">'.jpg'</span> <span style="color:#A020F0">'.tif'</span> <span style="color:#A020F0">'.png'</span>});
T = tall(ds);</pre></div></div></div><p>Bring one of the images into memory and display it.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>I = gather(T(1));</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>Evaluating tall expression using the Local MATLAB Session:
- Pass 1 of 1: Completed in 3 sec
Evaluation completed in 3.2 sec
</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>imshow(I{1},<span style="color:#A020F0">'InitialMagnification'</span>,30)</pre></div></div></div><div class="informalfigure"><div id="d126e2014007" class="mediaobject"><p><img src="../../examples/matlab/win64/WriteImagesWithCustomWriteFunctionExample_01.png" width="789"></p></div></div><p><code class="literal">write</code> does not support image files directly, so to write the images out in a different format, you must create a new function to handle the file writing. The writing function receives two inputs from <code class="literal">write:</code></p><div class="itemizedlist"><ul><li><p><strong class="emphasis bold"><code class="literal">info</code></strong> is a structure containing fields with information about the current block of data. You can use these fields to construct your own unique file name, or simply use the <code class="literal">SuggestedFilename</code> field to use a name suggested by <code class="literal">write</code>.</p></li><li><p><strong class="emphasis bold"><code class="literal">data</code></strong> is the current block of data, obtained by using <code class="literal">read</code> on the datastore.</p></li></ul></div><p>The function <code class="literal">imageWriter</code> uses the filename suggested by <code class="literal">write</code>, and uses <code class="literal">imwrite</code> to write the image files to disk as <code class="literal">.jpg</code> files. Save this function in your current working folder.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>type <span style="color:#A020F0">imageWriter</span></pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>function imageWriter(info, data)
  filename = info.SuggestedFilename;
  imwrite(data{:}, filename)
end
</pre></div></div></div><p>Write the images in the datastore to a new folder named <code class="literal">exampleImages</code> on the <code class="literal">C:\</code> disk. (You can use a different location, especially if you are not using a Windows&#174; computer.) Pass <code class="literal">imageWriter</code> as the custom write function using the <code class="literal">'WriteFcn'</code> name-value pair argument.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>location = <span style="color:#A020F0">'C:\exampleImages\image_*.jpg'</span>;
write(location, T, <span style="color:#A020F0">'WriteFcn'</span>, @imageWriter)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>Writing tall data to folder C:\exampleImages
Evaluating tall expression using the Local MATLAB Session:
- Pass 1 of 1: Completed in 0.71 sec
Evaluation completed in 0.98 sec
</pre></div></div></div><p>Display the contents of the folder where the files were written.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>dir <span style="color:#A020F0">C:\exampleImages</span></pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>.                   image_1_000001.jpg  image_3_000001.jpg  image_5_000001.jpg  
..                  image_2_000001.jpg  image_4_000001.jpg  image_6_000001.jpg  
</pre></div></div></div><p>To read the images back into MATLAB&#174;, create a datastore that references the same location.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>ds = imageDatastore(location);
T = tall(ds)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>T =

  6×1 tall cell array

    {1024×2048×3 uint8}
    { 650×600×3  uint8}
    {1024×2048×3 uint8}
    { 650×600×3  uint8}
    { 480×640×3  uint8}
    { 480×640×3  uint8}
</pre></div></div></div><div class="procedure"></div></div></div></div></div><div itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/Example" itemprop="example" class="em_example"><meta itemprop="exampleid" content="matlab-WriteImagesWithCustomWriteFunctionExample"><meta itemprop="exampletitle" content="Write Images with Custom Write Function"></div></div></div></div><div class="ref_sect"><h2 id="bvciprm-2">Input Arguments</h2><div class="expandableContent"><p class="switch "><a href="javascript:void(0);" class="expandAllLink" data-allexpanded="true">collapse all</a></p><div class="mw_ws_accordion_container"><div class="accordion" id="bvciprm-2_accordion-group" role="tablist" aria-multiselectable="true"><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true"><div class="accordion-item "><div itemscope="" itemprop="inputargument" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/NamedInputArgument" itemid="bvciprm-location"><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_bvciprm-location" data-bs-target="#expand_accordion_body_bvciprm-location" aria-controls="expand_accordion_body_bvciprm-location" class="accordion-button add_cursor_pointer" aria-expanded="true"><span id="inputarg_location" class="anchor_target"></span><h3 id="bvciprm-location"><code itemprop="name">location</code> &#8212; <span itemprop="purpose">Folder location to write data</span><br/> <span class="add_font_color_general remove_bold"><span class="example_desc"><span itemprop="inputvalue">character vector</span> | <span itemprop="inputvalue">string</span></span></span></h3></button></div><div role="tabpanel" id="expand_accordion_body_bvciprm-location" aria-labelledby="expand_accordion_heading_bvciprm-location" class="accordion-collapse collapse show"><div class="accordion-body"><div class="cshsummary" id="csh_bvciprm-location"><p>Folder location to write data, specified as a character vector or string.
                            <code class="literal">location</code> can specify a full or relative path. The
                        specified folder can be either of these options:</p><div class="itemizedlist"><ul><li><p>Existing empty folder</p></li><li><p>New folder that <code class="function">write</code> creates</p></li></ul></div><p>You can write data to local folders on your computer, folders on a shared
                        network, or to remote locations in HDFS&#x2122;, Azure<sup>&#x00AE;</sup>, or Amazon S3&#x2122;. For more information about reading and writing data to remote
                        locations, see <a href="../import_export/work-with-remote-data.html" class="a">Work with Remote Data</a>.</p><p>Additional considerations apply for Hadoop<sup>&#x00AE;</sup> and <span class="entity">Apache<sup>&#x00AE;</sup> Spark&#x2122;</span>:</p><div class="itemizedlist"><ul><li><p>If the folder is not available locally, then the full path of the
                                folder must be a uniform resource locator (URL) of the form:<br/>

                                <code class="literal">hdfs:///<em class="replaceable"><code>path_to_file</code></em></code>.</p></li><li><p>Before writing to HDFS, set the <code class="literal">HADOOP_HOME</code>,
                                    <code class="literal">HADOOP_PREFIX</code>, or
                                    <code class="literal">MATLAB_HADOOP_INSTALL</code> environment variable to
                                the folder where Hadoop is installed.</p></li><li><p>Before writing to <span class="entity">Apache Spark</span>, set the <code class="literal">SPARK_HOME</code> environment
                                variable to the folder where <span class="entity">Apache Spark</span> is installed.</p></li></ul></div><p class="description_valueexample"><strong>Example: </strong><code class="literal">location = 'hdfs:///some/output/folder'</code>
                        specifies an HDFS URL.</p><p class="description_valueexample"><strong>Example: </strong><code class="literal">location = '../../dir/data'</code> specifies a
                        relative file path.</p><p class="description_valueexample"><strong>Example: </strong><code class="literal">location = 'C:\Users\MyName\Desktop\data'</code>
                        specifies an absolute path to a Windows<sup>&#x00AE;</sup> desktop folder.</p><p class="description_valueexample"><strong>Example: </strong><code class="literal">location = 'file:///path/to/data'</code> specifies an
                        absolute URI path to a folder.</p></div><p class="datatypelist"><strong>Data Types: </strong><code itemprop="datatype">char</code> | <code itemprop="datatype">string</code></p></div></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true"><div class="accordion-item "><div itemscope="" itemprop="inputargument" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/NamedInputArgument" itemid="bvciprm-tA"><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_bvciprm-tA" data-bs-target="#expand_accordion_body_bvciprm-tA" aria-controls="expand_accordion_body_bvciprm-tA" class="accordion-button add_cursor_pointer" aria-expanded="true"><span id="inputarg_tA" class="anchor_target"></span><h3 id="bvciprm-tA"><code itemprop="name">tA</code> &#8212; <span itemprop="purpose">Input array</span><br/> <span class="add_font_color_general remove_bold"><span class="example_desc"><span itemprop="inputvalue">tall array</span></span></span></h3></button></div><div role="tabpanel" id="expand_accordion_body_bvciprm-tA" aria-labelledby="expand_accordion_heading_bvciprm-tA" class="accordion-collapse collapse show"><div class="accordion-body"><div class="cshsummary" id="csh_bvciprm-tA"><p>Input array, specified as a tall array.</p></div></div></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true"><div class="accordion-item "><div itemscope="" itemprop="inputargument" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/NamedInputArgument" itemid="mw_b6988d37-965c-40cc-8e74-0b3812839a42"><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_mw_b6988d37-965c-40cc-8e74-0b3812839a42" data-bs-target="#expand_accordion_body_mw_b6988d37-965c-40cc-8e74-0b3812839a42" aria-controls="expand_accordion_body_mw_b6988d37-965c-40cc-8e74-0b3812839a42" class="accordion-button add_cursor_pointer" aria-expanded="true"><span id="inputarg_filepattern" class="anchor_target"></span><h3 id="mw_b6988d37-965c-40cc-8e74-0b3812839a42"><code itemprop="name">filepattern</code> &#8212; <span itemprop="purpose">File naming pattern</span><br/>
<span class="add_font_color_general remove_bold"><span class="example_desc"><span itemprop="inputvalue">string</span> | <span itemprop="inputvalue">character vector</span></span></span></h3></button></div><div role="tabpanel" id="expand_accordion_body_mw_b6988d37-965c-40cc-8e74-0b3812839a42" aria-labelledby="expand_accordion_heading_mw_b6988d37-965c-40cc-8e74-0b3812839a42" class="accordion-collapse collapse show"><div class="accordion-body"><div class="cshsummary" id="csh_mw_b6988d37-965c-40cc-8e74-0b3812839a42"><p>File naming pattern, specified as a string or a character vector. The file
                        naming pattern must contain a folder to write the files into, followed by a
                        file name that includes a wildcard <code class="literal">*</code>. The
                            <code class="function">write</code> function replaces the wildcard with
                        sequential numbers to ensure unique file names.</p><p class="description_valueexample"><strong>Example: </strong><code class="literal">write('folder/data_*.txt',tA)</code> writes the tall
                        array <code class="literal">tA</code> as a series of <code class="literal">.txt</code> files in
                            <code class="literal">folder</code> with the file names
                            <code class="literal">data_1.txt</code>, <code class="literal">data_2.txt</code>, and so
                        on.</p></div><p class="datatypelist"><strong>Data Types: </strong><code itemprop="datatype">char</code> | <code itemprop="datatype">string</code></p></div></div></div></div></div></div></div></div></div></div><div class="ref_sect"><span id="namevaluepairarguments" class="anchor_target"></span><span id="mw_25846c82-7e21-4eac-a70d-dfc3bcef02dd" class="anchor_target"></span><h2 id="namevaluepairs">Name-Value Arguments</h2><div class="expandableContent"><p class="switch "><a href="javascript:void(0);" class="expandAllLink" data-allexpanded="false">expand all</a></p><div class="mw_ws_accordion_container"><div class="accordion" id="mw_25846c82-7e21-4eac-a70d-dfc3bcef02dd_accordion-group" role="tablist" aria-multiselectable="true"><div class="namevaluecontainer"><p class="neqvpair_boilerplate">Specify optional pairs of arguments as
      <code class="argument">Name1=Value1,...,NameN=ValueN</code>, where <code class="literal">Name</code> is
      the argument name and <code class="literal">Value</code> is the corresponding value.
      Name-value arguments must appear after other arguments, but the order of the
      pairs does not matter.
    </p><p class="nvpaircompat_boilerplate"><span class="emphasis"><em>
      Before R2021a, use commas to separate each name and value, and enclose</em></span> 
      <code class="literal">Name</code> <span class="emphasis"><em>in quotes.</em></span>
    </p><p><span class="example_desc"><strong>Example: </strong><code class="literal">write('C:\myData', tX, 'FileType', 'text', 'WriteVariableNames',
                    false)</code> writes the tall array <code class="literal">tX</code> to
                    <code class="literal">C:\myData</code> as a collection of text files that do not use
                variable names as column headings.</span></p></div><div class="ref_sect"><h3 class="mw-doc-parametersgrp" id="mw_a3c1a98f-bd4d-4f51-a6b5-c3eaf89c4de1">General Options</h3><div class="expandableContent"><p class="switch "><a href="javascript:void(0);" class="expandAllLink" data-allexpanded="false">expand all</a></p><div class="mw_ws_accordion_container"><div class="accordion" id="mw_a3c1a98f-bd4d-4f51-a6b5-c3eaf89c4de1_accordion-group" role="tablist" aria-multiselectable="true"><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true"><div class="accordion-item "><div itemscope="" itemprop="inputargument" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/NameValuePairInputArgument" itemid="mw_23b82c52-2202-47b0-b5db-22cfe09a7a94"><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_mw_23b82c52-2202-47b0-b5db-22cfe09a7a94" data-bs-target="#expand_accordion_body_mw_23b82c52-2202-47b0-b5db-22cfe09a7a94" aria-controls="expand_accordion_body_mw_23b82c52-2202-47b0-b5db-22cfe09a7a94" class="accordion-button add_cursor_pointer collapsed" aria-expanded="false"><span id="inputarg_FileType" class="anchor_target"></span><h3 id="mw_23b82c52-2202-47b0-b5db-22cfe09a7a94"><code itemprop="name">FileType</code> &#8212; <span itemprop="purpose">Type of file</span><br/>
<span class="add_font_color_general remove_bold"><span class="example_desc"><span itemprop="inputvalue defaultvalue"><code class="literal">'auto'</code></span> (default) | <span itemprop="inputvalue"><code class="literal">'mat'</code></span> | <span itemprop="inputvalue"><code class="literal">'parquet'</code></span> | <span itemprop="inputvalue"><code class="literal">'seq'</code></span> | <span itemprop="inputvalue"><code class="literal">'text'</code></span> | <span itemprop="inputvalue"><code class="literal">'spreadsheet'</code></span></span></span></h3></button></div><div role="tabpanel" id="expand_accordion_body_mw_23b82c52-2202-47b0-b5db-22cfe09a7a94" aria-labelledby="expand_accordion_heading_mw_23b82c52-2202-47b0-b5db-22cfe09a7a94" class="accordion-collapse collapse"><div class="accordion-body"><div class="cshsummary" id="csh_mw_23b82c52-2202-47b0-b5db-22cfe09a7a94"><p>Type of file, specified as the comma-separated pair consisting of
                                <code class="literal">'FileType'</code> and one of the allowed file types:
                                <code class="literal">'auto'</code>, <code class="literal">'mat'</code>,
                                <code class="literal">'parquet'</code>, <code class="literal">'seq'</code>,
                                <code class="literal">'text'</code>, or
                            <code class="literal">'spreadsheet'</code>.</p><p>Use the <code class="literal">'FileType'</code> name-value pair with the
                                <a href="#bvciprm-location" class="intrnllnk"><code class="argument">location</code></a> argument to specify what type of files
                            to write. By default, <code class="function">write</code> attempts to
                            automatically detect the proper file type. You do not need to specify
                            the <code class="literal">'FileType'</code> name-value pair argument if
                                <code class="literal">write</code> can determine the file type from an
                            extension in the <code class="argument">location</code> or
                                <a href="#mw_b6988d37-965c-40cc-8e74-0b3812839a42" class="intrnllnk"><code class="argument">filepattern</code></a> arguments. <code class="literal">write</code>
                            can determine the file type from these extensions:</p>
<div class="itemizedlist"><ul><li><p><code class="literal">.mat</code> for MATLAB<sup>&#x00AE;</sup> data files</p></li><li><p><code class="literal">.parquet</code> or <code class="literal">.parq</code>
                                        for Parquet files</p></li><li><p><code class="literal">.seq</code> for sequence files</p></li><li><p><code class="literal">.txt</code>, <code class="literal">.dat</code>, or
                                            <code class="literal">.csv</code> for delimited text files</p></li><li><p><code class="literal">.xls</code>, <code class="literal">.xlsx</code>,
                                            <code class="literal">.xlsb</code>, <code class="literal">.xlsm</code>,
                                            <code class="literal">.xltx</code>, or <code class="literal">.xltm</code>
                                        for spreadsheet files</p></li></ul></div><p>
</p><p class="description_valueexample"><strong>Example: </strong><code class="literal">write('C:\myData', tX, 'FileType',
                            'text')</code></p></div></div></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true"><div class="accordion-item "><div itemscope="" itemprop="inputargument" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/NameValuePairInputArgument" itemid="mw_39b2e1dd-34aa-4787-91e5-7dbb46c26d56"><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_mw_39b2e1dd-34aa-4787-91e5-7dbb46c26d56" data-bs-target="#expand_accordion_body_mw_39b2e1dd-34aa-4787-91e5-7dbb46c26d56" aria-controls="expand_accordion_body_mw_39b2e1dd-34aa-4787-91e5-7dbb46c26d56" class="accordion-button add_cursor_pointer collapsed" aria-expanded="false"><span id="inputarg_WriteFcn" class="anchor_target"></span><h3 id="mw_39b2e1dd-34aa-4787-91e5-7dbb46c26d56"><code itemprop="name">WriteFcn</code> &#8212; <span itemprop="purpose">Custom writing function</span><br/> <span class="add_font_color_general remove_bold"><span class="example_desc"><span itemprop="inputvalue">function handle</span></span></span></h3></button></div><div role="tabpanel" id="expand_accordion_body_mw_39b2e1dd-34aa-4787-91e5-7dbb46c26d56" aria-labelledby="expand_accordion_heading_mw_39b2e1dd-34aa-4787-91e5-7dbb46c26d56" class="accordion-collapse collapse"><div class="accordion-body"><div class="cshsummary" id="csh_mw_39b2e1dd-34aa-4787-91e5-7dbb46c26d56"><p>Custom writing function, specified as the comma-separated pair
                            consisting of <code class="literal">'WriteFcn'</code> and a function handle. The
                            specified function receives blocks of data from <a href="#bvciprm-tA" class="intrnllnk"><code class="argument">tA</code></a>
                            and is responsible for creating the output files. You can use the
                                <code class="literal">'WriteFcn'</code> name-value pair argument to write data
                            in a variety of formats, even if <code class="function">write</code> does not
                            directly support the output format.</p>
                            <h4 class="descriptionsect">Functional Signature</h4>
                            <p>The custom writing function must accept two input arguments,
                                    <code class="literal">info</code> and <code class="literal">data</code>:<div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#0000FF">function</span> myWriter(info, data)</pre></div></div></div></p>
<div class="itemizedlist"><ul><li><p><code class="literal">data</code> contains a block of data from
                                                <code class="literal">tA</code>.</p></li><li><p><code class="literal">info</code> is a structure with fields
                                            that contain information about the block of data. You
                                            can use the fields to build a new file name that is
                                            globally unique within the final location. The structure
                                            fields are</p><div class="table-responsive"><table class="table table-condensed"><colgroup><col class="tcol1" width="50%"><col class="tcol2" width="50%"></colgroup><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><code class="literal">RequiredLocation</code></td><td>Fully qualified path to a temporary output
                                                  folder. Only files written to this folder are
                                                  copied to the final destination.</td></tr><tr><td><code class="literal">RequiredFilePattern</code></td><td>The file pattern required for output file
                                                  names. This field is empty if only a folder name
                                                  is specified.</td></tr><tr><td><code class="literal">SuggestedFilename</code></td><td>A fully qualified, globally unique file
                                                  name that meets the location and naming
                                                  requirements. </td></tr><tr><td><code class="literal">PartitionIndex</code></td><td>Index of the tall array partition being
                                                  written.</td></tr><tr><td><code class="literal">NumPartitions</code></td><td>Total number of partitions in the tall
                                                  array.</td></tr><tr><td><code class="literal">BlockIndexInPartition</code></td><td>Position of current data block within the
                                                  partition.</td></tr><tr><td><code class="literal">IsFinalBlock</code></td><td><code class="literal">true</code> if current block is
                                                  the final block of the partition.</td></tr></tbody></table></div></li></ul></div><p>
</p>
                        
                            <h4 class="descriptionsect">File Naming</h4>
                            <p>The file name used for the output files determines the order in
                                which <code class="function">datastore</code> later reads the files back in.
                                If the order of the files matters, then the best practice is to use
                                the <code class="literal">SuggestedFilename</code> field to name the files,
                                since the suggested name guarantees the file order. If you do not
                                use the suggested file name, then the custom writing function must
                                create globally unique, correctly ordered file names. The file names
                                should follow the naming pattern outlined in
                                    <code class="literal">RequiredFilePattern</code>. When running in parallel
                                with Parallel Computing Toolbox&#x2122;, the file names must be unique and correctly ordered
                                between workers, even though each worker writes to its own local
                                folder.</p>
                        
                            <h4 class="descriptionsect">Arrays with Multiple Partitions</h4>
                            <p>You can divide a tall array into partitions to facilitate running
                                calculations on the array in parallel with Parallel Computing Toolbox. Each of the partitions is still comprised of smaller
                                blocks that individually fit into memory.</p>
                            <p><code class="literal">info</code> contains several fields related to
                                partitions: <code class="literal">PartitionIndex</code>,
                                    <code class="literal">NumPartitions</code>,
                                    <code class="literal">BlockIndexInPartition</code>, and
                                    <code class="literal">IsFinalBlock</code>. These fields are useful when
                                you are writing out a single file and appending to it, which is a
                                common task for arrays with large partitions that have been split
                                into many blocks. The custom writing function is called once per
                                block, and the blocks in one partition are always written in order
                                by the same worker. However, different partitions can be written by
                                different workers.</p>
                        
                            <h4 class="descriptionsect">Example Function</h4>
                            <p>A simple writing function that writes spreadsheet files
                                is<div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#0000FF">function</span> dataWriter(info, data)
  filename = info.SuggestedFilename;
  writetable(data, filename, <span style="color:#A020F0">'FileType'</span>, <span style="color:#A020F0">'spreadsheet'</span>)
<span style="color:#0000FF">end</span></pre></div></div></div>To
                                invoke <code class="literal">dataWriter</code> as the writing function for
                                some data <code class="literal">tt</code>, use these
                                commands.<div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>tt = tall(array2table(rand(5000,3)));
location = <span style="color:#A020F0">'/tmp/MyData/tt_*.xlsx'</span>;
write(location, tt, <span style="color:#A020F0">'WriteFcn'</span>, @dataWriter);</pre></div></div></div>For
                                each block, the <code class="literal">dataWriter</code> function uses the
                                suggested file name in the <code class="literal">info</code> structure and
                                calls <code class="function">writetable</code> to write a spreadsheet file.
                                The suggested file name takes into account the file naming pattern
                                that is specified in the <code class="literal">location</code>
                                argument.</p>
                        </div><p class="datatypelist"><strong>Data Types: </strong><code itemprop="datatype">function_handle</code></p></div></div></div></div></div></div></div></div></div></div><div class="ref_sect"><h3 class="mw-doc-parametersgrp" id="mw_75847b81-2e4a-4e99-9740-1b3095de698c">Text or Spreadsheet Files</h3><div class="expandableContent"><p class="switch "><a href="javascript:void(0);" class="expandAllLink" data-allexpanded="false">expand all</a></p><div class="mw_ws_accordion_container"><div class="accordion" id="mw_75847b81-2e4a-4e99-9740-1b3095de698c_accordion-group" role="tablist" aria-multiselectable="true"><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true"><div class="accordion-item "><div itemscope="" itemprop="inputargument" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/NameValuePairInputArgument" itemid="mw_b4318124-90e7-4aa0-a602-87961a4ad859"><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_mw_b4318124-90e7-4aa0-a602-87961a4ad859" data-bs-target="#expand_accordion_body_mw_b4318124-90e7-4aa0-a602-87961a4ad859" aria-controls="expand_accordion_body_mw_b4318124-90e7-4aa0-a602-87961a4ad859" class="accordion-button add_cursor_pointer collapsed" aria-expanded="false"><span id="inputarg_WriteVariableNames" class="anchor_target"></span><h3 id="mw_b4318124-90e7-4aa0-a602-87961a4ad859"><code itemprop="name">WriteVariableNames</code> &#8212; <span itemprop="purpose">Indicator for writing variable names as column headings</span><br/>
<span class="add_font_color_general remove_bold"><span class="example_desc"><span itemprop="inputvalue defaultvalue"><code class="literal">true</code> or
                            <code class="literal">1</code></span> (default) | <span itemprop="inputvalue"><code class="literal">false</code> or <code class="literal">0</code></span></span></span></h3></button></div><div role="tabpanel" id="expand_accordion_body_mw_b4318124-90e7-4aa0-a602-87961a4ad859" aria-labelledby="expand_accordion_heading_mw_b4318124-90e7-4aa0-a602-87961a4ad859" class="accordion-collapse collapse"><div class="accordion-body"><div class="cshsummary" id="csh_mw_b4318124-90e7-4aa0-a602-87961a4ad859"><p>Indicator for writing variable names as column headings, specified as
                            the comma-separated pair consisting of
                                <code class="literal">'WriteVariableNames'</code> and a numeric or logical
                                <code class="literal">1</code> (<code class="literal">true</code>)  or
                                <code class="literal">0</code> (<code class="literal">false</code>).</p>
<div class="table-responsive"><table class="table table-condensed"><colgroup><col class="tcol1" width="25%"><col class="tcol2" width="76%"></colgroup><thead><tr><th><p>Indicator</p></th><th><p>Behavior</p></th></tr></thead><tbody><tr><td><p><code class="literal">true</code></p></td><td><p>Variable names are included as the column
                                                  headings of the output. (default)</p></td></tr><tr><td><p><code class="literal">false</code></p></td><td><p>Variable names are not included in the
                                                  output.</p></td></tr></tbody></table></div><p>
</p></div></div></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true"><div class="accordion-item "><div itemscope="" itemprop="inputargument" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/NameValuePairInputArgument" itemid="mw_7e06da98-d308-4421-b707-f92e4f8b0ee8"><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_mw_7e06da98-d308-4421-b707-f92e4f8b0ee8" data-bs-target="#expand_accordion_body_mw_7e06da98-d308-4421-b707-f92e4f8b0ee8" aria-controls="expand_accordion_body_mw_7e06da98-d308-4421-b707-f92e4f8b0ee8" class="accordion-button add_cursor_pointer collapsed" aria-expanded="false"><span id="inputarg_DateLocale" class="anchor_target"></span><h3 id="mw_7e06da98-d308-4421-b707-f92e4f8b0ee8"><code itemprop="name">DateLocale</code> &#8212; <span itemprop="purpose">Locale for writing dates</span><br/> <span class="add_font_color_general remove_bold"><span class="example_desc"><span itemprop="inputvalue">character vector</span> | <span itemprop="inputvalue">string scalar</span></span></span></h3></button></div><div role="tabpanel" id="expand_accordion_body_mw_7e06da98-d308-4421-b707-f92e4f8b0ee8" aria-labelledby="expand_accordion_heading_mw_7e06da98-d308-4421-b707-f92e4f8b0ee8" class="accordion-collapse collapse"><div class="accordion-body"><div class="cshsummary" id="csh_mw_7e06da98-d308-4421-b707-f92e4f8b0ee8"><p>Locale for writing dates, specified as the comma-separated pair
                            consisting of <code class="literal">'DateLocale'</code> and a character vector or
                            a string scalar. When writing <code class="literal">datetime</code> values to the
                            file, use <code class="literal">DateLocale</code> to specify the locale in which
                                <code class="function">write</code> should write month and day-of-week names
                            and abbreviations. The character vector or string takes the form
                                    <code class="literal"><em class="replaceable"><code>xx</code></em>_<em class="replaceable"><code>YY</code></em></code>,
                            where <em class="replaceable"><code>xx</code></em> is a lowercase ISO 639-1 two-letter
                            code indicating a language, and <em class="replaceable"><code>YY</code></em> is an
                            uppercase ISO 3166-1 alpha-2 code indicating a country. For a list of
                            common values for the locale, see the <code class="literal">Locale</code>
                            name-value pair argument for the <a href="datetime.html"><code class="function">datetime</code></a>
                            function.</p><p>For Excel<sup>&#x00AE;</sup> files, <code class="function">write</code> writes variables
                            containing <code class="literal">datetime</code> arrays as Excel dates and ignores the <code class="literal">'DateLocale'</code>
                            parameter value. If the <code class="literal">datetime</code> variables contain
                            years prior to either 1900 or 1904, then <code class="function">write</code>
                            writes the variables as text. For more information on Excel dates, see <a href="https://learn.microsoft.com/en-us/office/troubleshoot/excel/1900-and-1904-date-system" target="_blank">Differences between the 1900 and the 1904 date system in
                                Excel</a>.</p><p class="description_valueexample"><strong>Example: </strong><code class="literal">'DateLocale','ja_JP'</code> or
                                <code class="literal">'DateLocale',"ja_JP"</code></p></div><p class="datatypelist"><strong>Data Types: </strong><code itemprop="datatype">char</code> | <code itemprop="datatype">string</code></p></div></div></div></div></div></div></div></div></div></div><div class="ref_sect"><h3 class="mw-doc-parametersgrp" id="mw_73a070bf-8c0e-4e93-a71e-8205469d4873">Text Files Only</h3><div class="expandableContent"><p class="switch "><a href="javascript:void(0);" class="expandAllLink" data-allexpanded="false">expand all</a></p><div class="mw_ws_accordion_container"><div class="accordion" id="mw_73a070bf-8c0e-4e93-a71e-8205469d4873_accordion-group" role="tablist" aria-multiselectable="true"><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true"><div class="accordion-item "><div itemscope="" itemprop="inputargument" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/NameValuePairInputArgument" itemid="mw_79e6646a-1007-4828-a07b-169e3e6aea0a"><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_mw_79e6646a-1007-4828-a07b-169e3e6aea0a" data-bs-target="#expand_accordion_body_mw_79e6646a-1007-4828-a07b-169e3e6aea0a" aria-controls="expand_accordion_body_mw_79e6646a-1007-4828-a07b-169e3e6aea0a" class="accordion-button add_cursor_pointer collapsed" aria-expanded="false"><span id="inputarg_Delimiter" class="anchor_target"></span><h3 id="mw_79e6646a-1007-4828-a07b-169e3e6aea0a"><code itemprop="name">Delimiter</code> &#8212; <span itemprop="purpose">Field delimiter character</span><br/>
<span class="add_font_color_general remove_bold"><span class="example_desc"><span itemprop="inputvalue"><code class="literal">','</code> or <code class="literal">'comma'</code></span> | <span itemprop="inputvalue"><code class="literal">' '</code> or <code class="literal">'space'</code></span> | ...</span></span></h3></button></div><div role="tabpanel" id="expand_accordion_body_mw_79e6646a-1007-4828-a07b-169e3e6aea0a" aria-labelledby="expand_accordion_heading_mw_79e6646a-1007-4828-a07b-169e3e6aea0a" class="accordion-collapse collapse"><div class="accordion-body"><div class="cshsummary" id="csh_mw_79e6646a-1007-4828-a07b-169e3e6aea0a"><p>Field delimiter character, specified as the comma-separated pair
                            consisting of <code class="literal">'Delimiter'</code> and one of these
                                specifiers.</p>
<div class="table-responsive"><table class="table table-condensed"><colgroup><col class="tcol1" width="25%"><col class="tcol2" width="76%"></colgroup><thead><tr><th><p>Specifier</p></th><th><p>Field Delimiter</p></th></tr></thead><tbody><tr><td><p><code class="literal">','</code></p><p><code class="literal">'comma'</code></p></td><td><p>Comma (default)</p></td></tr><tr><td><p><code class="literal">'
                                                  '</code></p><p><code class="literal">'space'</code></p></td><td><p>Space</p></td></tr><tr><td><p><code class="literal">'\t'</code></p><p><code class="literal">'tab'</code></p></td><td><p>Tab</p></td></tr><tr><td><p><code class="literal">';'</code></p><p><code class="literal">'semi'</code></p></td><td><p>Semicolon</p></td></tr><tr><td><p><code class="literal">'|'</code></p><p><code class="literal">'bar'</code></p></td><td><p>Vertical bar</p></td></tr></tbody></table></div><p>
</p><p>You can use the <code class="literal">'Delimiter'</code> name-value pair
                            argument only for delimited text files.</p><p class="description_valueexample"><strong>Example: </strong><code class="literal">'Delimiter','space'</code> or
                                <code class="literal">'Delimiter',"space"</code></p></div></div></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true"><div class="accordion-item "><div itemscope="" itemprop="inputargument" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/NameValuePairInputArgument" itemid="mw_2bf7b0f6-5822-40d3-9834-38bf83494df6"><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_mw_2bf7b0f6-5822-40d3-9834-38bf83494df6" data-bs-target="#expand_accordion_body_mw_2bf7b0f6-5822-40d3-9834-38bf83494df6" aria-controls="expand_accordion_body_mw_2bf7b0f6-5822-40d3-9834-38bf83494df6" class="accordion-button add_cursor_pointer collapsed" aria-expanded="false"><span id="inputarg_QuoteStrings" class="anchor_target"></span><h3 id="mw_2bf7b0f6-5822-40d3-9834-38bf83494df6"><code itemprop="name">QuoteStrings</code> &#8212; <span itemprop="purpose">Indicator for writing quoted text</span><br/> <span class="add_font_color_general remove_bold"><span class="example_desc"><span itemprop="inputvalue defaultvalue"><code class="literal">false</code></span> (default) | <span itemprop="inputvalue"><code class="literal">true</code></span></span></span></h3></button></div><div role="tabpanel" id="expand_accordion_body_mw_2bf7b0f6-5822-40d3-9834-38bf83494df6" aria-labelledby="expand_accordion_heading_mw_2bf7b0f6-5822-40d3-9834-38bf83494df6" class="accordion-collapse collapse"><div class="accordion-body"><div class="cshsummary" id="csh_mw_2bf7b0f6-5822-40d3-9834-38bf83494df6"><p>Indicator for writing quoted text, specified as the comma-separated
                            pair consisting of <code class="literal">'QuoteStrings'</code> and either
                                <code class="literal">false</code> or <code class="literal">true</code>. If
                                <code class="literal">'QuoteStrings'</code> is set to <code class="literal">true</code>,
                            then <code class="function">write</code> encloses the text in double quotation
                            marks and replaces any double-quote characters that appear as part of
                            that text with two double-quote characters. For an example, see <a href="writetable.html#buezy56-5" class="a">Write Quoted Text to CSV File</a>.</p><p>You can use the <code class="literal">'QuoteStrings'</code> name-value pair
                            argument only with delimited text files.</p></div></div></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true"><div class="accordion-item "><div itemscope="" itemprop="inputargument" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/NameValuePairInputArgument" itemid="mw_60d226a2-4bd2-4467-b130-4f3e5b7b4696"><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_mw_60d226a2-4bd2-4467-b130-4f3e5b7b4696" data-bs-target="#expand_accordion_body_mw_60d226a2-4bd2-4467-b130-4f3e5b7b4696" aria-controls="expand_accordion_body_mw_60d226a2-4bd2-4467-b130-4f3e5b7b4696" class="accordion-button add_cursor_pointer collapsed" aria-expanded="false"><span id="inputarg_Encoding" class="anchor_target"></span><h3 id="mw_60d226a2-4bd2-4467-b130-4f3e5b7b4696"><code itemprop="name">Encoding</code> &#8212; <span itemprop="purpose">Character encoding scheme</span><br/> <span class="add_font_color_general remove_bold"><span class="example_desc"><span itemprop="inputvalue"><code class="literal">'system'</code></span> | <span itemprop="inputvalue"><code class="literal">'UTF-8'</code></span> | <span itemprop="inputvalue"><code class="literal">'ISO-8859-1'</code></span> | <span itemprop="inputvalue"><code class="literal">'windows-1251'</code></span> | <span itemprop="inputvalue"><code class="literal">'windows-1252'</code></span> | ...</span></span></h3></button></div><div role="tabpanel" id="expand_accordion_body_mw_60d226a2-4bd2-4467-b130-4f3e5b7b4696" aria-labelledby="expand_accordion_heading_mw_60d226a2-4bd2-4467-b130-4f3e5b7b4696" class="accordion-collapse collapse"><div class="accordion-body"><div class="cshsummary" id="csh_mw_60d226a2-4bd2-4467-b130-4f3e5b7b4696"><p>Character encoding scheme associated with the file, specified as the
                            comma-separated pair consisting of <code class="literal">'Encoding'</code> and
                                <code class="literal">'system'</code> or a standard character encoding scheme
                            name like one of the values in this table. When you do not specify any
                            encoding or specify encoding as <code class="literal">'system'</code>, the
                                <code class="function">write</code> function uses your system default
                            encoding to write the file. </p><div class="table-responsive"><table class="table table-condensed"><colgroup><col class="tcol1" width="33%"><col class="tcol2" width="33%"><col class="tcol3" width="33%"></colgroup><tbody><tr><td><p><code class="literal">"Big5"</code></p></td><td><p><code class="literal">"ISO-8859-1"</code></p></td><td><p><code class="literal">"windows-874"</code></p></td></tr><tr><td><p><code class="literal">"Big5-HKSCS"</code></p></td><td><p><code class="literal">"ISO-8859-2"</code></p></td><td><p><code class="literal">"windows-949"</code></p></td></tr><tr><td><p><code class="literal">"CP949"</code></p></td><td><p><code class="literal">"ISO-8859-3"</code></p></td><td><p><code class="literal">"windows-1250"</code></p></td></tr><tr><td><p><code class="literal">"EUC-KR"</code></p></td><td><p><code class="literal">"ISO-8859-4"</code></p></td><td><p><code class="literal">"windows-1251"</code></p></td></tr><tr><td><p><code class="literal">"EUC-JP"</code></p></td><td><p><code class="literal">"ISO-8859-5"</code></p></td><td><p><code class="literal">"windows-1252"</code></p></td></tr><tr><td><p><code class="literal">"EUC-TW"</code></p></td><td><p><code class="literal">"ISO-8859-6"</code></p></td><td><p><code class="literal">"windows-1253"</code></p></td></tr><tr><td><p><code class="literal">"GB18030"</code></p></td><td><p><code class="literal">"ISO-8859-7"</code></p></td><td><p><code class="literal">"windows-1254"</code></p></td></tr><tr><td><p><code class="literal">"GB2312"</code></p></td><td><p><code class="literal">"ISO-8859-8"</code></p></td><td><p><code class="literal">"windows-1255"</code></p></td></tr><tr><td><p><code class="literal">"GBK"</code></p></td><td><p><code class="literal">"ISO-8859-9"</code></p></td><td><p><code class="literal">"windows-1256"</code></p></td></tr><tr><td><p><code class="literal">"IBM866"</code></p></td><td><p><code class="literal">"ISO-8859-11"</code></p></td><td><p><code class="literal">"windows-1257"</code></p></td></tr><tr><td><p><code class="literal">"KOI8-R"</code></p></td><td><p><code class="literal">"ISO-8859-13"</code></p></td><td><p><code class="literal">"windows-1258"</code></p></td></tr><tr><td><p><code class="literal">"KOI8-U"</code></p></td><td><p><code class="literal">"ISO-8859-15"</code></p></td><td><p><code class="literal">"US-ASCII"</code></p></td></tr><tr><td>&nbsp;</td><td><p><code class="literal">"Macintosh"</code></p></td><td><p><code class="literal">"UTF-8"</code></p></td></tr><tr><td>&nbsp;</td><td><p><code class="literal">"Shift_JIS"</code></p></td><td>&nbsp;</td></tr></tbody></table></div><p class="description_valueexample"><strong>Example: </strong><code class="literal">'Encoding','system'</code> or
                                <code class="literal">'Encoding',"system"</code> uses the system default
                            encoding.</p></div></div></div></div></div></div></div></div></div></div></div><div class="ref_sect"><h3 class="mw-doc-parametersgrp" id="mw_c8ef3b97-27b3-4745-867c-4ea0547ef959">Spreadsheet Files Only</h3><div class="expandableContent"><p class="switch "><a href="javascript:void(0);" class="expandAllLink" data-allexpanded="false">expand all</a></p><div class="mw_ws_accordion_container"><div class="accordion" id="mw_c8ef3b97-27b3-4745-867c-4ea0547ef959_accordion-group" role="tablist" aria-multiselectable="true"><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true"><div class="accordion-item "><div itemscope="" itemprop="inputargument" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/NameValuePairInputArgument" itemid="mw_0ebc1254-04a1-4264-b8bc-aeb64629b094"><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_mw_0ebc1254-04a1-4264-b8bc-aeb64629b094" data-bs-target="#expand_accordion_body_mw_0ebc1254-04a1-4264-b8bc-aeb64629b094" aria-controls="expand_accordion_body_mw_0ebc1254-04a1-4264-b8bc-aeb64629b094" class="accordion-button add_cursor_pointer collapsed" aria-expanded="false"><span id="inputarg_Sheet" class="anchor_target"></span><h3 id="mw_0ebc1254-04a1-4264-b8bc-aeb64629b094"><code itemprop="name">Sheet</code> &#8212; <span itemprop="purpose">Target worksheet</span><br/>
<span class="add_font_color_general remove_bold"><span class="example_desc"><span itemprop="inputvalue">character vector</span> | <span itemprop="inputvalue">string scalar</span> | <span itemprop="inputvalue">positive integer</span></span></span></h3></button></div><div role="tabpanel" id="expand_accordion_body_mw_0ebc1254-04a1-4264-b8bc-aeb64629b094" aria-labelledby="expand_accordion_heading_mw_0ebc1254-04a1-4264-b8bc-aeb64629b094" class="accordion-collapse collapse"><div class="accordion-body"><div class="cshsummary" id="csh_mw_0ebc1254-04a1-4264-b8bc-aeb64629b094"><p>Target worksheet, specified as the comma-separated pair consisting of
                                <code class="literal">'Sheet'</code> and a character vector or a string scalar
                            containing the worksheet name or a positive integer indicating the
                            worksheet index. The worksheet name cannot contain a colon
                                (<code class="literal">:</code>). To determine the names of sheets in a
                            spreadsheet file, use <code class="literal">sheets = sheetnames(filename)</code>.
                            For more information, see <a href="sheetnames.html"><code class="function">sheetnames</code></a>.</p><p>If the sheet does not exist, then <code class="function">write</code> adds a
                            new sheet at the end of the worksheet collection. If the sheet is an
                            index larger than the number of worksheets, then
                                <code class="function">write</code> appends empty sheets until the number of
                            worksheets in the workbook equals the sheet index. In either case,
                                <code class="function">write</code> generates a warning indicating that it
                            has added a new worksheet.</p><p>You can use the <code class="literal">'Sheet'</code> name-value pair argument
                            only with spreadsheet files.</p><p class="description_valueexample"><strong>Example: </strong><code class="literal">'Sheet'</code>,<code class="literal">2</code></p><p class="description_valueexample"><strong>Example: </strong><code class="literal">'Sheet'</code>,
                            <code class="literal">'MySheetName'</code></p></div><p class="datatypelist"><strong>Data Types: </strong><code itemprop="datatype">char</code> | <code itemprop="datatype">string</code> | <code itemprop="datatype">single</code> | <code itemprop="datatype">double</code> | <code itemprop="datatype">int8</code> | <code itemprop="datatype">int16</code> | <code itemprop="datatype">int32</code> | <code itemprop="datatype">int64</code> | <code itemprop="datatype">uint8</code> | <code itemprop="datatype">uint16</code> | <code itemprop="datatype">uint32</code> | <code itemprop="datatype">uint64</code></p></div></div></div></div></div></div></div></div></div></div><div class="ref_sect"><h3 class="mw-doc-parametersgrp" id="mw_257ed6b1-8554-4793-b64c-e9059e05759c">Parquet Files Only</h3><div class="expandableContent"><p class="switch "><a href="javascript:void(0);" class="expandAllLink" data-allexpanded="false">expand all</a></p><div class="mw_ws_accordion_container"><div class="accordion" id="mw_257ed6b1-8554-4793-b64c-e9059e05759c_accordion-group" role="tablist" aria-multiselectable="true"><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true"><div class="accordion-item "><div itemscope="" itemprop="inputargument" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/NameValuePairInputArgument" itemid="mw_62829d56-7659-4621-9c46-adfbff4ada79"><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_mw_62829d56-7659-4621-9c46-adfbff4ada79" data-bs-target="#expand_accordion_body_mw_62829d56-7659-4621-9c46-adfbff4ada79" aria-controls="expand_accordion_body_mw_62829d56-7659-4621-9c46-adfbff4ada79" class="accordion-button add_cursor_pointer collapsed" aria-expanded="false"><span id="inputarg_VariableCompression" class="anchor_target"></span><h3 id="mw_62829d56-7659-4621-9c46-adfbff4ada79"><code itemprop="name">VariableCompression</code> &#8212; <span itemprop="purpose">Parquet compression algorithm</span><br/>
<span class="add_font_color_general remove_bold"><span class="example_desc"><span itemprop="inputvalue defaultvalue"><code class="literal">'snappy'</code></span> (default) | <span itemprop="inputvalue"><code class="literal">'brotli'</code></span> | <span itemprop="inputvalue"><code class="literal">'gzip'</code></span> | <span itemprop="inputvalue"><code class="literal">'uncompressed'</code></span> | <span itemprop="inputvalue">cell array of character vectors</span> | <span itemprop="inputvalue">string vector</span></span></span></h3></button></div><div role="tabpanel" id="expand_accordion_body_mw_62829d56-7659-4621-9c46-adfbff4ada79" aria-labelledby="expand_accordion_heading_mw_62829d56-7659-4621-9c46-adfbff4ada79" class="accordion-collapse collapse"><div class="accordion-body"><div class="cshsummary" id="csh_mw_62829d56-7659-4621-9c46-adfbff4ada79"><p>Parquet compression algorithm, specified as one of these values.</p>
<div class="itemizedlist"><ul><li><p><code class="literal">'snappy'</code>, <code class="literal">'brotli'</code>,
                                            <code class="literal">'gzip'</code>, or
                                            <code class="literal">'uncompressed'</code>. If you specify one
                                        compression algorithm then <code class="function">write</code>
                                        compresses all variables using the same algorithm.</p></li><li><p>Alternatively, you can specify a cell array of character
                                        vectors or a string vector containing the names of the
                                        compression algorithms to use for each variable.</p></li></ul></div><p>

                        </p><p>In general, <code class="literal">'snappy'</code> has better performance for
                            reading and writing, <code class="literal">'gzip'</code> has a higher compression
                            ratio at the cost of more CPU processing time, and
                                <code class="literal">'brotli'</code> typically produces the smallest file
                            size at the cost of compression speed.</p><p class="description_valueexample"><strong>Example: </strong><code class="literal">write('C:\myData', tX, 'FileType', 'parquet',
                                'VariableCompression', 'brotli')</code></p><p class="description_valueexample"><strong>Example: </strong><code class="literal">write('C:\myData', tX, 'FileType', 'parquet',
                                'VariableCompression', {'brotli' 'snappy'
                            'gzip'})</code></p></div></div></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true"><div class="accordion-item "><div itemscope="" itemprop="inputargument" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/NameValuePairInputArgument" itemid="mw_9ea468d4-1cd9-4372-ac49-cc60b528c025"><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_mw_9ea468d4-1cd9-4372-ac49-cc60b528c025" data-bs-target="#expand_accordion_body_mw_9ea468d4-1cd9-4372-ac49-cc60b528c025" aria-controls="expand_accordion_body_mw_9ea468d4-1cd9-4372-ac49-cc60b528c025" class="accordion-button add_cursor_pointer collapsed" aria-expanded="false"><span id="inputarg_VariableEncoding" class="anchor_target"></span><h3 id="mw_9ea468d4-1cd9-4372-ac49-cc60b528c025"><code itemprop="name">VariableEncoding</code> &#8212; <span itemprop="purpose">Encoding scheme names</span><br/> <span class="add_font_color_general remove_bold"><span class="example_desc"><span itemprop="inputvalue defaultvalue"><code class="literal">'auto'</code></span> (default) | <span itemprop="inputvalue"><code class="literal">'dictionary'</code></span> | <span itemprop="inputvalue"><code class="literal">'plain'</code></span> | <span itemprop="inputvalue">cell array of character vectors</span> | <span itemprop="inputvalue">string vector</span></span></span></h3></button></div><div role="tabpanel" id="expand_accordion_body_mw_9ea468d4-1cd9-4372-ac49-cc60b528c025" aria-labelledby="expand_accordion_heading_mw_9ea468d4-1cd9-4372-ac49-cc60b528c025" class="accordion-collapse collapse"><div class="accordion-body"><div class="cshsummary" id="csh_mw_9ea468d4-1cd9-4372-ac49-cc60b528c025"><p>Encoding scheme names, specified as one of these values:</p><div class="itemizedlist"><ul><li><p><code class="literal">'auto'</code> &#8212; <code class="function">write</code> uses
                                        <code class="literal">'plain'</code> encoding for logical variables,
                                    and <code class="literal">'dictionary'</code> encoding for all
                                    others.</p></li><li><p><code class="literal">'dictionary'</code>, <code class="literal">'plain'</code> &#8212;
                                    If you specify one encoding scheme then
                                        <code class="function">write</code> encodes all variables with that
                                    scheme.</p></li><li><p>Alternatively, you can specify a cell array of character
                                    vectors or a string vector containing the names of the encoding
                                    scheme to use for each variable.</p></li></ul></div><p>In general, <code class="literal">'dictionary'</code> encoding results in
                            smaller file sizes, but <code class="literal">'plain'</code> encoding can be
                            faster for variables that do not contain many repeated values. If the
                            size of the dictionary or number of unique values grows to be too big,
                            then the encoding automatically reverts to plain encoding. For more
                            information on Parquet encodings, see <a href="https://github.com/apache/parquet-format/blob/master/Encodings.md" target="_blank">Parquet encoding definitions</a>.</p><p class="description_valueexample"><strong>Example: </strong><code class="literal">write('myData.parquet', T, 'FileType', 'parquet',
                                'VariableEncoding', 'plain')</code></p><p class="description_valueexample"><strong>Example: </strong><code class="literal">write('myData.parquet', T, 'FileType', 'parquet',
                                'VariableEncoding', {'plain' 'dictionary'
                            'plain'})</code></p></div></div></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true"><div class="accordion-item "><div itemscope="" itemprop="inputargument" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/NameValuePairInputArgument" itemid="mw_fcde966a-72f1-497c-8c26-36bdfa3fd772"><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_mw_fcde966a-72f1-497c-8c26-36bdfa3fd772" data-bs-target="#expand_accordion_body_mw_fcde966a-72f1-497c-8c26-36bdfa3fd772" aria-controls="expand_accordion_body_mw_fcde966a-72f1-497c-8c26-36bdfa3fd772" class="accordion-button add_cursor_pointer collapsed" aria-expanded="false"><span id="inputarg_Version" class="anchor_target"></span><h3 id="mw_fcde966a-72f1-497c-8c26-36bdfa3fd772"><code itemprop="name">Version</code> &#8212; <span itemprop="purpose">Parquet version to use</span><br/> <span class="add_font_color_general remove_bold"><span class="example_desc"><span itemprop="inputvalue defaultvalue"><code class="literal">'2.0'</code></span> (default) | <span itemprop="inputvalue"><code class="literal">'1.0'</code></span></span></span></h3></button></div><div role="tabpanel" id="expand_accordion_body_mw_fcde966a-72f1-497c-8c26-36bdfa3fd772" aria-labelledby="expand_accordion_heading_mw_fcde966a-72f1-497c-8c26-36bdfa3fd772" class="accordion-collapse collapse"><div class="accordion-body"><div class="cshsummary" id="csh_mw_fcde966a-72f1-497c-8c26-36bdfa3fd772"><p>Parquet version to use, specified as either <code class="literal">'1.0'</code>
                            or <code class="literal">'2.0'</code>. By default, <code class="literal">'2.0'</code> offers
                            the most efficient storage, but you can select <code class="literal">'1.0'</code>
                            for the broadest compatibility with external applications that support
                            the Parquet format.</p><div class="alert alert-warning d-inline-block"><span class="alert_icon icon-alert-warning"></span><p class="alert_heading"><strong>Caution</strong></p><p>Parquet version 1.0 has a limitation that it cannot round-trip
                                variables of type <code class="literal">uint32</code> (they are read back into
                                    MATLAB as <code class="literal">int64</code>).</p></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div id="mw_80c46658-7d80-4400-b400-68914a76f5b9_div" class="ref_sect"><h2 id="mw_80c46658-7d80-4400-b400-68914a76f5b9">Limitations</h2><p>In some cases, <code class="literal">write(location, T, 'FileType', type)</code> creates files
            that do not represent the original array <code class="literal">T</code> exactly. If you use
                <code class="literal">datastore(location)</code> to read the files, then the result might not
            have the same format or contents as the original tall table.</p><div class="orderedlist"><ol style="list-style: decimal;"><li><p>For the <code class="literal">'text'</code> and <code class="literal">'spreadsheet'</code> file
                    types, <code class="function">write</code> uses these rules:</p><div class="itemizedlist"><ul><li><p><code class="function">write</code> outputs numeric variables using <a href="format.html#btiwmh5-1-style" class="a"><code class="literal">longG</code>
                                format</a> and categorical, character, or string variables as
                            unquoted text.</p></li><li><p>For nontext variables that have more than one column,
                                <code class="function">write</code> outputs multiple delimiter-separated
                            fields on each line and constructs suitable column headings for the
                            first line of the file.</p></li><li><p><code class="function">write</code> outputs variables with more than two
                            dimensions as two-dimensional variables, with trailing dimensions
                            collapsed.</p></li><li><p>For cell-valued variables with contents that are numeric, logical,
                            character, or categorical, <code class="function">write</code> outputs the
                            contents of each cell as a single row, in multiple delimiter-separated
                            fields. If the cells have a different data type,
                                <code class="function">write</code> outputs a single empty field.</p></li></ul></div><p>Do not use the <code class="literal">'text'</code> or <code class="literal">'spreadsheet'</code>
                    file types if you need to write an exact checkpoint of the tall array.</p></li><li><p>For the <code class="literal">'parquet'</code> file type, there are some cases where the
                    Parquet format cannot fully represent the MATLAB table or timetable data types. If you use
                        <code class="literal">parquetread</code> or <code class="literal">datastore</code> to read the
                    files, then the result might not have the same format or contents as the
                    original tall table. For more information, see <a href="../import_export/datatype-mappings-matlab-parquet.html" class="a">Apache Parquet Data Type Mappings</a>.</p></li></ol></div></div><div class="ref_sect"><h2 id="bvdk2g8-4">Tips</h2><div class="itemizedlist"><ul><li><p>Use the <code class="function">write</code> function to create
                        <span class="emphasis"><em>checkpoints</em></span> or <span class="emphasis"><em>snapshots</em></span> of your
                    data as you work, especially when working with huge data sets. This practice
                    allows you to reconstruct tall arrays directly from files on disk rather than
                    re-executing all of the commands that produced the tall array.</p></li></ul></div></div><div class="ref_sect"><h2 id="refsect-extended-capabilities">Extended Capabilities</h2><div class="expandableContent"><p class="switch"><a href="javascript:void(0);" class="expandAllLink">expand all</a></p><div id="accordion_refsect-extended-capabilities" role="tablist" aria-multiselectable="true"><div class="mw_ws_accordion_container"><div class="accordion -presentation_expander -presentation_condensed"><div class="accordion-item"><span id="bvciprm" class="anchor_target"></span><div class="accordion-header"><h3 id="bvciprm_tall">Tall Arrays<br/> <span class=" remove_bold add_font_color_general">Calculate with arrays that have more rows than fit in memory. </span></h3></div></div></div></div><span id="mw_be7cdcd9-42f3-42fa-8e0a-3ce196c8c863" class="anchor_target"></span><div class="mw_ws_accordion_container"><div class="accordion -presentation_expander -presentation_condensed"><div class="accordion-item"><span id="bvciprm" class="anchor_target"></span><div class="accordion-header"><button data-bs-toggle="collapse" data-bs-target="#expand_body_bvciprm_distributedarrays" aria-controls="expand_body_bvciprm_distributedarrays" class="accordion-button collapsed" aria-expanded="false"><h3 id="bvciprm_distributedarrays">Distributed Arrays<br/>
<span class=" remove_bold add_font_color_general">Partition large arrays across the combined memory of your cluster using Parallel Computing Toolbox&#8482;.</span></h3></button></div><div id="expand_body_bvciprm_distributedarrays" class="accordion-collapse collapsed collapse"><div class="accordion-body"><p>This function fully supports distributed arrays. For more
    information, see <a href="../../parallel-computing/run-matlab-functions-with-distributed-arrays.html" class="a">Run MATLAB Functions with Distributed Arrays</a><span role="cross_prod"> (Parallel Computing Toolbox)</span>.</p></div></div></div></div></div></div></div></div><div class="ref_sect"><h2 id="bvciprm_vh">Version History</h2><p><strong>Introduced in R2016b</strong></p></div><div class="ref_sect"><h2 id="bvciprm_seealso">See Also</h2><p><span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="tall.tall.html"><span itemprop="name"><code class="function">tall</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="datastore.html"><span itemprop="name"><code class="function">datastore</code></span></a></span></p><div class="examples_container"><h3 class="remove_border">Topics</h3><div itemprop="content"><ul class="list-unstyled"><li><a href="../import_export/tall-arrays.html" class="a">Tall Arrays for Out-of-Memory Data</a></li><li><a href="../import_export/work-with-remote-data.html" class="a">Work with Remote Data</a></li></ul></div></div></div>
    </div></div></section><div xmlns="http://www.w3.org/1999/xhtml" class="clearfix"></div>
<div xmlns="http://www.w3.org/1999/xhtml" align="center" class="feedbackblock" id="mw_docsurvey"><script src="https://www.mathworks.com/help/docsurvey/docfeedback.js"></script>
<script>loadSurveyHidden();</script>
<link rel="stylesheet" href="https://www.mathworks.com/help/docsurvey/release/index-css.css" type="text/css">
<script src="https://www.mathworks.com/help/docsurvey/release/bundle.index.js"></script>

<script>initDocSurvey();</script></div></main>


</div>
</div>
</div>
</div><!--close_0960-->
<footer xmlns="http://www.w3.org/1999/xhtml" id="footer" class="bs-footer">
<div class="container-fluid">
<div class="footer">
<div class="row">
<div class="col-12">
<p class="copyright">© 1994-2025 The MathWorks, Inc.</p>
<ul class="footernav"><li class="footernav_help"><a href="matlab:web(matlab.internal.licenseAgreement)">Terms of Use</a></li><li class="footernav_patents"><a href="matlab:web([matlabroot '/patents.txt'])">Patents</a></li><li class="footernav_trademarks"><a href="matlab:web([matlabroot '/trademarks.txt'])">Trademarks</a></li><li class="footernav_piracy"><a href="matlab:web([docroot '/acknowledgments.html'])">Acknowledgments</a></li></ul></div>
</div>
</div>
</div>
</footer>
</div><!--close row-offcanvas-->
</div><!--close_0970-->
</body>
</html>
