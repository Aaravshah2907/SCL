<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage">
<head>
<meta xmlns="http://www.w3.org/1999/xhtml" charset="utf-8">
<meta xmlns="http://www.w3.org/1999/xhtml" name="viewport" content="width=device-width, initial-scale=1.0">
<meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="X-UA-Compatible" content="IE=edge">
<title>mcxGate</title>
<script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
      {
      "@context": "http://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement":
      [{
          "@type": "ListItem",
          "position": 1,

          "item": {
          "@id": "../index.html",
          "name": "MATLAB"
}

          } 
        ,
        {
          "@type": "ListItem",
          "position": 2,

          "item": {
          "@id": "../mathematics.html",
          "name": "Mathematics"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 3,

          "item": {
          "@id": "../quantum-computing.html",
          "name": "Quantum Computing"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 4,

          "item": {
          "@id": "../gate-based-quantum-computing.html",
          "name": "Gate-Based Quantum Computing"
}

          }]
      }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "VisibleBreadcrumbs",

        "itemListElement":
        [
        "gate-based-quantum-computing"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script>
<meta xmlns="http://www.w3.org/1999/xhtml" name="chunktype" content="refpage"><meta xmlns="http://www.w3.org/1999/xhtml" name="refentity" itemprop="refentity" content="function:mcxGate"><link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/bootstrap.min.css" rel="stylesheet" type="text/css">


  <meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="Content-Script-Type" content="text/javascript">
<meta xmlns="http://www.w3.org/1999/xhtml" name="toctype" itemprop="pagetype" content="fcn">
<meta xmlns="http://www.w3.org/1999/xhtml" name="infotype" itemprop="infotype" content="ref/function">

<meta xmlns="http://www.w3.org/1999/xhtml" name="description" itemprop="description" content="This MATLAB function applies a multi-controlled X (MCX) gate."><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-3.6.0.min.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-migrate.min.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_lg.css" rel="stylesheet" media="screen and (min-width: 1200px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_md.css" rel="stylesheet" media="screen and (min-width: 992px) and (max-width: 1199px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm+xs.css" rel="stylesheet" media="screen and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm.css" rel="stylesheet" media="screen and (min-width: 768px) and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_xs.css" rel="stylesheet" media="screen and (max-width: 767px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_offcanvas_v2.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/shared/highlight/styles/mwdochighlight.min.css" rel="stylesheet" type="text/css">

<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/l10n.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/f1help.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/mw.imageanimation.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/jquery.highlight.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/underscore-min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/use_platform_screenshots.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/suggest.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/overload.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/helpservices.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/productfilter.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/matlab_dialog_shared.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/highlight/highlight.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/localstorage.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/product_group.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/saxonjs/SaxonJS2.rt.js"></script><script xmlns="http://www.w3.org/1999/xhtml">
            window.history.replaceState(window.location.href, null, ""); // Initialize
            window.onload = function() {    
            mystylesheetLocation = "../../includes/shared/scripts/product_group-sef.json";
            mysourceLocation = "../../docset/docset.xml";
            product_help_location = "matlab";
            pagetype = "refentry";
            doccentertype = "product";
            langcode = "";
            getProductFilteredList(mystylesheetLocation, mysourceLocation, product_help_location, pagetype, doccentertype, langcode);  
            }
          </script>




<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery.mobile.custom.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/bootstrap.bundle.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/global.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_base.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_installed.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_print.css" rel="stylesheet" type="text/css" media="print">
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/equationrenderer/release/MathRenderer.js"></script>
</head>
<body id="responsive_offcanvas">
<div xmlns="http://www.w3.org/1999/xhtml" id="doc_header_spacer" class="header"></div>
<div xmlns="http://www.w3.org/1999/xhtml" class="section_header level_3"><div class="container-fluid"><div class="row" id="mobile_search_row"><div class="col-sm-6 col-md-7 has_horizontal_local_nav" id="section_header_title"><div class="section_header_content"><div class="section_header_title"><h1><a href="../../documentation-center.html">Help Center</a></h1></div></div></div><div class="col-12 col-sm-6 col-md-5" id="mobile_search"><div class="search_nested_content_container"><form id="docsearch_form" name="docsearch_form" method="get" data-release="R2025b" data-language="en" action="../../templates/searchresults.html"><div class="input-group tokenized_search_field"><label class="visually-hidden form-label">Search Help</label><input type="text" class="form-control conjoined_search" autocomplete="off" name="qdoc" placeholder="Search Help" id="docsearch"> <div><button type="submit" name="submitsearch" id="submitsearch" class="btn icon-search btn_search_adjacent btn_search icon_16" tabindex="-1"></button></div></div></form></div><button class="btn icon-remove btn_search float-end icon_32 d-sm-none" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div><div class="d-sm-none" id="search_actuator"><button class="btn icon-search btn_search float-end icon_16" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div></div></div></div><div class="row-offcanvas row-offcanvas-left">
<div xmlns="http://www.w3.org/1999/xhtml" class="sidebar-offcanvas" id="sidebar">
<nav class="offcanvas_nav" role="navigation">
<div class="offcanvas_actuator" data-bs-toggle="offcanvas" data-bs-target="#sidebar" id="nav_toggle"><button type="button" class="btn"><span class="visually-hidden">Off-Canvas Navigation Menu Toggle
                  Off-Canvas Navigation Menu Toggle</span><span class="icon-menu"></span></button><span class="offcanvas_actuator_label" id="translation_icon-menu" tabindex="-1" aria-hidden="true"></span></div><div class="nav_list_wrapper" id="nav_list_wrapper"><nav class="offcanvas_nav" role="navigation"><ul class="nav_breadcrumb" id="ul_left_nav_ancestors"><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../../documentation-center.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Documentation Home</span></a></li></ul>
<ul class="nav_disambiguation"><li><a href="../index.html?s_tid=CRUX_lftnav" id="index">MATLAB</a>
</li>
<li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../mathematics.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Mathematics</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../quantum-computing.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Quantum Computing</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../gate-based-quantum-computing.html?s_tid=CRUX_lftnav" itemprop="url" id="mw_89c73565-106a-4694-9620-a4310ac5bfc3"><span itemprop="title">Gate-Based Quantum Computing</span></a></li></ul><div class="search_refine_v4"><div id="facets_area"><ul class="nav_scrollspy nav list-unstyled" id="pnav">
<li class="nav_scrollspy_function nav-item notranslate"><a href="#responsive_offcanvas"><span class="refname">mcxGate</span></a></li>
<li class="nav_scrollspy_title nav-item" id="SSPY810-refentry">On this page</li>
<!--ADD_REFENTRY_TITLE_HERE 11--><li><a href="#mw_c9b580be-bace-42be-aa17-eed9c83d29c6_sep_mw_0d6c89c4-d1e6-4660-ab43-d9592c0e1c18" class="intrnllnk">Syntax</a></li><li class="nav-item"><a href="#description" class="nav-link intrnllnk">Description</a></li><li class="nav-item"><a href="#mw_c9b580be-bace-42be-aa17-eed9c83d29c6_sep_mw_67baca38-ff59-43f3-ad8e-ee94480908a8" class="nav-link intrnllnk">Examples</a><ul class="nav"><li class="nav-item"><a href="#mw_c9b580be-bace-42be-aa17-eed9c83d29c6_sep_mw_f0e59ee3-7cc0-46fb-875a-e169723a7644" class="nav-link intrnllnk">Multi-Controlled X Gate with Three Control Qubits and One Target Qubit</a></li></ul><ul class="nav"><li class="nav-item"><a href="#mw_600fdc73-91c2-48c8-8ad0-b24e403c5e1d" class="nav-link intrnllnk">Multi-Controlled X Gate with Ancilla Qubit</a></li></ul><ul class="nav"><li class="nav-item"><a href="#mw_4e0b9056-35a8-4199-91a8-35b07702a3c3" class="nav-link intrnllnk">Quantum Circuit with Multi-Controlled X Gates</a></li></ul></li><li class="nav-item"><a href="#mw_c9b580be-bace-42be-aa17-eed9c83d29c6_sep_mw_3e03b929-163f-4cfb-a263-24a9c35b4186" class="nav-link intrnllnk">Input Arguments</a><ul class="nav"><li class="nav-item"><a href="#mw_9f7d15be-88f8-4a21-8e8e-34e958b7f35c" class="nav-link intrnllnk">controlQubits</a></li><li class="nav-item"><a href="#mw_c9b580be-bace-42be-aa17-eed9c83d29c6_sep_mw_840e33dd-4c57-40a4-81a1-584783211fdd" class="nav-link intrnllnk">targetQubit</a></li><li class="nav-item"><a href="#mw_2333431e-9cf8-4cca-aa6d-173c4a92090b" class="nav-link intrnllnk">ancillaQubits</a></li></ul></li><li class="nav-item"><a href="#mw_e818b1b0-2f54-4ccd-83db-5e6eec9041f2" class="nav-link intrnllnk">Output Arguments</a><ul class="nav"><li class="nav-item"><a href="#mw_62cf9022-1ab0-4ced-8d3e-aca494056f1a" class="nav-link intrnllnk">cg</a></li></ul></li><li><a href="#References" class="intrnllnk">References</a></li><li class="nav-item"><a href="#mw_c9b580be-bace-42be-aa17-eed9c83d29c6_vh" class="nav-link intrnllnk">Version History</a></li><li class="nav-item"><a href="#mw_c9b580be-bace-42be-aa17-eed9c83d29c6_seealso" class="nav-link intrnllnk">See Also</a></li></ul></div></div>
</nav></div></nav>
<script src="../../includes/product/scripts/offcanvas_v2.js"></script></div><!--END.CLASS sidebar-offcanvas-->
<div class="offcanvas_content_container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sticky_header_container"><div class="horizontal_nav"><div class="horizontal_nav_container"><div class="offcanvas_horizontal_nav"><div class="container-fluid"><div class="row"><div class="col-sm-12 d-none d-sm-block"><nav class="navbar navbar-default" role="navigation" id="subnav"><div><ul class="nav navbar-nav crux_browse"><li id="crux_nav_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_example" class="crux_resource"><a href="../examples.html?category=gate-based-quantum-computing&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=gate-based-quantum-computing&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=gate-based-quantum-computing&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></nav></div><div class="d-sm-none"><div class="container-fluid"><div class="row"><div class="col-9"><div class="mobile_crux_nav_trigger"><div class="btn-group"><button type="button" class="btn btn-default dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Resources</button><ul class="dropdown-menu"><li id="crux_nav_mobile_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_mobile_example" class="crux_resource"><a href="../examples.html?category=gate-based-quantum-computing&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_mobile_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=gate-based-quantum-computing&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_mobile_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=gate-based-quantum-computing&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></div></div><div class="col-3"><div class="translate_placeholder"></div></div></div></div></div></div></div></div></div></div></div><div class="content_container" id="content_container" itemprop="content">
<div class="container-fluid">
<div class="row">
<div class="col-12">

<main id="skip_link_anchor" tabindex="-1">
<div xmlns="http://www.w3.org/1999/xhtml" id="product_info_alert"></div><section xmlns="http://www.w3.org/1999/xhtml" id="doc_center_content" lang="en" data-language="en"><div id="pgtype-ref-function"><div class="function_ref"><span id="mw_c9b580be-bace-42be-aa17-eed9c83d29c6" class="anchor_target"></span><h1 class="r2025b notranslate" itemprop="title"><span class="refname">mcxGate</span></h1><div class="doc_topic_desc"><div class="purpose_container"><p itemprop="purpose" class="add_margin_0">Multi-controlled X gate</p><p class="add_margin_0 add_clear_left"><em>Since R2023a</em></p><div class="switch"><a href="javascript:void(0);" id="expandAllPage" data-allexpanded="true1">collapse all in page</a></div></div></div><div class="alert alert-warning" id="mw_c9b580be-bace-42be-aa17-eed9c83d29c6_sep_mw_981798c2-4404-4753-a345-c1529ce8d126"><span class="alert_icon icon-alert-warning"></span><p><strong><strong class="emphasis bold">Installation Required:</strong> This functionality requires <a href="https://www.mathworks.com/matlabcentral/fileexchange/125425-matlab-support-package-for-quantum-computing"><span class="entity"><span class="trademark">MATLAB</span> Support Package for Quantum Computing</span></a>.</strong></p></div>
<span id="mw_c9b580be-bace-42be-aa17-eed9c83d29c6.mw_0d6c89c4-d1e6-4660-ab43-d9592c0e1c18" class="anchor_target"></span><div class="ref_sect"><h2 id="mw_c9b580be-bace-42be-aa17-eed9c83d29c6_sep_mw_0d6c89c4-d1e6-4660-ab43-d9592c0e1c18">Syntax</h2><div class="syntax_signature"><div class="syntax_signature_module"><div class="code_responsive"><code class="synopsis"><a href="#d126e1475145" class="intrnllnk">cg = mcxGate(controlQubits,targetQubit,ancillaQubits)</a></code></div></div></div></div><div class="clear"></div><span id="mw_c9b580be-bace-42be-aa17-eed9c83d29c6.mw_c2c4a33b-baa7-40b3-b572-924d59252c7c" class="anchor_target"></span><h2 id="description">Description</h2><div class="descriptions"><div class="cshsummary" id="csh_mw_c9b580be-bace-42be-aa17-eed9c83d29c6"><div class="description_module"><div class="description_element"><div class="code_responsive"><p><span id="d126e1475145" itemprop="syntax"><code class="synopsis"><a href="#mw_62cf9022-1ab0-4ced-8d3e-aca494056f1a" class="intrnllnk"><code class="argument">cg</code></a> = mcxGate(<a href="#mw_9f7d15be-88f8-4a21-8e8e-34e958b7f35c" class="intrnllnk"><code class="argument">controlQubits</code></a>,<a href="#mw_c9b580be-bace-42be-aa17-eed9c83d29c6_sep_mw_840e33dd-4c57-40a4-81a1-584783211fdd" class="intrnllnk"><code class="argument">targetQubit</code></a>,<a href="#mw_2333431e-9cf8-4cca-aa6d-173c4a92090b" class="intrnllnk"><code class="argument">ancillaQubits</code></a>)</code></span>
        applies a multi-controlled X (MCX) gate. This gate operates on a single target qubit based
        on the states of the control qubits, with a number of ancilla qubits that do not affect the
        operation. If all control qubits are in the <span class="inlineequation"><span class="inlinemediaobject"><math xmlns="http://www.w3.org/1998/Math/MathML" altimg-valign="-8px" display="block"><mrow><mrow><mo>|</mo><mn>1</mn><mo>〉</mo></mrow></mrow></math></span></span> state, then this gate applies a Pauli X gate (<code class="literal">xGate</code> or
        the equivalent classical NOT gate) to the target qubit. Otherwise, the gate has no effect on
        the target qubit.</p><p>The qubit indices in <code class="literal">controlQubits</code>, <code class="literal">targetQubit</code>,
        and <code class="literal">ancillaQubits</code> must not be the same.</p></div><p class="syntax_example"><a href="mcxgate.html#mw_c9b580be-bace-42be-aa17-eed9c83d29c6_sep_mw_f0e59ee3-7cc0-46fb-875a-e169723a7644" class="intrnllnk">example</a></p></div></div></div></div><div class="clear"></div><div class="examples"><h2 id="mw_c9b580be-bace-42be-aa17-eed9c83d29c6_sep_mw_67baca38-ff59-43f3-ad8e-ee94480908a8">Examples</h2><div class="expandableContent" id="expandableExamples"><p class="switch"><a href="javascript:void(0);" class="expandAllLink" data-allexpanded="true3">collapse all</a></p><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true" id="expand_accordion_heading_mw_c9b580be-bace-42be-aa17-eed9c83d29c6.mw_f0e59ee3-7cc0-46fb-875a-e169723a7644"><div class="accordion-item "><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_mw_c9b580be-bace-42be-aa17-eed9c83d29c6_sep_mw_f0e59ee3-7cc0-46fb-875a-e169723a7644" data-bs-target="#expand_accordion_body_mw_c9b580be-bace-42be-aa17-eed9c83d29c6_sep_mw_f0e59ee3-7cc0-46fb-875a-e169723a7644" aria-controls="expand_accordion_body_mw_c9b580be-bace-42be-aa17-eed9c83d29c6_sep_mw_f0e59ee3-7cc0-46fb-875a-e169723a7644" class="accordion-button add_cursor_pointer" aria-expanded="true"><h3 id="mw_c9b580be-bace-42be-aa17-eed9c83d29c6_sep_mw_f0e59ee3-7cc0-46fb-875a-e169723a7644">Multi-Controlled X Gate with Three Control Qubits and One Target Qubit</h3></button></div><div role="tabpanel" id="expand_accordion_body_mw_c9b580be-bace-42be-aa17-eed9c83d29c6_sep_mw_f0e59ee3-7cc0-46fb-875a-e169723a7644" aria-labelledby="expand_accordion_heading_mw_c9b580be-bace-42be-aa17-eed9c83d29c6_sep_mw_f0e59ee3-7cc0-46fb-875a-e169723a7644" class="accordion-collapse collapse show"><div class="accordion-body">
        <p class="shortdesc">Create an MCX gate with three control qubits, one target qubit, and
          no ancilla qubits.</p>
      <div class="procedure"><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>cg = mcxGate(1:3,4,[])</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>cg = 

  CompositeGate with properties:

             Name: "mcx"
    ControlQubits: [1×0 double]
     TargetQubits: [4×1 double]
            Gates: [15×1 quantum.gate.SimpleGate]</pre></div></div></div><p>Plot the returned MCX gate to show its 15 internal gates. This MCX gate consists of
            two Hadamard gates, seven R1 gates, and six controlled X gates (CNOT gates). The
            Hadamard gates at the beginning and end of the internal gates are used to transform the
            state of the target qubit from the Z basis to the X basis and from the X basis to the Z
            basis.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>plot(cg)</pre></div></div></div><div class="informalfigure"><div id="d126e1475197" class="mediaobject"><p><img src="mcxgate_ex1plotmcxwith3controls1target.png" alt="Internal gates of the mcx composite gate with three control qubits, one target qubit, and no ancilla qubits" height="140" width="450"></p></div></div><p>Get the matrix representation of this MCX gate. Because the matrix operations for
            the internal gates accumulate machine precision errors, round the matrix representation
            of this gate for
            clarity.<div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>M = round(getMatrix(cg),8)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>M =

     1     0     0     0     0     0     0     0     0     0     0     0     0     0     0     0
     0     1     0     0     0     0     0     0     0     0     0     0     0     0     0     0
     0     0     1     0     0     0     0     0     0     0     0     0     0     0     0     0
     0     0     0     1     0     0     0     0     0     0     0     0     0     0     0     0
     0     0     0     0     1     0     0     0     0     0     0     0     0     0     0     0
     0     0     0     0     0     1     0     0     0     0     0     0     0     0     0     0
     0     0     0     0     0     0     1     0     0     0     0     0     0     0     0     0
     0     0     0     0     0     0     0     1     0     0     0     0     0     0     0     0
     0     0     0     0     0     0     0     0     1     0     0     0     0     0     0     0
     0     0     0     0     0     0     0     0     0     1     0     0     0     0     0     0
     0     0     0     0     0     0     0     0     0     0     1     0     0     0     0     0
     0     0     0     0     0     0     0     0     0     0     0     1     0     0     0     0
     0     0     0     0     0     0     0     0     0     0     0     0     1     0     0     0
     0     0     0     0     0     0     0     0     0     0     0     0     0     1     0     0
     0     0     0     0     0     0     0     0     0     0     0     0     0     0     0     1
     0     0     0     0     0     0     0     0     0     0     0     0     0     0     1     0</pre></div></div></div></p></div></div></div></div></div><div class="accordion" role="tablist" aria-multiselectable="true" id="expand_accordion_heading_mw_600fdc73-91c2-48c8-8ad0-b24e403c5e1d"><div class="accordion-item "><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_mw_600fdc73-91c2-48c8-8ad0-b24e403c5e1d" data-bs-target="#expand_accordion_body_mw_600fdc73-91c2-48c8-8ad0-b24e403c5e1d" aria-controls="expand_accordion_body_mw_600fdc73-91c2-48c8-8ad0-b24e403c5e1d" class="accordion-button add_cursor_pointer" aria-expanded="true"><h3 id="mw_600fdc73-91c2-48c8-8ad0-b24e403c5e1d">Multi-Controlled X Gate with Ancilla Qubit</h3></button></div><div role="tabpanel" id="expand_accordion_body_mw_600fdc73-91c2-48c8-8ad0-b24e403c5e1d" aria-labelledby="expand_accordion_heading_mw_600fdc73-91c2-48c8-8ad0-b24e403c5e1d" class="accordion-collapse collapse show"><div class="accordion-body">
        <p class="shortdesc">Create an MCX gate with three control qubits, one target qubit, and
          one ancilla qubit.</p>
      <div class="procedure"><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>cg = mcxGate(1:3,4,5)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>cg = 

  CompositeGate with properties:

             Name: "mcx"
    ControlQubits: [1×0 double]
     TargetQubits: [5×1 double]
            Gates: [4×1 quantum.gate.SimpleGate]</pre></div></div></div><p>Plot the returned MCX gate to show its four internal gates. This MCX gate consists
            of four controlled controlled X gates (CCX or CCNOT gates). The implementation of the
            MCX gate with one ancilla qubit requires fewer gates than the implementation with no
            ancilla qubits.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>plot(cg)</pre></div></div></div><div class="informalfigure"><div id="d126e1475226" class="mediaobject"><p><img src="mcxgate_ex2plotmcxwith3controls1target1ancilla.png" alt="Internal gates of the mcx composite gate with one ancilla qubit" height="397" width="310"></p></div></div></div></div></div></div></div><div class="accordion" role="tablist" aria-multiselectable="true" id="expand_accordion_heading_mw_4e0b9056-35a8-4199-91a8-35b07702a3c3"><div class="accordion-item "><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_mw_4e0b9056-35a8-4199-91a8-35b07702a3c3" data-bs-target="#expand_accordion_body_mw_4e0b9056-35a8-4199-91a8-35b07702a3c3" aria-controls="expand_accordion_body_mw_4e0b9056-35a8-4199-91a8-35b07702a3c3" class="accordion-button add_cursor_pointer" aria-expanded="true"><h3 id="mw_4e0b9056-35a8-4199-91a8-35b07702a3c3">Quantum Circuit with Multi-Controlled X Gates</h3></button></div><div role="tabpanel" id="expand_accordion_body_mw_4e0b9056-35a8-4199-91a8-35b07702a3c3" aria-labelledby="expand_accordion_heading_mw_4e0b9056-35a8-4199-91a8-35b07702a3c3" class="accordion-collapse collapse show"><div class="accordion-body">
        <p class="shortdesc">Create a quantum circuit that consists of two MCX gates. The first
          MCX gate has control qubits with indices 1 to 3 and a target qubit with index 4 (without
          any ancilla qubits). The second MCX gate has control qubits with indices 3 to 5, a target
          qubit with index 2, and an ancilla qubit with index 6.</p>
      <div class="procedure"><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>gates = [mcxGate(1:3,4,[]); mcxGate(3:5,2,6)];
c = quantumCircuit(gates)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>c = 

  quantumCircuit with properties:

    NumQubits: 6
        Gates: [2×1 quantum.gate.CompositeGate]
         Name: ""
</pre></div></div></div><p>Plot the quantum circuit.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>plot(c)</pre></div></div></div><div class="informalfigure"><div id="d126e1475248" class="mediaobject"><p><img src="mcxgate_ex3plotcircuitwithmcx.png" alt="Quantum circuit with two mcx gates" height="468" width="170"></p></div></div><p>The plotted circuit consists of six qubits with indices 1 to 6. The plot shows that
            qubits 1 to 4 of the outer circuit are mapped to qubits 1 to 4 of the inner circuit of
            internal gates that construct the first MCX gate. For the second MCX gate, qubit 2 of
            the outer circuit is mapped to qubit 4 of the inner circuit, qubits 3 to 5 of the outer
            circuit are mapped to qubits 1 to 3 of the inner circuit, and qubit 6 of the outer
            circuit is mapped to qubit 5 of the inner circuit.</p><p>Click the second MCX gate in the plot. A new figure showing the internal gates of
            the composite gate appears.</p><div class="informalfigure"><div id="d126e1475256" class="mediaobject"><p><img src="mcxgate_ex2plotmcxwith3controls1target1ancilla.png" alt="Internal gates of the second mcx composite gate" height="397" width="310"></p></div></div></div></div></div></div></div></div></div></div><div class="ref_sect"><h2 id="mw_c9b580be-bace-42be-aa17-eed9c83d29c6_sep_mw_3e03b929-163f-4cfb-a263-24a9c35b4186">Input Arguments</h2><div class="expandableContent"><p class="switch "><a href="javascript:void(0);" class="expandAllLink" data-allexpanded="true">collapse all</a></p><div class="mw_ws_accordion_container"><div class="accordion" id="mw_c9b580be-bace-42be-aa17-eed9c83d29c6.mw_3e03b929-163f-4cfb-a263-24a9c35b4186_accordion-group" role="tablist" aria-multiselectable="true"><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true"><div class="accordion-item "><div itemscope="" itemprop="inputargument" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/NamedInputArgument" itemid="mw_9f7d15be-88f8-4a21-8e8e-34e958b7f35c"><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_mw_9f7d15be-88f8-4a21-8e8e-34e958b7f35c" data-bs-target="#expand_accordion_body_mw_9f7d15be-88f8-4a21-8e8e-34e958b7f35c" aria-controls="expand_accordion_body_mw_9f7d15be-88f8-4a21-8e8e-34e958b7f35c" class="accordion-button add_cursor_pointer" aria-expanded="true"><span id="inputarg_controlQubits" class="anchor_target"></span><h3 id="mw_9f7d15be-88f8-4a21-8e8e-34e958b7f35c"><code itemprop="name">controlQubits</code> &#8212; <span itemprop="purpose">Control qubits of MCX gate</span><br/> <span class="add_font_color_general remove_bold"><span class="example_desc"><span itemprop="inputvalue">positive integer scalar</span> | <span itemprop="inputvalue">positive integer vector</span></span></span></h3></button></div><div role="tabpanel" id="expand_accordion_body_mw_9f7d15be-88f8-4a21-8e8e-34e958b7f35c" aria-labelledby="expand_accordion_heading_mw_9f7d15be-88f8-4a21-8e8e-34e958b7f35c" class="accordion-collapse collapse show"><div class="accordion-body"><div class="cshsummary" id="csh_mw_9f7d15be-88f8-4a21-8e8e-34e958b7f35c"><p>Control qubits of the MCX gate, specified as a positive integer scalar index or
            vector of qubit indices.</p></div></div></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true"><div class="accordion-item "><div itemscope="" itemprop="inputargument" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/NamedInputArgument" itemid="mw_c9b580be-bace-42be-aa17-eed9c83d29c6_sep_mw_840e33dd-4c57-40a4-81a1-584783211fdd"><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_mw_c9b580be-bace-42be-aa17-eed9c83d29c6_sep_mw_840e33dd-4c57-40a4-81a1-584783211fdd" data-bs-target="#expand_accordion_body_mw_c9b580be-bace-42be-aa17-eed9c83d29c6_sep_mw_840e33dd-4c57-40a4-81a1-584783211fdd" aria-controls="expand_accordion_body_mw_c9b580be-bace-42be-aa17-eed9c83d29c6_sep_mw_840e33dd-4c57-40a4-81a1-584783211fdd" class="accordion-button add_cursor_pointer" aria-expanded="true"><span id="inputarg_targetQubit" class="anchor_target"></span><h3 id="mw_c9b580be-bace-42be-aa17-eed9c83d29c6_sep_mw_840e33dd-4c57-40a4-81a1-584783211fdd"><code itemprop="name">targetQubit</code> &#8212; <span itemprop="purpose">Target qubit of MCX gate</span><br/> <span class="add_font_color_general remove_bold"><span class="example_desc"><span itemprop="inputvalue">positive integer scalar</span></span></span></h3></button></div><div role="tabpanel" id="expand_accordion_body_mw_c9b580be-bace-42be-aa17-eed9c83d29c6_sep_mw_840e33dd-4c57-40a4-81a1-584783211fdd" aria-labelledby="expand_accordion_heading_mw_c9b580be-bace-42be-aa17-eed9c83d29c6_sep_mw_840e33dd-4c57-40a4-81a1-584783211fdd" class="accordion-collapse collapse show"><div class="accordion-body"><div class="cshsummary" id="csh_mw_c9b580be-bace-42be-aa17-eed9c83d29c6.mw_840e33dd-4c57-40a4-81a1-584783211fdd"><p>Target qubit of the MCX gate, specified as a positive integer scalar index.</p></div></div></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true"><div class="accordion-item "><div itemscope="" itemprop="inputargument" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/NamedInputArgument" itemid="mw_2333431e-9cf8-4cca-aa6d-173c4a92090b"><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_mw_2333431e-9cf8-4cca-aa6d-173c4a92090b" data-bs-target="#expand_accordion_body_mw_2333431e-9cf8-4cca-aa6d-173c4a92090b" aria-controls="expand_accordion_body_mw_2333431e-9cf8-4cca-aa6d-173c4a92090b" class="accordion-button add_cursor_pointer" aria-expanded="true"><span id="inputarg_ancillaQubits" class="anchor_target"></span><h3 id="mw_2333431e-9cf8-4cca-aa6d-173c4a92090b"><code itemprop="name">ancillaQubits</code> &#8212; <span itemprop="purpose">Ancilla qubits of MCX gate</span><br/>
<span class="add_font_color_general remove_bold"><span class="example_desc"><span itemprop="inputvalue">positive integer scalar</span> | <span itemprop="inputvalue">positive integer vector</span></span></span></h3></button></div><div role="tabpanel" id="expand_accordion_body_mw_2333431e-9cf8-4cca-aa6d-173c4a92090b" aria-labelledby="expand_accordion_heading_mw_2333431e-9cf8-4cca-aa6d-173c4a92090b" class="accordion-collapse collapse show"><div class="accordion-body"><div class="cshsummary" id="csh_mw_2333431e-9cf8-4cca-aa6d-173c4a92090b"><p>Ancilla qubits of the MCX gate, specified as a positive integer scalar index or
            vector of qubit indices.</p><p>The number of ancilla qubits (or <code class="literal">length(ancillaQubits)</code>)
            determines the implementation of the internal gates to construct the returned
              <code class="literal">CompositeGate</code> object for the MCX gate, but it does not affect the
            MCX gate operation on the target qubit.</p>
<div class="itemizedlist"><ul><li><p>If the number of ancilla qubits is 1 (recommended), then the implementation
                  requires a linear number of internal gates with respect to the number of control
                  qubits.</p></li><li><p>If the number of ancilla qubits is <em class="varname">k</em>&#8211;2, where
                    <em class="varname">k</em> is the number of control qubits, then the implementation
                  requires the minimal number of internal gates among these options. The number of
                  internal gates still grows linearly with respect to the number of control qubits,
                  but at a smaller factor compared to the option with one ancilla qubit.</p></li><li><p>If the number of ancilla qubits is 0, then the implementation requires an
                  exponential number of internal gates with respect to the number of control
                  qubits.</p></li></ul></div><p>
All implementations assume the ancilla qubits are in an arbitrary state,
            and the MCX gate returns the ancilla qubits in the same state that they started
            in.</p></div></div></div></div></div></div></div></div></div></div></div><div class="ref_sect"><h2 id="mw_e818b1b0-2f54-4ccd-83db-5e6eec9041f2">Output Arguments</h2><div class="expandableContent"><p class="switch "><a href="javascript:void(0);" class="expandAllLink" data-allexpanded="true">collapse all</a></p><div class="mw_ws_accordion_container"><div class="accordion" id="mw_e818b1b0-2f54-4ccd-83db-5e6eec9041f2_accordion-group" role="tablist" aria-multiselectable="true"><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true"><div class="accordion-item "><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_mw_62cf9022-1ab0-4ced-8d3e-aca494056f1a" data-bs-target="#expand_accordion_body_mw_62cf9022-1ab0-4ced-8d3e-aca494056f1a" aria-controls="expand_accordion_body_mw_62cf9022-1ab0-4ced-8d3e-aca494056f1a" class="accordion-button add_cursor_pointer" aria-expanded="true"><span id="outputarg_cg" class="anchor_target"></span><h3 id="mw_62cf9022-1ab0-4ced-8d3e-aca494056f1a"><code class="name">cg</code> &#8212; MCX gate<br/> <span class="add_font_color_general remove_bold"><span class="example_desc"><code class="literal">CompositeGate</code> object | <code class="literal">SimpleGate</code> object</span></span></h3></button></div><div role="tabpanel" id="expand_accordion_body_mw_62cf9022-1ab0-4ced-8d3e-aca494056f1a" aria-labelledby="expand_accordion_heading_mw_62cf9022-1ab0-4ced-8d3e-aca494056f1a" class="accordion-collapse collapse show"><div class="accordion-body"><div class="cshsummary" id="csh_mw_62cf9022-1ab0-4ced-8d3e-aca494056f1a"><p>MCX gate, returned as a <code class="literal">CompositeGate</code> object or a
              <code class="literal">SimpleGate</code> object.</p>
<div class="itemizedlist"><ul><li><p>If the number of control qubits is greater than 2
                    (<code class="literal">length(controlQubits)&gt;2</code>), then the
                    <code class="literal">mcxGate</code> function returns <code class="literal">cg</code> as a
                    <code class="literal">CompositeGate</code> object that consists of several internal
                  gates.</p></li><li><p>If the number of control qubits is less than or equal to 2
                    (<code class="literal">length(controlQubits)&lt;=2</code>), then the
                    <code class="literal">mcxGate</code> function returns <code class="literal">cg</code> as a
                    <code class="literal">SimpleGate</code> object. If there are no control qubits, then the
                  function returns <code class="literal">cg</code> as the X gate (<a href="xgate.html"><code class="function">xGate</code></a>). If there is one control qubit, then the function returns
                    <code class="literal">cg</code> as the controlled X or CNOT gate (<a href="cxgate.html"><code class="function">cxGate</code></a>). If there are two control qubits, then the function returns
                    <code class="literal">cg</code> as the CCNOT gate (<a href="ccxgate.html"><code class="function">ccxGate</code></a>).</p></li></ul></div><p>
</p></div></div></div></div></div></div></div></div></div></div><div class="bibliography"><h2 id="References">References</h2><div id="mw_dc0d9d8d-d695-4da4-91b3-1893b5d29359" class="bibliomixed"><p>[1] Barenco, Adriano, et al.
      “Elementary Gates for Quantum Computation.” <span class="emphasis"><em>Physical Review A</em></span> 52, no. 5
      (November 1, 1995): 3457&#8211;67. https://doi.org/10.1103/PhysRevA.52.3457.</p></div></div><div class="ref_sect"><h2 id="mw_c9b580be-bace-42be-aa17-eed9c83d29c6_vh">Version History</h2><p><strong>Introduced in R2023a</strong></p></div><div class="ref_sect"><h2 id="mw_c9b580be-bace-42be-aa17-eed9c83d29c6_seealso">See Also</h2><p><span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="quantumcircuit.html"><span itemprop="name"><code class="class">quantumCircuit</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="quantum.gate.simplegate-class.html"><span itemprop="name"><code class="class">quantum.gate.SimpleGate</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="quantum.gate.compositegate-class.html"><span itemprop="name"><code class="class">quantum.gate.CompositeGate</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="compositegate.html"><span itemprop="name"><code class="function">compositeGate</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="qftgate.html"><span itemprop="name"><code class="function">qftGate</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="xgate.html"><span itemprop="name"><code class="function">xGate</code></span></a></span></p><div class="examples_container"><h3 class="remove_border">Topics</h3><div itemprop="content"><ul class="list-unstyled"><li><a href="../math/introduction-to-quantum-computing.html" class="a">Introduction to Quantum Computing</a></li><li><a href="../math/types-of-quantum-gates.html" class="a">Types of Quantum Gates</a></li></ul></div></div></div>
    </div></div></section><div xmlns="http://www.w3.org/1999/xhtml" class="clearfix"></div>
<div xmlns="http://www.w3.org/1999/xhtml" align="center" class="feedbackblock" id="mw_docsurvey"><script src="https://www.mathworks.com/help/docsurvey/docfeedback.js"></script>
<script>loadSurveyHidden();</script>
<link rel="stylesheet" href="https://www.mathworks.com/help/docsurvey/release/index-css.css" type="text/css">
<script src="https://www.mathworks.com/help/docsurvey/release/bundle.index.js"></script>

<script>initDocSurvey();</script></div></main>


</div>
</div>
</div>
</div><!--close_0960-->
<footer xmlns="http://www.w3.org/1999/xhtml" id="footer" class="bs-footer">
<div class="container-fluid">
<div class="footer">
<div class="row">
<div class="col-12">
<p class="copyright">© 1994-2025 The MathWorks, Inc.</p>
<ul class="footernav"><li class="footernav_help"><a href="matlab:web(matlab.internal.licenseAgreement)">Terms of Use</a></li><li class="footernav_patents"><a href="matlab:web([matlabroot '/patents.txt'])">Patents</a></li><li class="footernav_trademarks"><a href="matlab:web([matlabroot '/trademarks.txt'])">Trademarks</a></li><li class="footernav_piracy"><a href="matlab:web([docroot '/acknowledgments.html'])">Acknowledgments</a></li></ul></div>
</div>
</div>
</div>
</footer>
</div><!--close row-offcanvas-->
</div><!--close_0970-->
</body>
</html>
