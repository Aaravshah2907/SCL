<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage">
<head>
<meta xmlns="http://www.w3.org/1999/xhtml" charset="utf-8">
<meta xmlns="http://www.w3.org/1999/xhtml" name="viewport" content="width=device-width, initial-scale=1.0">
<meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="X-UA-Compatible" content="IE=edge">
<title>diff</title>
<script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
      {
      "@context": "http://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement":
      [{
          "@type": "ListItem",
          "position": 1,

          "item": {
          "@id": "../index.html",
          "name": "MATLAB"
}

          } 
        ,
        {
          "@type": "ListItem",
          "position": 2,

          "item": {
          "@id": "../language-fundamentals.html",
          "name": "Language Fundamentals"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 3,

          "item": {
          "@id": "../operators-and-elementary-operations.html",
          "name": "Operators and Elementary Operations"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 4,

          "item": {
          "@id": "../arithmetic-operators.html",
          "name": "Arithmetic Operations"
}

          }]
      }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
      {
      "@context": "http://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement":
      [{
          "@type": "ListItem",
          "position": 1,

          "item": {
          "@id": "../index.html",
          "name": "MATLAB"
}

          } 
        ,
        {
          "@type": "ListItem",
          "position": 2,

          "item": {
          "@id": "../mathematics.html",
          "name": "Mathematics"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 3,

          "item": {
          "@id": "../elementary-math.html",
          "name": "Elementary Math"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 4,

          "item": {
          "@id": "../arithmetic.html",
          "name": "Arithmetic Operations"
}

          }]
      }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
      {
      "@context": "http://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement":
      [{
          "@type": "ListItem",
          "position": 1,

          "item": {
          "@id": "../index.html",
          "name": "MATLAB"
}

          } 
        ,
        {
          "@type": "ListItem",
          "position": 2,

          "item": {
          "@id": "../mathematics.html",
          "name": "Mathematics"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 3,

          "item": {
          "@id": "../numerical-integration-and-differential-equations.html",
          "name": "Numerical Integration and Differential Equations"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 4,

          "item": {
          "@id": "../numerical-integration-and-differentiation.html",
          "name": "Numerical Integration and Differentiation"
}

          }]
      }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "VisibleBreadcrumbs",

        "itemListElement":
        [
        "arithmetic-operators",
        "arithmetic",
        "numerical-integration-and-differentiation"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "ExtendedCapabilities",

        "itemListElement":
        [
{
          "@type": "ListItem",
          "position": 1,
"item": 
        {
        "@context": "http://schema.org",
        "@type": "PropertyValue",
          "name": "codegen",
          "value": "limited"

        }
          },
{
          "@type": "ListItem",
          "position": 2,
"item": 
        {
        "@context": "http://schema.org",
        "@type": "PropertyValue",
          "name": "distributedarrays",
          "value": "full"

        }
          },
{
          "@type": "ListItem",
          "position": 3,
"item": 
        {
        "@context": "http://schema.org",
        "@type": "PropertyValue",
          "name": "gpuarrays",
          "value": "full"

        }
          },
{
          "@type": "ListItem",
          "position": 4,
"item": 
        {
        "@context": "http://schema.org",
        "@type": "PropertyValue",
          "name": "tall",
          "value": "limited"

        }
          },
{
          "@type": "ListItem",
          "position": 5,
"item": 
        {
        "@context": "http://schema.org",
        "@type": "PropertyValue",
          "name": "threadsupport",
          "value": "full"

        }
          }
        ]
        }
        </script>
<meta xmlns="http://www.w3.org/1999/xhtml" name="chunktype" content="refpage"><meta xmlns="http://www.w3.org/1999/xhtml" name="refentity" itemprop="refentity" content="function:diff"><meta xmlns="http://www.w3.org/1999/xhtml" name="refentity" itemprop="refentity" content="method:double.diff"><meta xmlns="http://www.w3.org/1999/xhtml" name="refentity" itemprop="refentity" content="method:datetime.diff"><meta xmlns="http://www.w3.org/1999/xhtml" name="refentity" itemprop="refentity" content="method:duration.diff"><meta xmlns="http://www.w3.org/1999/xhtml" name="refentity" itemprop="refentity" content="method:table.diff"><meta xmlns="http://www.w3.org/1999/xhtml" name="refentity" itemprop="refentity" content="method:timetable.diff"><link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/bootstrap.min.css" rel="stylesheet" type="text/css">


  <meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="Content-Script-Type" content="text/javascript">
<meta xmlns="http://www.w3.org/1999/xhtml" name="toctype" itemprop="pagetype" content="fcn">
<meta xmlns="http://www.w3.org/1999/xhtml" name="infotype" itemprop="infotype" content="ref/function">

<meta xmlns="http://www.w3.org/1999/xhtml" name="description" itemprop="description" content="This MATLAB function calculates differences between adjacent elements of X."><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-3.6.0.min.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-migrate.min.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_lg.css" rel="stylesheet" media="screen and (min-width: 1200px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_md.css" rel="stylesheet" media="screen and (min-width: 992px) and (max-width: 1199px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm+xs.css" rel="stylesheet" media="screen and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm.css" rel="stylesheet" media="screen and (min-width: 768px) and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_xs.css" rel="stylesheet" media="screen and (max-width: 767px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_offcanvas_v2.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/shared/highlight/styles/mwdochighlight.min.css" rel="stylesheet" type="text/css">

<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/l10n.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/f1help.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/mw.imageanimation.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/jquery.highlight.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/underscore-min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/use_platform_screenshots.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/suggest.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/overload.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/helpservices.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/productfilter.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/matlab_dialog_shared.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/highlight/highlight.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/localstorage.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/product_group.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/saxonjs/SaxonJS2.rt.js"></script><script xmlns="http://www.w3.org/1999/xhtml">
            window.history.replaceState(window.location.href, null, ""); // Initialize
            window.onload = function() {    
            mystylesheetLocation = "../../includes/shared/scripts/product_group-sef.json";
            mysourceLocation = "../../docset/docset.xml";
            product_help_location = "matlab";
            pagetype = "refentry";
            doccentertype = "product";
            langcode = "";
            getProductFilteredList(mystylesheetLocation, mysourceLocation, product_help_location, pagetype, doccentertype, langcode);  
            }
          </script>




<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery.mobile.custom.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/bootstrap.bundle.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/global.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_base.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_installed.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_print.css" rel="stylesheet" type="text/css" media="print">
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/equationrenderer/release/MathRenderer.js"></script>
</head>
<body id="responsive_offcanvas">
<div xmlns="http://www.w3.org/1999/xhtml" id="doc_header_spacer" class="header"></div>
<div xmlns="http://www.w3.org/1999/xhtml" class="section_header level_3"><div class="container-fluid"><div class="row" id="mobile_search_row"><div class="col-sm-6 col-md-7 has_horizontal_local_nav" id="section_header_title"><div class="section_header_content"><div class="section_header_title"><h1><a href="../../documentation-center.html">Help Center</a></h1></div></div></div><div class="col-12 col-sm-6 col-md-5" id="mobile_search"><div class="search_nested_content_container"><form id="docsearch_form" name="docsearch_form" method="get" data-release="R2025b" data-language="en" action="../../templates/searchresults.html"><div class="input-group tokenized_search_field"><label class="visually-hidden form-label">Search Help</label><input type="text" class="form-control conjoined_search" autocomplete="off" name="qdoc" placeholder="Search Help" id="docsearch"> <div><button type="submit" name="submitsearch" id="submitsearch" class="btn icon-search btn_search_adjacent btn_search icon_16" tabindex="-1"></button></div></div></form></div><button class="btn icon-remove btn_search float-end icon_32 d-sm-none" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div><div class="d-sm-none" id="search_actuator"><button class="btn icon-search btn_search float-end icon_16" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div></div></div></div><div class="row-offcanvas row-offcanvas-left">
<div xmlns="http://www.w3.org/1999/xhtml" class="sidebar-offcanvas" id="sidebar">
<nav class="offcanvas_nav" role="navigation">
<div class="offcanvas_actuator" data-bs-toggle="offcanvas" data-bs-target="#sidebar" id="nav_toggle"><button type="button" class="btn"><span class="visually-hidden">Off-Canvas Navigation Menu Toggle
                  Off-Canvas Navigation Menu Toggle</span><span class="icon-menu"></span></button><span class="offcanvas_actuator_label" id="translation_icon-menu" tabindex="-1" aria-hidden="true"></span></div><div class="nav_list_wrapper" id="nav_list_wrapper"><nav class="offcanvas_nav" role="navigation"><ul class="nav_breadcrumb" id="ul_left_nav_ancestors"><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../../documentation-center.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Documentation Home</span></a></li></ul>
<ul class="nav_disambiguation"><li><a href="../index.html?s_tid=CRUX_lftnav" id="index">MATLAB</a>
</li>
<li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../language-fundamentals.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Language Fundamentals</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../operators-and-elementary-operations.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Operators and Elementary Operations</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../arithmetic-operators.html?s_tid=CRUX_lftnav" itemprop="url" id="arithmetic-operators"><span itemprop="title">Arithmetic Operations</span></a></li></ul><ul class="nav_disambiguation"><li><a href="../index.html?s_tid=CRUX_lftnav" id="index">MATLAB</a>
</li>
<li><a href="../mathematics.html?s_tid=CRUX_lftnav">Mathematics</a></li><li><a href="../elementary-math.html?s_tid=CRUX_lftnav">Elementary Math</a></li><li><a href="../arithmetic.html?s_tid=CRUX_lftnav" id="arithmetic">Arithmetic Operations</a></li></ul><ul class="nav_disambiguation"><li><a href="../index.html?s_tid=CRUX_lftnav" id="index">MATLAB</a>
</li>
<li><a href="../mathematics.html?s_tid=CRUX_lftnav">Mathematics</a></li><li><a href="../numerical-integration-and-differential-equations.html?s_tid=CRUX_lftnav">Numerical Integration and Differential Equations</a></li><li><a href="../numerical-integration-and-differentiation.html?s_tid=CRUX_lftnav" id="numerical-integration-and-differentiation">Numerical Integration and Differentiation</a></li></ul><div class="search_refine_v4"><div id="facets_area"><ul class="nav_scrollspy nav list-unstyled" id="pnav">
<li class="nav_scrollspy_function nav-item notranslate"><a href="#responsive_offcanvas"><span class="refname">diff</span></a></li>
<li class="nav_scrollspy_title nav-item" id="SSPY810-refentry">On this page</li>
<!--ADD_REFENTRY_TITLE_HERE 11--><li><a href="#d126e417871" class="intrnllnk">Syntax</a></li><li class="nav-item"><a href="#description" class="nav-link intrnllnk">Description</a></li><li class="nav-item"><a href="#btwmxq8-6" class="nav-link intrnllnk">Examples</a><ul class="nav"><li class="nav-item"><a href="#btwmxq8-7" class="nav-link intrnllnk">Differences Between Vector Elements</a></li></ul><ul class="nav"><li class="nav-item"><a href="#btwmxq8-9" class="nav-link intrnllnk">Differences Between Matrix Rows</a></li></ul><ul class="nav"><li class="nav-item"><a href="#btwmxq8-8" class="nav-link intrnllnk">Multiple Differences</a></li></ul><ul class="nav"><li class="nav-item"><a href="#btwmxq8-10" class="nav-link intrnllnk">Differences Between Matrix Columns</a></li></ul><ul class="nav"><li class="nav-item"><a href="#btw_sz6-1" class="nav-link intrnllnk">Approximate Derivatives with diff</a></li></ul><ul class="nav"><li class="nav-item"><a href="#buhbvxa" class="nav-link intrnllnk">Differences Between Datetime Values</a></li></ul></li><li class="nav-item"><a href="#btwmxq8-4" class="nav-link intrnllnk">Input Arguments</a><ul class="nav"><li class="nav-item"><a href="#btwmxq8-1-X" class="nav-link intrnllnk">X</a></li><li class="nav-item"><a href="#btwmxq8-1-n" class="nav-link intrnllnk">n</a></li><li class="nav-item"><a href="#btwmxq8-1-dim" class="nav-link intrnllnk">dim</a></li></ul></li><li class="nav-item"><a href="#btwmxq8-5" class="nav-link intrnllnk">Output Arguments</a><ul class="nav"><li class="nav-item"><a href="#btwmxq8-1-Y" class="nav-link intrnllnk">Y</a></li></ul></li><li class="nav-item"><a href="#refsect-extended-capabilities" class="nav-link intrnllnk">Extended Capabilities</a></li><li class="nav-item"><a href="#mw_b775d0a9-89c9-497c-bc11-da1574c64dea" class="nav-link intrnllnk">Version History</a><ul class="nav"><li class="nav-item"><a href="#mw_56dc00ff-5070-4e40-8640-55bf16715f9d" class="nav-link intrnllnk">Two-input syntax calculates differences along only the first dimension whose size
                is greater than 1</a></li></ul><ul class="nav"><li class="nav-item"><a href="#mw_2510f9bf-c52d-4f96-9022-277d4ba99676" class="nav-link intrnllnk">Improved performance with large number of elements</a></li></ul><ul class="nav"><li class="nav-item"><a href="#btwmxq8-1_sep_mw_5b3471aa-ec53-4b97-99f4-6cc1ce8d294a" class="nav-link intrnllnk">Perform calculations directly on tables and timetables</a></li></ul></li><li class="nav-item"><a href="#btwmxq8-1_seealso" class="nav-link intrnllnk">See Also</a></li></ul></div></div>
</nav></div></nav>
<script src="../../includes/product/scripts/offcanvas_v2.js"></script></div><!--END.CLASS sidebar-offcanvas-->
<div class="offcanvas_content_container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sticky_header_container"><div class="horizontal_nav"><div class="horizontal_nav_container"><div class="offcanvas_horizontal_nav"><div class="container-fluid"><div class="row"><div class="col-sm-12 d-none d-sm-block"><nav class="navbar navbar-default" role="navigation" id="subnav"><div><ul class="nav navbar-nav crux_browse"><li id="crux_nav_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_example" class="crux_resource"><a href="../examples.html?category=arithmetic-operators&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=arithmetic-operators&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=arithmetic-operators&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></nav></div><div class="d-sm-none"><div class="container-fluid"><div class="row"><div class="col-9"><div class="mobile_crux_nav_trigger"><div class="btn-group"><button type="button" class="btn btn-default dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Resources</button><ul class="dropdown-menu"><li id="crux_nav_mobile_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_mobile_example" class="crux_resource"><a href="../examples.html?category=arithmetic-operators&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_mobile_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=arithmetic-operators&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_mobile_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=arithmetic-operators&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></div></div><div class="col-3"><div class="translate_placeholder"></div></div></div></div></div></div></div></div></div></div></div><div class="content_container" id="content_container" itemprop="content">
<div class="container-fluid">
<div class="row">
<div class="col-12">

<main id="skip_link_anchor" tabindex="-1">
<div xmlns="http://www.w3.org/1999/xhtml" id="product_info_alert"></div><section xmlns="http://www.w3.org/1999/xhtml" id="doc_center_content" lang="en" data-language="en"><div id="pgtype-ref-function"><div class="function_ref"><span id="btwmxq8-1" class="anchor_target"></span><h1 class="r2025b notranslate" itemprop="title"><span class="refname">diff</span></h1><div class="doc_topic_desc"><div class="purpose_container"><p itemprop="purpose">Differences and approximate derivatives</p><div class="switch"><a href="javascript:void(0);" id="expandAllPage" data-allexpanded="true1">collapse all in page</a></div></div></div>
<div class="ref_sect"><h2 id="d126e417871">Syntax</h2><div class="syntax_signature"><div class="syntax_signature_module"><div class="code_responsive"><code class="synopsis"><a href="#d126e417878" class="intrnllnk">Y = diff(X)</a></code></div><div class="code_responsive"><code class="synopsis"><a href="#d126e417946" class="intrnllnk">Y = diff(X,n)</a></code></div><div class="code_responsive"><code class="synopsis"><a href="#btwmxq8-3" class="intrnllnk">Y = diff(X,n,dim)</a></code></div></div></div></div><div class="clear"></div><span id="btwmxq8-2" class="anchor_target"></span><h2 id="description">Description</h2><div class="descriptions"><div class="cshsummary" id="csh_btwmxq8-1"><div class="description_module"><div class="description_element"><div class="code_responsive"><p><span id="d126e417878" itemprop="syntax"><code class="synopsis"><a href="#btwmxq8-1-Y" class="intrnllnk"><code class="argument">Y</code></a> = diff(<a href="#btwmxq8-1-X" class="intrnllnk"><code class="argument">X</code></a>)</code></span>
                calculates differences between adjacent elements of <code class="literal">X</code>. By
                default, <code class="function">diff</code> operates along the first array dimension whose
                size does not equal 1.</p><div class="itemizedlist"><ul><li><p>If <code class="argument">X</code> is a vector of length <code class="literal">m</code>, then
                            <code class="literal">Y = diff(X)</code> returns a vector of length
                            <code class="literal">m-1</code>. The elements of <code class="literal">Y</code> are the
                        differences between adjacent elements of
                        <code class="argument">X</code>.<div class="code_responsive"><pre class="programlisting">Y = [X(2)-X(1) X(3)-X(2) ... X(m)-X(m-1)]</pre></div></p></li><li><p>If <code class="argument">X</code> is a nonempty, nonvector p-by-m matrix, then
                            <code class="literal">Y = diff(X)</code> returns a matrix of size (p-1)-by-m,
                        whose elements are the differences between the rows of
                            <code class="argument">X</code>.</p><div class="code_responsive"><pre class="programlisting">Y = [X(2,:)-X(1,:); X(3,:)-X(2,:); ... X(p,:)-X(p-1,:)]</pre></div></li><li><p>If <code class="argument">X</code> is a 0-by-0 empty matrix, then <code class="literal">Y =
                            diff(X)</code> returns a 0-by-0 empty matrix.</p></li><li><p>If <code class="argument">X</code> is a
                        p-by-m table or timetable, then <code class="literal">Y = diff(X)</code> returns a
                        table or timetable of size (p-1)-by-m, whose elements are the differences
                        between the rows of <code class="literal">X</code>. If <code class="argument">X</code> is a
                        1-by-m table or timetable, then the size of <code class="argument">Y</code> is
                        0-by-m.<em> (since R2023a)</em></p></li></ul></div></div><p class="syntax_example"><a href="double.diff.html#btwmxq8-7" class="intrnllnk">example</a></p></div><div class="description_element"><div class="code_responsive"><p><span id="d126e417946" itemprop="syntax"><code class="synopsis"><a href="#btwmxq8-1-Y" class="intrnllnk"><code class="argument">Y</code></a> = diff(<a href="#btwmxq8-1-X" class="intrnllnk"><code class="argument">X</code></a>,<a href="#btwmxq8-1-n" class="intrnllnk"><code class="argument">n</code></a>)</code></span>
                calculates the nth difference by applying the <code class="literal">diff(X)</code> operator
                recursively <code class="argument">n</code> times along the first array dimension whose size
                does not equal 1.</p></div><p class="syntax_example"><a href="double.diff.html#btwmxq8-8" class="intrnllnk">example</a></p></div><div class="description_element"><div class="code_responsive"><p><span id="btwmxq8-3" itemprop="syntax"><code id="btwmxq8-3" class="synopsis"><a href="#btwmxq8-1-Y" class="intrnllnk"><code class="argument">Y</code></a> = diff(<a href="#btwmxq8-1-X" class="intrnllnk"><code class="argument">X</code></a>,<a href="#btwmxq8-1-n" class="intrnllnk"><code class="argument">n</code></a>,<a href="#btwmxq8-1-dim" class="intrnllnk"><code class="argument">dim</code></a>)</code></span>
                is the nth difference calculated along the dimension specified by
                    <code class="argument">dim</code>. The <code class="argument">dim</code> input is a positive
                integer scalar.</p></div><p class="syntax_example"><a href="double.diff.html#btwmxq8-10" class="intrnllnk">example</a></p></div></div></div></div><div class="clear"></div><div class="examples"><h2 id="btwmxq8-6">Examples</h2><div class="expandableContent" id="expandableExamples"><p class="switch"><a href="javascript:void(0);" class="expandAllLink" data-allexpanded="true3">collapse all</a></p><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true" id="expand_accordion_heading_btwmxq8-7"><div class="accordion-item "><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_btwmxq8-7" data-bs-target="#expand_accordion_body_btwmxq8-7" aria-controls="expand_accordion_body_btwmxq8-7" class="accordion-button add_cursor_pointer" aria-expanded="true"><h3 id="btwmxq8-7">Differences Between Vector Elements</h3></button></div><div role="tabpanel" id="expand_accordion_body_btwmxq8-7" aria-labelledby="expand_accordion_heading_btwmxq8-7" class="accordion-collapse collapse show"><div class="accordion-body"><div class="examples_short_list hidden_ios_android" data-products="ML"><div data-pane="metadata" class="card metadata_container"><div class="card-body metadata_content"><div class="d-grid"><a class="btn btn_color_blue" href="matlab:openExample('matlab/DifferencesBetweenVectorElementsExample')" data-ex-genre="Live Script">Open Live Script</a></div></div></div></div><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "DigitalDocument",
          "headline": "Differences Between Vector Elements",
          "description": "Create a vector, then compute the differences between the elements.",
          "thumbnailURL": "../../includes/product/images/doc_center/DefaultImage.png",
          "genre": "Live Script",
          "isBasedOn": {
          "@type": "Product",
          "name": "MATLAB"

        },
          "isPartOf": {
          "@type": "CreativeWork",
          "url": "double.diff.html"

        },
          "identifier": "matlab.DifferencesBetweenVectorElementsExample",
          "name": "DifferencesBetweenVectorElementsExample",
          "url": "double.diff.html#btwmxq8-7"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "PropertyValue",
          "name": "open_command",
          "value": "matlab:openExample('matlab/DifferencesBetweenVectorElementsExample')"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "ExampleSourceFiles",

        "itemListElement":
        [
        "DifferencesBetweenVectorElementsExample.mlx"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><p class="shortdesc">Create a vector, then compute the differences between the elements. </p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>X = [1 1 2 3 5 8 13 21];
Y = diff(X)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>Y = <span class="emphasis"><em>1×7</em></span>

     0     1     1     2     3     5     8

</pre></div></div></div><p>Note that <code class="literal">Y</code> has one fewer element than <code class="literal">X</code>. </p><div class="procedure"></div></div></div></div></div><div itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/Example" itemprop="example" class="em_example"><meta itemprop="exampleid" content="matlab-DifferencesBetweenVectorElementsExample"><meta itemprop="exampletitle" content="Differences Between Vector Elements"></div><div class="accordion" role="tablist" aria-multiselectable="true" id="expand_accordion_heading_btwmxq8-9"><div class="accordion-item "><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_btwmxq8-9" data-bs-target="#expand_accordion_body_btwmxq8-9" aria-controls="expand_accordion_body_btwmxq8-9" class="accordion-button add_cursor_pointer" aria-expanded="true"><h3 id="btwmxq8-9">Differences Between Matrix Rows</h3></button></div><div role="tabpanel" id="expand_accordion_body_btwmxq8-9" aria-labelledby="expand_accordion_heading_btwmxq8-9" class="accordion-collapse collapse show"><div class="accordion-body"><div class="examples_short_list hidden_ios_android" data-products="ML"><div data-pane="metadata" class="card metadata_container"><div class="card-body metadata_content"><div class="d-grid"><a class="btn btn_color_blue" href="matlab:openExample('matlab/DifferencesBetweenMatrixRowsExample')" data-ex-genre="Live Script">Open Live Script</a></div></div></div></div><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "DigitalDocument",
          "headline": "Differences Between Matrix Rows",
          "description": "Create a 3-by-3 matrix, then compute the first difference between the rows.",
          "thumbnailURL": "../../includes/product/images/doc_center/DefaultImage.png",
          "genre": "Live Script",
          "isBasedOn": {
          "@type": "Product",
          "name": "MATLAB"

        },
          "isPartOf": {
          "@type": "CreativeWork",
          "url": "double.diff.html"

        },
          "identifier": "matlab.DifferencesBetweenMatrixRowsExample",
          "name": "DifferencesBetweenMatrixRowsExample",
          "url": "double.diff.html#btwmxq8-9"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "PropertyValue",
          "name": "open_command",
          "value": "matlab:openExample('matlab/DifferencesBetweenMatrixRowsExample')"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "ExampleSourceFiles",

        "itemListElement":
        [
        "DifferencesBetweenMatrixRowsExample.mlx"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><p class="shortdesc">Create a 3-by-3 matrix, then compute the first difference between the rows.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>X = [1 1 1; 5 5 5; 25 25 25];
Y = diff(X)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>Y = <span class="emphasis"><em>2×3</em></span>

     4     4     4
    20    20    20

</pre></div></div></div><p><code class="literal">Y</code> is a 2-by-3 matrix. </p><div class="procedure"></div></div></div></div></div><div itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/Example" itemprop="example" class="em_example"><meta itemprop="exampleid" content="matlab-DifferencesBetweenMatrixRowsExample"><meta itemprop="exampletitle" content="Differences Between Matrix Rows"></div><div class="accordion" role="tablist" aria-multiselectable="true" id="expand_accordion_heading_btwmxq8-8"><div class="accordion-item "><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_btwmxq8-8" data-bs-target="#expand_accordion_body_btwmxq8-8" aria-controls="expand_accordion_body_btwmxq8-8" class="accordion-button add_cursor_pointer" aria-expanded="true"><h3 id="btwmxq8-8">Multiple Differences</h3></button></div><div role="tabpanel" id="expand_accordion_body_btwmxq8-8" aria-labelledby="expand_accordion_heading_btwmxq8-8" class="accordion-collapse collapse show"><div class="accordion-body"><div class="examples_short_list hidden_ios_android" data-products="ML"><div data-pane="metadata" class="card metadata_container"><div class="card-body metadata_content"><div class="d-grid"><a class="btn btn_color_blue" href="matlab:openExample('matlab/MultipleDifferencesExample')" data-ex-genre="Live Script">Open Live Script</a></div></div></div></div><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "DigitalDocument",
          "headline": "Multiple Differences",
          "description": "Create a vector and compute the second-order difference between the elements.",
          "thumbnailURL": "../../includes/product/images/doc_center/DefaultImage.png",
          "genre": "Live Script",
          "isBasedOn": {
          "@type": "Product",
          "name": "MATLAB"

        },
          "isPartOf": {
          "@type": "CreativeWork",
          "url": "double.diff.html"

        },
          "identifier": "matlab.MultipleDifferencesExample",
          "name": "MultipleDifferencesExample",
          "url": "double.diff.html#btwmxq8-8"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "PropertyValue",
          "name": "open_command",
          "value": "matlab:openExample('matlab/MultipleDifferencesExample')"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "ExampleSourceFiles",

        "itemListElement":
        [
        "MultipleDifferencesExample.mlx"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><p class="shortdesc">Create a vector and compute the second-order difference between the elements.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>X = [0 5 15 30 50 75 105];
Y = diff(X,2)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>Y = <span class="emphasis"><em>1×5</em></span>

     5     5     5     5     5

</pre></div></div></div><div class="procedure"></div></div></div></div></div><div itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/Example" itemprop="example" class="em_example"><meta itemprop="exampleid" content="matlab-MultipleDifferencesExample"><meta itemprop="exampletitle" content="Multiple Differences"></div><div class="accordion" role="tablist" aria-multiselectable="true" id="expand_accordion_heading_btwmxq8-10"><div class="accordion-item "><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_btwmxq8-10" data-bs-target="#expand_accordion_body_btwmxq8-10" aria-controls="expand_accordion_body_btwmxq8-10" class="accordion-button add_cursor_pointer" aria-expanded="true"><h3 id="btwmxq8-10">Differences Between Matrix Columns</h3></button></div><div role="tabpanel" id="expand_accordion_body_btwmxq8-10" aria-labelledby="expand_accordion_heading_btwmxq8-10" class="accordion-collapse collapse show"><div class="accordion-body"><div class="examples_short_list hidden_ios_android" data-products="ML"><div data-pane="metadata" class="card metadata_container"><div class="card-body metadata_content"><div class="d-grid"><a class="btn btn_color_blue" href="matlab:openExample('matlab/DifferencesBetweenMatrixColumnsExample')" data-ex-genre="Live Script">Open Live Script</a></div></div></div></div><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "DigitalDocument",
          "headline": "Differences Between Matrix Columns",
          "description": "Create a 3-by-3 matrix, then compute the first-order difference between the columns.",
          "thumbnailURL": "../../includes/product/images/doc_center/DefaultImage.png",
          "genre": "Live Script",
          "isBasedOn": {
          "@type": "Product",
          "name": "MATLAB"

        },
          "isPartOf": {
          "@type": "CreativeWork",
          "url": "double.diff.html"

        },
          "identifier": "matlab.DifferencesBetweenMatrixColumnsExample",
          "name": "DifferencesBetweenMatrixColumnsExample",
          "url": "double.diff.html#btwmxq8-10"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "PropertyValue",
          "name": "open_command",
          "value": "matlab:openExample('matlab/DifferencesBetweenMatrixColumnsExample')"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "ExampleSourceFiles",

        "itemListElement":
        [
        "DifferencesBetweenMatrixColumnsExample.mlx"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><p class="shortdesc">Create a 3-by-3 matrix, then compute the first-order difference between the columns. </p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>X = [1 3 5;7 11 13;17 19 23];
Y = diff(X,1,2)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>Y = <span class="emphasis"><em>3×2</em></span>

     2     2
     4     2
     2     4

</pre></div></div></div><p><code class="literal">Y</code> is a 3-by-2 matrix. </p><div class="procedure"></div></div></div></div></div><div itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/Example" itemprop="example" class="em_example"><meta itemprop="exampleid" content="matlab-DifferencesBetweenMatrixColumnsExample"><meta itemprop="exampletitle" content="Differences Between Matrix Columns"></div><div class="accordion" role="tablist" aria-multiselectable="true" id="expand_accordion_heading_btw_sz6-1"><div class="accordion-item "><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_btw_sz6-1" data-bs-target="#expand_accordion_body_btw_sz6-1" aria-controls="expand_accordion_body_btw_sz6-1" class="accordion-button add_cursor_pointer" aria-expanded="true"><h3 id="btw_sz6-1">Approximate Derivatives with diff</h3></button></div><div role="tabpanel" id="expand_accordion_body_btw_sz6-1" aria-labelledby="expand_accordion_heading_btw_sz6-1" class="accordion-collapse collapse show"><div class="accordion-body"><div class="examples_short_list hidden_ios_android" data-products="ML"><div data-pane="metadata" class="card metadata_container"><div class="card-body metadata_content"><div class="d-grid"><a class="btn btn_color_blue" href="matlab:openExample('matlab/ApproximateDerivativesWithDiffExample')" data-ex-genre="Live Script">Open Live Script</a></div></div></div></div><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "DigitalDocument",
          "headline": "Approximate Derivatives with diff",
          "description": "Use the diff function to approximate partial derivatives with the syntax Y = diff(f)/h, where f is a vector of function values evaluated over some domain, X, and h is an appropriate step size.",
          "thumbnailURL": "../../examples/matlab/win64/ApproximateDerivativesWithDiffExample_01.png",
          "genre": "Live Script",
          "isBasedOn": {
          "@type": "Product",
          "name": "MATLAB"

        },
          "isPartOf": {
          "@type": "CreativeWork",
          "url": "double.diff.html"

        },
          "identifier": "matlab.ApproximateDerivativesWithDiffExample",
          "name": "ApproximateDerivativesWithDiffExample",
          "url": "double.diff.html#btw_sz6-1"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "PropertyValue",
          "name": "open_command",
          "value": "matlab:openExample('matlab/ApproximateDerivativesWithDiffExample')"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "ExampleSourceFiles",

        "itemListElement":
        [
        "ApproximateDerivativesWithDiffExample.mlx"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><p class="shortdesc">Use the <code class="literal">diff</code> function to approximate partial derivatives with the syntax <code class="literal">Y = diff(f)/h</code>, where <code class="literal">f</code> is a vector of function values evaluated over some domain, <code class="literal">X</code>, and <code class="literal">h</code> is an appropriate step size.</p><p>For example, the first derivative of <code class="literal">sin(x)</code> with respect to <code class="literal">x</code> is <code class="literal">cos(x)</code>, and the second derivative with respect to <code class="literal">x</code> is <code class="literal remove_text_wrapping">-sin(x)</code>. You can use <code class="literal">diff</code> to approximate these derivatives.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>h = 0.001;       <span style="color:#228B22">% step size</span>
X = -pi:h:pi;    <span style="color:#228B22">% domain</span>
f = sin(X);      <span style="color:#228B22">% range</span>
Y = diff(f)/h;   <span style="color:#228B22">% first derivative</span>
Z = diff(Y)/h;   <span style="color:#228B22">% second derivative</span>
plot(X(:,1:length(Y)),Y,<span style="color:#A020F0">'r'</span>,X,f,<span style="color:#A020F0">'b'</span>, X(:,1:length(Z)),Z,<span style="color:#A020F0">'k'</span>)</pre></div></div></div><div class="informalfigure"><div id="d126e418355" class="mediaobject"><p><img src="../../examples/matlab/win64/ApproximateDerivativesWithDiffExample_01.png" alt="Figure contains an axes object. The axes object contains 3 objects of type line." width="560"></p></div></div><p>In this plot the blue line corresponds to the original function, <code class="literal">sin</code>. The red line corresponds to the calculated first derivative, <code class="literal">cos</code>, and the black line corresponds to the calculated second derivative, <code class="literal remove_text_wrapping">-sin</code>.</p><div class="procedure"></div></div></div></div></div><div itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/Example" itemprop="example" class="em_example"><meta itemprop="exampleid" content="matlab-ApproximateDerivativesWithDiffExample"><meta itemprop="exampletitle" content="Approximate Derivatives with diff"></div><div class="accordion" role="tablist" aria-multiselectable="true" id="expand_accordion_heading_buhbvxa"><div class="accordion-item "><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_buhbvxa" data-bs-target="#expand_accordion_body_buhbvxa" aria-controls="expand_accordion_body_buhbvxa" class="accordion-button add_cursor_pointer" aria-expanded="true"><h3 id="buhbvxa">Differences Between Datetime Values</h3></button></div><div role="tabpanel" id="expand_accordion_body_buhbvxa" aria-labelledby="expand_accordion_heading_buhbvxa" class="accordion-collapse collapse show"><div class="accordion-body"><div class="examples_short_list hidden_ios_android" data-products="ML"><div data-pane="metadata" class="card metadata_container"><div class="card-body metadata_content"><div class="d-grid"><a class="btn btn_color_blue" href="matlab:openExample('matlab/DifferencesBetweenDatetimeValuesExample')" data-ex-genre="Live Script">Open Live Script</a></div></div></div></div><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "DigitalDocument",
          "headline": "Differences Between Datetime Values",
          "description": "Create a sequence of equally-spaced datetime values, and find the time differences between them.",
          "thumbnailURL": "../../includes/product/images/doc_center/DefaultImage.png",
          "genre": "Live Script",
          "isBasedOn": {
          "@type": "Product",
          "name": "MATLAB"

        },
          "isPartOf": {
          "@type": "CreativeWork",
          "url": "double.diff.html"

        },
          "identifier": "matlab.DifferencesBetweenDatetimeValuesExample",
          "name": "DifferencesBetweenDatetimeValuesExample",
          "url": "double.diff.html#buhbvxa"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "PropertyValue",
          "name": "open_command",
          "value": "matlab:openExample('matlab/DifferencesBetweenDatetimeValuesExample')"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "ExampleSourceFiles",

        "itemListElement":
        [
        "DifferencesBetweenDatetimeValuesExample.mlx"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><p class="shortdesc">Create a sequence of equally-spaced datetime values, and find the time differences between them.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>t1 = datetime(<span style="color:#A020F0">'now'</span>);
t2 = t1 + minutes(5);
t = t1:minutes(1.5):t2</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>t = <span class="emphasis"><em>1×4 datetime</em></span>
   09-Aug-2025 12:09:38   09-Aug-2025 12:11:08   09-Aug-2025 12:12:38   09-Aug-2025 12:14:08

</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>dt = diff(t)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>dt = <span class="emphasis"><em>1×3 duration</em></span>
   00:01:30   00:01:30   00:01:30

</pre></div></div></div><p><code class="literal">diff</code> returns a <code class="literal">duration</code> array.</p><div class="procedure"></div></div></div></div></div><div itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/Example" itemprop="example" class="em_example"><meta itemprop="exampleid" content="matlab-DifferencesBetweenDatetimeValuesExample"><meta itemprop="exampletitle" content="Differences Between Datetime Values"></div></div></div></div><div class="ref_sect"><h2 id="btwmxq8-4">Input Arguments</h2><div class="expandableContent"><p class="switch "><a href="javascript:void(0);" class="expandAllLink" data-allexpanded="true">collapse all</a></p><div class="mw_ws_accordion_container"><div class="accordion" id="btwmxq8-4_accordion-group" role="tablist" aria-multiselectable="true"><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true"><div class="accordion-item "><div itemscope="" itemprop="inputargument" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/NamedInputArgument" itemid="btwmxq8-1-X"><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_btwmxq8-1-X" data-bs-target="#expand_accordion_body_btwmxq8-1-X" aria-controls="expand_accordion_body_btwmxq8-1-X" class="accordion-button add_cursor_pointer" aria-expanded="true"><span id="inputarg_X" class="anchor_target"></span><h3 id="btwmxq8-1-X"><code itemprop="name">X</code> &#8212; <span itemprop="purpose">Input array</span><br/> <span class="add_font_color_general remove_bold"><span class="example_desc"><span itemprop="inputvalue">vector</span> | <span itemprop="inputvalue">matrix</span> | <span itemprop="inputvalue">multidimensional array</span> | <span itemprop="inputvalue">table</span> | <span itemprop="inputvalue">timetable</span></span></span></h3></button></div><div role="tabpanel" id="expand_accordion_body_btwmxq8-1-X" aria-labelledby="expand_accordion_heading_btwmxq8-1-X" class="accordion-collapse collapse show"><div class="accordion-body"><div class="cshsummary" id="csh_btwmxq8-1-X"><p>Input array, specified as a vector, matrix, multidimensional array, table,
                        or timetable. <code class="argument">X</code> can be a numeric array, logical array,
                        datetime array, or duration array, or a table or timetable whose variables
                        have any of these data types.</p></div><p class="datatypelist"><strong>Complex Number Support: </strong>Yes</p></div></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true"><div class="accordion-item "><div itemscope="" itemprop="inputargument" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/NamedInputArgument" itemid="btwmxq8-1-n"><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_btwmxq8-1-n" data-bs-target="#expand_accordion_body_btwmxq8-1-n" aria-controls="expand_accordion_body_btwmxq8-1-n" class="accordion-button add_cursor_pointer" aria-expanded="true"><span id="inputarg_n" class="anchor_target"></span><h3 id="btwmxq8-1-n"><code itemprop="name">n</code> &#8212; <span itemprop="purpose">Difference order</span><br/> <span class="add_font_color_general remove_bold"><span class="example_desc"><span itemprop="inputvalue defaultvalue"><code class="literal">1</code></span> (default) | <span itemprop="inputvalue">positive integer scalar</span> | <span itemprop="inputvalue"><code class="literal">[]</code></span></span></span></h3></button></div><div role="tabpanel" id="expand_accordion_body_btwmxq8-1-n" aria-labelledby="expand_accordion_heading_btwmxq8-1-n" class="accordion-collapse collapse show"><div class="accordion-body"><div class="cshsummary" id="csh_btwmxq8-1-n"><p>Difference order, specified as a positive integer scalar or
                            <code class="literal">[]</code>. The default value of <code class="argument">n</code> is
                            <code class="literal">1</code>. When <code class="argument">n</code> is larger than the
                        dimension being operated on, <code class="function">diff</code> returns an empty
                        array.</p></div><p class="datatypelist"><strong>Data Types: </strong><code itemprop="datatype">single</code> | <code itemprop="datatype">double</code> | <code itemprop="datatype">int8</code> | <code itemprop="datatype">int16</code> | <code itemprop="datatype">int32</code> | <code itemprop="datatype">int64</code> | <code itemprop="datatype">uint8</code> | <code itemprop="datatype">uint16</code> | <code itemprop="datatype">uint32</code> | <code itemprop="datatype">uint64</code></p></div></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true"><div class="accordion-item "><div itemscope="" itemprop="inputargument" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/NamedInputArgument" itemid="btwmxq8-1-dim"><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_btwmxq8-1-dim" data-bs-target="#expand_accordion_body_btwmxq8-1-dim" aria-controls="expand_accordion_body_btwmxq8-1-dim" class="accordion-button add_cursor_pointer" aria-expanded="true"><span id="inputarg_dim" class="anchor_target"></span><h3 id="btwmxq8-1-dim"><code itemprop="name">dim</code> &#8212; <span itemprop="purpose">Dimension to operate along</span><br/> <span class="add_font_color_general remove_bold"><span class="example_desc"><span itemprop="inputvalue">positive integer scalar</span></span></span></h3></button></div><div role="tabpanel" id="expand_accordion_body_btwmxq8-1-dim" aria-labelledby="expand_accordion_heading_btwmxq8-1-dim" class="accordion-collapse collapse show"><div class="accordion-body"><div class="cshsummary" id="csh_btwmxq8-1-dim"><p>Dimension
    to operate along, specified as a positive integer scalar. If you do not specify the dimension,
    then the default is the first array dimension whose size does not equal 1.</p><p>Consider a two-dimensional p-by-m input array, <code class="literal">A</code>:</p>
<div class="itemizedlist"><ul><li><p><code class="literal">diff(A,1,1)</code> works on successive elements in
                                    the columns of <code class="literal">A</code> and returns a (p-1)-by-m
                                    difference matrix.</p></li><li><p><code class="literal">diff(A,1,2)</code> works on successive elements in
                                    the rows of <code class="literal">A</code> and returns a p-by-(m-1)
                                    difference matrix.</p></li></ul></div><p>
</p>
<div class="informalfigure"><div id="d126e418116" class="mediaobject"><p><img src="diff_dim_input.png" alt="diff(A,1,1) column-wise computation and diff(A,1,2) row-wise computation" height="103" width="433"></p></div></div><p></p></div><p class="datatypelist"><strong>Data Types: </strong><code itemprop="datatype">double</code> | <code itemprop="datatype">single</code> | <code itemprop="datatype">int8</code> | <code itemprop="datatype">int16</code> | <code itemprop="datatype">int32</code> | <code itemprop="datatype">int64</code> | <code itemprop="datatype">uint8</code> | <code itemprop="datatype">uint16</code> | <code itemprop="datatype">uint32</code> | <code itemprop="datatype">uint64</code></p></div></div></div></div></div></div></div></div></div></div><div class="ref_sect"><h2 id="btwmxq8-5">Output Arguments</h2><div class="expandableContent"><p class="switch "><a href="javascript:void(0);" class="expandAllLink" data-allexpanded="true">collapse all</a></p><div class="mw_ws_accordion_container"><div class="accordion" id="btwmxq8-5_accordion-group" role="tablist" aria-multiselectable="true"><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true"><div class="accordion-item "><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_btwmxq8-1-Y" data-bs-target="#expand_accordion_body_btwmxq8-1-Y" aria-controls="expand_accordion_body_btwmxq8-1-Y" class="accordion-button add_cursor_pointer" aria-expanded="true"><span id="outputarg_Y" class="anchor_target"></span><h3 id="btwmxq8-1-Y"><code class="name">Y</code> &#8212; Difference array<br/> <span class="add_font_color_general remove_bold"><span class="example_desc">scalar | vector | matrix | multidimensional array | table | timetable</span></span></h3></button></div><div role="tabpanel" id="expand_accordion_body_btwmxq8-1-Y" aria-labelledby="expand_accordion_heading_btwmxq8-1-Y" class="accordion-collapse collapse show"><div class="accordion-body"><div class="cshsummary" id="csh_btwmxq8-1-Y"><p>Difference array, returned as a scalar, vector, matrix, multidimensional
                        array, table, or timetable. If the dimension of <a href="#btwmxq8-1-X" class="intrnllnk"><code class="argument">X</code></a> acted
                        on by <code class="function">diff</code> has size greater than
                        <a href="#btwmxq8-1-n" class="intrnllnk"><code class="argument">n</code></a>, then this dimension is reduced by
                            <code class="argument">n</code> in the output. If this dimension is less than
                            <code class="argument">n</code>, it is reduced to zero and the output is
                        empty.</p></div></div></div></div></div></div></div></div></div></div><div class="ref_sect"><h2 id="refsect-extended-capabilities">Extended Capabilities</h2><div class="expandableContent"><p class="switch"><a href="javascript:void(0);" class="expandAllLink">expand all</a></p><div id="accordion_refsect-extended-capabilities" role="tablist" aria-multiselectable="true"><span id="bvmmfsb" class="anchor_target"></span><div class="mw_ws_accordion_container"><div class="accordion -presentation_expander -presentation_condensed"><div class="accordion-item"><span id="btwmxq8-1" class="anchor_target"></span><div class="accordion-header"><button data-bs-toggle="collapse" data-bs-target="#expand_body_btwmxq8-1_tall" aria-controls="expand_body_btwmxq8-1_tall" class="accordion-button collapsed" aria-expanded="false"><h3 id="btwmxq8-1_tall">Tall Arrays<br/> <span class=" remove_bold add_font_color_general">Calculate with arrays that have more rows than fit in memory. </span></h3></button></div><div id="expand_body_btwmxq8-1_tall" class="accordion-collapse collapsed collapse"><div class="accordion-body"><p>This function supports tall arrays with the limitations:</p><p>You must use the three-input syntax <code class="literal">Y = diff(X,N,dim)</code>.</p><p>For more information, see <a href="../tall-arrays.html" class="a">Tall Arrays</a>.</p></div></div></div></div></div><span id="bvlxege-1" class="anchor_target"></span><div class="mw_ws_accordion_container"><div class="accordion -presentation_expander -presentation_condensed"><div class="accordion-item"><span id="btwmxq8-1" class="anchor_target"></span><div class="accordion-header"><button data-bs-toggle="collapse" data-bs-target="#expand_body_btwmxq8-1_codegen" aria-controls="expand_body_btwmxq8-1_codegen" class="accordion-button collapsed" aria-expanded="false"><h3 id="btwmxq8-1_codegen">C/C++ Code Generation<br/>
<span class=" remove_bold add_font_color_general">Generate C and C++ code using MATLAB&#174; Coder&#8482;.</span></h3></button></div><div id="expand_body_btwmxq8-1_codegen" class="accordion-collapse collapsed collapse"><div class="accordion-body"><p><span>Usage notes and limitations:</span></p><p>
                </p>
<div class="itemizedlist"><ul><li><p>If used, the <code class="literal">dim</code> argument must be a constant at
                            code generation time.</p></li><li><p>For input argument <code class="literal">X</code>:</p><div class="itemizedlist"><ul><li><p>If you do not specify a dimension, the code generator operates
    along the first dimension of the input array that is variable size or whose size does not equal
    1. If this dimension is variable size at code generation time and is 1 at run time, a run-time
    error can occur. To avoid this error, specify the dimension.</p></li></ul></div></li><li><p>Code generation does not support sparse matrix inputs for this
    function.</p></li></ul></div><p>

            </p></div></div></div></div></div><span id="mw_524d668c-7a18-4deb-95fa-d6cd7167ff1d" class="anchor_target"></span><div class="mw_ws_accordion_container"><div class="accordion -presentation_expander -presentation_condensed"><div class="accordion-item"><span id="btwmxq8-1" class="anchor_target"></span><div class="accordion-header"><button data-bs-toggle="collapse" data-bs-target="#expand_body_btwmxq8-1_threadsupport" aria-controls="expand_body_btwmxq8-1_threadsupport" class="accordion-button collapsed" aria-expanded="false"><h3 id="btwmxq8-1_threadsupport">Thread-Based Environment<br/> <span class=" remove_bold add_font_color_general">Run code in the background using MATLAB&#174; <code class="function">backgroundPool</code> or accelerate code with Parallel Computing Toolbox&#8482; <code class="function">ThreadPool</code>.</span></h3></button></div><div id="expand_body_btwmxq8-1_threadsupport" class="accordion-collapse collapsed collapse"><div class="accordion-body"><p>This function fully supports thread-based environments. For
                more information, see <a href="../matlab_prog/run-functions-on-threads.html" class="a">Run MATLAB Functions in Thread-Based Environment</a>.</p></div></div></div></div></div><span id="mw_514cb9c6-8d01-4faf-a4f2-5e0a9ec985fb" class="anchor_target"></span><div class="mw_ws_accordion_container"><div class="accordion -presentation_expander -presentation_condensed"><div class="accordion-item"><span id="btwmxq8-1" class="anchor_target"></span><div class="accordion-header"><button data-bs-toggle="collapse" data-bs-target="#expand_body_btwmxq8-1_gpuarrays" aria-controls="expand_body_btwmxq8-1_gpuarrays" class="accordion-button collapsed" aria-expanded="false"><h3 id="btwmxq8-1_gpuarrays">GPU Arrays<br/> <span class=" remove_bold add_font_color_general">Accelerate code by running on a graphics processing unit (GPU) using Parallel Computing Toolbox&#8482;.</span></h3></button></div><div id="expand_body_btwmxq8-1_gpuarrays" class="accordion-collapse collapsed collapse"><div class="accordion-body"><p>The <code class="function">diff</code> function
    fully supports GPU arrays. To run the function on a GPU, specify the input data as a <a href="../../parallel-computing/gpuarray.html"><code class="function">gpuArray</code></a><span role="cross_prod"> (Parallel Computing Toolbox)</span>. For more information, see <a href="../../parallel-computing/run-matlab-functions-on-a-gpu.html" class="a">Run MATLAB Functions on a GPU</a><span role="cross_prod"> (Parallel Computing Toolbox)</span>.</p></div></div></div></div></div><span id="mw_4136cf7c-5df7-4dfb-908e-691c8fe44bac" class="anchor_target"></span><div class="mw_ws_accordion_container"><div class="accordion -presentation_expander -presentation_condensed"><div class="accordion-item"><span id="btwmxq8-1" class="anchor_target"></span><div class="accordion-header"><button data-bs-toggle="collapse" data-bs-target="#expand_body_btwmxq8-1_distributedarrays" aria-controls="expand_body_btwmxq8-1_distributedarrays" class="accordion-button collapsed" aria-expanded="false"><h3 id="btwmxq8-1_distributedarrays">Distributed Arrays<br/> <span class=" remove_bold add_font_color_general">Partition large arrays across the combined memory of your cluster using Parallel Computing Toolbox&#8482;.</span></h3></button></div><div id="expand_body_btwmxq8-1_distributedarrays" class="accordion-collapse collapsed collapse"><div class="accordion-body"><p>This function fully supports distributed arrays. For more
    information, see <a href="../../parallel-computing/run-matlab-functions-with-distributed-arrays.html" class="a">Run MATLAB Functions with Distributed Arrays</a><span role="cross_prod"> (Parallel Computing Toolbox)</span>.</p></div></div></div></div></div></div></div></div><div class="ref_sect"><h2 id="mw_b775d0a9-89c9-497c-bc11-da1574c64dea">Version History</h2><strong>Introduced before R2006a</strong><div class="expandableContent"><p class="switch"><a href="javascript:void(0);" class="expandAllLink">expand all</a></p><div class="mw_ws_accordion_container"><div class="accordion -presentation_expander -presentation_condensed"><div class="accordion-item"><div class="accordion-header"><button data-bs-toggle="collapse" data-bs-target="#expand_body_mw_56dc00ff-5070-4e40-8640-55bf16715f9d" aria-controls="expand_body_mw_56dc00ff-5070-4e40-8640-55bf16715f9d" class="accordion-button collapsed" aria-expanded="false"><h3 id="mw_56dc00ff-5070-4e40-8640-55bf16715f9d">R2025a: <span class="remove_bold">Two-input syntax calculates differences along only the first dimension whose size                 is greater than 1</span><span class="icon-alert-warning icon_alert_color"></span></h3></button></div><div id="expand_body_mw_56dc00ff-5070-4e40-8640-55bf16715f9d" class="accordion-collapse collapsed collapse"><div class="accordion-body"><p>The two-input syntax <code class="literal">diff(X,n)</code> of the <code class="function">diff</code>
                function now operates along only the first dimension whose size is greater than 1
                for all values of <code class="argument">n</code>. If <code class="argument">n</code> is larger than
                that dimension, <code class="function">diff</code> returns an empty array. Previously, when
                    <code class="argument">n</code> was larger than the first dimension whose size is greater
                than 1, <code class="literal">diff(X,n)</code> reduced the size of that dimension to 1 and
                then calculated differences along the next dimension whose size is greater than
                1.</p></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion -presentation_expander -presentation_condensed"><div class="accordion-item"><span id="btwmxq8-1.mw_5b3471aa-ec53-4b97-99f4-6cc1ce8d294a" class="anchor_target"></span><div class="accordion-header"><button data-bs-toggle="collapse" data-bs-target="#expand_body_btwmxq8-1_sep_mw_5b3471aa-ec53-4b97-99f4-6cc1ce8d294a" aria-controls="expand_body_btwmxq8-1_sep_mw_5b3471aa-ec53-4b97-99f4-6cc1ce8d294a" class="accordion-button collapsed" aria-expanded="false"><h3 id="btwmxq8-1_sep_mw_5b3471aa-ec53-4b97-99f4-6cc1ce8d294a">R2023a: <span class="remove_bold">Perform calculations directly on tables and timetables</span></h3></button></div><div id="expand_body_btwmxq8-1_sep_mw_5b3471aa-ec53-4b97-99f4-6cc1ce8d294a" class="accordion-collapse collapsed collapse"><div class="accordion-body"><p>The <code class="function">diff</code> function can calculate on all variables within a table or
        timetable without indexing to access those variables. All variables must have data types
        that support the calculation. For more information, see <a href="../matlab_prog/direct-calculations-on-tables-and-timetables.html" class="a">Direct Calculations on Tables and Timetables</a>.</p></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion -presentation_expander -presentation_condensed"><div class="accordion-item"><div class="accordion-header"><button data-bs-toggle="collapse" data-bs-target="#expand_body_mw_2510f9bf-c52d-4f96-9022-277d4ba99676" aria-controls="expand_body_mw_2510f9bf-c52d-4f96-9022-277d4ba99676" class="accordion-button collapsed" aria-expanded="false"><h3 id="mw_2510f9bf-c52d-4f96-9022-277d4ba99676">R2022a: <span class="remove_bold">Improved performance with large number of elements</span></h3></button></div><div id="expand_body_mw_2510f9bf-c52d-4f96-9022-277d4ba99676" class="accordion-collapse collapsed collapse"><div class="accordion-body"><p>The <code class="function">diff</code> function shows improved performance when operating
                on vectors with at least 10<sup>5</sup> elements or when operating
                along the first or second dimension of matrices and multidimensional arrays with at
                least 5 x 10<sup>5</sup> elements.</p><p>For example, this code constructs a double with 2.5 x
                    10<sup>7</sup> elements and calculates differences between
                adjacent elements. The code is approximately 2.4x faster than in the previous
                release:</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#0000FF">function</span> timingDiff
rng <span style="color:#A020F0">default</span>
N = 5000;
A = rand(N);

tic
<span style="color:#0000FF">for</span> k = 1:40
   D = diff(A);
<span style="color:#0000FF">end</span>
toc
<span style="color:#0000FF">end</span>
</pre></div></div></div><p>The approximate execution times are:</p><p><strong class="emphasis bold">R2021b:</strong> 2.43 s</p><p><strong class="emphasis bold">R2022a:</strong> 1.00 s</p><p>The code was timed on a Windows<sup>&#x00AE;</sup> 10, Intel<sup>&#x00AE;</sup>
                Xeon<sup>&#x00AE;</sup> CPU E5-1650 v4 @ 3.60 GHz test system by calling the
                    <code class="literal">timingDiff</code> function.</p></div></div></div></div></div></div></div><div class="ref_sect"><h2 id="btwmxq8-1_seealso">See Also</h2><p><span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="gradient.html"><span itemprop="name"><code class="function">gradient</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="double.prod.html"><span itemprop="name"><code class="function">prod</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="double.cumsum.html"><span itemprop="name"><code class="function">cumsum</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="double.sum.html"><span itemprop="name"><code class="function">sum</code></span></a></span></p></div>
    </div></div></section><div xmlns="http://www.w3.org/1999/xhtml" class="clearfix"></div>
<div xmlns="http://www.w3.org/1999/xhtml" align="center" class="feedbackblock" id="mw_docsurvey"><script src="https://www.mathworks.com/help/docsurvey/docfeedback.js"></script>
<script>loadSurveyHidden();</script>
<link rel="stylesheet" href="https://www.mathworks.com/help/docsurvey/release/index-css.css" type="text/css">
<script src="https://www.mathworks.com/help/docsurvey/release/bundle.index.js"></script>

<script>initDocSurvey();</script></div></main>


</div>
</div>
</div>
</div><!--close_0960-->
<footer xmlns="http://www.w3.org/1999/xhtml" id="footer" class="bs-footer">
<div class="container-fluid">
<div class="footer">
<div class="row">
<div class="col-12">
<p class="copyright">© 1994-2025 The MathWorks, Inc.</p>
<ul class="footernav"><li class="footernav_help"><a href="matlab:web(matlab.internal.licenseAgreement)">Terms of Use</a></li><li class="footernav_patents"><a href="matlab:web([matlabroot '/patents.txt'])">Patents</a></li><li class="footernav_trademarks"><a href="matlab:web([matlabroot '/trademarks.txt'])">Trademarks</a></li><li class="footernav_piracy"><a href="matlab:web([docroot '/acknowledgments.html'])">Acknowledgments</a></li></ul></div>
</div>
</div>
</div>
</footer>
</div><!--close row-offcanvas-->
</div><!--close_0970-->
</body>
</html>
