<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage">
<head>
<meta xmlns="http://www.w3.org/1999/xhtml" charset="utf-8">
<meta xmlns="http://www.w3.org/1999/xhtml" name="viewport" content="width=device-width, initial-scale=1.0">
<meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="X-UA-Compatible" content="IE=edge">
<title>mex</title>
<script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
      {
      "@context": "http://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement":
      [{
          "@type": "ListItem",
          "position": 1,

          "item": {
          "@id": "../index.html",
          "name": "MATLAB"
}

          } 
        ,
        {
          "@type": "ListItem",
          "position": 2,

          "item": {
          "@id": "../external-language-interfaces.html",
          "name": "External Language Interfaces"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 3,

          "item": {
          "@id": "../cpp-language.html",
          "name": "C++ with MATLAB"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 4,

          "item": {
          "@id": "../call-mex-file-functions.html",
          "name": "Call C/C++ MEX Functions from MATLAB"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 5,

          "item": {
          "@id": "../cpp-mex-file-applications.html",
          "name": "Write C++ Functions Callable from MATLAB (MEX Files)"
}

          }]
      }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
      {
      "@context": "http://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement":
      [{
          "@type": "ListItem",
          "position": 1,

          "item": {
          "@id": "../index.html",
          "name": "MATLAB"
}

          } 
        ,
        {
          "@type": "ListItem",
          "position": 2,

          "item": {
          "@id": "../external-language-interfaces.html",
          "name": "External Language Interfaces"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 3,

          "item": {
          "@id": "../cpp-language.html",
          "name": "C++ with MATLAB"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 4,

          "item": {
          "@id": "../calling-matlab-engine-from-cpp-programs.html",
          "name": "Call MATLAB from C++"
}

          }]
      }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
      {
      "@context": "http://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement":
      [{
          "@type": "ListItem",
          "position": 1,

          "item": {
          "@id": "../index.html",
          "name": "MATLAB"
}

          } 
        ,
        {
          "@type": "ListItem",
          "position": 2,

          "item": {
          "@id": "../external-language-interfaces.html",
          "name": "External Language Interfaces"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 3,

          "item": {
          "@id": "../c-language.html",
          "name": "C with MATLAB"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 4,

          "item": {
          "@id": "../call-mex-files-1.html",
          "name": "Write C Functions Callable from MATLAB (MEX Files)"
}

          }]
      }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "VisibleBreadcrumbs",

        "itemListElement":
        [
        "cpp-mex-file-applications",
        "calling-matlab-engine-from-cpp-programs",
        "call-mex-files-1"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script>
<meta xmlns="http://www.w3.org/1999/xhtml" name="chunktype" content="refpage"><meta xmlns="http://www.w3.org/1999/xhtml" name="refentity" itemprop="refentity" content="function:mex"><link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/bootstrap.min.css" rel="stylesheet" type="text/css">


  <meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="Content-Script-Type" content="text/javascript">
<meta xmlns="http://www.w3.org/1999/xhtml" name="toctype" itemprop="pagetype" content="fcn">
<meta xmlns="http://www.w3.org/1999/xhtml" name="infotype" itemprop="infotype" content="ref/function">

<meta xmlns="http://www.w3.org/1999/xhtml" name="description" itemprop="description" content="This MATLAB function compiles and links one or more C++ source files written with the MATLAB Data API for C++ into a binary MEX file in the current folder."><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-3.6.0.min.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-migrate.min.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_lg.css" rel="stylesheet" media="screen and (min-width: 1200px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_md.css" rel="stylesheet" media="screen and (min-width: 992px) and (max-width: 1199px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm+xs.css" rel="stylesheet" media="screen and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm.css" rel="stylesheet" media="screen and (min-width: 768px) and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_xs.css" rel="stylesheet" media="screen and (max-width: 767px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_offcanvas_v2.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/shared/highlight/styles/mwdochighlight.min.css" rel="stylesheet" type="text/css">

<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/l10n.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/f1help.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/mw.imageanimation.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/jquery.highlight.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/underscore-min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/use_platform_screenshots.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/suggest.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/overload.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/helpservices.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/productfilter.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/matlab_dialog_shared.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/highlight/highlight.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/localstorage.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/product_group.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/saxonjs/SaxonJS2.rt.js"></script><script xmlns="http://www.w3.org/1999/xhtml">
            window.history.replaceState(window.location.href, null, ""); // Initialize
            window.onload = function() {    
            mystylesheetLocation = "../../includes/shared/scripts/product_group-sef.json";
            mysourceLocation = "../../docset/docset.xml";
            product_help_location = "matlab";
            pagetype = "refentry";
            doccentertype = "product";
            langcode = "";
            getProductFilteredList(mystylesheetLocation, mysourceLocation, product_help_location, pagetype, doccentertype, langcode);  
            }
          </script>




<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery.mobile.custom.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/bootstrap.bundle.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/global.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_base.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_installed.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_print.css" rel="stylesheet" type="text/css" media="print">
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/equationrenderer/release/MathRenderer.js"></script>
</head>
<body id="responsive_offcanvas">
<div xmlns="http://www.w3.org/1999/xhtml" id="doc_header_spacer" class="header"></div>
<div xmlns="http://www.w3.org/1999/xhtml" class="section_header level_3"><div class="container-fluid"><div class="row" id="mobile_search_row"><div class="col-sm-6 col-md-7 has_horizontal_local_nav" id="section_header_title"><div class="section_header_content"><div class="section_header_title"><h1><a href="../../documentation-center.html">Help Center</a></h1></div></div></div><div class="col-12 col-sm-6 col-md-5" id="mobile_search"><div class="search_nested_content_container"><form id="docsearch_form" name="docsearch_form" method="get" data-release="R2025b" data-language="en" action="../../templates/searchresults.html"><div class="input-group tokenized_search_field"><label class="visually-hidden form-label">Search Help</label><input type="text" class="form-control conjoined_search" autocomplete="off" name="qdoc" placeholder="Search Help" id="docsearch"> <div><button type="submit" name="submitsearch" id="submitsearch" class="btn icon-search btn_search_adjacent btn_search icon_16" tabindex="-1"></button></div></div></form></div><button class="btn icon-remove btn_search float-end icon_32 d-sm-none" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div><div class="d-sm-none" id="search_actuator"><button class="btn icon-search btn_search float-end icon_16" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div></div></div></div><div class="row-offcanvas row-offcanvas-left">
<div xmlns="http://www.w3.org/1999/xhtml" class="sidebar-offcanvas" id="sidebar">
<nav class="offcanvas_nav" role="navigation">
<div class="offcanvas_actuator" data-bs-toggle="offcanvas" data-bs-target="#sidebar" id="nav_toggle"><button type="button" class="btn"><span class="visually-hidden">Off-Canvas Navigation Menu Toggle
                  Off-Canvas Navigation Menu Toggle</span><span class="icon-menu"></span></button><span class="offcanvas_actuator_label" id="translation_icon-menu" tabindex="-1" aria-hidden="true"></span></div><div class="nav_list_wrapper" id="nav_list_wrapper"><nav class="offcanvas_nav" role="navigation"><ul class="nav_breadcrumb" id="ul_left_nav_ancestors"><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../../documentation-center.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Documentation Home</span></a></li></ul>
<ul class="nav_disambiguation"><li><a href="../index.html?s_tid=CRUX_lftnav" id="index">MATLAB</a>
</li>
<li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../external-language-interfaces.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">External Language Interfaces</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../cpp-language.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">C++ with MATLAB</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../call-mex-file-functions.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Call C/C++ MEX Functions from MATLAB</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../cpp-mex-file-applications.html?s_tid=CRUX_lftnav" itemprop="url" id="mw_ed02b205-3d2c-48d0-ba64-c5b069ff713a"><span itemprop="title">Write C++ Functions Callable from MATLAB  (MEX Files)</span></a></li></ul><ul class="nav_disambiguation"><li><a href="../index.html?s_tid=CRUX_lftnav" id="index">MATLAB</a>
</li>
<li><a href="../external-language-interfaces.html?s_tid=CRUX_lftnav">External Language Interfaces</a></li><li><a href="../cpp-language.html?s_tid=CRUX_lftnav">C++ with MATLAB</a></li><li><a href="../calling-matlab-engine-from-cpp-programs.html?s_tid=CRUX_lftnav" id="mw_7f97b554-9eba-4c77-9873-5b8f7b753729">Call MATLAB from C++</a></li></ul><ul class="nav_disambiguation"><li><a href="../index.html?s_tid=CRUX_lftnav" id="index">MATLAB</a>
</li>
<li><a href="../external-language-interfaces.html?s_tid=CRUX_lftnav">External Language Interfaces</a></li><li><a href="../c-language.html?s_tid=CRUX_lftnav">C with MATLAB</a></li><li><a href="../call-mex-files-1.html?s_tid=CRUX_lftnav" id="btv27nw">Write C Functions Callable from MATLAB (MEX Files)</a></li></ul><div class="search_refine_v4"><div id="facets_area"><ul class="nav_scrollspy nav list-unstyled" id="pnav">
<li class="nav_scrollspy_function nav-item notranslate"><a href="#responsive_offcanvas"><span class="refname">mex</span></a></li>
<li class="nav_scrollspy_title nav-item" id="SSPY810-refentry">On this page</li>
<!--ADD_REFENTRY_TITLE_HERE 11--><li><a href="#d126e1105058" class="intrnllnk">Syntax</a></li><li class="nav-item"><a href="#description" class="nav-link intrnllnk">Description</a></li><li class="nav-item"><a href="#btw17rw-5" class="nav-link intrnllnk">Examples</a><ul class="nav"><li class="nav-item"><a href="#mw_f7c5e452-81f1-4fca-b8b4-d3f261c249dd" class="nav-link intrnllnk">Build MEX File Using Interleaved Complex API</a></li></ul><ul class="nav"><li class="nav-item"><a href="#btw17rw-2_1" class="nav-link intrnllnk">Build C MEX File</a></li></ul><ul class="nav"><li class="nav-item"><a href="#btw193f-1" class="nav-link intrnllnk">Display Detailed Build and Troubleshooting Information</a></li></ul><ul class="nav"><li class="nav-item"><a href="#mw_663100fe-c5a5-4a18-9171-7ab49fe7d509" class="nav-link intrnllnk">Append Compiler Options</a></li></ul><ul class="nav"><li class="nav-item"><a href="#btw193g-1" class="nav-link intrnllnk">Override Default Compiler Switch Option</a></li></ul><ul class="nav"><li class="nav-item"><a href="#bt2l4qg-3" class="nav-link intrnllnk">Build MEX File from Multiple Source Files</a></li></ul><ul class="nav"><li class="nav-item"><a href="#bu65zqt" class="nav-link intrnllnk">Combine Source Files Using Wild Card</a></li></ul><ul class="nav"><li class="nav-item"><a href="#btye01w-1" class="nav-link intrnllnk">Preview Build Commands</a></li></ul><ul class="nav"><li class="nav-item"><a href="#mw_c899e68d-8371-4798-be4f-6ee7d1e1c600" class="nav-link intrnllnk">Create and Link to Separate Object Files</a></li></ul><ul class="nav"><li class="nav-item"><a href="#btxy24r-1" class="nav-link intrnllnk">Specify Path to Include File</a></li></ul><ul class="nav"><li class="nav-item"><a href="#btx0rai-1" class="nav-link intrnllnk">Specify Path to Library File</a></li></ul><ul class="nav"><li class="nav-item"><a href="#mw_7bdca7be-a158-4f41-86b8-4c175800e4e6" class="nav-link intrnllnk">Define Compiler Directive</a></li></ul><ul class="nav"><li class="nav-item"><a href="#btw3mt7-1" class="nav-link intrnllnk">Build Engine Application</a></li></ul><ul class="nav"><li class="nav-item"><a href="#bt4vpm8-1" class="nav-link intrnllnk">Select C Compiler</a></li></ul><ul class="nav"><li class="nav-item"><a href="#mw_4dad5575-c5e8-4d28-babe-4a026d143e5a" class="nav-link intrnllnk">Link Command Options</a></li></ul></li><li class="nav-item"><a href="#btw17rw-3" class="nav-link intrnllnk">Input Arguments</a><ul class="nav"><li class="nav-item"><a href="#btw17rw-1-filenames" class="nav-link intrnllnk">filenames</a></li><li class="nav-item"><a href="#mw_5d9f5fd8-76a3-4406-817f-d4bba493eeb8" class="nav-link intrnllnk">api</a></li><li class="nav-item"><a href="#btw17rw-1-option1optionN" class="nav-link intrnllnk">option1 ... optionN</a></li><li class="nav-item"><a href="#btw17rw-1-lang" class="nav-link intrnllnk">lang</a></li></ul></li><li class="nav-item"><a href="#btw3m9i-4" class="nav-link intrnllnk">Tips</a></li><li class="nav-item"><a href="#mw_f60c9c24-789b-4167-99b4-7de90fbc3f51" class="nav-link intrnllnk">Version History</a><ul class="nav"><li class="nav-item"><a href="#mw_cdf348e2-d779-420e-b725-f29fc70d85b6" class="nav-link intrnllnk">Maximum length of variable names increased to 2048 characters</a></li></ul><ul class="nav"><li class="nav-item"><a href="#mw_db68c4a0-8366-4e3d-bfae-0db8ac08ffe5" class="nav-link intrnllnk">Support for <span class="trademark entity">Intel</span> oneAPI DPC++/C++ Compiler (icx)</a></li></ul><ul class="nav"><li class="nav-item"><a href="#mw_b3b5205d-1e08-4c27-9cae-e81213939efb" class="nav-link intrnllnk">Support for <span class="trademark entity">Intel</span> Fortran Compiler (ifx)</a></li></ul><ul class="nav"><li class="nav-item"><a href="#mw_86024459-4f14-4536-ba47-38d2b7b182e4" class="nav-link intrnllnk">Support for <span class="trademark entity">MinGW</span> Compiler (Fortran)</a></li></ul><ul class="nav"><li class="nav-item"><a href="#mw_9d2f7a38-b20e-477b-a9c0-2ed9a76f6431" class="nav-link intrnllnk">Support for <span class="entity"><span class="trademark">Microsoft</span>
            <span class="trademark">Visual Studio</span></span> Build Tools</a></li></ul><ul class="nav"><li class="nav-item"><a href="#mw_3fe8815f-c94d-426f-b51d-513845bebedd" class="nav-link intrnllnk">Support for <span class="trademark entity">NAG</span> Fortran on <span class="entity">Apple</span> Silicon Platforms</a></li></ul><ul class="nav"><li class="nav-item"><a href="#mw_86f8d18d-5cb0-4cd3-8cb0-1ed0e694e3c1" class="nav-link intrnllnk">Support for <span class="trademark entity">MinGW</span>-w64 version 8.1 compiler</a></li></ul><ul class="nav"><li class="nav-item"><a href="#mw_fc43d82b-f80b-4b15-a59f-4dac1c9c760f" class="nav-link intrnllnk">Support for <span class="trademark entity">Intel</span> oneAPI compilers</a></li></ul><ul class="nav"><li class="nav-item"><a href="#mw_d4fa0bf1-daf4-42ea-93f3-422eade207f7" class="nav-link intrnllnk">Removed <code class="literal remove_text_wrapping">-std=c++11</code> flag from MEX options files</a></li></ul><ul class="nav"><li class="nav-item"><a href="#mw_598adaaa-9aa2-45aa-aad2-46f5c00d3f68" class="nav-link intrnllnk">UTF-8 system encoding on <span class="trademark entity">Windows</span> platforms</a></li></ul><ul class="nav"><li class="nav-item"><a href="#mw_1246accf-0854-4a3f-aa1f-6b67e1c97729" class="nav-link intrnllnk">MEX file macro <code class="literal">FORTRAN_COMPLEX_FUNCTIONS_RETURN_VOID</code> has been
                removed</a></li></ul><ul class="nav"><li class="nav-item"><a href="#mw_8015455d-e0ca-467b-878f-18fe78b7d115" class="nav-link intrnllnk">Support for <span class="trademark entity">Microsoft</span>
                <span class="trademark entity">Visual Studio</span> 2022 compiler</a></li></ul><ul class="nav"><li class="nav-item"><a href="#mw_7cbaec87-1970-4fd9-81f2-0ea425a583c1" class="nav-link intrnllnk">Support for gcc versions 5.x and higher on <span class="trademark entity">Linux</span> platforms</a></li></ul><ul class="nav"><li class="nav-item"><a href="#mw_a38f07e1-676d-452c-9acc-95f83da2a091" class="nav-link intrnllnk">UTF-8 system encoding on <span class="entity">macOS</span> and <span class="trademark entity">Linux</span> platforms</a></li></ul><ul class="nav"><li class="nav-item"><a href="#mw_fb53e02e-e8b8-4619-9410-33a5c0ab6a5b" class="nav-link intrnllnk">Compiler support changed</a></li></ul><ul class="nav"><li class="nav-item"><a href="#mw_b3a0ffeb-59a4-46a0-890a-c30e3168a53d" class="nav-link intrnllnk">Compiler support changed</a></li></ul><ul class="nav"><li class="nav-item"><a href="#mw_097155db-2ff8-412a-893b-9b6d88ccd619" class="nav-link intrnllnk">C MEX and engine or MAT file applications: <code class="literal">true</code>,
                    <code class="literal">false</code>, and <code class="literal">bool</code> defined by
                    <code class="literal">&lt;stdbool.h&gt;</code></a></li></ul><ul class="nav"><li class="nav-item"><a href="#mw_9c20df3a-4a60-4f5c-905f-9a92a8e675f8" class="nav-link intrnllnk">Support for <span class="trademark entity">Intel</span> Parallel Studio XE 2019 compilers</a></li></ul><ul class="nav"><li class="nav-item"><a href="#mw_85141347-dec9-4ef2-9aa4-f022fbb40cd5" class="nav-link intrnllnk">Build Fortran MEX files with interleaved complex API</a></li></ul><ul class="nav"><li class="nav-item"><a href="#mw_9a999f59-7bfd-420d-afe9-006db866e5df" class="nav-link intrnllnk">Compiler support changed</a></li></ul><ul class="nav"><li class="nav-item"><a href="#mw_2a6fe37d-4569-49ec-a844-b7265467a6fd" class="nav-link intrnllnk">Access MATLAB data and objects more easily from C++</a></li></ul><ul class="nav"><li class="nav-item"><a href="#mw_2f57f697-189c-45b4-b584-07776805a7d2" class="nav-link intrnllnk">Build C MEX files with interleaved complex API</a></li></ul><ul class="nav"><li class="nav-item"><a href="#mw_47d38880-bc5d-466e-9362-95501e63d5ea" class="nav-link intrnllnk">Release-specific build options</a></li></ul><ul class="nav"><li class="nav-item"><a href="#mw_b69f3d89-aef8-4d90-9795-b8bcd0ee6f68" class="nav-link intrnllnk">Specify version of Boost library</a></li></ul><ul class="nav"><li class="nav-item"><a href="#mw_438ccf58-4696-475d-a1ee-8a8beff44c87" class="nav-link intrnllnk">Compiler support changed</a></li></ul><ul class="nav"><li class="nav-item"><a href="#mw_a337fcac-8829-4636-8999-19ae60006393" class="nav-link intrnllnk">Compiler support changed</a></li></ul><ul class="nav"><li class="nav-item"><a href="#mw_69a8fbb9-7ece-409c-a19e-9b6d151ab0cb" class="nav-link intrnllnk">MEX builds with 64-bit API by default</a></li></ul><ul class="nav"><li class="nav-item"><a href="#mw_0180cc87-fa50-42ea-8d66-02443f7afafc" class="nav-link intrnllnk">Compiler support changed</a></li></ul><ul class="nav"><li class="nav-item"><a href="#mw_bf1ce90a-92de-44b7-85c6-162904d3923d" class="nav-link intrnllnk">Version embedded in MEX files</a></li></ul><ul class="nav"><li class="nav-item"><a href="#mw_112b3da0-0279-4909-9513-cd54cac733ff" class="nav-link intrnllnk">Compiler support changed</a></li></ul><ul class="nav"><li class="nav-item"><a href="#mw_eef1f9d3-c4c4-4397-ac87-3845ebc96e0d" class="nav-link intrnllnk">MEX command does not accept <code class="literal">.bat</code> or <code class="literal">.sh</code>
                compiler options files</a></li></ul><ul class="nav"><li class="nav-item"><a href="#mw_29f98b1f-58e6-4d17-97be-bdcd482d273f" class="nav-link intrnllnk">Compiler support changed</a></li></ul></li><li class="nav-item"><a href="#btw17rw-1_seealso" class="nav-link intrnllnk">See Also</a></li></ul></div></div>
</nav></div></nav>
<script src="../../includes/product/scripts/offcanvas_v2.js"></script></div><!--END.CLASS sidebar-offcanvas-->
<div class="offcanvas_content_container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sticky_header_container"><div class="horizontal_nav"><div class="horizontal_nav_container"><div class="offcanvas_horizontal_nav"><div class="container-fluid"><div class="row"><div class="col-sm-12 d-none d-sm-block"><nav class="navbar navbar-default" role="navigation" id="subnav"><div><ul class="nav navbar-nav crux_browse"><li id="crux_nav_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_example" class="crux_resource"><a href="../examples.html?category=cpp-mex-file-applications&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=cpp-mex-file-applications&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=cpp-mex-file-applications&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></nav></div><div class="d-sm-none"><div class="container-fluid"><div class="row"><div class="col-9"><div class="mobile_crux_nav_trigger"><div class="btn-group"><button type="button" class="btn btn-default dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Resources</button><ul class="dropdown-menu"><li id="crux_nav_mobile_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_mobile_example" class="crux_resource"><a href="../examples.html?category=cpp-mex-file-applications&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_mobile_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=cpp-mex-file-applications&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_mobile_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=cpp-mex-file-applications&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></div></div><div class="col-3"><div class="translate_placeholder"></div></div></div></div></div></div></div></div></div></div></div><div class="content_container" id="content_container" itemprop="content">
<div class="container-fluid">
<div class="row">
<div class="col-12">

<main id="skip_link_anchor" tabindex="-1">
<div xmlns="http://www.w3.org/1999/xhtml" id="product_info_alert"></div><section xmlns="http://www.w3.org/1999/xhtml" id="doc_center_content" lang="en" data-language="en"><div id="pgtype-ref-function"><div class="function_ref"><span id="btw17rw-1" class="anchor_target"></span><h1 class="r2025b notranslate" itemprop="title"><span class="refname">mex</span></h1><div class="doc_topic_desc"><div class="purpose_container"><p itemprop="purpose">Build MEX functions and engine or MAT file applications</p><div class="switch"><a href="javascript:void(0);" id="expandAllPage" data-allexpanded="true1">collapse all in page</a></div></div></div>
<div class="ref_sect"><h2 id="d126e1105058">Syntax</h2><div class="syntax_signature"><div class="syntax_signature_module"><div class="code_responsive"><code class="synopsis"><a href="#d126e1105067" class="intrnllnk">mex filenames</a></code></div><div class="code_responsive"><code class="synopsis"><a href="#d126e1105120" class="intrnllnk">mex filenames api option1 ... optionN</a></code></div></div><div class="syntax_signature_module"><div class="code_responsive"><code class="synopsis"><a href="#d126e1105148" class="intrnllnk">mex -client engine filenames</a></code></div><div class="code_responsive"><code class="synopsis"><a href="#d126e1105195" class="intrnllnk">mex -client engine filenames api option1 ... optionN</a></code></div></div><div class="syntax_signature_module"><div class="code_responsive"><code class="synopsis"><a href="#d126e1105214" class="intrnllnk">mex -setup [lang]</a></code></div><div class="code_responsive"><code class="synopsis"><a href="#d126e1105235" class="intrnllnk">mex -setup -client engine [lang]</a></code></div></div></div></div><div class="clear"></div><span id="btw17rw-2" class="anchor_target"></span><h2 id="description">Description</h2><div class="descriptions"><div class="cshsummary" id="csh_btw17rw-1"><div class="description_module"><span id="bt4vpkk" class="anchor_target"></span>
            <div class="description_element"><div class="code_responsive"><p><span id="d126e1105067" itemprop="syntax"><code class="synopsis">mex <a href="#btw17rw-1-filenames" class="intrnllnk"><code class="argument">filenames</code></a></code></span> compiles and links one
                    or more C++ source files written with the <a href="../matlab-data-array.html" class="a">MATLAB Data API for C++</a> into a binary MEX file in the
                    current folder. For information about writing these applications, see <a href="../cpp-mex-file-applications.html" class="a">Write C++ Functions Callable from MATLAB (MEX Files)</a>.</p><p>If writing MEX files based on the <a href="../cc-mx-matrix-library.html" class="a">C Matrix API</a> or the <a href="../fortran-mx-matrix-library.html" class="a">Fortran Matrix API</a>, then <code class="literal">mex
                            <em class="replaceable"><code>filenames</code></em></code> builds one or more C,
                    C++, or Fortran source files with the <code class="literal remove_text_wrapping">-R2017b</code>
                    <a href="#mw_5d9f5fd8-76a3-4406-817f-d4bba493eeb8" class="intrnllnk"><code class="argument">api</code></a>. In a future version of MATLAB<sup>&#x00AE;</sup>, the default <code class="literal">api</code> option will change to use the
                    interleaved complex API (<code class="literal remove_text_wrapping">-R2018a</code>). MathWorks recommends that
                    you create MEX files and update existing MEX files to use the interleaved
                    complex API. Alternatively, use the
                        <code class="literal">MX_HAS_INTERLEAVED_COMPLEX</code> macro to apply the desired
                    behavior across versions of MATLAB. For more information, see <a href="../matlab_external/matlab-support-for-interleaved-complex.html" class="a">MATLAB Support for Interleaved Complex API in MEX Functions</a>.</p><p>For information about working with C, C++, and Fortran applications, see <a href="../matlab_external/integrate-matlab-with-external-programming-languages-and-systems.html" class="a">Integrate MATLAB with External Programming Languages and Systems</a>.</p></div><p class="syntax_example"><a href="mex.html#mw_f7c5e452-81f1-4fca-b8b4-d3f261c249dd" class="intrnllnk">example</a></p></div>
            <div class="description_element"><div class="code_responsive"><p><span id="d126e1105120" itemprop="syntax"><code class="synopsis">mex <a href="#btw17rw-1-filenames" class="intrnllnk"><code class="argument">filenames</code></a> <a href="#mw_5d9f5fd8-76a3-4406-817f-d4bba493eeb8" class="intrnllnk"><code class="argument">api</code></a> <a href="#btw17rw-1-option1optionN" class="intrnllnk"><code class="argument">option1 ... optionN</code></a></code></span>
                    builds with the specified <code class="argument">api</code> and optional
                        <code class="argument">option1 ... optionN</code> arguments. The <code class="argument">option1
                        ... optionN</code> arguments supplement or override the default
                        <code class="function">mex</code> build configuration.</p></div><p class="syntax_example"><a href="mex.html#btw193f-1" class="intrnllnk">example</a></p></div>
        </div><div class="description_module"><span id="mw_28da4f92-67fe-4443-bb16-a8d82dbc619f" class="anchor_target"></span>
            <div class="description_element"><div class="code_responsive"><p><span id="d126e1105148" itemprop="syntax"><code class="synopsis">mex -client engine <a href="#btw17rw-1-filenames" class="intrnllnk"><code class="argument">filenames</code></a></code></span> builds
                    C++ source files written with the <a href="../matlab-data-array.html" class="a">MATLAB Data API for C++</a> into standalone MATLAB engine or MAT file applications. For more information, see <a href="../matlab_external/structure-of-cpp-engine-applications.html" class="a">Structure of C++ Engine Applications</a>.</p><p>If writing applications based on the <a href="../calling-matlab-engine-from-c-programs-1.html" class="a">MATLAB
                        Engine API for C</a>, the <a href="../matlab-c-api-to-read-mat-file-data.html" class="a">C
                        MAT-File API</a>, the <a href="../calling-matlab-engine-from-fortran-programs.html" class="a">Fortran Engine API</a>, or the <a href="../Fortran-applications-to-read-mat-file-data.html" class="a">Fortran MAT-File API</a>, then <code class="literal">mex -client engine
                            <em class="replaceable"><code>filenames</code></em></code> builds a standalone
                    application with the <code class="literal remove_text_wrapping">-R2017b</code>
                    <a href="#mw_5d9f5fd8-76a3-4406-817f-d4bba493eeb8" class="intrnllnk"><code class="argument">api</code></a>. In a future version of MATLAB, the default <code class="literal">api</code> option will change to use the
                    interleaved complex API (<code class="literal remove_text_wrapping">-R2018a</code>). MathWorks recommends that
                    you create engine or MAT file applications and update existing applications to
                    use the interleaved complex API.</p></div></div>
            <div class="description_element"><div class="code_responsive"><p><span id="d126e1105195" itemprop="syntax"><code class="synopsis">mex -client engine <a href="#btw17rw-1-filenames" class="intrnllnk"><code class="argument">filenames</code></a> <a href="#mw_5d9f5fd8-76a3-4406-817f-d4bba493eeb8" class="intrnllnk"><code class="argument">api</code></a> <a href="#btw17rw-1-option1optionN" class="intrnllnk"><code class="argument">option1 ... optionN</code></a></code></span>
                    builds engine or MAT file applications with the specified
                        <code class="argument">api</code> and optional <code class="argument">option1 ...
                        optionN</code> arguments.</p></div></div>
        </div><div class="description_module"><span id="bt8nx8h" class="anchor_target"></span>
            <div class="description_element"><div class="code_responsive"><p><span id="d126e1105214" itemprop="syntax"><code class="synopsis">mex -setup [<a href="#btw17rw-1-lang" class="intrnllnk"><code class="argument">lang</code></a>]</code></span> displays
                    information about the default compiler for the given language for building MEX
                    files and engine or MAT file applications. MATLAB defines a default compiler for each supported language. If you
                    have multiple compilers for a given language, use the <code class="argument">lang</code>
                    option to change the default compiler for that language. For more information,
                    see <a href="../matlab_external/changing-default-compiler.html" class="a">Change Default Compiler</a> and
                        <a href="../matlab_external/choose-c-or-c-compilers.html" class="a">Choose a C++ Compiler</a>.</p></div></div>
            <div class="description_element"><div class="code_responsive"><p><span id="d126e1105235" itemprop="syntax"><code class="synopsis">mex -setup -client engine [<a href="#btw17rw-1-lang" class="intrnllnk"><code class="argument">lang</code></a>]</code></span>
                    selects a compiler for building engine or MAT file applications.</p></div></div>
        </div></div></div><div class="clear"></div><div class="examples"><h2 id="btw17rw-5">Examples</h2><div class="expandableContent" id="expandableExamples"><p class="switch"><a href="javascript:void(0);" class="expandAllLink" data-allexpanded="true3">collapse all</a></p><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true" id="expand_accordion_heading_mw_f7c5e452-81f1-4fca-b8b4-d3f261c249dd"><div class="accordion-item "><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_mw_f7c5e452-81f1-4fca-b8b4-d3f261c249dd" data-bs-target="#expand_accordion_body_mw_f7c5e452-81f1-4fca-b8b4-d3f261c249dd" aria-controls="expand_accordion_body_mw_f7c5e452-81f1-4fca-b8b4-d3f261c249dd" class="accordion-button add_cursor_pointer" aria-expanded="true"><h3 id="mw_f7c5e452-81f1-4fca-b8b4-d3f261c249dd">Build MEX File Using Interleaved Complex API</h3></button></div><div role="tabpanel" id="expand_accordion_body_mw_f7c5e452-81f1-4fca-b8b4-d3f261c249dd" aria-labelledby="expand_accordion_heading_mw_f7c5e452-81f1-4fca-b8b4-d3f261c249dd" class="accordion-collapse collapse show"><div class="accordion-body"><div class="procedure"><p>Copy the source code example from the
                                <code class="literal"><span class="emphasis"><em>matlabroot</em></span>/extern/examples</code>
                        folder.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>copyfile(fullfile(matlabroot,<span style="color:#A020F0">'extern'</span>,<span style="color:#A020F0">'examples'</span>,<span style="color:#A020F0">'mex'</span>,<span style="color:#A020F0">'explore.c'</span>),<span style="color:#A020F0">'.'</span>,<span style="color:#A020F0">'f'</span>)
</pre></div></div></div><p>Build the MEX file. The output displays information specific to your
                        compiler.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>mex <span style="color:#A020F0">-R2018a</span> <span style="color:#A020F0">explore.c</span>
</pre></div></div></div><p>Test the function by passing complex matrices.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>a = [1 3 5];
b = [5 3 1];
A = complex(a,b);
explore(A)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>------------------------------------------------
Name: prhs[0]
Dimensions: 1x3
Class Name: double
------------------------------------------------
	(1,1) = 1 + 5i
	(1,2) = 3 + 3i
	(1,3) = 5 + 1i</pre></div></div></div></div></div></div></div></div><div class="accordion" role="tablist" aria-multiselectable="true" id="expand_accordion_heading_btw17rw-2_1"><div class="accordion-item "><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_btw17rw-2_1" data-bs-target="#expand_accordion_body_btw17rw-2_1" aria-controls="expand_accordion_body_btw17rw-2_1" class="accordion-button add_cursor_pointer" aria-expanded="true"><h3 id="btw17rw-2_1">Build C MEX File</h3></button></div><div role="tabpanel" id="expand_accordion_body_btw17rw-2_1" aria-labelledby="expand_accordion_heading_btw17rw-2_1" class="accordion-collapse collapse show"><div class="accordion-body"><div class="examples_short_list hidden_ios_android" data-products="ML"><div data-pane="metadata" class="card metadata_container"><div class="card-body metadata_content"><div class="d-grid"><a class="btn btn_color_blue" href="matlab:openExample('matlab/MexBuildCMEXFileExample')" data-ex-genre="Live Script">Open Live Script</a></div></div></div></div><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "DigitalDocument",
          "headline": "Build C MEX File",
          "description": "Build a single C program yprime.c into a MEX file.",
          "thumbnailURL": "../../includes/product/images/doc_center/DefaultImage.png",
          "genre": "Live Script",
          "isBasedOn": {
          "@type": "Product",
          "name": "MATLAB"

        },
          "isPartOf": {
          "@type": "CreativeWork",
          "url": "mex.html"

        },
          "identifier": "matlab.MexBuildCMEXFileExample",
          "name": "MexBuildCMEXFileExample",
          "url": "mex.html#btw17rw-2_1"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "PropertyValue",
          "name": "open_command",
          "value": "matlab:openExample('matlab/MexBuildCMEXFileExample')"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "ExampleSourceFiles",

        "itemListElement":
        [
        "MexBuildCMEXFileExample.mlx"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><p class="shortdesc">Build a single C program <code class="literal">yprime.c</code> into a MEX file. </p><p>Copy the source code example from the <code class="literal"></code><span class="emphasis"><em><code class="literal">matlabroot</code></em></span><code class="literal">/extern/examples</code> folder.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>copyfile(fullfile(matlabroot,<span style="color:#A020F0">"extern"</span>,<span style="color:#A020F0">"examples"</span>,<span style="color:#A020F0">"mex"</span>,<span style="color:#A020F0">"yprime.c"</span>),<span style="color:#A020F0">"."</span>,<span style="color:#A020F0">"f"</span>)</pre></div></div></div><p>Build the MEX file. The output displays information specific to your compiler.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>mex <span style="color:#A020F0">yprime.c</span></pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>Building with 'Microsoft Visual C++ 2019 (C)'.
MEX completed successfully.
</pre></div></div></div><p>Test.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>T=1;
Y=1:4;
yprime(T,Y)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>ans = <span class="emphasis"><em>1Ã—4</em></span>

    2.0000    8.9685    4.0000   -1.0947

</pre></div></div></div><div class="procedure"></div></div></div></div></div><div itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/Example" itemprop="example" class="em_example"><meta itemprop="exampleid" content="matlab-MexBuildCMEXFileExample"><meta itemprop="exampletitle" content="Build C MEX File"></div><div class="accordion" role="tablist" aria-multiselectable="true" id="expand_accordion_heading_btw193f-1"><div class="accordion-item "><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_btw193f-1" data-bs-target="#expand_accordion_body_btw193f-1" aria-controls="expand_accordion_body_btw193f-1" class="accordion-button add_cursor_pointer" aria-expanded="true"><h3 id="btw193f-1">Display Detailed Build and Troubleshooting Information</h3></button></div><div role="tabpanel" id="expand_accordion_body_btw193f-1" aria-labelledby="expand_accordion_heading_btw193f-1" class="accordion-collapse collapse show"><div class="accordion-body">
                <p class="shortdesc">To display the compile and link commands and other
                    information useful for troubleshooting, use verbose mode. The output displays
                    information specific to your platform and compiler.</p>
            <div class="procedure"><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>mex <span style="color:#A020F0">-v</span> <span style="color:#A020F0">-compatibleArrayDims</span> <span style="color:#A020F0">yprime.c</span></pre></div></div></div></div></div></div></div></div><div class="accordion" role="tablist" aria-multiselectable="true" id="expand_accordion_heading_mw_663100fe-c5a5-4a18-9171-7ab49fe7d509"><div class="accordion-item "><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_mw_663100fe-c5a5-4a18-9171-7ab49fe7d509" data-bs-target="#expand_accordion_body_mw_663100fe-c5a5-4a18-9171-7ab49fe7d509" aria-controls="expand_accordion_body_mw_663100fe-c5a5-4a18-9171-7ab49fe7d509" class="accordion-button add_cursor_pointer" aria-expanded="true"><h3 id="mw_663100fe-c5a5-4a18-9171-7ab49fe7d509">Append Compiler Options</h3></button></div><div role="tabpanel" id="expand_accordion_body_mw_663100fe-c5a5-4a18-9171-7ab49fe7d509" aria-labelledby="expand_accordion_heading_mw_663100fe-c5a5-4a18-9171-7ab49fe7d509" class="accordion-collapse collapse show"><div class="accordion-body">
                <p class="shortdesc">Use environment variables to specify additional options to
                    pass to a compiler.</p>
            <div class="procedure"><p>Determine the variable name:</p><div class="itemizedlist"><ul><li><p>For building C++ code with MinGW<sup>&#x00AE;</sup>, <span class="entity">macOS</span>, and Linux<sup>&#x00AE;</sup> compilers, use <code class="literal">CXXFLAGS</code>.</p></li><li><p>For building C code with MinGW, <span class="entity">macOS</span>, and Linux compilers, use <code class="literal">CFLAGS</code>.</p></li><li><p>With <span class="entity">Microsoft<sup>&#x00AE;</sup>
            Visual Studio<sup>&#x00AE;</sup></span> compilers, use <code class="literal">COMPFLAGS</code>.</p></li></ul></div><p>Specify the C++17 standard when building a MEX file with Visual Studio.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>mex <span style="color:#A020F0">COMPFLAGS="$COMPFLAGS</span> <span style="color:#A020F0">/std:c++17"</span> <span style="color:#A020F0">yprime.c</span></pre></div></div></div><p>For more information about using string delimiters on different platforms,
                        see <a href="mex.html#btw193g-1" class="intrnllnk">Override Default Compiler Switch Option</a>.</p></div></div></div></div></div><div class="accordion" role="tablist" aria-multiselectable="true" id="expand_accordion_heading_btw193g-1"><div class="accordion-item "><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_btw193g-1" data-bs-target="#expand_accordion_body_btw193g-1" aria-controls="expand_accordion_body_btw193g-1" class="accordion-button add_cursor_pointer" aria-expanded="true"><h3 id="btw193g-1">Override Default Compiler Switch Option</h3></button></div><div role="tabpanel" id="expand_accordion_body_btw193g-1" aria-labelledby="expand_accordion_heading_btw193g-1" class="accordion-collapse collapse show"><div class="accordion-body">
                <p class="shortdesc">Build the <code class="literal">yprime.c</code> MEX file by appending
                    the value <code class="literal remove_text_wrapping">-Wall</code> to the existing compiler flags. Because the
                    value includes a space character, you must delineate the string; the character
                    you use depends on the platform.</p>
            <div class="procedure"><p>At the MATLAB prompt, use single quotes (<code class="literal">'</code>).</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>mex <span style="color:#A020F0">-v</span> <span style="color:#A020F0">COMPFLAGS='$COMPFLAGS -Wall'</span> <span style="color:#A020F0">yprime.c</span></pre></div></div></div><p>For the MinGW-w64 compiler, which is based on gcc/g++, use the Linux compiler flags. Choose one of these commands:</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>mex <span style="color:#A020F0">-v</span> <span style="color:#A020F0">CXXFLAGS='$CXXFLAGS -Wall'</span> <span style="color:#A020F0">yprime.c</span> <span style="color:#228B22">% C++ compiler</span>
mex <span style="color:#A020F0">-v</span> <span style="color:#A020F0">CFLAGS='$CFLAGS -Wall'</span> <span style="color:#A020F0">yprime.c</span>     <span style="color:#228B22">% C compiler </span>
</pre></div></div></div><p>At the Windows<sup>&#x00AE;</sup> command prompt, use double quotes
                        (<code class="literal">"</code>).</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>mex <span style="color:#A020F0">-v</span> <span style="color:#A020F0">COMPFLAGS="$COMPFLAGS</span> <span style="color:#A020F0">-Wall"</span> <span style="color:#A020F0">yprime.c</span></pre></div></div></div><p>At the shell command line on <span class="entity">macOS</span> and Linux, use single quotes (<code class="literal">'</code>).</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>mex <span style="color:#A020F0">-v</span> <span style="color:#A020F0">CFLAGS='$CFLAGS -Wall'</span> <span style="color:#A020F0">yprime.c</span></pre></div></div></div></div></div></div></div></div><div class="accordion" role="tablist" aria-multiselectable="true" id="expand_accordion_heading_bt2l4qg-3"><div class="accordion-item "><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_bt2l4qg-3" data-bs-target="#expand_accordion_body_bt2l4qg-3" aria-controls="expand_accordion_body_bt2l4qg-3" class="accordion-button add_cursor_pointer" aria-expanded="true"><h3 id="bt2l4qg-3">Build MEX File from Multiple Source Files</h3></button></div><div role="tabpanel" id="expand_accordion_body_bt2l4qg-3" aria-labelledby="expand_accordion_heading_bt2l4qg-3" class="accordion-collapse collapse show"><div class="accordion-body"><div class="examples_short_list hidden_ios_android" data-products="ML"><div data-pane="metadata" class="card metadata_container"><div class="card-body metadata_content"><div class="d-grid"><a class="btn btn_color_blue" href="matlab:openExample('matlab/MexBuildMEXFileFromMultipleSourceFilesExample')" data-ex-genre="Script">Open Script</a></div></div></div></div><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "DigitalDocument",
          "headline": "Build MEX File from Multiple Source Files",
          "description": "The MEX file example fulltosparse consists of two Fortran source files, loadsparse.F and fulltosparse.F. To run this example, you need a supported Fortran compiler installed on your system.",
          "thumbnailURL": "../../includes/product/images/doc_center/DefaultImage.png",
          "genre": "Script",
          "isBasedOn": {
          "@type": "Product",
          "name": "MATLAB"

        },
          "isPartOf": {
          "@type": "CreativeWork",
          "url": "mex.html"

        },
          "identifier": "matlab.MexBuildMEXFileFromMultipleSourceFilesExample",
          "name": "MexBuildMEXFileFromMultipleSourceFilesExample",
          "url": "mex.html#bt2l4qg-3"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "PropertyValue",
          "name": "open_command",
          "value": "matlab:openExample('matlab/MexBuildMEXFileFromMultipleSourceFilesExample')"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "ExampleSourceFiles",

        "itemListElement":
        [
        "MexBuildMEXFileFromMultipleSourceFilesExample.m"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script>

<p class="shortdesc">The MEX file example <code class="literal">fulltosparse</code> consists of two Fortran source files, <code class="literal">loadsparse.F</code> and <code class="literal">fulltosparse.F</code>. To run this example, you need a supported Fortran compiler installed on your system.</p>

<div class="procedure"><p>Copy the source files to the current folder.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>copyfile(fullfile(matlabroot,<span style="color:#A020F0">'extern'</span>,<span style="color:#A020F0">'examples'</span>,<span style="color:#A020F0">'refbook'</span>,<span style="color:#A020F0">'loadsparse.F'</span>),<span style="color:#A020F0">'.'</span>,<span style="color:#A020F0">'f'</span>)
copyfile(fullfile(matlabroot,<span style="color:#A020F0">'extern'</span>,<span style="color:#A020F0">'examples'</span>,<span style="color:#A020F0">'refbook'</span>,<span style="color:#A020F0">'fulltosparse.F'</span>),<span style="color:#A020F0">'.'</span>,<span style="color:#A020F0">'f'</span>)
</pre></div></div></div><p>Build the <code class="literal">fulltosparse</code> MEX file. The MEX file name is <code class="literal">fulltosparse</code> because <code class="literal">fulltosparse.F</code> is the first file on the command line. The output contains information specific to your compiler.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>mex <span style="color:#A020F0">-largeArrayDims</span> <span style="color:#A020F0">fulltosparse.F</span> <span style="color:#A020F0">loadsparse.F</span>
</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>Building with 'Intel Visual Fortran Composer XE 2013 with Microsoft Visual Studio 2012'.
MEX completed successfully.
</pre></div></div></div><p>Test.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>full = eye(5);
spar = fulltosparse(full)
</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>
spar =

    1,1         1
    2,2         1
    3,3         1
    4,4         1
    5,5         1

</pre></div></div></div></div></div></div></div></div><div itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/Example" itemprop="example" class="em_example"><meta itemprop="exampleid" content="matlab-MexBuildMEXFileFromMultipleSourceFilesExample"><meta itemprop="exampletitle" content="Build MEX File from Multiple Source Files"></div><div class="accordion" role="tablist" aria-multiselectable="true" id="expand_accordion_heading_bu65zqt"><div class="accordion-item "><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_bu65zqt" data-bs-target="#expand_accordion_body_bu65zqt" aria-controls="expand_accordion_body_bu65zqt" class="accordion-button add_cursor_pointer" aria-expanded="true"><h3 id="bu65zqt">Combine Source Files Using Wild Card</h3></button></div><div role="tabpanel" id="expand_accordion_body_bu65zqt" aria-labelledby="expand_accordion_heading_bu65zqt" class="accordion-collapse collapse show"><div class="accordion-body">
                <p class="shortdesc">Combine all C source files in the current folder into MEX
                    file <code class="literal">mymex</code>. Use the <code class="literal remove_text_wrapping">-output</code> option to
                    control the name of the MEX file.</p>
            <div class="procedure"><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>mex <span style="color:#A020F0">-output</span> <span style="color:#A020F0">mymex</span> <span style="color:#A020F0">*.c</span>
</pre></div></div></div></div></div></div></div></div><div class="accordion" role="tablist" aria-multiselectable="true" id="expand_accordion_heading_btye01w-1"><div class="accordion-item "><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_btye01w-1" data-bs-target="#expand_accordion_body_btye01w-1" aria-controls="expand_accordion_body_btye01w-1" class="accordion-button add_cursor_pointer" aria-expanded="true"><h3 id="btye01w-1">Preview Build Commands</h3></button></div><div role="tabpanel" id="expand_accordion_body_btye01w-1" aria-labelledby="expand_accordion_heading_btye01w-1" class="accordion-collapse collapse show"><div class="accordion-body">
                
                <p class="shortdesc">To preview the build command details without executing the
                    commands, use the <code class="literal remove_text_wrapping">-n</code> option. The output displays information
                    specific to your platform and compiler.</p>
            <div class="procedure"><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>mex <span style="color:#A020F0">-n</span> <span style="color:#A020F0">yprime.c</span></pre></div></div></div></div></div></div></div></div><div class="accordion" role="tablist" aria-multiselectable="true" id="expand_accordion_heading_mw_c899e68d-8371-4798-be4f-6ee7d1e1c600"><div class="accordion-item "><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_mw_c899e68d-8371-4798-be4f-6ee7d1e1c600" data-bs-target="#expand_accordion_body_mw_c899e68d-8371-4798-be4f-6ee7d1e1c600" aria-controls="expand_accordion_body_mw_c899e68d-8371-4798-be4f-6ee7d1e1c600" class="accordion-button add_cursor_pointer" aria-expanded="true"><h3 id="mw_c899e68d-8371-4798-be4f-6ee7d1e1c600">Create and Link to Separate Object Files</h3></button></div><div role="tabpanel" id="expand_accordion_body_mw_c899e68d-8371-4798-be4f-6ee7d1e1c600" aria-labelledby="expand_accordion_heading_mw_c899e68d-8371-4798-be4f-6ee7d1e1c600" class="accordion-collapse collapse show"><div class="accordion-body"><div class="examples_short_list hidden_ios_android" data-products="ML"><div data-pane="metadata" class="card metadata_container"><div class="card-body metadata_content"><div class="d-grid"><a class="btn btn_color_blue" href="matlab:openExample('matlab/MexCreateAndLinkToSeparateObjectFilesExample')" data-ex-genre="Script">Open Script</a></div></div></div></div><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "DigitalDocument",
          "headline": "Create and Link to Separate Object Files",
          "description": "You can link to object files that you compile separately from your source MEX files.",
          "thumbnailURL": "../../includes/product/images/doc_center/DefaultImage.png",
          "genre": "Script",
          "isBasedOn": {
          "@type": "Product",
          "name": "MATLAB"

        },
          "isPartOf": {
          "@type": "CreativeWork",
          "url": "mex.html"

        },
          "identifier": "matlab.MexCreateAndLinkToSeparateObjectFilesExample",
          "name": "MexCreateAndLinkToSeparateObjectFilesExample",
          "url": "mex.html#mw_c899e68d-8371-4798-be4f-6ee7d1e1c600"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "PropertyValue",
          "name": "open_command",
          "value": "matlab:openExample('matlab/MexCreateAndLinkToSeparateObjectFilesExample')"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "ExampleSourceFiles",

        "itemListElement":
        [
        "MexCreateAndLinkToSeparateObjectFilesExample.m"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script>

<p class="shortdesc">You can link to object files that you compile separately from your source MEX files.</p>

<div class="procedure"><p>The MEX file example fulltosparse consists of two Fortran source files. The <code class="literal">fulltosparse</code> file is the gateway routine (contains the <code class="literal">mexFunction</code> subroutine) and <code class="literal">loadsparse</code> contains the computational routine.</p><p>To run this example, you need a supported Fortran compiler installed on your system. Copy the computational subroutine to your current folder.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>copyfile(fullfile(matlabroot,<span style="color:#A020F0">'extern'</span>,<span style="color:#A020F0">'examples'</span>,<span style="color:#A020F0">'refbook'</span>,<span style="color:#A020F0">'loadsparse.F'</span>),<span style="color:#A020F0">'.'</span>,<span style="color:#A020F0">'f'</span>)
</pre></div></div></div><p>Compile the subroutine and place the object file in a separate folder, <code class="literal">c:\objfiles</code>.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>mkdir <span style="color:#A020F0">c:\objfiles</span>
mex <span style="color:#A020F0">-largeArrayDims</span> <span style="color:#A020F0">-c</span> <span style="color:#A020F0">-outdir</span> <span style="color:#A020F0">c:\objfiles</span> <span style="color:#A020F0">loadsparse.F</span>
</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>Building with 'Intel Visual Fortran Composer XE 2013 with Microsoft Visual Studio 2012'.
MEX completed successfully.
</pre></div></div></div><p>Copy the gateway subroutine to your current folder. Compile and link with the <code class="literal">loadsparse</code> object file.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>copyfile(fullfile(matlabroot,<span style="color:#A020F0">'extern'</span>,<span style="color:#A020F0">'examples'</span>,<span style="color:#A020F0">'refbook'</span>,<span style="color:#A020F0">'fulltosparse.F'</span>),<span style="color:#A020F0">'.'</span>,<span style="color:#A020F0">'f'</span>)
mex <span style="color:#A020F0">-largeArrayDims</span> <span style="color:#A020F0">fulltosparse.F</span> <span style="color:#A020F0">c:\objfiles\loadsparse.obj</span>
</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>Building with 'Intel Visual Fortran Composer XE 2013 with Microsoft Visual Studio 2012'.
MEX completed successfully.
</pre></div></div></div></div></div></div></div></div><div itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/Example" itemprop="example" class="em_example"><meta itemprop="exampleid" content="matlab-MexCreateAndLinkToSeparateObjectFilesExample"><meta itemprop="exampletitle" content="Create and Link to Separate Object Files"></div><div class="accordion" role="tablist" aria-multiselectable="true" id="expand_accordion_heading_btxy24r-1"><div class="accordion-item "><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_btxy24r-1" data-bs-target="#expand_accordion_body_btxy24r-1" aria-controls="expand_accordion_body_btxy24r-1" class="accordion-button add_cursor_pointer" aria-expanded="true"><h3 id="btxy24r-1">Specify Path to Include File</h3></button></div><div role="tabpanel" id="expand_accordion_body_btxy24r-1" aria-labelledby="expand_accordion_heading_btxy24r-1" class="accordion-collapse collapse show"><div class="accordion-body">
                <p class="shortdesc">To specify the path to include the MATLAB LAPACK library subroutines for handling complex number routines,
                    use the <code class="literal remove_text_wrapping">-I</code> option. To use these subroutines, your MEX file
                    must access the header file <code class="literal">fort.h</code>.</p>
            <div class="procedure"><p>Copy the <code class="literal">matrixDivideComplex.c</code> example to the current
                        folder.</p><p>
                        <div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>copyfile(fullfile(matlabroot,<span style="color:#A020F0">'extern'</span>,<span style="color:#A020F0">'examples'</span>,<span style="color:#A020F0">'refbook'</span>,<span style="color:#A020F0">'matrixDivideComplex.c'</span>),<span style="color:#A020F0">'.'</span>,<span style="color:#A020F0">'f'</span>)
</pre></div></div></div>
                    </p><p>Create the <code class="literal remove_text_wrapping">-I</code> argument by concatenating
                            <code class="literal">'-I'</code> with the path to the <code class="literal">fort.h</code>
                        file.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>ipath = [<span style="color:#A020F0">'-I'</span> fullfile(matlabroot,<span style="color:#A020F0">'extern'</span>,<span style="color:#A020F0">'examples'</span>,<span style="color:#A020F0">'refbook'</span>)];</pre></div></div></div><p>Create variables for the names and paths to the LAPACK library file and
                        the file, <code class="literal">fort.c</code>, containing the complex number handling
                        routines.</p><p>
                        <div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>lapacklib = fullfile(matlabroot,<span style="color:#A020F0">'extern'</span>,<span style="color:#A020F0">'lib'</span>,computer(<span style="color:#A020F0">'arch'</span>),<span style="color:#A020F0">'microsoft'</span>,<span style="color:#A020F0">'libmwlapack.lib'</span>);
fortfile = fullfile(matlabroot,<span style="color:#A020F0">'extern'</span>,<span style="color:#A020F0">'examples'</span>,<span style="color:#A020F0">'refbook'</span>,<span style="color:#A020F0">'fort.c'</span>);
</pre></div></div></div>
                    </p><p>Build the MEX file.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>mex(<span style="color:#A020F0">'-v'</span>,<span style="color:#A020F0">'-R2017b'</span>,ipath,<span style="color:#A020F0">'matrixDivideComplex.c'</span>,fortfile,lapacklib)
</pre></div></div></div></div></div></div></div></div><div class="accordion" role="tablist" aria-multiselectable="true" id="expand_accordion_heading_btx0rai-1"><div class="accordion-item "><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_btx0rai-1" data-bs-target="#expand_accordion_body_btx0rai-1" aria-controls="expand_accordion_body_btx0rai-1" class="accordion-button add_cursor_pointer" aria-expanded="true"><h3 id="btx0rai-1">Specify Path to Library File</h3></button></div><div role="tabpanel" id="expand_accordion_body_btx0rai-1" aria-labelledby="expand_accordion_heading_btx0rai-1" class="accordion-collapse collapse show"><div class="accordion-body">
                <p class="shortdesc">Build the <code class="literal">matrixDivide.c</code> example on a
                        Windows platform using the <code class="literal remove_text_wrapping">-L</code> and <code class="literal remove_text_wrapping">-l</code>
                    options to specify the <code class="literal">libmwlapack.lib</code> library. The library
                    file is located in the folder
                            <code class="literal"><em class="replaceable"><code>matlabroot</code></em>\extern\lib\<em class="replaceable"><code>arch</code></em>\microsoft</code>.</p>
            <div class="procedure"><p>Copy the <code class="literal">matrixDivide.c</code> example to the current
                        folder.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>copyfile(fullfile(matlabroot,<span style="color:#A020F0">'extern'</span>,<span style="color:#A020F0">'examples'</span>,<span style="color:#A020F0">'refbook'</span>,<span style="color:#A020F0">'matrixDivide.c'</span>),<span style="color:#A020F0">'.'</span>,<span style="color:#A020F0">'f'</span>)
</pre></div></div></div><p>Capture the value of <em class="replaceable"><code>matlabroot</code></em> displayed by
                        this statement to use in the <code class="function">mex</code> command.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>matlabroot</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>ans =

C:\Program Files\MATLAB\R2014a</pre></div></div></div><p>Capture the value of <em class="replaceable"><code>arch</code></em> displayed by this
                        statement to use in the <code class="function">mex</code> command.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>computer(<span style="color:#A020F0">'arch'</span>)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>ans =

win64</pre></div></div></div><p>To build the MEX file, copy the values of
                            <em class="replaceable"><code>matlabroot</code></em> and
                            <em class="replaceable"><code>arch</code></em> into the <code class="function">mex</code>
                        command.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>mex <span style="color:#A020F0">'-LC:\Program Files\MATLAB\R2014a\extern\lib\win64\microsoft'</span> <span style="color:#0000FF">...</span>
   <span style="color:#A020F0">-llibmwlapack</span> <span style="color:#A020F0">matrixDivide.c</span>
</pre></div></div></div><p>You must use the <code class="literal">'</code> characters because <code class="literal">\Program
                            Files</code> in the path includes a space.</p></div></div></div></div></div><div class="accordion" role="tablist" aria-multiselectable="true" id="expand_accordion_heading_mw_7bdca7be-a158-4f41-86b8-4c175800e4e6"><div class="accordion-item "><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_mw_7bdca7be-a158-4f41-86b8-4c175800e4e6" data-bs-target="#expand_accordion_body_mw_7bdca7be-a158-4f41-86b8-4c175800e4e6" aria-controls="expand_accordion_body_mw_7bdca7be-a158-4f41-86b8-4c175800e4e6" class="accordion-button add_cursor_pointer" aria-expanded="true"><h3 id="mw_7bdca7be-a158-4f41-86b8-4c175800e4e6">Define Compiler Directive</h3></button></div><div role="tabpanel" id="expand_accordion_body_mw_7bdca7be-a158-4f41-86b8-4c175800e4e6" aria-labelledby="expand_accordion_heading_mw_7bdca7be-a158-4f41-86b8-4c175800e4e6" class="accordion-collapse collapse show"><div class="accordion-body"><div class="examples_short_list hidden_ios_android" data-products="ML"><div data-pane="metadata" class="card metadata_container"><div class="card-body metadata_content"><div class="d-grid"><a class="btn btn_color_blue" href="matlab:openExample('matlab/MexDefineCompilerDirectiveExample')" data-ex-genre="Script">Open Script</a></div></div></div></div><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "DigitalDocument",
          "headline": "Define Compiler Directive",
          "description": "The mxcreatecharmatrixfromstr.c example uses a #define symbol SPACE_PADDING to determine what character to use between character vectors in a matrix. To set the value, build the MEX file with the -D option.",
          "thumbnailURL": "../../includes/product/images/doc_center/DefaultImage.png",
          "genre": "Script",
          "isBasedOn": {
          "@type": "Product",
          "name": "MATLAB"

        },
          "isPartOf": {
          "@type": "CreativeWork",
          "url": "mex.html"

        },
          "identifier": "matlab.MexDefineCompilerDirectiveExample",
          "name": "MexDefineCompilerDirectiveExample",
          "url": "mex.html#mw_7bdca7be-a158-4f41-86b8-4c175800e4e6"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "PropertyValue",
          "name": "open_command",
          "value": "matlab:openExample('matlab/MexDefineCompilerDirectiveExample')"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "ExampleSourceFiles",

        "itemListElement":
        [
        "MexDefineCompilerDirectiveExample.m"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script>

<p class="shortdesc">The <code class="literal">mxcreatecharmatrixfromstr.c</code> example uses a <code class="literal">#define</code> symbol <code class="literal">SPACE_PADDING</code> to determine what character to use between character vectors in a matrix. To set the value, build the MEX file with the <code class="literal remove_text_wrapping">-D</code> option.</p>

<div class="procedure"><p>Copy the example to the current folder.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>copyfile(fullfile(matlabroot,<span style="color:#A020F0">'extern'</span>,<span style="color:#A020F0">'examples'</span>,<span style="color:#A020F0">'mx'</span>,<span style="color:#A020F0">'mxcreatecharmatrixfromstr.c'</span>),<span style="color:#A020F0">'.'</span>,<span style="color:#A020F0">'f'</span>)
</pre></div></div></div><p>Set the <code class="literal">SPACE_PADDING</code> directive to add a space between values.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>mex <span style="color:#A020F0">mxcreatecharmatrixfromstr.c</span> <span style="color:#A020F0">-DSPACE_PADDING</span>
</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>Building with 'MinGW64 Compiler  C '.
MEX completed successfully.
</pre></div></div></div></div></div></div></div></div><div itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/Example" itemprop="example" class="em_example"><meta itemprop="exampleid" content="matlab-MexDefineCompilerDirectiveExample"><meta itemprop="exampletitle" content="Define Compiler Directive"></div><div class="accordion" role="tablist" aria-multiselectable="true" id="expand_accordion_heading_btw3mt7-1"><div class="accordion-item "><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_btw3mt7-1" data-bs-target="#expand_accordion_body_btw3mt7-1" aria-controls="expand_accordion_body_btw3mt7-1" class="accordion-button add_cursor_pointer" aria-expanded="true"><h3 id="btw3mt7-1">Build Engine Application</h3></button></div><div role="tabpanel" id="expand_accordion_body_btw3mt7-1" aria-labelledby="expand_accordion_heading_btw3mt7-1" class="accordion-collapse collapse show"><div class="accordion-body"><div class="procedure"><p>Copy the <code class="literal">engwindemo.c</code> engine example to the current
                        folder.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>copyfile(fullfile(matlabroot,<span style="color:#A020F0">'extern'</span>,<span style="color:#A020F0">'examples'</span>,<span style="color:#A020F0">'eng_mat'</span>,<span style="color:#A020F0">'engwindemo.c'</span>),<span style="color:#A020F0">'.'</span>,<span style="color:#A020F0">'f'</span>)</pre></div></div></div><p>Build a standalone MATLAB engine application using the <code class="literal remove_text_wrapping">-client engine</code>
                        syntax.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>mex <span style="color:#A020F0">-client</span> <span style="color:#A020F0">engine</span> <span style="color:#A020F0">engwindemo.c</span></pre></div></div></div><p>If you are running on a Windows platform, you must first register MATLAB as a COM server. For more information, see <a href="../matlab_external/registering-matlab-software-as-a-com-server.html" class="a">Register MATLAB as a COM Server</a>.</p><p>Run the example.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#B28C00">!engwindemo</span></pre></div></div></div></div></div></div></div></div><div class="accordion" role="tablist" aria-multiselectable="true" id="expand_accordion_heading_bt4vpm8-1"><div class="accordion-item "><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_bt4vpm8-1" data-bs-target="#expand_accordion_body_bt4vpm8-1" aria-controls="expand_accordion_body_bt4vpm8-1" class="accordion-button add_cursor_pointer" aria-expanded="true"><h3 id="bt4vpm8-1">Select C Compiler</h3></button></div><div role="tabpanel" id="expand_accordion_body_bt4vpm8-1" aria-labelledby="expand_accordion_heading_bt4vpm8-1" class="accordion-collapse collapse show"><div class="accordion-body"><div class="procedure"><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>mex <span style="color:#A020F0">-setup</span></pre></div></div></div><p>MATLAB displays the options for your version and system based on the
                        list of <a href="https://www.mathworks.com/support/requirements/supported-compilers.html">Supported and Compatible Compilers</a>.</p></div></div></div></div></div><div class="accordion" role="tablist" aria-multiselectable="true" id="expand_accordion_heading_mw_4dad5575-c5e8-4d28-babe-4a026d143e5a"><div class="accordion-item "><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_mw_4dad5575-c5e8-4d28-babe-4a026d143e5a" data-bs-target="#expand_accordion_body_mw_4dad5575-c5e8-4d28-babe-4a026d143e5a" aria-controls="expand_accordion_body_mw_4dad5575-c5e8-4d28-babe-4a026d143e5a" class="accordion-button add_cursor_pointer" aria-expanded="true"><h3 id="mw_4dad5575-c5e8-4d28-babe-4a026d143e5a">Link Command Options</h3></button></div><div role="tabpanel" id="expand_accordion_body_mw_4dad5575-c5e8-4d28-babe-4a026d143e5a" aria-labelledby="expand_accordion_heading_mw_4dad5575-c5e8-4d28-babe-4a026d143e5a" class="accordion-collapse collapse show"><div class="accordion-body"><div class="procedure"><p>To add options to the <code class="function">mex</code> link command, use the
                        <code class="literal">LINKFLAGS</code> command line option. For example, to
                    specify the environment for the executable when building
                        <code class="literal">mymex.c</code> on Windows, type:</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>mex <span style="color:#A020F0">-v</span> <span style="color:#A020F0">LINKFLAGS='$LINKFLAGS /subsystem:windows'</span> <span style="color:#A020F0">mymex.c</span></pre></div></div></div></div></div></div></div></div></div></div></div><div class="ref_sect"><h2 id="btw17rw-3">Input Arguments</h2><div class="expandableContent"><p class="switch "><a href="javascript:void(0);" class="expandAllLink" data-allexpanded="true">collapse all</a></p><div class="mw_ws_accordion_container"><div class="accordion" id="btw17rw-3_accordion-group" role="tablist" aria-multiselectable="true"><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true"><div class="accordion-item "><div itemscope="" itemprop="inputargument" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/NamedInputArgument" itemid="btw17rw-1-filenames"><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_btw17rw-1-filenames" data-bs-target="#expand_accordion_body_btw17rw-1-filenames" aria-controls="expand_accordion_body_btw17rw-1-filenames" class="accordion-button add_cursor_pointer" aria-expanded="true"><span id="inputarg_filenames" class="anchor_target"></span><h3 id="btw17rw-1-filenames"><code itemprop="name">filenames</code> &#8212; <span itemprop="purpose">One or more file names</span><br/> <span class="add_font_color_general remove_bold"><span class="example_desc"><span itemprop="inputvalue">string</span> | <span itemprop="inputvalue">character vector</span></span></span></h3></button></div><div role="tabpanel" id="expand_accordion_body_btw17rw-1-filenames" aria-labelledby="expand_accordion_heading_btw17rw-1-filenames" class="accordion-collapse collapse show"><div class="accordion-body"><div class="cshsummary" id="csh_btw17rw-1-filenames"><p>One or more file names, including name and file extension, specified as a
                        string or a character vector. If the file is not in the current folder,
                        specify the full path to the file.</p><p>File names can be any combination of:</p><div class="itemizedlist"><ul><li><p>C, C++, or Fortran source files.</p></li><li><p>Simulink<sup>&#x00AE;</sup> S-function files.</p></li><li><p>Object files.</p></li><li><p>Static library files. <code class="literal">filenames</code> must include
                                the fully qualified path to the library file. The library must be
                                compiled with the same compiler currently used by
                                    <code class="function">mex</code>.</p><p>To link dynamic libraries, use the
                                        <code class="literal remove_text_wrapping">-l<em class="replaceable"><code>libname</code></em></code>
                                option.</p></li></ul></div><p>The first source code file listed in <code class="argument">filenames</code> is the
                        name of the binary MEX file or engine or MAT file application. To override
                        this naming convention, use the <code class="literal remove_text_wrapping">-output</code> option.</p><p>Use the MATLAB Editor to write your source code. If you use an integrated
                        development environment (IDE) such as <span class="entity">Microsoft
            Visual Studio</span> or <span class="entity">Xcode</span>, then you can use the <code class="function">mex</code> command or
                        follow the guidelines in <a href="../matlab_external/using-mex-script-options-to-custom-build.html" class="a">Custom Build with MEX Script Options</a>.</p><p>MATLAB automatically selects a compiler, if installed, based on the
                        language of the <code class="argument">filenames</code> arguments.</p></div></div></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true"><div class="accordion-item "><div itemscope="" itemprop="inputargument" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/NamedInputArgument" itemid="mw_5d9f5fd8-76a3-4406-817f-d4bba493eeb8"><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_mw_5d9f5fd8-76a3-4406-817f-d4bba493eeb8" data-bs-target="#expand_accordion_body_mw_5d9f5fd8-76a3-4406-817f-d4bba493eeb8" aria-controls="expand_accordion_body_mw_5d9f5fd8-76a3-4406-817f-d4bba493eeb8" class="accordion-button add_cursor_pointer" aria-expanded="true"><span id="inputarg_api" class="anchor_target"></span><h3 id="mw_5d9f5fd8-76a3-4406-817f-d4bba493eeb8"><code itemprop="name">api</code> &#8212; <span itemprop="purpose">Release-specific API</span><br/> <span class="add_font_color_general remove_bold"><span class="example_desc"><span itemprop="inputvalue defaultvalue"><code class="literal remove_text_wrapping">-R2017b</code></span> (default) | <span itemprop="inputvalue"><code class="literal remove_text_wrapping">-R2018a</code></span> | <span itemprop="inputvalue"><code class="literal remove_text_wrapping">-largeArrayDims</code></span> | <span itemprop="inputvalue"><code class="literal remove_text_wrapping">-compatibleArrayDims</code></span></span></span></h3></button></div><div role="tabpanel" id="expand_accordion_body_mw_5d9f5fd8-76a3-4406-817f-d4bba493eeb8" aria-labelledby="expand_accordion_heading_mw_5d9f5fd8-76a3-4406-817f-d4bba493eeb8" class="accordion-collapse collapse show"><div class="accordion-body"><div class="cshsummary" id="csh_mw_5d9f5fd8-76a3-4406-817f-d4bba493eeb8"><p>Links with the release-specific
                        <a href="../cc-mx-matrix-library.html" class="a">C Matrix API</a> or <a href="../fortran-mx-matrix-library.html" class="a">Fortran Matrix API</a>, specified as one of the values
                        in the table. Do not combine these options.</p><p>Do not use this option for MEX files or engine or MAT file applications
                        using the <a href="../matlab-data-array.html" class="a">MATLAB Data API for C++</a>.</p><div class="table-responsive"><table class="table table-condensed"><colgroup><col class="tcol1" width="33%"><col class="tcol2" width="68%"></colgroup><thead><tr><th>API</th><th>Description</th></tr></thead><tbody><tr><td id="mw_70395251-b084-4247-88e6-fe8e8e1b6c4f"><span id="mw_70395251-b084-4247-88e6-fe8e8e1b6c4f" class="anchor_target"></span><p><code class="literal remove_text_wrapping">-R2017b</code>
                                        (default)</p></td><td><p>Builds with:</p>
<div class="itemizedlist"><ul><li><p>Separate complex API, which contains the C
                                                  and Fortran Matrix API functionality in
                                                  MATLAB R2017b and earlier.</p></li><li><p>Large-array-handling API, which handles
                                                  arrays with more than
                                                  2<sup>31</sup>&#8211;1 elements.</p></li><li><p>Treating a handle to a graphics object as
                                                  <code class="literal">object</code>, not
                                                  <code class="literal">double</code>.</p></li></ul></div><p>
</p><p>In a future version of
                                                MATLAB, the default <code class="literal">api</code> option
                                            will change to use the interleaved complex API
                                                (<code class="literal remove_text_wrapping">-R2018a</code>). MathWorks recommends
                                            that you create applications and update existing
                                            applications to use the interleaved complex API.
                                            Alternatively, use the
                                                <code class="literal">MX_HAS_INTERLEAVED_COMPLEX</code> macro
                                            to apply the desired behavior across versions of
                                                MATLAB. For more information, see <a href="../matlab_external/matlab-support-for-interleaved-complex.html" class="a">MATLAB Support for Interleaved Complex API in MEX Functions</a>.</p></td></tr><tr><td><code class="literal remove_text_wrapping">-R2018a</code></td><td><p>Builds with:</p>
<div class="itemizedlist"><ul><li><p>Interleaved complex API, which includes the
                                                  <a href="../matlab_external/c-matrix-api-typed-data-access.html" class="a">typed data access</a> functions. For more
                                                  information, see <a href="../matlab_external/upgrade-mex-files-to-use-interleaved-complex.html" class="a">Upgrade MEX Files to Use Interleaved Complex API</a>.</p></li><li><p>Large-array-handling API</p></li><li><p>Treating a handle to a graphics object as
                                                  <code class="literal">object</code>, not
                                                  <code class="literal">double</code>.</p></li></ul></div><p>
</p><p>To run a Fortran MEX file built with the interleaved complex
    API in R2018a, you must use R2018a Update 3.</p></td></tr><tr><td><code class="literal remove_text_wrapping">-largeArrayDims</code></td><td><p>Builds with:</p><div class="itemizedlist"><ul><li><p>Separate complex API</p></li><li><p>Large-array-handling API</p></li><li><p>Treating a handle to a graphics object as
                                                  <code class="literal">object</code>, not
                                                  <code class="literal">double</code>. To treat the handle as
                                                  <code class="literal">double</code>, combine this option
                                                  with
                                                  <code class="literal remove_text_wrapping">-DMEX_DOUBLE_HANDLE</code>.</p></li></ul></div></td></tr><tr><td><code class="literal remove_text_wrapping">-compatibleArrayDims</code></td><td><p>Builds with:</p><div class="itemizedlist"><ul><li><p>Separate complex API</p></li><li><p>Version 7.2 array-handling API, which limits
                                                  arrays to 2<sup>31</sup>&#8211;1
                                                  elements</p></li><li><p>Treating a handle to a graphics object as
                                                  <code class="literal">object</code>, not
                                                  <code class="literal">double</code>. To treat the handle as
                                                  <code class="literal">double</code>, combine this option
                                                  with
                                                  <code class="literal remove_text_wrapping">-DMEX_DOUBLE_HANDLE</code>.</p></li></ul></div><p>Do not use the
                                                <code class="literal remove_text_wrapping">-compatibleArrayDims</code> option when
                                                <a href="../matlab_external/calling-lapack-and-blas-functions-from-mex-files.html" class="a">calling
                                                LAPACK or BLAS functions</a>.</p><p>Default
                                            option for C MEX S-functions only.</p></td></tr></tbody></table></div><p class="description_valueexample"><strong>Example: </strong><code class="literal">mex -R2018a explore.c</code></p></div></div></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true"><div class="accordion-item "><div itemscope="" itemprop="inputargument" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/NamedInputArgument" itemid="btw17rw-1-option1optionN"><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_btw17rw-1-option1optionN" data-bs-target="#expand_accordion_body_btw17rw-1-option1optionN" aria-controls="expand_accordion_body_btw17rw-1-option1optionN" class="accordion-button add_cursor_pointer" aria-expanded="true"><span id="inputarg_option1optionN" class="anchor_target"></span><h3 id="btw17rw-1-option1optionN"><code itemprop="name">option1 ... optionN</code> &#8212; <span itemprop="purpose">Optional build options</span><br/> <span class="add_font_color_general remove_bold"><span class="example_desc"><span itemprop="inputvalue">strings or character vectors corresponding to valid option flags</span></span></span></h3></button></div><div role="tabpanel" id="expand_accordion_body_btw17rw-1-option1optionN" aria-labelledby="expand_accordion_heading_btw17rw-1-option1optionN" class="accordion-collapse collapse show"><div class="accordion-body"><div class="cshsummary" id="csh_btw17rw-1-option1optionN"><p>Optional build options, specified as one of the values in this table.
                        Options can appear in any order on any platform, except where
                        indicated.</p><div class="table-responsive"><table class="table table-condensed"><colgroup><col class="tcol1" width="33%"><col class="tcol2" width="68%"></colgroup><thead><tr><th>Option</th><th>Description</th></tr></thead><tbody><tr><td><p><code class="literal">@<em class="replaceable"><code>rspfile</code></em></code></p></td><td><p>Uses a Windows RSP file. An RSP file is a text file
                                            containing command-line options. Non-ASCII characters
                                            are not supported.</p></td></tr><tr><td><p><code class="literal remove_text_wrapping">-c</code></p></td><td><p>Compiles an object file only. Does not build a
                                            binary MEX file.</p></td></tr><tr><td><p><code class="literal remove_text_wrapping">-client engine</code></p></td><td><p>Builds an engine or MAT file
                                        application.</p></td></tr><tr><td><p><code class="literal remove_text_wrapping">-D<em class="replaceable"><code>symbolname</code></em></code><br/>
<code class="literal remove_text_wrapping">-D<em class="replaceable"><code>symbolname</code></em>=<em class="replaceable"><code>symbolvalue</code></em></code><br/>
<code class="literal remove_text_wrapping">-U<em class="replaceable"><code>symbolname</code></em></code></p></td><td><p>The <code class="literal remove_text_wrapping">-D</code> options define C
                                            preprocessor macros. Equivalent to the following in the
                                            source file: </p><div class="itemizedlist"><ul><li><p><code class="literal">#define</code>
                                                  <em class="replaceable"><code>symbolname</code></em></p></li><li><p><code class="literal">#define</code>
                                                  <em class="replaceable"><code>symbolname</code></em>
                                                  <em class="replaceable"><code>symbolvalue</code></em></p></li></ul></div><p>The <code class="literal remove_text_wrapping">-U</code> option
                                            removes any initial definition of the C preprocessor
                                            macro, <code class="literal">symbolname</code>. Inverse of the
                                                <code class="literal remove_text_wrapping">-D</code> option.</p><p>Do not add
                                            a space between <strong class="keycap">D</strong> or <strong class="keycap">U</strong>
                                            and <em class="replaceable"><code>symbolname</code></em>. Do not add
                                            spaces around the <strong class="keycap">=</strong>
                                            sign.</p><p>Example: <a href="mex.html#mw_7bdca7be-a158-4f41-86b8-4c175800e4e6" class="intrnllnk">Define Compiler Directive</a></p></td></tr><tr><td><p><code class="literal remove_text_wrapping">-f
                                                <em class="replaceable"><code>filepath</code></em></code></p></td><td><p>Overrides
                                            the default compiler selection.
                                                <em class="replaceable"><code>filepath</code></em> is the name and
                                            full path of the configuration file, specified as a
                                            string or a character vector. For information about
                                            using a nondefault compiler, see <a href="../matlab_external/changing-default-compiler.html" class="a">Change Default Compiler</a>.</p><p>Do
                                            not use the <code class="literal remove_text_wrapping">-f</code> option to build engine
                                            or MAT file applications. Use the <code class="literal remove_text_wrapping">-client
                                                engine</code> option instead.</p></td></tr><tr><td><p><code class="literal remove_text_wrapping">-g</code></p></td><td><p>Adds symbolic information and disables optimization
                                            of built object code. Use for
                                                debugging.</p></td></tr><tr><td><p><code class="literal remove_text_wrapping">-h[elp]</code></p></td><td><p>Displays help for <code class="function">mex</code>. Use
                                            from an operating system
                                        prompt.</p></td></tr><tr><td><p><code class="literal remove_text_wrapping">-I<em class="replaceable"><code>pathname</code></em></code></p></td><td><p>Adds <em class="replaceable"><code>pathname</code></em> to the
                                            list of folders to search for
                                                <code class="literal">#include</code> files.</p><p>Do
                                            not add a space between <code class="literal">I</code> and
                                                <em class="replaceable"><code>pathname</code></em>.</p><p>Example:
                                                <a href="mex.html#btxy24r-1" class="intrnllnk">Specify Path to Include File</a></p></td></tr><tr><td><p><code class="literal remove_text_wrapping">-l<em class="replaceable"><code>libname</code></em></code><br/>
<code class="literal remove_text_wrapping">-L<em class="replaceable"><code>libfolder</code></em>
                                                  -l<em class="replaceable"><code>libname</code></em></code></p></td><td><p>Links with dynamic object library
                                                <em class="replaceable"><code>libname</code></em> in (optional)
                                                <em class="replaceable"><code>libfolder</code></em>.</p><p>MATLAB expands <em class="replaceable"><code>libname</code></em>
                                            to:</p><div class="itemizedlist"><ul><li><p><em class="replaceable"><code>libname</code></em><code class="literal">.lib</code>
                                                  or
                                                  <code class="literal">lib</code><em class="replaceable"><code>libname</code></em><code class="literal">.lib</code>
                                                  &#8212; Windows systems</p></li><li><p><code class="literal">lib</code><em class="replaceable"><code>libname</code></em><code class="literal">.dylib</code>
                                                  &#8212; <span class="entity">macOS</span> systems</p></li><li><p><code class="literal">lib</code><em class="replaceable"><code>libname</code></em><code class="literal">.so</code>
                                                  &#8212; Linux systems</p></li></ul></div><p>If used, the <code class="literal remove_text_wrapping">-L</code>
                                            option must precede the <code class="literal remove_text_wrapping">-l</code> option.
                                            When using the <code class="literal remove_text_wrapping">-L</code> option on
                                                Linux or <span class="entity">macOS</span> systems, you also must set the runtime
                                            library path, as explained in <a href="../matlab_external/building-on-unix-operating-systems.html#f28833" class="a">Set Run-Time Library Path</a>.</p><p>Specify the <code class="literal remove_text_wrapping">-l</code> option
                                            with the lowercase letter <strong class="keycap">L</strong>. Do not add
                                            a space between <code class="literal">l</code> and
                                                <em class="replaceable"><code>libname</code></em> or between
                                                <code class="literal">L</code> and
                                                <em class="replaceable"><code>libfolder</code></em>.</p><p>To
                                            link a static library, use the <a href="mex.html#btw17rw-1-filenames" class="intrnllnk"><code class="argument">filenames</code></a> input
                                            argument.</p><p>Example: <a href="mex.html#btx0rai-1" class="intrnllnk">Specify Path to Library File</a></p></td></tr><tr><td><p class="cellmonospace"><code class="literal remove_text_wrapping">-n</code></p></td><td><p>Displays but does not execute commands that
                                                <code class="function">mex</code> would
                                            execute.</p><p>Example: <a href="mex.html#btye01w-1" class="intrnllnk">Preview Build Commands</a></p></td></tr><tr><td><p class="cellmonospace"><code class="literal remove_text_wrapping">-O</code></p></td><td><p>Optimizes the object code. Use this option to
                                            compile with optimization. Optimization is enabled by
                                                default.</p><p>Specify this option
                                            with the capital letter
                                        <strong class="keycap">O</strong>.</p></td></tr><tr><td><p><code class="literal remove_text_wrapping">-outdir
                                                <em class="replaceable"><code>dirname</code></em></code></p></td><td><p>Places all output files in folder
                                                <em class="replaceable"><code>dirname</code></em>.</p><p>Example:
                                                <a href="mex.html#mw_c899e68d-8371-4798-be4f-6ee7d1e1c600" class="intrnllnk">Create and Link to Separate Object Files</a></p></td></tr><tr><td><p><code class="literal remove_text_wrapping">-output
                                                <em class="replaceable"><code>mexname</code></em></code>
                                        </p></td><td><p>Overrides the default MEX file naming mechanism.
                                            Creates a binary MEX file named
                                                <em class="replaceable"><code>mexname</code></em> with the
                                            appropriate MEX file extension.</p><p>Example:
                                                <a href="mex.html#bu65zqt" class="intrnllnk">Combine Source Files Using Wild Card</a></p></td></tr><tr><td><p><code class="literal remove_text_wrapping">-setup
                                                <em class="replaceable"><code>lang</code></em></code><span id="mex_setup_option" class="anchor_target"></span></p></td><td><p>Change the default compiler to build
                                                <em class="replaceable"><code>lang</code></em> language MEX files
                                            or engine or MAT file applications. When you use this
                                            option, <code class="function">mex</code> ignores all other
                                            command-line
                                        options.</p></td></tr><tr><td><p><code class="literal remove_text_wrapping">-silent</code></p></td><td><p>Suppresses informational messages. The
                                                <code class="function">mex</code> command still reports
                                            errors and warnings when you specify
                                                <code class="literal remove_text_wrapping">-silent</code>.</p></td></tr><tr><td><p><code class="literal remove_text_wrapping">-U<em class="replaceable"><code>symbolname</code></em></code></p></td><td><p>Removes any initial definition of the C
                                            preprocessor macro
                                            <em class="replaceable"><code>symbolname</code></em>. (Inverse of the
                                                <code class="literal remove_text_wrapping">-D</code> option.) </p><p>Do not
                                            add a space between <code class="literal">U</code> and
                                                <em class="replaceable"><code>symbolname</code></em>.</p></td></tr><tr><td><p><code class="literal remove_text_wrapping">-v</code></p></td><td><p>Builds in verbose mode. Displays values for
                                            internal variables after all command-line arguments are
                                            considered. Displays each compile and link step fully
                                            evaluated. Use for troubleshooting compiler setup
                                            problems.</p><p>Example: <a href="mex.html#btw193f-1" class="intrnllnk">Display Detailed Build and Troubleshooting Information</a></p></td></tr><tr><td><p><code class="literal"><em class="replaceable"><code>varname</code></em>=<em class="replaceable"><code>varvalue</code></em></code></p></td><td><p>Append values to environment variable
                                                <em class="replaceable"><code>varname</code></em>. This option is
                                            processed after all command-line arguments are
                                            considered.</p><p>Examples: </p>
<div class="itemizedlist"><ul><li><p><a href="mex.html#mw_663100fe-c5a5-4a18-9171-7ab49fe7d509" class="intrnllnk">Append Compiler Options</a></p></li><li><p><a href="mex.html#btw193g-1" class="intrnllnk">Override Default Compiler Switch Option</a></p></li></ul></div><p>
</p></td></tr></tbody></table></div></div></div></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true"><div class="accordion-item "><div itemscope="" itemprop="inputargument" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/NamedInputArgument" itemid="btw17rw-1-lang"><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_btw17rw-1-lang" data-bs-target="#expand_accordion_body_btw17rw-1-lang" aria-controls="expand_accordion_body_btw17rw-1-lang" class="accordion-button add_cursor_pointer" aria-expanded="true"><span id="inputarg_lang" class="anchor_target"></span><h3 id="btw17rw-1-lang"><code itemprop="name">lang</code> &#8212; <span itemprop="purpose">Language</span><br/> <span class="add_font_color_general remove_bold"><span class="example_desc"><span itemprop="inputvalue defaultvalue"><code class="literal">C</code></span> (default) | <span itemprop="inputvalue"><code class="literal">C++</code></span> | <span itemprop="inputvalue"><code class="literal">CPP</code></span> | <span itemprop="inputvalue"><code class="literal">Fortran</code></span></span></span></h3></button></div><div role="tabpanel" id="expand_accordion_body_btw17rw-1-lang" aria-labelledby="expand_accordion_heading_btw17rw-1-lang" class="accordion-collapse collapse show"><div class="accordion-body"><div class="cshsummary" id="csh_btw17rw-1-lang"><p>Language, specified as one of these case-insensitive values.</p><div class="table-responsive"><table class="table table-condensed"><colgroup><col class="tcol1" width="33%"><col class="tcol2" width="68%"></colgroup><tbody><tr><td><code class="literal">C</code></td><td><p>C compilers, including C++</p></td></tr><tr><td><code class="literal">C++</code> or <code class="literal">CPP</code></td><td><p>C++ compilers</p></td></tr><tr><td><code class="literal">Fortran</code></td><td><p>Fortran compilers</p></td></tr></tbody></table></div></div></div></div></div></div></div></div></div></div></div></div><div class="ref_sect"><h2 id="btw3m9i-4">Tips</h2><div class="itemizedlist"><ul><li><p>You can run <code class="function">mex</code> from:</p><div class="itemizedlist"><ul><li><p>MATLAB Command Window</p></li><li><p>Windows system prompt</p></li><li><p><span class="entity">macOS</span> Terminal</p></li><li><p>Linux shell</p></li></ul></div><p>For command-line usage outside of MATLAB, the <code class="function">mex</code> program is located in the folder
                    specified by <code class="literal">[matlabroot '/bin']</code> on UNIX and
                        <code class="literal">[matlabroot '\bin\win64']</code> on Windows.</p></li><li><p>The MEX file has a platform-dependent extension. You can place binary MEX
                    files for different platforms in the same folder. To identify the MEX file
                    extension, use the <a href="mexext.html"><code class="function">mexext</code></a> function.</p><p>
                    <p></p>
<div itemprop="content" id="btw17rw-1_sep_mw_7a58decd-c6c3-47ac-ac66-28910c6f8948" class="table_class"><p class="title"><strong class="title">MEX File Platform-Dependent Extension</strong></p><div class="table-responsive"><table class="table table-condensed" summary="MEX File Platform-Dependent Extension"><colgroup><col class="tcol1" width="31%"><col class="tcol2" width="70%"></colgroup><thead><tr><th>Platform</th><th>Binary MEX File Extension</th></tr></thead><tbody><tr><td><p>Windows</p></td><td><p><code class="literal">mexw64</code></p></td></tr><tr><td><p>Linux</p></td><td><p><code class="literal">mexa64</code></p></td></tr><tr><td><p> <span class="entity">macOS</span> with <span class="entity">Apple</span> silicon</p></td><td><p><code class="literal">mexmaca64</code></p></td></tr><tr><td><p> <span class="entity">macOS</span> with Intel<sup>&#x00AE;</sup></p></td><td><p><code class="literal">mexmaci64</code></p></td></tr></tbody></table></div></div><p>
</p>
<div class="alert alert-info d-inline-block"><span class="alert_icon icon-alert-info-reverse"></span><p class="alert_heading"><strong>Note</strong></p><p>MEX files built on <span class="entity">macOS</span> with Intel are not supported on the <span class="entity">Apple</span> silicon platform using Rosetta 2.</p></div><p>
</p>
                </p></li><li><p>To use <code class="function">mex</code> to build executable files for standalone
                        MATLAB engine or MAT file applications, use the <code class="literal remove_text_wrapping">-client
                        engine</code> option.</p></li><li><p>The <code class="function">mex</code> command does not support folder names containing
                    double quote (<code class="literal">"</code>) characters.</p></li></ul></div></div><div class="ref_sect"><h2 id="mw_f60c9c24-789b-4167-99b4-7de90fbc3f51">Version History</h2><strong>Introduced before R2006a</strong><div class="expandableContent"><p class="switch"><a href="javascript:void(0);" class="expandAllLink">expand all</a></p><div class="mw_ws_accordion_container"><div class="accordion -presentation_expander -presentation_condensed"><div class="accordion-item"><div class="accordion-header"><button data-bs-toggle="collapse" data-bs-target="#expand_body_mw_cdf348e2-d779-420e-b725-f29fc70d85b6" aria-controls="expand_body_mw_cdf348e2-d779-420e-b725-f29fc70d85b6" class="accordion-button collapsed" aria-expanded="false"><h3 id="mw_cdf348e2-d779-420e-b725-f29fc70d85b6">R2025a: <span class="remove_bold">Maximum length of variable names increased to 2048 characters</span><span class="icon-alert-warning icon_alert_color"></span></h3></button></div><div id="expand_body_mw_cdf348e2-d779-420e-b725-f29fc70d85b6" class="accordion-collapse collapsed collapse"><div class="accordion-body"><p>The maximum allowed identifier length defined by the macro
                    <code class="literal">mxMAXNAM</code> is increased to 2048. This change allows variables,
                functions, classes, and many other entities to have names of up to 2048 characters.
                Use of longer identifiers may negatively impact performance and memory. Operating
                systems may have maximum file name lengths that are shorter than this limit.</p><p>Before this change the maximum length of identifiers was 63 characters.</p><p>You should recompile MEX files and engine or MAT file applications that use the
                constant <code class="literal">mxMAXNAM</code>.</p></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion -presentation_expander -presentation_condensed"><div class="accordion-item"><div class="accordion-header"><button data-bs-toggle="collapse" data-bs-target="#expand_body_mw_db68c4a0-8366-4e3d-bfae-0db8ac08ffe5" aria-controls="expand_body_mw_db68c4a0-8366-4e3d-bfae-0db8ac08ffe5" class="accordion-button collapsed" aria-expanded="false"><h3 id="mw_db68c4a0-8366-4e3d-bfae-0db8ac08ffe5">R2024b: <span class="remove_bold">Support for <span class="trademark entity">Intel</span> oneAPI DPC++/C++ Compiler (icx)</span></h3></button></div><div id="expand_body_mw_db68c4a0-8366-4e3d-bfae-0db8ac08ffe5" class="accordion-collapse collapsed collapse"><div class="accordion-body"><p>MATLAB supports Intel oneAPI DPC++/C++ Compiler (icx) for C and C++ for building C and C++
                interfaces, MEX files, and standalone MATLAB engine and MAT file applications on Windows platforms.</p></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion -presentation_expander -presentation_condensed"><div class="accordion-item"><div class="accordion-header"><button data-bs-toggle="collapse" data-bs-target="#expand_body_mw_b3b5205d-1e08-4c27-9cae-e81213939efb" aria-controls="expand_body_mw_b3b5205d-1e08-4c27-9cae-e81213939efb" class="accordion-button collapsed" aria-expanded="false"><h3 id="mw_b3b5205d-1e08-4c27-9cae-e81213939efb">R2024b: <span class="remove_bold">Support for <span class="trademark entity">Intel</span> Fortran Compiler (ifx)</span></h3></button></div><div id="expand_body_mw_b3b5205d-1e08-4c27-9cae-e81213939efb" class="accordion-collapse collapsed collapse"><div class="accordion-body"><p>MATLAB supports the Intel Fortran Compiler (ifx) for building Fortran MEX files and standalone
                    MATLAB engine and MAT file applications on Windows platforms.</p></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion -presentation_expander -presentation_condensed"><div class="accordion-item"><div class="accordion-header"><button data-bs-toggle="collapse" data-bs-target="#expand_body_mw_86024459-4f14-4536-ba47-38d2b7b182e4" aria-controls="expand_body_mw_86024459-4f14-4536-ba47-38d2b7b182e4" class="accordion-button collapsed" aria-expanded="false"><h3 id="mw_86024459-4f14-4536-ba47-38d2b7b182e4">R2024a: <span class="remove_bold">Support for <span class="trademark entity">MinGW</span> Compiler (Fortran)</span></h3></button></div><div id="expand_body_mw_86024459-4f14-4536-ba47-38d2b7b182e4" class="accordion-collapse collapsed collapse"><div class="accordion-body"><p>MATLAB supports the MinGW Compiler (Fortran) for building Fortran MEX files and standalone
                    MATLAB engine and MAT file applications on Windows platforms. For installation instructions, see <a href="https://www.mathworks.com/matlabcentral/fileexchange/52848-matlab-support-for-mingw-w64-c-c-fortran-compiler">MATLAB Support for MinGW-w64 C/C++/Fortran Compiler</a>.</p></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion -presentation_expander -presentation_condensed"><div class="accordion-item"><div class="accordion-header"><button data-bs-toggle="collapse" data-bs-target="#expand_body_mw_9d2f7a38-b20e-477b-a9c0-2ed9a76f6431" aria-controls="expand_body_mw_9d2f7a38-b20e-477b-a9c0-2ed9a76f6431" class="accordion-button collapsed" aria-expanded="false"><h3 id="mw_9d2f7a38-b20e-477b-a9c0-2ed9a76f6431">R2023b: <span class="remove_bold">Support for <span class="entity"><span class="trademark">Microsoft</span>             <span class="trademark">Visual Studio</span></span> Build Tools</span></h3></button></div><div id="expand_body_mw_9d2f7a38-b20e-477b-a9c0-2ed9a76f6431" class="accordion-collapse collapsed collapse"><div class="accordion-body"><p>MATLAB supports Build Tools for Visual Studio 2022 and 2019 for C and C++ for building C and C++ interfaces, MEX
                files, and standalone MATLAB engine and MAT file applications on Windows platforms.</p></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion -presentation_expander -presentation_condensed"><div class="accordion-item"><div class="accordion-header"><button data-bs-toggle="collapse" data-bs-target="#expand_body_mw_3fe8815f-c94d-426f-b51d-513845bebedd" aria-controls="expand_body_mw_3fe8815f-c94d-426f-b51d-513845bebedd" class="accordion-button collapsed" aria-expanded="false"><h3 id="mw_3fe8815f-c94d-426f-b51d-513845bebedd">R2023b: <span class="remove_bold">Support for <span class="trademark entity">NAG</span> Fortran on <span class="entity">Apple</span> Silicon Platforms</span></h3></button></div><div id="expand_body_mw_3fe8815f-c94d-426f-b51d-513845bebedd" class="accordion-collapse collapsed collapse"><div class="accordion-body"><p>MATLAB supports the NAG<sup>&#x00AE;</sup> Fortran compiler for building Fortran MEX files and standalone
                    MATLAB engine and MAT file applications on <span class="entity">Apple</span> silicon platforms.</p></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion -presentation_expander -presentation_condensed"><div class="accordion-item"><div class="accordion-header"><button data-bs-toggle="collapse" data-bs-target="#expand_body_mw_86f8d18d-5cb0-4cd3-8cb0-1ed0e694e3c1" aria-controls="expand_body_mw_86f8d18d-5cb0-4cd3-8cb0-1ed0e694e3c1" class="accordion-button collapsed" aria-expanded="false"><h3 id="mw_86f8d18d-5cb0-4cd3-8cb0-1ed0e694e3c1">R2023a: <span class="remove_bold">Support for <span class="trademark entity">MinGW</span>-w64 version 8.1 compiler</span></h3></button></div><div id="expand_body_mw_86f8d18d-5cb0-4cd3-8cb0-1ed0e694e3c1" class="accordion-collapse collapsed collapse"><div class="accordion-body"><p>MATLAB supports the MinGW-w64 version 8.1 compiler on Windows platforms. For installation instructions, see <span class="entity">MATLAB
            Answers&#x2122;</span> article <a href="https://www.mathworks.com/support/search.html/answers/311290-faq-how-do-i-install-the-mingw-compiler.html">FAQ: How do I install the MinGW compiler?</a></p></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion -presentation_expander -presentation_condensed"><div class="accordion-item"><div class="accordion-header"><button data-bs-toggle="collapse" data-bs-target="#expand_body_mw_fc43d82b-f80b-4b15-a59f-4dac1c9c760f" aria-controls="expand_body_mw_fc43d82b-f80b-4b15-a59f-4dac1c9c760f" class="accordion-button collapsed" aria-expanded="false"><h3 id="mw_fc43d82b-f80b-4b15-a59f-4dac1c9c760f">R2023a: <span class="remove_bold">Support for <span class="trademark entity">Intel</span> oneAPI compilers</span></h3></button></div><div id="expand_body_mw_fc43d82b-f80b-4b15-a59f-4dac1c9c760f" class="accordion-collapse collapsed collapse"><div class="accordion-body"><p>MATLAB supports these Intel oneAPI compilers:</p><div class="itemizedlist"><ul><li><p>oneAPI 2023 compiler with <span class="entity">Microsoft
            Visual Studio</span> 2019 and 2022.</p></li><li><p>oneAPI 2022 compiler with Visual Studio 2017, 2019, and 2022.</p></li></ul></div><p>on Windows and <span class="entity">macOS</span> platforms for building:</p><div class="itemizedlist"><ul><li><p>C and C++ interfaces</p></li><li><p>C, C++, and Fortran MEX files</p></li><li><p>C, C++, and Fortran standalone MATLAB engine applications</p></li><li><p>C and Fortran standalone MATLAB MAT file applications</p></li></ul></div></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion -presentation_expander -presentation_condensed"><div class="accordion-item"><div class="accordion-header"><button data-bs-toggle="collapse" data-bs-target="#expand_body_mw_d4fa0bf1-daf4-42ea-93f3-422eade207f7" aria-controls="expand_body_mw_d4fa0bf1-daf4-42ea-93f3-422eade207f7" class="accordion-button collapsed" aria-expanded="false"><h3 id="mw_d4fa0bf1-daf4-42ea-93f3-422eade207f7">R2023a: <span class="remove_bold">Removed <code class="literal remove_text_wrapping">-std=c++11</code> flag from MEX options files</span><span class="icon-alert-warning icon_alert_color"></span></h3></button></div><div id="expand_body_mw_d4fa0bf1-daf4-42ea-93f3-422eade207f7" class="accordion-collapse collapsed collapse"><div class="accordion-body"><p>MEX
                options files for building C++ code with MinGW and Linux compilers no longer include the <code class="literal">CXXFLAGS</code> flag
                    <code class="literal remove_text_wrapping">-std=c++11</code>.</p><p>MEX options files for <span class="entity">macOS</span> compilers include the <code class="literal">CXXFLAGS</code> option
                    <code class="literal remove_text_wrapping">-std=c++14</code> instead.</p><p>To continue building MEX file <code class="literal">myFunc</code> with the
                    <code class="literal remove_text_wrapping">-std=c++11</code> option, type:</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>mex <span style="color:#A020F0">myFunc.cpp</span> <span style="color:#A020F0">'CXXFLAGS=$CXXFLAGS -std=c++11'</span>
</pre></div></div></div></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion -presentation_expander -presentation_condensed"><div class="accordion-item"><div class="accordion-header"><button data-bs-toggle="collapse" data-bs-target="#expand_body_mw_598adaaa-9aa2-45aa-aad2-46f5c00d3f68" aria-controls="expand_body_mw_598adaaa-9aa2-45aa-aad2-46f5c00d3f68" class="accordion-button collapsed" aria-expanded="false"><h3 id="mw_598adaaa-9aa2-45aa-aad2-46f5c00d3f68">R2022a: <span class="remove_bold">UTF-8 system encoding on <span class="trademark entity">Windows</span> platforms</span><span class="icon-alert-warning icon_alert_color"></span></h3></button></div><div id="expand_body_mw_598adaaa-9aa2-45aa-aad2-46f5c00d3f68" class="accordion-collapse collapsed collapse"><div class="accordion-body"><p>MATLAB now uses UTF-8 as its system encoding on Windows, completing the adoption of Unicode<sup>&#x00AE;</sup> across all supported platforms. System calls made from within a MEX
                file take and return UTF-8 encoded strings. If your MEX file contains code or links
                to third-party libraries that assume a different system encoding, then you might see
                garbled text and thus need to update the code to be Unicode compliant.</p></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion -presentation_expander -presentation_condensed"><div class="accordion-item"><div class="accordion-header"><button data-bs-toggle="collapse" data-bs-target="#expand_body_mw_1246accf-0854-4a3f-aa1f-6b67e1c97729" aria-controls="expand_body_mw_1246accf-0854-4a3f-aa1f-6b67e1c97729" class="accordion-button collapsed" aria-expanded="false"><h3 id="mw_1246accf-0854-4a3f-aa1f-6b67e1c97729">R2022a: <span class="remove_bold">MEX file macro <code class="literal">FORTRAN_COMPLEX_FUNCTIONS_RETURN_VOID</code> has been                 removed</span><span class="icon-alert-warning icon_alert_color"></span></h3></button></div><div id="expand_body_mw_1246accf-0854-4a3f-aa1f-6b67e1c97729" class="accordion-collapse collapsed collapse"><div class="accordion-body"><p>For MEX files built in R2021b and earlier, MATLAB provided a macro,
                    <code class="literal">FORTRAN_COMPLEX_FUNCTIONS_RETURN_VOID</code>, to handle
                platform-dependent calling syntax differences for passing complex numbers to Fortran
                BLAS and LAPACK functions. As of R2022a, you no longer need a different calling
                syntax on different platforms, and the macro for handling this difference has been
                removed.</p><p>To update your code, replace statements such as these using
                    <code class="literal">FORTRAN_COMPLEX_FUNCTIONS_RETURN_VOID</code>:</p><div class="code_responsive"><pre class="programlisting">/* Call BLAS function */
/* Use a different call syntax on different platforms */
#ifdef FORTRAN_COMPLEX_FUNCTIONS_RETURN_VOID
  zdotu(&amp;result, &amp;nElements, zinA, &amp;incx, zinB, &amp;incy);
#else
  result = zdotu(&amp;nElements, zinA, &amp;incx, zinB, &amp;incy);
#endif</pre></div><p>with:</p><div class="code_responsive"><pre class="programlisting">/* Call BLAS function */
zdotu(&amp;result, &amp;nElements, zinA, &amp;incx, zinB, &amp;incy);</pre></div></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion -presentation_expander -presentation_condensed"><div class="accordion-item"><div class="accordion-header"><button data-bs-toggle="collapse" data-bs-target="#expand_body_mw_8015455d-e0ca-467b-878f-18fe78b7d115" aria-controls="expand_body_mw_8015455d-e0ca-467b-878f-18fe78b7d115" class="accordion-button collapsed" aria-expanded="false"><h3 id="mw_8015455d-e0ca-467b-878f-18fe78b7d115">R2021b: <span class="remove_bold">Support for <span class="trademark entity">Microsoft</span>                 <span class="trademark entity">Visual Studio</span> 2022 compiler</span></h3></button></div><div id="expand_body_mw_8015455d-e0ca-467b-878f-18fe78b7d115" class="accordion-collapse collapsed collapse"><div class="accordion-body"><p>As of R2021b Update 3, MATLAB supports Microsoft
                Visual Studio 2022 for building C and C++ interfaces, MEX files, and standalone
                    MATLAB engine and MAT file applications.</p></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion -presentation_expander -presentation_condensed"><div class="accordion-item"><div class="accordion-header"><button data-bs-toggle="collapse" data-bs-target="#expand_body_mw_7cbaec87-1970-4fd9-81f2-0ea425a583c1" aria-controls="expand_body_mw_7cbaec87-1970-4fd9-81f2-0ea425a583c1" class="accordion-button collapsed" aria-expanded="false"><h3 id="mw_7cbaec87-1970-4fd9-81f2-0ea425a583c1">R2020b: <span class="remove_bold">Support for gcc versions 5.x and higher on <span class="trademark entity">Linux</span> platforms</span></h3></button></div><div id="expand_body_mw_7cbaec87-1970-4fd9-81f2-0ea425a583c1" class="accordion-collapse collapsed collapse"><div class="accordion-body"><p>MATLAB supports gcc versions 5.x and higher for building C and C++
                interfaces, MEX files, and standalone MATLAB engine and MAT file applications on Linux. If you use version 4.0 or earlier, then MATLAB displays a warning.</p></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion -presentation_expander -presentation_condensed"><div class="accordion-item"><div class="accordion-header"><button data-bs-toggle="collapse" data-bs-target="#expand_body_mw_a38f07e1-676d-452c-9acc-95f83da2a091" aria-controls="expand_body_mw_a38f07e1-676d-452c-9acc-95f83da2a091" class="accordion-button collapsed" aria-expanded="false"><h3 id="mw_a38f07e1-676d-452c-9acc-95f83da2a091">R2020a: <span class="remove_bold">UTF-8 system encoding on <span class="entity">macOS</span> and <span class="trademark entity">Linux</span> platforms</span><span class="icon-alert-warning icon_alert_color"></span></h3></button></div><div id="expand_body_mw_a38f07e1-676d-452c-9acc-95f83da2a091" class="accordion-collapse collapsed collapse"><div class="accordion-body"><p>On the <span class="entity">macOS</span> and Linux platforms, MATLAB uses UTF-8 as its system encoding. System calls made from within a MEX
                file built on <span class="entity">macOS</span> or Linux take and return UTF-8 encoded strings. If your MEX file contains code
                or links to third-party libraries that assume a different system encoding, then you
                might see garbled text and thus need to update the code to be Unicode compliant.</p><p>On the Windows platform, if the <strong class="guilabel">Use Unicode UTF-8 for worldwide language support</strong> option is enabled
                in the Windows
                <strong class="guimenuitem">Region</strong> settings, then MATLAB uses UTF-8 as its system encoding.</p></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion -presentation_expander -presentation_condensed"><div class="accordion-item"><div class="accordion-header"><button data-bs-toggle="collapse" data-bs-target="#expand_body_mw_fb53e02e-e8b8-4619-9410-33a5c0ab6a5b" aria-controls="expand_body_mw_fb53e02e-e8b8-4619-9410-33a5c0ab6a5b" class="accordion-button collapsed" aria-expanded="false"><h3 id="mw_fb53e02e-e8b8-4619-9410-33a5c0ab6a5b">R2020a: <span class="remove_bold">Compiler support changed</span><span class="icon-alert-warning icon_alert_color"></span></h3></button></div><div id="expand_body_mw_fb53e02e-e8b8-4619-9410-33a5c0ab6a5b" class="accordion-collapse collapsed collapse"><div class="accordion-body"><p>This table lists the changes to compiler support in MATLAB for building C and C++ interfaces, MEX files, and standalone
                    MATLAB engine and MAT file applications.</p><p>For continued support for building your applications, consider upgrading to a
                supported compiler shown in <a href="https://www.mathworks.com/content/dam/mathworks/mathworks-dot-com/support/sysreq/files/system-requirements-release-2020a-supported-compilers.pdf" target="_blank">Supported and Compatible Compilers &#8211; Release 2020a</a>.</p><div class="table-responsive"><table class="table table-condensed"><colgroup><col class="tcol1" width="21%"><col class="tcol2" width="58%"><col class="tcol3" width="21%"></colgroup><thead><tr><th>Support</th><th>Compiler</th><th>Platform</th></tr></thead><tbody><tr><td><p>Added</p></td><td><p>Intel Parallel Studio XE 2020 for C, C++, and
                                    Fortran</p></td><td><p>Windows</p></td></tr><tr><td><p>Added</p></td><td><p>Intel Parallel Studio XE 2020 for
                                Fortran</p></td><td><p><span class="entity">macOS</span></p></td></tr><tr><td><p>Added</p></td><td><p><span class="entity">Apple Xcode</span> 11.x</p></td><td><p><span class="entity">macOS</span></p></td></tr><tr><td><p>Discontinued </p></td><td><p>Intel Parallel Studio XE 2017</p></td><td><p>Windows</p><p><span class="entity">macOS</span></p></td></tr></tbody></table></div></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion -presentation_expander -presentation_condensed"><div class="accordion-item"><div class="accordion-header"><button data-bs-toggle="collapse" data-bs-target="#expand_body_mw_b3a0ffeb-59a4-46a0-890a-c30e3168a53d" aria-controls="expand_body_mw_b3a0ffeb-59a4-46a0-890a-c30e3168a53d" class="accordion-button collapsed" aria-expanded="false"><h3 id="mw_b3a0ffeb-59a4-46a0-890a-c30e3168a53d">R2019b: <span class="remove_bold">Compiler support changed</span><span class="icon-alert-warning icon_alert_color"></span></h3></button></div><div id="expand_body_mw_b3a0ffeb-59a4-46a0-890a-c30e3168a53d" class="accordion-collapse collapsed collapse"><div class="accordion-body"><p>This table lists the changes to compiler support in MATLAB for building C and C++ interfaces, MEX files, and standalone
                    MATLAB engine and MAT file applications.</p><p>For continued support for building your applications, consider upgrading to a
                supported compiler shown in <a href="https://www.mathworks.com/content/dam/mathworks/mathworks-dot-com/support/sysreq/files/system-requirements-release-2019b-supported-compilers.pdf" target="_blank">Supported and Compatible Compilers &#8211; Release 2019b</a>.</p><div class="table-responsive"><table class="table table-condensed"><colgroup><col class="tcol1" width="21%"><col class="tcol2" width="58%"><col class="tcol3" width="21%"></colgroup><thead><tr><th>Support</th><th>Compiler</th><th>Platform</th></tr></thead><tbody><tr><td><p>Added</p></td><td><p><span class="entity">Microsoft
            Visual Studio</span> 2019 for C and C++</p></td><td><p>
                                    Windows
                                </p></td></tr><tr><td><p>Discontinued </p></td><td><p>Intel Parallel Studio XE 2015 and XE 2016 for
                                    Fortran</p></td><td><p>
                                    Windows
                                </p><p><span class="entity">macOS</span></p></td></tr></tbody></table></div></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion -presentation_expander -presentation_condensed"><div class="accordion-item"><div class="accordion-header"><button data-bs-toggle="collapse" data-bs-target="#expand_body_mw_097155db-2ff8-412a-893b-9b6d88ccd619" aria-controls="expand_body_mw_097155db-2ff8-412a-893b-9b6d88ccd619" class="accordion-button collapsed" aria-expanded="false"><h3 id="mw_097155db-2ff8-412a-893b-9b6d88ccd619">R2019b: <span class="remove_bold">C MEX and engine or MAT file applications: <code class="literal">true</code>,                     <code class="literal">false</code>, and <code class="literal">bool</code> defined by
                    <code class="literal">&lt;stdbool.h&gt;</code></span><span class="icon-alert-warning icon_alert_color"></span></h3></button></div><div id="expand_body_mw_097155db-2ff8-412a-893b-9b6d88ccd619" class="accordion-collapse collapsed collapse"><div class="accordion-body"><p>The definitions for <code class="literal">true</code>, <code class="literal">false</code>, and
                    <code class="literal">bool</code> have changed for building MEX files and standalone
                    MATLAB engine and MAT file applications with C99 compatible compilers on
                    Windows and Linux platforms. MATLAB defines these values using <code class="literal">&lt;stdbool.h&gt;</code> as
                defined by <a href="https://pubs.opengroup.org/onlinepubs/007904875/basedefs/stdbool.h.html" target="_blank">IEEE Std 1003.1</a>:</p><div class="code_responsive"><pre class="programlisting">The &lt;stdbool.h&gt; header shall define the following macros:
bool
    Expands to _Bool.
true
    Expands to the integer constant 1.
false
    Expands to the integer constant 0.
_bool_true_false_are_defined
    Expands to the integer constant 1.</pre></div><p>In R2019a and earlier, MATLAB defined these values on Windows and Linux platforms as:</p><div class="itemizedlist"><ul><li><p><code class="literal">true</code> &#8212; <code class="literal">#defined</code> as
                            <code class="literal">1</code></p></li><li><p><code class="literal">false</code> &#8212; <code class="literal">#defined</code> as
                            <code class="literal">0</code></p></li><li><p><code class="literal">bool</code> &#8212; <code class="literal">typedef</code> as
                            <code class="literal">unsigned char</code></p></li></ul></div><p>For <span class="entity">macOS</span> platforms, there is no change.</p></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion -presentation_expander -presentation_condensed"><div class="accordion-item"><div class="accordion-header"><button data-bs-toggle="collapse" data-bs-target="#expand_body_mw_9c20df3a-4a60-4f5c-905f-9a92a8e675f8" aria-controls="expand_body_mw_9c20df3a-4a60-4f5c-905f-9a92a8e675f8" class="accordion-button collapsed" aria-expanded="false"><h3 id="mw_9c20df3a-4a60-4f5c-905f-9a92a8e675f8">R2019a: <span class="remove_bold">Support for <span class="trademark entity">Intel</span> Parallel Studio XE 2019 compilers</span></h3></button></div><div id="expand_body_mw_9c20df3a-4a60-4f5c-905f-9a92a8e675f8" class="accordion-collapse collapsed collapse"><div class="accordion-body"><p>This table lists the added Intel compiler support in MATLAB for building C and C++ interfaces, MEX files, and standalone
                    MATLAB engine and MAT file applications.</p><div class="table-responsive"><table class="table table-condensed"><colgroup><col class="tcol1" width="21%"><col class="tcol2" width="58%"><col class="tcol3" width="21%"></colgroup><thead><tr><th>Support</th><th>Compiler</th><th>Platform</th></tr></thead><tbody><tr><td><p>Added</p></td><td><p>Intel Parallel Studio XE 2019 with Microsoft Visual
                                    Studio 2015 and 2017 for C, C++, and
                                Fortran</p></td><td><p>
                                    Windows
                                </p></td></tr><tr><td><p>Added</p></td><td><p>Intel Parallel Studio XE 2019 for
                                Fortran</p></td><td><p><span class="entity">macOS</span></p></td></tr></tbody></table></div></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion -presentation_expander -presentation_condensed"><div class="accordion-item"><div class="accordion-header"><button data-bs-toggle="collapse" data-bs-target="#expand_body_mw_85141347-dec9-4ef2-9aa4-f022fbb40cd5" aria-controls="expand_body_mw_85141347-dec9-4ef2-9aa4-f022fbb40cd5" class="accordion-button collapsed" aria-expanded="false"><h3 id="mw_85141347-dec9-4ef2-9aa4-f022fbb40cd5">R2018b: <span class="remove_bold">Build Fortran MEX files with interleaved complex API</span></h3></button></div><div id="expand_body_mw_85141347-dec9-4ef2-9aa4-f022fbb40cd5" class="accordion-collapse collapsed collapse"><div class="accordion-body"><p>The <a href="../fortran-mx-matrix-library.html" class="a">Fortran Matrix API</a> supports the interleaved storage
                representation of complex numbers. For more information, see <a href="../matlab_external/matlab-support-for-interleaved-complex.html" class="a">MATLAB Support for Interleaved Complex API in MEX Functions</a></p><p>If you build Fortran MEX functions, then you should review <a href="../matlab_external/do-i-need-to-upgrade-my-mex-files-to-use-interleaved-complex.html" class="a">Do I Need to Upgrade My MEX Files to Use Interleaved Complex API?</a></p><div class="alert alert-info d-inline-block"><span class="alert_icon icon-alert-info-reverse"></span><p class="alert_heading"><strong>Note</strong></p><p>To run a Fortran MEX file built with the interleaved complex
    API in R2018a, you must use R2018a Update 3.</p></div></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion -presentation_expander -presentation_condensed"><div class="accordion-item"><div class="accordion-header"><button data-bs-toggle="collapse" data-bs-target="#expand_body_mw_9a999f59-7bfd-420d-afe9-006db866e5df" aria-controls="expand_body_mw_9a999f59-7bfd-420d-afe9-006db866e5df" class="accordion-button collapsed" aria-expanded="false"><h3 id="mw_9a999f59-7bfd-420d-afe9-006db866e5df">R2018b: <span class="remove_bold">Compiler support changed</span><span class="icon-alert-warning icon_alert_color"></span></h3></button></div><div id="expand_body_mw_9a999f59-7bfd-420d-afe9-006db866e5df" class="accordion-collapse collapsed collapse"><div class="accordion-body"><p>This table lists the changes to compiler support in MATLAB for building C interfaces, MEX files, and standalone MATLAB engine and MAT file applications.</p><p>For continued support for building your applications, consider upgrading to a
                supported compiler shown in <a href="https://www.mathworks.com/content/dam/mathworks/mathworks-dot-com/support/sysreq/files/system-requirements-release-2018b-supported-compilers.pdf" target="_blank">Supported and Compatible Compilers &#8211; Release 2018b</a>.</p><div class="table-responsive"><table class="table table-condensed"><colgroup><col class="tcol1" width="21%"><col class="tcol2" width="58%"><col class="tcol3" width="21%"></colgroup><thead><tr><th>Support</th><th>Compiler</th><th>Platform</th></tr></thead><tbody><tr><td><p>Added</p></td><td><p>MinGW-w64 version 6.3.0 compiler from <a href="https://www.mingw-w64.org/" target="_blank">https://www.mingw-w64.org/</a></p></td><td><p>
                                    Windows
                                </p></td></tr><tr><td><p>Added</p></td><td><p>Intel Parallel Studio XE 2018 with <span class="entity">Microsoft
            Visual Studio</span> 2015 and 2017 for C, C++, and
                                Fortran</p></td><td><p>
                                    Windows
                                </p></td></tr><tr><td><p>Added</p></td><td><p>Intel Parallel Studio XE 2018 for
                                Fortran</p></td><td><p><span class="entity">macOS</span></p></td></tr><tr><td><p>Discontinued</p></td><td><p>Microsoft
                                    Visual C++<sup>&#x00AE;</sup> 2013
                                Professional</p></td><td><p>
                                    Windows
                                </p></td></tr></tbody></table></div></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion -presentation_expander -presentation_condensed"><div class="accordion-item"><div class="accordion-header"><button data-bs-toggle="collapse" data-bs-target="#expand_body_mw_2a6fe37d-4569-49ec-a844-b7265467a6fd" aria-controls="expand_body_mw_2a6fe37d-4569-49ec-a844-b7265467a6fd" class="accordion-button collapsed" aria-expanded="false"><h3 id="mw_2a6fe37d-4569-49ec-a844-b7265467a6fd">R2018a: <span class="remove_bold">Access MATLAB data and objects more easily from C++</span></h3></button></div><div id="expand_body_mw_2a6fe37d-4569-49ec-a844-b7265467a6fd" class="accordion-collapse collapsed collapse"><div class="accordion-body"><p>Author MEX functions using modern C++ design patterns, extended data type support,
                and MATLAB copy-on-write semantics for faster handling of large data arrays. For
                more information, see <a href="../cpp-mex-file-applications.html" class="a">Write C++ Functions Callable from MATLAB (MEX Files)</a>.</p><p>If you do not need MEX files that work in R2017b and earlier and you are familiar
                with modern C++, then consider using the new <a href="../matlab_external/cpp-mex-api.html" class="a">C++ MEX API</a> and <a href="../matlab-data-array.html" class="a">MATLAB Data API for C++</a>. If you are more comfortable working in
                the C language, continue using the C MEX API and the C Matrix
                API.</p></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion -presentation_expander -presentation_condensed"><div class="accordion-item"><div class="accordion-header"><button data-bs-toggle="collapse" data-bs-target="#expand_body_mw_2f57f697-189c-45b4-b584-07776805a7d2" aria-controls="expand_body_mw_2f57f697-189c-45b4-b584-07776805a7d2" class="accordion-button collapsed" aria-expanded="false"><h3 id="mw_2f57f697-189c-45b4-b584-07776805a7d2">R2018a: <span class="remove_bold">Build C MEX files with interleaved complex API</span></h3></button></div><div id="expand_body_mw_2f57f697-189c-45b4-b584-07776805a7d2" class="accordion-collapse collapsed collapse"><div class="accordion-body"><p>MATLAB uses an <em class="firstterm">interleaved</em> storage representation of
                complex numbers. The term <em class="firstterm">interleaved complex</em> refers to this
                representation, where the real and imaginary parts are stored together. For more
                information, see <a href="../matlab_external/matlab-support-for-interleaved-complex.html" class="a">MATLAB Support for Interleaved Complex API in MEX Functions</a>.</p><p>If you build C MEX functions, C/C++ MEX S-functions, or standalone MATLAB engine and MAT file applications, then you should review <a href="../matlab_external/do-i-need-to-upgrade-my-mex-files-to-use-interleaved-complex.html" class="a">Do I Need to Upgrade My MEX Files to Use Interleaved Complex API?</a>
                MATLAB does not support the interleaved complex API for Fortran
                functions.</p><p>This change does not affect the MATLAB language. You can continue to use the functionality described in <a href="../complex-numbers.html" class="a">Complex Numbers</a> without any modification of your
                functions and scripts.</p></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion -presentation_expander -presentation_condensed"><div class="accordion-item"><div class="accordion-header"><button data-bs-toggle="collapse" data-bs-target="#expand_body_mw_47d38880-bc5d-466e-9362-95501e63d5ea" aria-controls="expand_body_mw_47d38880-bc5d-466e-9362-95501e63d5ea" class="accordion-button collapsed" aria-expanded="false"><h3 id="mw_47d38880-bc5d-466e-9362-95501e63d5ea">R2018a: <span class="remove_bold">Release-specific build options</span></h3></button></div><div id="expand_body_mw_47d38880-bc5d-466e-9362-95501e63d5ea" class="accordion-collapse collapsed collapse"><div class="accordion-body"><p>The <code class="function">mex</code> command has new build options,
                    <code class="literal remove_text_wrapping">-R2017b</code> and <code class="literal remove_text_wrapping">-R2018a</code>, which link with
                release-specific versions of the <a href="../cc-mx-matrix-library.html" class="a">C Matrix API</a>.</p><div class="itemizedlist"><ul><li><p><code class="literal remove_text_wrapping">-R2017b</code> &#8212; Default option. This option is
                        equivalent to the command:</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>mex <span style="color:#A020F0">mymex.c</span> <span style="color:#A020F0">-largeArrayDims</span> <span style="color:#A020F0">-DMEX_DOUBLE_HANDLE</span></pre></div></div></div></li><li><p><code class="literal remove_text_wrapping">-R2018a</code> &#8212; Uses the interleaved complex API,
                        which includes the typed data access functions. For more information, see
                            <a href="../matlab_external/matlab-support-for-interleaved-complex.html" class="a">MATLAB Support for Interleaved Complex API in MEX Functions</a>.</p></li></ul></div></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion -presentation_expander -presentation_condensed"><div class="accordion-item"><div class="accordion-header"><button data-bs-toggle="collapse" data-bs-target="#expand_body_mw_b69f3d89-aef8-4d90-9795-b8bcd0ee6f68" aria-controls="expand_body_mw_b69f3d89-aef8-4d90-9795-b8bcd0ee6f68" class="accordion-button collapsed" aria-expanded="false"><h3 id="mw_b69f3d89-aef8-4d90-9795-b8bcd0ee6f68">R2018a: <span class="remove_bold">Specify version of Boost library</span></h3></button></div><div id="expand_body_mw_b69f3d89-aef8-4d90-9795-b8bcd0ee6f68" class="accordion-collapse collapsed collapse"><div class="accordion-body"><p>Although MATLAB builds with Boost library version 1.56.0, as of  R2018a, you can
                specify any Boost library version in a MEX function.</p></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion -presentation_expander -presentation_condensed"><div class="accordion-item"><div class="accordion-header"><button data-bs-toggle="collapse" data-bs-target="#expand_body_mw_438ccf58-4696-475d-a1ee-8a8beff44c87" aria-controls="expand_body_mw_438ccf58-4696-475d-a1ee-8a8beff44c87" class="accordion-button collapsed" aria-expanded="false"><h3 id="mw_438ccf58-4696-475d-a1ee-8a8beff44c87">R2018a: <span class="remove_bold">Compiler support changed</span><span class="icon-alert-warning icon_alert_color"></span></h3></button></div><div id="expand_body_mw_438ccf58-4696-475d-a1ee-8a8beff44c87" class="accordion-collapse collapsed collapse"><div class="accordion-body"><p>This table lists the changes to compiler support in MATLAB for building C interfaces, MEX files, and standalone MATLAB engine and MAT file applications.</p><p>For continued support for building your applications, consider upgrading to a
                supported compiler shown in <a href="https://www.mathworks.com/content/dam/mathworks/mathworks-dot-com/support/sysreq/files/SystemRequirements-Release2018a_SupportedCompilers.pdf" target="_blank">Supported and Compatible Compilers &#8211; Release 2018a</a>.</p><div class="table-responsive"><table class="table table-condensed"><colgroup><col class="tcol1" width="21%"><col class="tcol2" width="58%"><col class="tcol3" width="21%"></colgroup><thead><tr><th>Support</th><th>Compiler</th><th>Platform</th></tr></thead><tbody><tr><td><p>Added</p></td><td><p>GNU<sup>&#x00AE;</sup> gcc and gfortran version 6.x. Version 6.3
                                    recommended.</p></td><td><p>
                                    Linux
                                </p></td></tr><tr><td><p>Discontinued</p></td><td><p>GNU gcc and gfortran version 4.9.x</p></td><td><p>
                                    Linux
                                </p></td></tr><tr><td><p>Discontinued</p></td><td><p><span class="entity">Apple Xcode</span> 7.x</p></td><td><p><span class="entity">macOS</span></p></td></tr><tr><td><p>Discontinued</p></td><td><p>Intel C++ Composer XE 2013</p></td><td><p>
                                    Windows
                                </p></td></tr><tr><td><p>Discontinued</p></td><td>Intel Visual Fortran Composer XE 2013</td><td><p>
                                    Windows
                                </p></td></tr><tr><td><p>Discontinued</p></td><td><p>Intel Fortran Composer XE 2013</p></td><td><p><span class="entity">macOS</span></p></td></tr><tr><td><p>To be phased out</p></td><td><p>Visual C++ 2013 Professional</p></td><td><p>
                                    Windows
                                </p></td></tr></tbody></table></div></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion -presentation_expander -presentation_condensed"><div class="accordion-item"><div class="accordion-header"><button data-bs-toggle="collapse" data-bs-target="#expand_body_mw_a337fcac-8829-4636-8999-19ae60006393" aria-controls="expand_body_mw_a337fcac-8829-4636-8999-19ae60006393" class="accordion-button collapsed" aria-expanded="false"><h3 id="mw_a337fcac-8829-4636-8999-19ae60006393">R2017b: <span class="remove_bold">Compiler support changed</span><span class="icon-alert-warning icon_alert_color"></span></h3></button></div><div id="expand_body_mw_a337fcac-8829-4636-8999-19ae60006393" class="accordion-collapse collapsed collapse"><div class="accordion-body"><p>This table lists the changes to compiler support in MATLAB for building C interfaces, MEX files, and standalone MATLAB engine and MAT file applications.</p><p>For continued support for building your applications, consider upgrading to a
                supported compiler shown in <a href="https://www.mathworks.com/content/dam/mathworks/mathworks-dot-com/support/sysreq/files/SystemRequirements-Release2017b_SupportedCompilers.pdf" target="_blank">Supported and Compatible Compilers &#8211; Release 2017b</a>.</p><div class="table-responsive"><table class="table table-condensed"><colgroup><col class="tcol1" width="21%"><col class="tcol2" width="58%"><col class="tcol3" width="21%"></colgroup><thead><tr><th>Support</th><th>Compiler</th><th>Platform</th></tr></thead><tbody><tr><td><p>Added</p></td><td><p><span class="entity">Microsoft
            Visual C++</span>  2017 Professional, Community, and Enterprise
                                    editions</p></td><td><p>Windows</p></td></tr><tr><td><p>Added</p></td><td><p><span class="entity">Microsoft
            Visual C++</span> 2015 and 2013 Community and Enterprise editions in
                                    addition to continued support for the Professional
                                    edition</p></td><td><p>Windows</p></td></tr><tr><td><p>Added</p></td><td><p><span class="entity">Microsoft
            Visual Studio</span> 2015 (v140) toolset installed over Visual Studio
                                    2017</p></td><td><p>Windows</p></td></tr><tr><td><p>Added</p></td><td><p>MinGW-w64 version 5.3.0 compiler from <a href="https://www.mingw-w64.org/" target="_blank">https://www.mingw-w64.org/</a></p></td><td><p>Windows</p></td></tr><tr><td><p>Added</p></td><td><p>Intel Parallel Studio XE 2017 with <span class="entity">Microsoft
            Visual Studio</span> 2017 for C, C++, and
                                Fortran</p></td><td><p>Windows</p></td></tr><tr><td><p>Discontinued</p></td><td><p>MinGW-w64 version 4.9.2 compiler from
                                TDM-GCC</p></td><td><p>Windows</p></td></tr><tr><td><p>Discontinued</p></td><td><p><span class="entity">Microsoft
            Visual C++</span>  2012 Professional</p></td><td><p>Windows</p></td></tr><tr><td>Discontinued</td><td><p>Microsoft Windows
                                    SDK 7.1</p></td><td><p>Windows</p></td></tr><tr><td><p>To be phased out</p></td><td><p>Support for GNU gcc and gfortran version 4.9 will be discontinued
                                    in a future release, at which time new versions will be
                                    supported.</p></td><td><p>Linux</p></td></tr></tbody></table></div></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion -presentation_expander -presentation_condensed"><div class="accordion-item"><div class="accordion-header"><button data-bs-toggle="collapse" data-bs-target="#expand_body_mw_69a8fbb9-7ece-409c-a19e-9b6d151ab0cb" aria-controls="expand_body_mw_69a8fbb9-7ece-409c-a19e-9b6d151ab0cb" class="accordion-button collapsed" aria-expanded="false"><h3 id="mw_69a8fbb9-7ece-409c-a19e-9b6d151ab0cb">R2017a: <span class="remove_bold">MEX builds with 64-bit API by default</span><span class="icon-alert-warning icon_alert_color"></span></h3></button></div><div id="expand_body_mw_69a8fbb9-7ece-409c-a19e-9b6d151ab0cb" class="accordion-collapse collapsed collapse"><div class="accordion-body"><span id="mex_build_64bit_by_default" class="anchor_target"></span><p>The <code class="function">mex</code> function uses the large-array-handling API
                    (<code class="literal remove_text_wrapping">-largeArrayDims</code> option) by default. Best practice is to
                update your MEX source code to use this library and rebuild the MEX file. For
                instructions, see <a href="../matlab_external/upgrade-mex-files-to-use-interleaved-complex.html" class="a">Upgrade MEX Files to Use Interleaved Complex API</a>.</p><p>You can run existing binary MEX files without rebuilding. For more information,
                see <a href="../matlab_external/version-compatibility.html" class="a">MEX Version Compatibility</a>.</p><p>If you build MEX files without using the <code class="function">mex</code> command options
                    <code class="literal remove_text_wrapping">-largeArrayDims</code> or <code class="literal remove_text_wrapping">-compatibleArrayDims</code>,
                then review the following table to avoid depending on default behavior that changes
                in R2017a. For information about the consequences of using the
                    <code class="literal remove_text_wrapping">-compatibleArrayDims</code> option to build MEX files, see <a href="../matlab_external/what-if-i-do-not-upgrade.html" class="a">What If I Do Not Upgrade?</a></p><p>The default build mode for C MEX S-functions remains
                    <code class="literal remove_text_wrapping">-compatibleArrayDims</code>.</p><p>This table shows the changes you must make to your <code class="function">mex</code>
                command to rebuild MEX files or S-functions.</p><div class="table-responsive"><table class="table table-condensed"><colgroup><col class="tcol1" width="13%"><col class="tcol2" width="43%"><col class="tcol3" width="43%"></colgroup><thead><tr><th><p>Source Code</p></th><th>mex command &#8212; R2016b and earlier</th><th>mex command &#8212; R2017a and later</th></tr></thead><tbody><tr><td rowspan="2"><p>MEX file C/C++ or Fortran source code uses
                                    32-bit API</p></td><td><code class="literal">mex myMex.c</code></td><td><code class="literal">mex myMex.c -compatibleArrayDims</code></td></tr><tr><td><code class="literal">mex myMex.c -compatibleArrayDims</code></td><td><p>No change.</p></td></tr><tr><td><p>MEX file C/C++ or Fortran source code uses 64-bit
                                    API</p></td><td><code class="literal">mex myMex.c -largeArrayDims</code></td><td><p>Use:<br/>
<code class="literal">mex
                                    myMex.c</code></p><p>Or continue to
                                        use:<br/>
<code class="literal">mex myMex.c
                                        -largeArrayDims</code></p></td></tr><tr><td rowspan="2"><p>S-function C/C++ source code uses 32-bit
                                    API</p></td><td><code class="literal">mex sfun.c</code></td><td><p>No change.</p></td></tr><tr><td><code class="literal">mex sfun.c -compatibleArrayDims</code></td><td><p>No change.</p></td></tr><tr><td><p>S-function C/C++ source code uses 64-bit API</p></td><td><code class="literal">mex sfun.c -largeArrayDims</code></td><td><p>No change.</p></td></tr><tr><td><p>S-function Fortran source code uses 32-bit
                                API</p></td><td><code class="literal">mex sfun.F</code></td><td><code class="literal">mex sfun.F -compatibleArrayDims</code></td></tr><tr><td><p>S-function Fortran source code uses 64-bit
                                API</p></td><td><code class="literal">mex sfun.F -largeArrayDims</code></td><td><p>No change.</p></td></tr></tbody></table></div></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion -presentation_expander -presentation_condensed"><div class="accordion-item"><div class="accordion-header"><button data-bs-toggle="collapse" data-bs-target="#expand_body_mw_0180cc87-fa50-42ea-8d66-02443f7afafc" aria-controls="expand_body_mw_0180cc87-fa50-42ea-8d66-02443f7afafc" class="accordion-button collapsed" aria-expanded="false"><h3 id="mw_0180cc87-fa50-42ea-8d66-02443f7afafc">R2017a: <span class="remove_bold">Compiler support changed</span><span class="icon-alert-warning icon_alert_color"></span></h3></button></div><div id="expand_body_mw_0180cc87-fa50-42ea-8d66-02443f7afafc" class="accordion-collapse collapsed collapse"><div class="accordion-body"><p>MATLAB added support for the compilers in this table for building C
                interfaces, MEX files, and standalone MATLAB engine and MAT file applications.</p><div class="table-responsive"><table class="table table-condensed"><colgroup><col class="tcol1" width="21%"><col class="tcol2" width="58%"><col class="tcol3" width="21%"></colgroup><thead><tr><th>Support</th><th>Compiler</th><th>Platform</th></tr></thead><tbody><tr><td><p>Added</p></td><td><p>Intel Parallel Studio XE
                                2017</p></td><td><p>Windows</p></td></tr><tr><td><p>Added</p></td><td><p>Intel Parallel Studio XE 2017 for Fortran</p></td><td><p><span class="entity">macOS</span></p></td></tr><tr><td><p>Added</p></td><td><p>Xcode 8.x, as of R2016b</p></td><td><p><span class="entity">macOS</span></p></td></tr></tbody></table></div></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion -presentation_expander -presentation_condensed"><div class="accordion-item"><div class="accordion-header"><button data-bs-toggle="collapse" data-bs-target="#expand_body_mw_bf1ce90a-92de-44b7-85c6-162904d3923d" aria-controls="expand_body_mw_bf1ce90a-92de-44b7-85c6-162904d3923d" class="accordion-button collapsed" aria-expanded="false"><h3 id="mw_bf1ce90a-92de-44b7-85c6-162904d3923d">R2016b: <span class="remove_bold">Version embedded in MEX files</span></h3></button></div><div id="expand_body_mw_bf1ce90a-92de-44b7-85c6-162904d3923d" class="accordion-collapse collapsed collapse"><div class="accordion-body"><p>The <code class="function">mex</code> command embeds a MEX version number in MEX files
                built by MATLAB R2016b and later. This number identifies the version of the Matrix API
                that the MEX function expects to link against at runtime.</p><p>If you do not use the <code class="function">mex</code> command, then you must update the
                commands you use to build MEX files. For more information, see <a href="https://www.mathworks.com/matlabcentral/answers/377799-compiling-mex-files-without-the-mex-command">Compiling MEX Files without the mex Command</a>.</p></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion -presentation_expander -presentation_condensed"><div class="accordion-item"><div class="accordion-header"><button data-bs-toggle="collapse" data-bs-target="#expand_body_mw_112b3da0-0279-4909-9513-cd54cac733ff" aria-controls="expand_body_mw_112b3da0-0279-4909-9513-cd54cac733ff" class="accordion-button collapsed" aria-expanded="false"><h3 id="mw_112b3da0-0279-4909-9513-cd54cac733ff">R2016b: <span class="remove_bold">Compiler support changed</span><span class="icon-alert-warning icon_alert_color"></span></h3></button></div><div id="expand_body_mw_112b3da0-0279-4909-9513-cd54cac733ff" class="accordion-collapse collapsed collapse"><div class="accordion-body"><p>This table lists the changes to compiler support in MATLAB for building C interfaces, MEX files, and standalone MATLAB engine and MAT file applications.</p><p>For continued support for building your applications, consider upgrading to a
                supported compiler shown in <a href="https://www.mathworks.com/content/dam/mathworks/mathworks-dot-com/support/sysreq/files/SystemRequirements-Release2016b_SupportedCompilers.pdf" target="_blank">Supported and Compatible Compilers &#8211; Release 2016b</a>.</p><div class="table-responsive"><table class="table table-condensed"><colgroup><col class="tcol1" width="21%"><col class="tcol2" width="58%"><col class="tcol3" width="21%"></colgroup><thead><tr><th>Support</th><th>Compiler</th><th>Platform</th></tr></thead><tbody><tr><td><p>Added</p></td><td><p>GNU gcc and gfortran version
                                4.9</p></td><td><p>Linux</p></td></tr><tr><td><p>Discontinued</p></td><td><p>GNU gcc and gfortran version
                                4.7</p></td><td><p>Linux</p></td></tr><tr><td><p>Added</p></td><td><p>Intel Parallel Studio XE 2016 for Fortran
                                        <br/>
Intel Parallel Studio XE 2015 for
                                    Fortran</p></td><td><p><span class="entity">Mac OS X</span></p></td></tr><tr><td><p>Discontinued </p></td><td><p><span class="entity">Microsoft
            Visual Studio</span> 2010 Professional</p></td><td><p>Windows</p></td></tr><tr><td><p>To be phased out</p></td><td><p>Visual C++ 2012
                                        Professional</p><br/>
<p><span class="entity">Apple Xcode</span> 6.2</p></td><td><p>Windows</p><br/>
<p><span class="entity">Mac OS X</span></p></td></tr></tbody></table></div></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion -presentation_expander -presentation_condensed"><div class="accordion-item"><div class="accordion-header"><button data-bs-toggle="collapse" data-bs-target="#expand_body_mw_eef1f9d3-c4c4-4397-ac87-3845ebc96e0d" aria-controls="expand_body_mw_eef1f9d3-c4c4-4397-ac87-3845ebc96e0d" class="accordion-button collapsed" aria-expanded="false"><h3 id="mw_eef1f9d3-c4c4-4397-ac87-3845ebc96e0d">R2016a: <span class="remove_bold">MEX command does not accept <code class="literal">.bat</code> or <code class="literal">.sh</code>                 compiler options files</span><span class="icon-alert-warning icon_alert_color"></span></h3></button></div><div id="expand_body_mw_eef1f9d3-c4c4-4397-ac87-3845ebc96e0d" class="accordion-collapse collapsed collapse"><div class="accordion-body"><p>The <code class="function">mex</code> command <code class="literal remove_text_wrapping">-f</code> option does not accept
                arguments with <code class="literal">.bat</code> or <code class="literal">.sh</code> file
                extensions.</p><p>Instead of using the <code class="literal remove_text_wrapping">-f</code> option to specify a compiler, use the
                workflows described in <a href="../matlab_external/changing-default-compiler.html" class="a">Change Default Compiler</a>.</p><p>You can modify compiler build options using <code class="function">mex</code> command
                options. For example, use the <code class="literal remove_text_wrapping">-L</code> and <code class="literal remove_text_wrapping">-I</code>
                options to locate libraries on your system. Use the
                        <code class="literal"><em class="replaceable"><code>varname</code></em>=<em class="replaceable"><code>varvalue</code></em></code>
                option to pass options to the compiler.</p></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion -presentation_expander -presentation_condensed"><div class="accordion-item"><div class="accordion-header"><button data-bs-toggle="collapse" data-bs-target="#expand_body_mw_29f98b1f-58e6-4d17-97be-bdcd482d273f" aria-controls="expand_body_mw_29f98b1f-58e6-4d17-97be-bdcd482d273f" class="accordion-button collapsed" aria-expanded="false"><h3 id="mw_29f98b1f-58e6-4d17-97be-bdcd482d273f">R2016a: <span class="remove_bold">Compiler support changed</span><span class="icon-alert-warning icon_alert_color"></span></h3></button></div><div id="expand_body_mw_29f98b1f-58e6-4d17-97be-bdcd482d273f" class="accordion-collapse collapsed collapse"><div class="accordion-body"><p>This table lists the changes to compiler support in MATLAB for building C interfaces, MEX files, and standalone MATLAB engine and MAT file applications.</p><p>For continued support for building your applications, consider upgrading to a
                supported compiler shown in <a href="https://www.mathworks.com/content/dam/mathworks/mathworks-dot-com/support/sysreq/files/SystemRequirements-Release2016a_SupportedCompilers.pdf" target="_blank">Supported and Compatible Compilers &#8211; Release 2016a</a>.</p><div class="table-responsive"><table class="table table-condensed"><colgroup><col class="tcol1" width="21%"><col class="tcol2" width="58%"><col class="tcol3" width="21%"></colgroup><thead><tr><th>Support</th><th>Compiler</th><th>Platform</th></tr></thead><tbody><tr><td><p>Added</p></td><td><p>Intel Parallel Studio XE 2016
                                        <br/>
Intel Parallel Studio XE 2015
                                        <br/>
Intel C++ Composer XE 2013 with <span class="entity">Microsoft
            Visual Studio</span> 2013</p></td><td><p>Windows</p></td></tr><tr><td><p>Added</p></td><td><p><span class="entity">Apple Xcode</span> 7.x</p></td><td><p><span class="entity">Mac OS X</span></p></td></tr><tr><td><p>Discontinued </p></td><td><p><span class="entity">Microsoft
            Visual Studio</span> 2008 Professional Edition
                                        <br/>
<span class="entity">Intel C++</span> Composer XE 2011 with <span class="entity">Microsoft
            Visual Studio</span> 2010 <br/>
Intel Visual Fortran Composer XE 2011 with <span class="entity">Microsoft
            Visual Studio</span> 2010 </p></td><td><p>Windows</p></td></tr><tr><td><p>To be phased out</p></td><td><p><span class="entity">Microsoft
            Visual Studio</span> 2010 Professional
                                    Edition<br/>
Microsoft Windows SDK
                                7.1</p></td><td><p>Windows</p></td></tr></tbody></table></div></div></div></div></div></div></div></div><div class="ref_sect"><h2 id="btw17rw-1_seealso">See Also</h2><p><span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="dbmex.html"><span itemprop="name"><code class="function">dbmex</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="mexext.html"><span itemprop="name"><code class="function">mexext</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="computer.html"><span itemprop="name"><code class="function">computer</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="system.html"><span itemprop="name"><code class="function">system</code></span></a></span></p><div class="examples_container"><h3 class="remove_border">Topics</h3><div itemprop="content"><ul class="list-unstyled"><li><a href="../matlab_external/table-of-mex-file-source-code-files.html" class="a">Tables of MEX Function Source Code Examples</a></li><li><a href="https://www.mathworks.com/support/requirements/supported-compilers.html">Supported and Compatible Compilers</a></li><li><a href="../matlab_external/changing-default-compiler.html" class="a">Change Default Compiler</a></li><li><a href="../matlab-data-array.html" class="a">MATLAB Data API for C++</a></li><li><a href="../matlab_external/build-c-mex-programs.html" class="a">Build C++ MEX Programs</a></li><li><a href="../cc-mx-matrix-library.html" class="a">C Matrix API</a></li><li><a href="../fortran-mx-matrix-library.html" class="a">Fortran Matrix API</a></li><li><a href="../matlab_external/build-an-executable-mex-file.html" class="a">Build C MEX Function</a></li><li><a href="../matlab_external/upgrade-mex-files-to-use-interleaved-complex.html" class="a">Upgrade MEX Files to Use Interleaved Complex API</a></li><li><a href="../matlab_external/upgrading-mex-files-to-use-64-bit-api.html" class="a">Upgrade MEX Files to Use 64-Bit API</a></li><li><a href="../matlab_external/upgrade-mex-files-to-use-graphics-objects.html" class="a">Upgrade MEX Files to Use Graphics Objects</a></li></ul></div></div></div>
    </div></div></section><div xmlns="http://www.w3.org/1999/xhtml" class="clearfix"></div>
<div xmlns="http://www.w3.org/1999/xhtml" align="center" class="feedbackblock" id="mw_docsurvey"><script src="https://www.mathworks.com/help/docsurvey/docfeedback.js"></script>
<script>loadSurveyHidden();</script>
<link rel="stylesheet" href="https://www.mathworks.com/help/docsurvey/release/index-css.css" type="text/css">
<script src="https://www.mathworks.com/help/docsurvey/release/bundle.index.js"></script>

<script>initDocSurvey();</script></div></main>


</div>
</div>
</div>
</div><!--close_0960-->
<footer xmlns="http://www.w3.org/1999/xhtml" id="footer" class="bs-footer">
<div class="container-fluid">
<div class="footer">
<div class="row">
<div class="col-12">
<p class="copyright">Â© 1994-2025 The MathWorks, Inc.</p>
<ul class="footernav"><li class="footernav_help"><a href="matlab:web(matlab.internal.licenseAgreement)">Terms of Use</a></li><li class="footernav_patents"><a href="matlab:web([matlabroot '/patents.txt'])">Patents</a></li><li class="footernav_trademarks"><a href="matlab:web([matlabroot '/trademarks.txt'])">Trademarks</a></li><li class="footernav_piracy"><a href="matlab:web([docroot '/acknowledgments.html'])">Acknowledgments</a></li></ul></div>
</div>
</div>
</div>
</footer>
</div><!--close row-offcanvas-->
</div><!--close_0970-->
</body>
</html>
