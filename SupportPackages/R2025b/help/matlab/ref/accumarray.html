<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage">
<head>
<meta xmlns="http://www.w3.org/1999/xhtml" charset="utf-8">
<meta xmlns="http://www.w3.org/1999/xhtml" name="viewport" content="width=device-width, initial-scale=1.0">
<meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="X-UA-Compatible" content="IE=edge">
<title>accumarray</title>
<script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
      {
      "@context": "http://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement":
      [{
          "@type": "ListItem",
          "position": 1,

          "item": {
          "@id": "../index.html",
          "name": "MATLAB"
}

          } 
        ,
        {
          "@type": "ListItem",
          "position": 2,

          "item": {
          "@id": "../data-import-and-analysis.html",
          "name": "Data Import and Analysis"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 3,

          "item": {
          "@id": "../preprocessing-data.html",
          "name": "Data Preprocessing"
}

          }]
      }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "VisibleBreadcrumbs",

        "itemListElement":
        [
        "preprocessing-data"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "ExtendedCapabilities",

        "itemListElement":
        [
{
          "@type": "ListItem",
          "position": 1,
"item": 
        {
        "@context": "http://schema.org",
        "@type": "PropertyValue",
          "name": "codegen",
          "value": "limited"

        }
          },
{
          "@type": "ListItem",
          "position": 2,
"item": 
        {
        "@context": "http://schema.org",
        "@type": "PropertyValue",
          "name": "gpuarrays",
          "value": "limited"

        }
          },
{
          "@type": "ListItem",
          "position": 3,
"item": 
        {
        "@context": "http://schema.org",
        "@type": "PropertyValue",
          "name": "threadsupport",
          "value": "full"

        }
          }
        ]
        }
        </script>
<meta xmlns="http://www.w3.org/1999/xhtml" name="chunktype" content="refpage"><meta xmlns="http://www.w3.org/1999/xhtml" name="refentity" itemprop="refentity" content="function:accumarray"><link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/bootstrap.min.css" rel="stylesheet" type="text/css">


  <meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="Content-Script-Type" content="text/javascript">
<meta xmlns="http://www.w3.org/1999/xhtml" name="toctype" itemprop="pagetype" content="fcn">
<meta xmlns="http://www.w3.org/1999/xhtml" name="infotype" itemprop="infotype" content="ref/function">

<meta xmlns="http://www.w3.org/1999/xhtml" name="description" itemprop="description" content="This MATLAB function sums groups of data by accumulating elements of a vector data according to the groups specified in ind."><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-3.6.0.min.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-migrate.min.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_lg.css" rel="stylesheet" media="screen and (min-width: 1200px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_md.css" rel="stylesheet" media="screen and (min-width: 992px) and (max-width: 1199px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm+xs.css" rel="stylesheet" media="screen and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm.css" rel="stylesheet" media="screen and (min-width: 768px) and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_xs.css" rel="stylesheet" media="screen and (max-width: 767px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_offcanvas_v2.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/shared/highlight/styles/mwdochighlight.min.css" rel="stylesheet" type="text/css">

<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/l10n.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/f1help.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/mw.imageanimation.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/jquery.highlight.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/underscore-min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/use_platform_screenshots.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/suggest.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/overload.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/helpservices.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/productfilter.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/matlab_dialog_shared.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/highlight/highlight.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/localstorage.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/product_group.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/saxonjs/SaxonJS2.rt.js"></script><script xmlns="http://www.w3.org/1999/xhtml">
            window.history.replaceState(window.location.href, null, ""); // Initialize
            window.onload = function() {    
            mystylesheetLocation = "../../includes/shared/scripts/product_group-sef.json";
            mysourceLocation = "../../docset/docset.xml";
            product_help_location = "matlab";
            pagetype = "refentry";
            doccentertype = "product";
            langcode = "";
            getProductFilteredList(mystylesheetLocation, mysourceLocation, product_help_location, pagetype, doccentertype, langcode);  
            }
          </script>




<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery.mobile.custom.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/bootstrap.bundle.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/global.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_base.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_installed.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_print.css" rel="stylesheet" type="text/css" media="print">
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/equationrenderer/release/MathRenderer.js"></script>
</head>
<body id="responsive_offcanvas">
<div xmlns="http://www.w3.org/1999/xhtml" id="doc_header_spacer" class="header"></div>
<div xmlns="http://www.w3.org/1999/xhtml" class="section_header level_3"><div class="container-fluid"><div class="row" id="mobile_search_row"><div class="col-sm-6 col-md-7 has_horizontal_local_nav" id="section_header_title"><div class="section_header_content"><div class="section_header_title"><h1><a href="../../documentation-center.html">Help Center</a></h1></div></div></div><div class="col-12 col-sm-6 col-md-5" id="mobile_search"><div class="search_nested_content_container"><form id="docsearch_form" name="docsearch_form" method="get" data-release="R2025b" data-language="en" action="../../templates/searchresults.html"><div class="input-group tokenized_search_field"><label class="visually-hidden form-label">Search Help</label><input type="text" class="form-control conjoined_search" autocomplete="off" name="qdoc" placeholder="Search Help" id="docsearch"> <div><button type="submit" name="submitsearch" id="submitsearch" class="btn icon-search btn_search_adjacent btn_search icon_16" tabindex="-1"></button></div></div></form></div><button class="btn icon-remove btn_search float-end icon_32 d-sm-none" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div><div class="d-sm-none" id="search_actuator"><button class="btn icon-search btn_search float-end icon_16" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div></div></div></div><div class="row-offcanvas row-offcanvas-left">
<div xmlns="http://www.w3.org/1999/xhtml" class="sidebar-offcanvas" id="sidebar">
<nav class="offcanvas_nav" role="navigation">
<div class="offcanvas_actuator" data-bs-toggle="offcanvas" data-bs-target="#sidebar" id="nav_toggle"><button type="button" class="btn"><span class="visually-hidden">Off-Canvas Navigation Menu Toggle
                  Off-Canvas Navigation Menu Toggle</span><span class="icon-menu"></span></button><span class="offcanvas_actuator_label" id="translation_icon-menu" tabindex="-1" aria-hidden="true"></span></div><div class="nav_list_wrapper" id="nav_list_wrapper"><nav class="offcanvas_nav" role="navigation"><ul class="nav_breadcrumb" id="ul_left_nav_ancestors"><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../../documentation-center.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Documentation Home</span></a></li></ul>
<ul class="nav_disambiguation"><li><a href="../index.html?s_tid=CRUX_lftnav" id="index">MATLAB</a>
</li>
<li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../data-import-and-analysis.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Data Import and Analysis</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../preprocessing-data.html?s_tid=CRUX_lftnav" itemprop="url" id="bvfkbas-1"><span itemprop="title">Data Preprocessing</span></a></li></ul><div class="search_refine_v4"><div id="facets_area"><ul class="nav_scrollspy nav list-unstyled" id="pnav">
<li class="nav_scrollspy_function nav-item notranslate"><a href="#responsive_offcanvas"><span class="refname">accumarray</span></a></li>
<li class="nav_scrollspy_title nav-item" id="SSPY810-refentry">On this page</li>
<!--ADD_REFENTRY_TITLE_HERE 11--><li><a href="#d126e3667" class="intrnllnk">Syntax</a></li><li class="nav-item"><a href="#description" class="nav-link intrnllnk">Description</a></li><li class="nav-item"><a href="#bt35io6-5" class="nav-link intrnllnk">Examples</a><ul class="nav"><li class="nav-item"><a href="#bt35io6-2" class="nav-link intrnllnk">Sum Data by Group</a></li></ul><ul class="nav"><li class="nav-item"><a href="#bt4vyph-2" class="nav-link intrnllnk">Count Elements in Group</a></li></ul><ul class="nav"><li class="nav-item"><a href="#bt3682d-1_1" class="nav-link intrnllnk">Specify Output Size</a></li></ul><ul class="nav"><li class="nav-item"><a href="#bt3682e-1" class="nav-link intrnllnk">Variance by Group</a></li></ul><ul class="nav"><li class="nav-item"><a href="#bt40_mn-1" class="nav-link intrnllnk">Return Sum with Integer Type Output</a></li></ul><ul class="nav"><li class="nav-item"><a href="#bt4vy9n-5" class="nav-link intrnllnk">Group Values in Cell Array</a></li></ul><ul class="nav"><li class="nav-item"><a href="#bt3682e-1_1" class="nav-link intrnllnk">Specify Fill Value</a></li></ul><ul class="nav"><li class="nav-item"><a href="#bt3682e-1_2" class="nav-link intrnllnk">Change Output Sparsity</a></li></ul></li><li class="nav-item"><a href="#bt35io5-3" class="nav-link intrnllnk">Input Arguments</a><ul class="nav"><li class="nav-item"><a href="#bt35io5-1-subs" class="nav-link intrnllnk">ind</a></li><li class="nav-item"><a href="#bt35io5-1-val" class="nav-link intrnllnk">data</a></li><li class="nav-item"><a href="#bt35io5-1-sz" class="nav-link intrnllnk">sz</a></li><li class="nav-item"><a href="#bt35io5-1-fun" class="nav-link intrnllnk">fun</a></li><li class="nav-item"><a href="#bt35io5-1-fillval" class="nav-link intrnllnk">fillval</a></li><li class="nav-item"><a href="#bt35io5-1-issparse" class="nav-link intrnllnk">issparse</a></li></ul></li><li class="nav-item"><a href="#bt35io6-4" class="nav-link intrnllnk">Output Arguments</a><ul class="nav"><li class="nav-item"><a href="#bt35io5-1-A" class="nav-link intrnllnk">B</a></li></ul></li><li class="nav-item"><a href="#bt4cwp6-5" class="nav-link intrnllnk">More About</a><ul class="nav"><li class="nav-item"><a href="#bt3696b-9" class="nav-link intrnllnk">Accumulating Elements</a></li></ul></li><li class="nav-item"><a href="#bt4ovq2-6" class="nav-link intrnllnk">Tips</a></li><li class="nav-item"><a href="#refsect-extended-capabilities" class="nav-link intrnllnk">Extended Capabilities</a></li><li class="nav-item"><a href="#bt35io5-1_vh" class="nav-link intrnllnk">Version History</a></li><li class="nav-item"><a href="#bt35io5-1_seealso" class="nav-link intrnllnk">See Also</a></li></ul></div></div>
</nav></div></nav>
<script src="../../includes/product/scripts/offcanvas_v2.js"></script></div><!--END.CLASS sidebar-offcanvas-->
<div class="offcanvas_content_container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sticky_header_container"><div class="horizontal_nav"><div class="horizontal_nav_container"><div class="offcanvas_horizontal_nav"><div class="container-fluid"><div class="row"><div class="col-sm-12 d-none d-sm-block"><nav class="navbar navbar-default" role="navigation" id="subnav"><div><ul class="nav navbar-nav crux_browse"><li id="crux_nav_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_example" class="crux_resource"><a href="../examples.html?category=preprocessing-data&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=preprocessing-data&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=preprocessing-data&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></nav></div><div class="d-sm-none"><div class="container-fluid"><div class="row"><div class="col-9"><div class="mobile_crux_nav_trigger"><div class="btn-group"><button type="button" class="btn btn-default dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Resources</button><ul class="dropdown-menu"><li id="crux_nav_mobile_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_mobile_example" class="crux_resource"><a href="../examples.html?category=preprocessing-data&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_mobile_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=preprocessing-data&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_mobile_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=preprocessing-data&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></div></div><div class="col-3"><div class="translate_placeholder"></div></div></div></div></div></div></div></div></div></div></div><div class="content_container" id="content_container" itemprop="content">
<div class="container-fluid">
<div class="row">
<div class="col-12">

<main id="skip_link_anchor" tabindex="-1">
<div xmlns="http://www.w3.org/1999/xhtml" id="product_info_alert"></div><section xmlns="http://www.w3.org/1999/xhtml" id="doc_center_content" lang="en" data-language="en"><div id="pgtype-ref-function"><div class="function_ref"><span id="bt35io5-1" class="anchor_target"></span><h1 class="r2025b notranslate" itemprop="title"><span class="refname">accumarray</span></h1><div class="doc_topic_desc"><div class="purpose_container"><p itemprop="purpose">Accumulate vector elements</p><div class="switch"><a href="javascript:void(0);" id="expandAllPage" data-allexpanded="true1">collapse all in page</a></div></div></div>
<div class="ref_sect"><h2 id="d126e3667">Syntax</h2><div class="syntax_signature"><div class="syntax_signature_module"><div class="code_responsive"><code class="synopsis"><a href="#d126e3674" class="intrnllnk">B = accumarray(ind,data)</a></code></div><div class="code_responsive"><code class="synopsis"><a href="#d126e3755" class="intrnllnk">B = accumarray(ind,data,sz)</a></code></div><div class="code_responsive"><code class="synopsis"><a href="#d126e3790" class="intrnllnk">B = accumarray(ind,data,sz,fun)</a></code></div><div class="code_responsive"><code class="synopsis"><a href="#d126e3828" class="intrnllnk">B = accumarray(ind,data,sz,fun,fillval)</a></code></div><div class="code_responsive"><code class="synopsis"><a href="#d126e3864" class="intrnllnk">B = accumarray(ind,data,sz,fun,fillval,issparse)</a></code></div></div></div></div><div class="clear"></div><span id="bt35io5-2" class="anchor_target"></span><h2 id="description">Description</h2><div class="descriptions"><div class="cshsummary" id="csh_bt35io5-1"><div class="description_module"><div class="description_element"><div class="code_responsive"><p><span id="d126e3674" itemprop="syntax"><code class="synopsis"><a href="#bt35io5-1-A" class="intrnllnk"><code class="argument">B</code></a> = accumarray(<a href="#bt35io5-1-subs" class="intrnllnk"><code class="argument">ind</code></a>,<a href="#bt35io5-1-val" class="intrnllnk"><code class="argument">data</code></a>)</code></span>
                sums groups of data by <a href="accumarray.html#bt3696b-9" class="intrnllnk">accumulating elements</a> of
                a vector <code class="literal">data</code> according to the groups specified in
                    <code class="literal">ind</code>. The sum is then computed over each group. The values in
                    <code class="literal">ind</code> define both the group the data belongs to and the index
                into the output array <code class="literal">B</code> where each group sum is stored.</p><p>To return the group sums in order, specify <code class="literal">ind</code> as a vector.
                Then for the group with index <code class="literal">i</code>, <code class="literal">accumarray</code>
                returns its sum in <code class="literal">B(i)</code>. For example, if <code class="literal">ind = [1 1 2
                    2]'</code> and <code class="literal">data = [1 2 3 4]'</code>, then <code class="literal">B =
                    accumarray(ind,data)</code> returns the column vector <code class="literal">B = [3
                    7]'</code>.</p><p>To return the group sums in another shape, specify <code class="literal">ind</code> as a
                matrix. For an <em class="varname">m</em>-by-<em class="varname">n</em> matrix
                    <code class="literal">ind</code>, each row represents the group assignment and an
                    <em class="varname">n</em>-dimensional index into the output <code class="literal">B</code>. For
                example, if <code class="literal">ind</code> contains two rows of the form <code class="literal">[3
                    4]</code>, then the sum of the corresponding elements in
                    <code class="literal">data</code> is stored in the (3,4) element of
                <code class="literal">B</code>.</p><p>Elements of <code class="literal">B</code> whose index does not appear in
                    <code class="literal">ind</code> are filled with <code class="literal">0</code> by default.</p></div><p class="syntax_example"><a href="accumarray.html#bt35io6-2" class="intrnllnk">example</a></p></div><div class="description_element"><div class="code_responsive"><p><span id="d126e3755" itemprop="syntax"><code class="synopsis"><a href="#bt35io5-1-A" class="intrnllnk"><code class="argument">B</code></a> = accumarray(<a href="#bt35io5-1-subs" class="intrnllnk"><code class="argument">ind</code></a>,<a href="#bt35io5-1-val" class="intrnllnk"><code class="argument">data</code></a>,<a href="#bt35io5-1-sz" class="intrnllnk"><code class="argument">sz</code></a>)</code></span>
                returns an array <code class="literal">B</code> padded to size <code class="literal">sz</code>. Specify
                    <code class="literal">sz</code> as a vector of positive integers that match or exceed the
                dimension lengths in <code class="literal">ind</code>. Extra elements in the output are filled
                with <code class="literal">0</code>. Specify <code class="literal">sz</code> as <code class="literal">[]</code> to
                let the indices in <code class="literal">ind</code> determine the size of the output.</p></div><p class="syntax_example"><a href="accumarray.html#bt3682d-1_1" class="intrnllnk">example</a></p></div><div class="description_element"><div class="code_responsive"><p><span id="d126e3790" itemprop="syntax"><code class="synopsis"><a href="#bt35io5-1-A" class="intrnllnk"><code class="argument">B</code></a> = accumarray(<a href="#bt35io5-1-subs" class="intrnllnk"><code class="argument">ind</code></a>,<a href="#bt35io5-1-val" class="intrnllnk"><code class="argument">data</code></a>,<a href="#bt35io5-1-sz" class="intrnllnk"><code class="argument">sz</code></a>,<a href="#bt35io5-1-fun" class="intrnllnk"><code class="argument">fun</code></a>)</code></span>
                applies the function <code class="literal">fun</code> to each group in <code class="literal">data</code>
                specified by <code class="literal">ind</code>. Specify <code class="literal">fun</code> using the
                    <code class="literal">@</code> symbol, such as <code class="literal">@mean</code>, or as
                    <code class="literal">[]</code> to use the default <code class="literal">@sum</code>.</p></div><p class="syntax_example"><a href="accumarray.html#bt3682e-1" class="intrnllnk">example</a></p></div><div class="description_element"><div class="code_responsive"><p><span id="d126e3828" itemprop="syntax"><code class="synopsis"><a href="#bt35io5-1-A" class="intrnllnk"><code class="argument">B</code></a> = accumarray(<a href="#bt35io5-1-subs" class="intrnllnk"><code class="argument">ind</code></a>,<a href="#bt35io5-1-val" class="intrnllnk"><code class="argument">data</code></a>,<a href="#bt35io5-1-sz" class="intrnllnk"><code class="argument">sz</code></a>,<a href="#bt35io5-1-fun" class="intrnllnk"><code class="argument">fun</code></a>,<a href="#bt35io5-1-fillval" class="intrnllnk"><code class="argument">fillval</code></a>)</code></span>
                fills all elements of <code class="literal">B</code> that are not referred to by an index in
                    <code class="literal">ind</code> with the scalar value <code class="literal">fillval</code>. Specify
                    <code class="literal">fillval</code> as <code class="literal">[]</code> to use the default value
                    <code class="literal">0</code>.</p></div><p class="syntax_example"><a href="accumarray.html#bt3682e-1_1" class="intrnllnk">example</a></p></div><div class="description_element"><div class="code_responsive"><p><span id="d126e3864" itemprop="syntax"><code class="synopsis"><a href="#bt35io5-1-A" class="intrnllnk"><code class="argument">B</code></a> = accumarray(<a href="#bt35io5-1-subs" class="intrnllnk"><code class="argument">ind</code></a>,<a href="#bt35io5-1-val" class="intrnllnk"><code class="argument">data</code></a>,<a href="#bt35io5-1-sz" class="intrnllnk"><code class="argument">sz</code></a>,<a href="#bt35io5-1-fun" class="intrnllnk"><code class="argument">fun</code></a>,<a href="#bt35io5-1-fillval" class="intrnllnk"><code class="argument">fillval</code></a>,<a href="#bt35io5-1-issparse" class="intrnllnk"><code class="argument">issparse</code></a>)</code></span>
                returns an array <code class="literal">B</code> that is sparse when
                    <code class="literal">issparse</code> is <code class="literal">true</code> or <code class="literal">1</code>,
                and full if <code class="literal">issparse</code> is <code class="literal">false</code> or
                    <code class="literal">0</code>. The output <code class="literal">B</code> is full by default.</p></div><p class="syntax_example"><a href="accumarray.html#bt3682e-1_2" class="intrnllnk">example</a></p></div></div></div></div><div class="clear"></div><div class="examples"><h2 id="bt35io6-5">Examples</h2><div class="expandableContent" id="expandableExamples"><p class="switch"><a href="javascript:void(0);" class="expandAllLink" data-allexpanded="true3">collapse all</a></p><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true" id="expand_accordion_heading_bt35io6-2"><div class="accordion-item "><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_bt35io6-2" data-bs-target="#expand_accordion_body_bt35io6-2" aria-controls="expand_accordion_body_bt35io6-2" class="accordion-button add_cursor_pointer" aria-expanded="true"><h3 id="bt35io6-2">Sum Data by Group</h3></button></div><div role="tabpanel" id="expand_accordion_body_bt35io6-2" aria-labelledby="expand_accordion_heading_bt35io6-2" class="accordion-collapse collapse show"><div class="accordion-body"><div class="examples_short_list hidden_ios_android" data-products="ML"><div data-pane="metadata" class="card metadata_container"><div class="card-body metadata_content"><div class="d-grid"><a class="btn btn_color_blue" href="matlab:openExample('matlab/AccumulateDataExample')" data-ex-genre="Live Script">Open Live Script</a></div></div></div></div><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "DigitalDocument",
          "headline": "Sum Data by Group",
          "description": "Create a vector of data and a corresponding vector ind that defines groups.",
          "thumbnailURL": "../../includes/product/images/doc_center/DefaultImage.png",
          "genre": "Live Script",
          "isBasedOn": {
          "@type": "Product",
          "name": "MATLAB"

        },
          "isPartOf": {
          "@type": "CreativeWork",
          "url": "accumarray.html"

        },
          "identifier": "matlab.AccumulateDataExample",
          "name": "AccumulateDataExample",
          "url": "accumarray.html#bt35io6-2"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "PropertyValue",
          "name": "open_command",
          "value": "matlab:openExample('matlab/AccumulateDataExample')"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "ExampleSourceFiles",

        "itemListElement":
        [
        "AccumulateDataExample.mlx"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><p class="shortdesc">Create a vector of data and a corresponding vector <code class="literal">ind</code> that defines groups. </p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>data = (1:6)'</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>data = <span class="emphasis"><em>6×1</em></span>

     1
     2
     3
     4
     5
     6

</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>ind = [1 3 4 2 4 1]'</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>ind = <span class="emphasis"><em>6×1</em></span>

     1
     3
     4
     2
     4
     1

</pre></div></div></div><p>Sum the values in <code class="literal">data</code> by the groups specified in <code class="literal">ind</code>. </p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>B = accumarray(ind,data)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>B = <span class="emphasis"><em>4×1</em></span>

     7
     4
     2
     8

</pre></div></div></div><p>Alternatively, use the <code class="literal">groupsummary</code> function, specifying <code class="literal">'sum'</code> as the group computation.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>B = groupsummary(data,ind,<span style="color:#A020F0">'sum'</span>)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>B = <span class="emphasis"><em>4×1</em></span>

     7
     4
     2
     8

</pre></div></div></div><div class="procedure"></div></div></div></div></div><div itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/Example" itemprop="example" class="em_example"><meta itemprop="exampleid" content="matlab-AccumulateDataExample"><meta itemprop="exampletitle" content="Sum Data by Group"></div><div class="accordion" role="tablist" aria-multiselectable="true" id="expand_accordion_heading_bt4vyph-2"><div class="accordion-item "><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_bt4vyph-2" data-bs-target="#expand_accordion_body_bt4vyph-2" aria-controls="expand_accordion_body_bt4vyph-2" class="accordion-button add_cursor_pointer" aria-expanded="true"><h3 id="bt4vyph-2">Count Elements in Group</h3></button></div><div role="tabpanel" id="expand_accordion_body_bt4vyph-2" aria-labelledby="expand_accordion_heading_bt4vyph-2" class="accordion-collapse collapse show"><div class="accordion-body"><div class="examples_short_list hidden_ios_android" data-products="ML"><div data-pane="metadata" class="card metadata_container"><div class="card-body metadata_content"><div class="d-grid"><a class="btn btn_color_blue" href="matlab:openExample('matlab/FindBinCountsExample')" data-ex-genre="Live Script">Open Live Script</a></div></div></div></div><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "DigitalDocument",
          "headline": "Count Elements in Group",
          "description": "Create a vector of groups.",
          "thumbnailURL": "../../includes/product/images/doc_center/DefaultImage.png",
          "genre": "Live Script",
          "isBasedOn": {
          "@type": "Product",
          "name": "MATLAB"

        },
          "isPartOf": {
          "@type": "CreativeWork",
          "url": "accumarray.html"

        },
          "identifier": "matlab.FindBinCountsExample",
          "name": "FindBinCountsExample",
          "url": "accumarray.html#bt4vyph-2"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "PropertyValue",
          "name": "open_command",
          "value": "matlab:openExample('matlab/FindBinCountsExample')"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "ExampleSourceFiles",

        "itemListElement":
        [
        "FindBinCountsExample.mlx"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><p class="shortdesc">Create a vector of groups.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>ind = [1 1 4 2 4 3]';</pre></div></div></div><p>Apply scalar expansion to the number <code class="literal">1</code> to count the number of elements in each group defined in <code class="literal">ind</code>.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>B = accumarray(ind,1)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>B = <span class="emphasis"><em>4×1</em></span>

     2
     1
     1
     2

</pre></div></div></div><p>Alternatively, use the <code class="literal">groupcounts</code> function.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>B = groupcounts(ind)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>B = <span class="emphasis"><em>4×1</em></span>

     2
     1
     1
     2

</pre></div></div></div><div class="procedure"></div></div></div></div></div><div itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/Example" itemprop="example" class="em_example"><meta itemprop="exampleid" content="matlab-FindBinCountsExample"><meta itemprop="exampletitle" content="Count Elements in Group"></div><div class="accordion" role="tablist" aria-multiselectable="true" id="expand_accordion_heading_bt3682d-1_1"><div class="accordion-item "><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_bt3682d-1_1" data-bs-target="#expand_accordion_body_bt3682d-1_1" aria-controls="expand_accordion_body_bt3682d-1_1" class="accordion-button add_cursor_pointer" aria-expanded="true"><h3 id="bt3682d-1_1">Specify Output Size</h3></button></div><div role="tabpanel" id="expand_accordion_body_bt3682d-1_1" aria-labelledby="expand_accordion_heading_bt3682d-1_1" class="accordion-collapse collapse show"><div class="accordion-body"><div class="examples_short_list hidden_ios_android" data-products="ML"><div data-pane="metadata" class="card metadata_container"><div class="card-body metadata_content"><div class="d-grid"><a class="btn btn_color_blue" href="matlab:openExample('matlab/SpecifyOutputSizeExample')" data-ex-genre="Live Script">Open Live Script</a></div></div></div></div><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "DigitalDocument",
          "headline": "Specify Output Size",
          "description": "Create a vector of data and a matrix of output indices ind that defines groups of data.",
          "thumbnailURL": "../../includes/product/images/doc_center/DefaultImage.png",
          "genre": "Live Script",
          "isBasedOn": {
          "@type": "Product",
          "name": "MATLAB"

        },
          "isPartOf": {
          "@type": "CreativeWork",
          "url": "accumarray.html"

        },
          "identifier": "matlab.SpecifyOutputSizeExample",
          "name": "SpecifyOutputSizeExample",
          "url": "accumarray.html#bt3682d-1_1"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "PropertyValue",
          "name": "open_command",
          "value": "matlab:openExample('matlab/SpecifyOutputSizeExample')"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "ExampleSourceFiles",

        "itemListElement":
        [
        "SpecifyOutputSizeExample.mlx"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><p class="shortdesc">Create a vector of data and a matrix of output indices <code class="literal">ind</code> that defines groups of data. </p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>data = 1:6</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>data = <span class="emphasis"><em>1×6</em></span>

     1     2     3     4     5     6

</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>ind = [1 1; 2 2; 3 2; 1 1; 2 2; 4 1]</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>ind = <span class="emphasis"><em>6×2</em></span>

     1     1
     2     2
     3     2
     1     1
     2     2
     4     1

</pre></div></div></div><p>Sum the values in <code class="literal">data</code> for each group in <code class="literal">ind</code>. The indices in <code class="literal">ind</code> define a 4-by-2 matrix of locations for the output.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>B1 = accumarray(ind,data)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>B1 = <span class="emphasis"><em>4×2</em></span>

     5     0
     0     7
     0     3
     6     0

</pre></div></div></div><p>Pad the output to a 4-by-4 matrix by specifying the output size as <code class="literal">[4 4]</code>. </p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>B2 = accumarray(ind,data,[4 4])</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>B2 = <span class="emphasis"><em>4×4</em></span>

     5     0     0     0
     0     7     0     0
     0     3     0     0
     6     0     0     0

</pre></div></div></div><div class="procedure"></div></div></div></div></div><div itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/Example" itemprop="example" class="em_example"><meta itemprop="exampleid" content="matlab-SpecifyOutputSizeExample"><meta itemprop="exampletitle" content="Specify Output Size"></div><div class="accordion" role="tablist" aria-multiselectable="true" id="expand_accordion_heading_bt3682e-1"><div class="accordion-item "><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_bt3682e-1" data-bs-target="#expand_accordion_body_bt3682e-1" aria-controls="expand_accordion_body_bt3682e-1" class="accordion-button add_cursor_pointer" aria-expanded="true"><h3 id="bt3682e-1">Variance by Group</h3></button></div><div role="tabpanel" id="expand_accordion_body_bt3682e-1" aria-labelledby="expand_accordion_heading_bt3682e-1" class="accordion-collapse collapse show"><div class="accordion-body"><div class="examples_short_list hidden_ios_android" data-products="ML"><div data-pane="metadata" class="card metadata_container"><div class="card-body metadata_content"><div class="d-grid"><a class="btn btn_color_blue" href="matlab:openExample('matlab/UseCustomFunctionsExample')" data-ex-genre="Live Script">Open Live Script</a></div></div></div></div><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "DigitalDocument",
          "headline": "Variance by Group",
          "description": "Calculate group variances rather than sums.",
          "thumbnailURL": "../../includes/product/images/doc_center/DefaultImage.png",
          "genre": "Live Script",
          "isBasedOn": {
          "@type": "Product",
          "name": "MATLAB"

        },
          "isPartOf": {
          "@type": "CreativeWork",
          "url": "accumarray.html"

        },
          "identifier": "matlab.UseCustomFunctionsExample",
          "name": "UseCustomFunctionsExample",
          "url": "accumarray.html#bt3682e-1"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "PropertyValue",
          "name": "open_command",
          "value": "matlab:openExample('matlab/UseCustomFunctionsExample')"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "ExampleSourceFiles",

        "itemListElement":
        [
        "UseCustomFunctionsExample.mlx"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><p class="shortdesc">Calculate group variances rather than sums.</p><p>Create a vector of data and a matrix <code class="literal">ind</code> that defines groups of the data. </p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>data = [100.1 101.2 103.4 102.8 100.9 101.5]'</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>data = <span class="emphasis"><em>6×1</em></span>

  100.1000
  101.2000
  103.4000
  102.8000
  100.9000
  101.5000

</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>ind = [1 1; 1 1; 2 2; 3 2; 2 2; 3 2]</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>ind = <span class="emphasis"><em>6×2</em></span>

     1     1
     1     1
     2     2
     3     2
     2     2
     3     2

</pre></div></div></div><p>Compute the variance of each group by specifying the function handle <code class="literal">@var</code> as the method input. This syntax applies the <code class="literal">var</code> function to the groups instead of <code class="literal">sum</code>. </p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>B1 = accumarray(ind,data,[],@var)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>B1 = <span class="emphasis"><em>3×2</em></span>

    0.6050         0
         0    3.1250
         0    0.8450

</pre></div></div></div><p>You can specify the group computation as an anonymous function that accepts vector inputs and returns a scalar. This is useful when you want to pass additional arguments to a function. For example, use the <code class="literal">var</code> function with the normalization argument value <code class="literal">1</code>.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>A2 = accumarray(ind,data,[],@(x) var(x,1))</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>A2 = <span class="emphasis"><em>3×2</em></span>

    0.3025         0
         0    1.5625
         0    0.4225

</pre></div></div></div><div class="procedure"></div></div></div></div></div><div itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/Example" itemprop="example" class="em_example"><meta itemprop="exampleid" content="matlab-UseCustomFunctionsExample"><meta itemprop="exampletitle" content="Variance by Group"></div><div class="accordion" role="tablist" aria-multiselectable="true" id="expand_accordion_heading_bt40_mn-1"><div class="accordion-item "><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_bt40_mn-1" data-bs-target="#expand_accordion_body_bt40_mn-1" aria-controls="expand_accordion_body_bt40_mn-1" class="accordion-button add_cursor_pointer" aria-expanded="true"><h3 id="bt40_mn-1">Return Sum with Integer Type Output</h3></button></div><div role="tabpanel" id="expand_accordion_body_bt40_mn-1" aria-labelledby="expand_accordion_heading_bt40_mn-1" class="accordion-collapse collapse show"><div class="accordion-body"><div class="examples_short_list hidden_ios_android" data-products="ML"><div data-pane="metadata" class="card metadata_container"><div class="card-body metadata_content"><div class="d-grid"><a class="btn btn_color_blue" href="matlab:openExample('matlab/SumValuesNativelyExample')" data-ex-genre="Live Script">Open Live Script</a></div></div></div></div><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "DigitalDocument",
          "headline": "Return Sum with Integer Type Output",
          "description": "Specify an additional argument to the sum function by using an anonymous function for the method input.",
          "thumbnailURL": "../../includes/product/images/doc_center/DefaultImage.png",
          "genre": "Live Script",
          "isBasedOn": {
          "@type": "Product",
          "name": "MATLAB"

        },
          "isPartOf": {
          "@type": "CreativeWork",
          "url": "accumarray.html"

        },
          "identifier": "matlab.SumValuesNativelyExample",
          "name": "SumValuesNativelyExample",
          "url": "accumarray.html#bt40_mn-1"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "PropertyValue",
          "name": "open_command",
          "value": "matlab:openExample('matlab/SumValuesNativelyExample')"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "ExampleSourceFiles",

        "itemListElement":
        [
        "SumValuesNativelyExample.mlx"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><p class="shortdesc">Specify an additional argument to the <code class="literal">sum</code> function by using an anonymous function for the method input.</p><p>Create a vector of data and a matrix <code class="literal">ind</code> that defines groups of the data and 3-D indices into the output.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>data = int8(10:15)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>data = <span class="emphasis"><em>1×6 int8 row vector</em></span>

   10   11   12   13   14   15

</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>ind = [1 1 1; 1 1 1; 1 1 2; 1 1 2; 2 3 1; 2 3 2]</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>ind = <span class="emphasis"><em>6×3</em></span>

     1     1     1
     1     1     1
     1     1     2
     1     1     2
     2     3     1
     2     3     2

</pre></div></div></div><p>Sum the data by group in their native integer class <code class="literal">int8</code> by using the <code class="literal">'native'</code> option for the <code class="literal">sum</code> function. To do this, specify an anonymous function using <code class="literal">@(x) sum(x,'native')</code> for the method input. The result is a 2-by-3-by-2 multidimensional array of type <code class="literal">int8</code>. </p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>B = accumarray(ind,data,[],@(x) sum(x,<span style="color:#A020F0">'native'</span>))</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>B = <span class="emphasis"><em>2×3×2 int8 array</em></span>
B(:,:,1) =

   21    0    0
    0    0   14


B(:,:,2) =

   25    0    0
    0    0   15

</pre></div></div></div><div class="procedure"></div></div></div></div></div><div itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/Example" itemprop="example" class="em_example"><meta itemprop="exampleid" content="matlab-SumValuesNativelyExample"><meta itemprop="exampletitle" content="Return Sum with Integer Type Output"></div><div class="accordion" role="tablist" aria-multiselectable="true" id="expand_accordion_heading_bt4vy9n-5"><div class="accordion-item "><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_bt4vy9n-5" data-bs-target="#expand_accordion_body_bt4vy9n-5" aria-controls="expand_accordion_body_bt4vy9n-5" class="accordion-button add_cursor_pointer" aria-expanded="true"><h3 id="bt4vy9n-5">Group Values in Cell Array</h3></button></div><div role="tabpanel" id="expand_accordion_body_bt4vy9n-5" aria-labelledby="expand_accordion_heading_bt4vy9n-5" class="accordion-collapse collapse show"><div class="accordion-body"><div class="examples_short_list hidden_ios_android" data-products="ML"><div data-pane="metadata" class="card metadata_container"><div class="card-body metadata_content"><div class="d-grid"><a class="btn btn_color_blue" href="matlab:openExample('matlab/GroupValuesinCellArrayExample')" data-ex-genre="Live Script">Open Live Script</a></div></div></div></div><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "DigitalDocument",
          "headline": "Group Values in Cell Array",
          "description": "Create a vector of data and a matrix ind that defines groups of the data.",
          "thumbnailURL": "../../includes/product/images/doc_center/DefaultImage.png",
          "genre": "Live Script",
          "isBasedOn": {
          "@type": "Product",
          "name": "MATLAB"

        },
          "isPartOf": {
          "@type": "CreativeWork",
          "url": "accumarray.html"

        },
          "identifier": "matlab.GroupValuesinCellArrayExample",
          "name": "GroupValuesinCellArrayExample",
          "url": "accumarray.html#bt4vy9n-5"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "PropertyValue",
          "name": "open_command",
          "value": "matlab:openExample('matlab/GroupValuesinCellArrayExample')"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "ExampleSourceFiles",

        "itemListElement":
        [
        "GroupValuesinCellArrayExample.mlx"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><p class="shortdesc">Create a vector of data and a matrix <code class="literal">ind</code> that defines groups of the data.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>data = 1:10</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>data = <span class="emphasis"><em>1×10</em></span>

     1     2     3     4     5     6     7     8     9    10

</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>ind = [1 1; 1 1; 1 1; 1 1; 2 1; 2 1; 2 1; 2 1; 2 1; 2 2]</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>ind = <span class="emphasis"><em>10×2</em></span>

     1     1
     1     1
     1     1
     1     1
     2     1
     2     1
     2     1
     2     1
     2     1
     2     2

</pre></div></div></div><p> Group the elements of <code class="literal">data</code> into a cell array. </p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>B = accumarray(ind,data,[],@(x) {x})</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>B=<span class="emphasis"><em>2×2 cell array</em></span>
    {4×1 double}    {0×0 double}
    {5×1 double}    {[      10]}

</pre></div></div></div><p>Verify that the vector elements are in the same order as they appear in <code class="literal">data</code>. </p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>B{2,1}</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>ans = <span class="emphasis"><em>5×1</em></span>

     5
     6
     7
     8
     9

</pre></div></div></div><div class="procedure"></div></div></div></div></div><div itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/Example" itemprop="example" class="em_example"><meta itemprop="exampleid" content="matlab-GroupValuesinCellArrayExample"><meta itemprop="exampletitle" content="Group Values in Cell Array"></div><div class="accordion" role="tablist" aria-multiselectable="true" id="expand_accordion_heading_bt3682e-1_1"><div class="accordion-item "><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_bt3682e-1_1" data-bs-target="#expand_accordion_body_bt3682e-1_1" aria-controls="expand_accordion_body_bt3682e-1_1" class="accordion-button add_cursor_pointer" aria-expanded="true"><h3 id="bt3682e-1_1">Specify Fill Value</h3></button></div><div role="tabpanel" id="expand_accordion_body_bt3682e-1_1" aria-labelledby="expand_accordion_heading_bt3682e-1_1" class="accordion-collapse collapse show"><div class="accordion-body"><div class="examples_short_list hidden_ios_android" data-products="ML"><div data-pane="metadata" class="card metadata_container"><div class="card-body metadata_content"><div class="d-grid"><a class="btn btn_color_blue" href="matlab:openExample('matlab/FillOutputwithNaNValuesExample')" data-ex-genre="Live Script">Open Live Script</a></div></div></div></div><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "DigitalDocument",
          "headline": "Specify Fill Value",
          "description": "Create a vector of data and a matrix ind that defines groups of the data.",
          "thumbnailURL": "../../includes/product/images/doc_center/DefaultImage.png",
          "genre": "Live Script",
          "isBasedOn": {
          "@type": "Product",
          "name": "MATLAB"

        },
          "isPartOf": {
          "@type": "CreativeWork",
          "url": "accumarray.html"

        },
          "identifier": "matlab.FillOutputwithNaNValuesExample",
          "name": "FillOutputwithNaNValuesExample",
          "url": "accumarray.html#bt3682e-1_1"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "PropertyValue",
          "name": "open_command",
          "value": "matlab:openExample('matlab/FillOutputwithNaNValuesExample')"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "ExampleSourceFiles",

        "itemListElement":
        [
        "FillOutputwithNaNValuesExample.mlx"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><p class="shortdesc">Create a vector of data and a matrix <code class="literal">ind</code> that defines groups of the data. </p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>data = (101:106)'</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>data = <span class="emphasis"><em>6×1</em></span>

   101
   102
   103
   104
   105
   106

</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>ind = [1 1; 2 2; 3 3; 1 1; 2 2; 4 4]</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>ind = <span class="emphasis"><em>6×2</em></span>

     1     1
     2     2
     3     3
     1     1
     2     2
     4     4

</pre></div></div></div><p>The elements of <code class="literal">ind</code> define a 4-by-4 matrix for the output, but only reference 4 out of the 16 elements. By default, the other 12 elements are <code class="literal">0</code> in the output. Fill in the extra output elements with <code class="literal">NaN</code> values instead of <code class="literal">0</code>.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>B = accumarray(ind,data,[],[],NaN)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>B = <span class="emphasis"><em>4×4</em></span>

   205   NaN   NaN   NaN
   NaN   207   NaN   NaN
   NaN   NaN   103   NaN
   NaN   NaN   NaN   106

</pre></div></div></div><div class="procedure"></div></div></div></div></div><div itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/Example" itemprop="example" class="em_example"><meta itemprop="exampleid" content="matlab-FillOutputwithNaNValuesExample"><meta itemprop="exampletitle" content="Specify Fill Value"></div><div class="accordion" role="tablist" aria-multiselectable="true" id="expand_accordion_heading_bt3682e-1_2"><div class="accordion-item "><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_bt3682e-1_2" data-bs-target="#expand_accordion_body_bt3682e-1_2" aria-controls="expand_accordion_body_bt3682e-1_2" class="accordion-button add_cursor_pointer" aria-expanded="true"><h3 id="bt3682e-1_2">Change Output Sparsity</h3></button></div><div role="tabpanel" id="expand_accordion_body_bt3682e-1_2" aria-labelledby="expand_accordion_heading_bt3682e-1_2" class="accordion-collapse collapse show"><div class="accordion-body"><div class="examples_short_list hidden_ios_android" data-products="ML"><div data-pane="metadata" class="card metadata_container"><div class="card-body metadata_content"><div class="d-grid"><a class="btn btn_color_blue" href="matlab:openExample('matlab/ChangeOutputSparsityExample')" data-ex-genre="Live Script">Open Live Script</a></div></div></div></div><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "DigitalDocument",
          "headline": "Change Output Sparsity",
          "description": "Create a vector of data and a matrix ind that defines groups of the data.",
          "thumbnailURL": "../../includes/product/images/doc_center/DefaultImage.png",
          "genre": "Live Script",
          "isBasedOn": {
          "@type": "Product",
          "name": "MATLAB"

        },
          "isPartOf": {
          "@type": "CreativeWork",
          "url": "accumarray.html"

        },
          "identifier": "matlab.ChangeOutputSparsityExample",
          "name": "ChangeOutputSparsityExample",
          "url": "accumarray.html#bt3682e-1_2"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "PropertyValue",
          "name": "open_command",
          "value": "matlab:openExample('matlab/ChangeOutputSparsityExample')"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "ExampleSourceFiles",

        "itemListElement":
        [
        "ChangeOutputSparsityExample.mlx"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><p class="shortdesc">Create a vector of data and a matrix <code class="literal">ind</code> that defines groups of the data. </p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>data = [34 22 19 85 53 77 99 6];
ind = [1 1; 400 400; 80 80; 1 1; 400 400; 400 400; 80 80; 1 1]</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>ind = <span class="emphasis"><em>8×2</em></span>

     1     1
   400   400
    80    80
     1     1
   400   400
   400   400
    80    80
     1     1

</pre></div></div></div><p>The elements of <code class="literal">ind</code> define a 400-by-400 matrix for the output, but only reference 3 out of the 160,000 elements. When the output of <code class="literal">accumarray</code> results in a large array with a low density of nonzero elements, you can save memory by specifying the <code class="literal">issparse</code> option as <code class="literal">true</code>, creating a sparse matrix instead of a full one.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>B = accumarray(ind,data,[],[],[],true)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>B = <span class="emphasis"><em>400×400 sparse double matrix (3 nonzeros)</em></span>
   (1,1)      125
  (80,80)     118
 (400,400)    152

</pre></div></div></div><div class="procedure"></div></div></div></div></div><div itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/Example" itemprop="example" class="em_example"><meta itemprop="exampleid" content="matlab-ChangeOutputSparsityExample"><meta itemprop="exampletitle" content="Change Output Sparsity"></div></div></div></div><div class="ref_sect"><h2 id="bt35io5-3">Input Arguments</h2><div class="expandableContent"><p class="switch "><a href="javascript:void(0);" class="expandAllLink" data-allexpanded="true">collapse all</a></p><div class="mw_ws_accordion_container"><div class="accordion" id="bt35io5-3_accordion-group" role="tablist" aria-multiselectable="true"><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true"><div class="accordion-item "><div itemscope="" itemprop="inputargument" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/NamedInputArgument" itemid="bt35io5-1-subs"><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_bt35io5-1-subs" data-bs-target="#expand_accordion_body_bt35io5-1-subs" aria-controls="expand_accordion_body_bt35io5-1-subs" class="accordion-button add_cursor_pointer" aria-expanded="true"><span id="inputarg_ind" class="anchor_target"></span><h3 id="bt35io5-1-subs"><code itemprop="name">ind</code> &#8212; <span itemprop="purpose">Output indices</span><br/> <span class="add_font_color_general remove_bold"><span class="example_desc"><span itemprop="inputvalue">vector</span> | <span itemprop="inputvalue">matrix</span> | <span itemprop="inputvalue">cell array of vectors</span></span></span></h3></button></div><div role="tabpanel" id="expand_accordion_body_bt35io5-1-subs" aria-labelledby="expand_accordion_heading_bt35io5-1-subs" class="accordion-collapse collapse show"><div class="accordion-body"><div class="cshsummary" id="csh_bt35io5-1-subs"><p>Output indices, specified as a vector, matrix, or cell array of
                        vectors.</p><div class="itemizedlist"><ul><li><p>If <code class="literal">ind</code> is a vector, then each element specifies
                                an index into the output and defines the groups accumulated by
                                    <code class="literal">accumarray</code>. All of the elements must be
                                positive integers and the length of <code class="literal">ind</code> must
                                match the length of the data vector.</p></li><li><p>If <code class="literal">ind</code> is an
                                    <em class="varname">m</em>-by-<em class="varname">n</em> matrix, then each
                                row specifies an <em class="varname">n</em>-dimensional index into the
                                output. The <em class="varname">i</em>th row in <code class="literal">ind</code>
                                corresponds to the <em class="varname">i</em>th value in the data and the
                                number of rows in <code class="literal">ind</code> must match the length of
                                the data vector. For example, if <code class="literal">ind</code> is a 3-by-2
                                matrix, it contains three 2-D indices. The first element of each row
                                is the row index into the output and the second element is the
                                column index.</p></li><li><p>If <code class="literal">ind</code> is a cell array of index vectors, then
                                each vector must have the same length and they are treated as
                                columns.</p></li></ul></div></div></div></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true"><div class="accordion-item "><div itemscope="" itemprop="inputargument" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/NamedInputArgument" itemid="bt35io5-1-val"><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_bt35io5-1-val" data-bs-target="#expand_accordion_body_bt35io5-1-val" aria-controls="expand_accordion_body_bt35io5-1-val" class="accordion-button add_cursor_pointer" aria-expanded="true"><span id="inputarg_data" class="anchor_target"></span><h3 id="bt35io5-1-val"><code itemprop="name">data</code> &#8212; <span itemprop="purpose">Data to be accumulated</span><br/> <span class="add_font_color_general remove_bold"><span class="example_desc"><span itemprop="inputvalue">scalar</span> | <span itemprop="inputvalue">vector</span></span></span></h3></button></div><div role="tabpanel" id="expand_accordion_body_bt35io5-1-val" aria-labelledby="expand_accordion_heading_bt35io5-1-val" class="accordion-collapse collapse show"><div class="accordion-body"><div class="cshsummary" id="csh_bt35io5-1-val"><p>Data to be accumulated, specified as a scalar or vector.</p><div class="itemizedlist"><ul><li><p>If <code class="literal">data</code> is a scalar, then its value is scalar
                                expanded.</p></li><li><p>If <code class="literal">data</code> is a vector, then it must have the same
                                length as the number of rows in the index array.</p></li></ul></div></div></div></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true"><div class="accordion-item "><div itemscope="" itemprop="inputargument" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/NamedInputArgument" itemid="bt35io5-1-sz"><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_bt35io5-1-sz" data-bs-target="#expand_accordion_body_bt35io5-1-sz" aria-controls="expand_accordion_body_bt35io5-1-sz" class="accordion-button add_cursor_pointer" aria-expanded="true"><span id="inputarg_sz" class="anchor_target"></span><h3 id="bt35io5-1-sz"><code itemprop="name">sz</code> &#8212; <span itemprop="purpose">Size of output array</span><br/> <span class="add_font_color_general remove_bold"><span class="example_desc"><span itemprop="inputvalue defaultvalue"><code class="literal">[]</code></span> (default) | <span itemprop="inputvalue">vector of positive integers</span></span></span></h3></button></div><div role="tabpanel" id="expand_accordion_body_bt35io5-1-sz" aria-labelledby="expand_accordion_heading_bt35io5-1-sz" class="accordion-collapse collapse show"><div class="accordion-body"><div class="cshsummary" id="csh_bt35io5-1-sz"><p>Size of the output array, specified as a vector of positive integers or as
                            <code class="literal">[]</code>. For example, <code class="literal">sz = [5 7]</code>
                        produces an output array that is 5-by-7. When you specify
                            <code class="literal">[]</code> for the size, the values in the index array
                        determine the size of the output. The dimension lengths in
                            <code class="literal">sz</code> must match or exceed the dimension lengths in the
                        index array.</p></div></div></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true"><div class="accordion-item "><div itemscope="" itemprop="inputargument" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/NamedInputArgument" itemid="bt35io5-1-fun"><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_bt35io5-1-fun" data-bs-target="#expand_accordion_body_bt35io5-1-fun" aria-controls="expand_accordion_body_bt35io5-1-fun" class="accordion-button add_cursor_pointer" aria-expanded="true"><span id="inputarg_fun" class="anchor_target"></span><h3 id="bt35io5-1-fun"><code itemprop="name">fun</code> &#8212; <span itemprop="purpose">Group computation</span><br/> <span class="add_font_color_general remove_bold"><span class="example_desc"><span itemprop="inputvalue defaultvalue"><code class="literal">[]</code></span> (default) | <span itemprop="inputvalue">function handle</span></span></span></h3></button></div><div role="tabpanel" id="expand_accordion_body_bt35io5-1-fun" aria-labelledby="expand_accordion_heading_bt35io5-1-fun" class="accordion-collapse collapse show"><div class="accordion-body"><div class="cshsummary" id="csh_bt35io5-1-fun"><p>Group computation, specified as a function handle.
                            <code class="literal">accumarray</code> accumulates the elements of the data
                        vector by group, and then applies the function <code class="literal">fun</code> to the
                        group elements. When you specify <code class="literal">fun = []</code>, the
                        computation uses the default function <code class="literal">sum</code>. The specified
                        function must accept a column vector and return a numeric,
                            <code class="literal">logical</code>, or <code class="literal">char</code> scalar, or a
                        scalar <code class="literal">cell</code>. For more information on function handles,
                        see <a href="../matlab_prog/creating-a-function-handle.html" class="a">Create Function Handle</a>.</p><p class="description_valueexample"><strong>Example: </strong><code class="literal">fun = @max</code></p></div></div></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true"><div class="accordion-item "><div itemscope="" itemprop="inputargument" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/NamedInputArgument" itemid="bt35io5-1-fillval"><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_bt35io5-1-fillval" data-bs-target="#expand_accordion_body_bt35io5-1-fillval" aria-controls="expand_accordion_body_bt35io5-1-fillval" class="accordion-button add_cursor_pointer" aria-expanded="true"><span id="inputarg_fillval" class="anchor_target"></span><h3 id="bt35io5-1-fillval"><code itemprop="name">fillval</code> &#8212; <span itemprop="purpose">Fill value</span><br/> <span class="add_font_color_general remove_bold"><span class="example_desc"><span itemprop="inputvalue defaultvalue"><code class="literal">[]</code></span> (default) | <span itemprop="inputvalue">scalar</span></span></span></h3></button></div><div role="tabpanel" id="expand_accordion_body_bt35io5-1-fillval" aria-labelledby="expand_accordion_heading_bt35io5-1-fillval" class="accordion-collapse collapse show"><div class="accordion-body"><div class="cshsummary" id="csh_bt35io5-1-fillval"><p>Fill value when an element of the output does not correspond to an index provided in the index
                        array, specified as a scalar or as <code class="literal">[]</code>, which uses the
                        default value <code class="literal">0</code>. The data type of
                            <code class="literal">fillval</code> must match the data type of the computation
                        function output.</p></div></div></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true"><div class="accordion-item "><div itemscope="" itemprop="inputargument" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/NamedInputArgument" itemid="bt35io5-1-issparse"><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_bt35io5-1-issparse" data-bs-target="#expand_accordion_body_bt35io5-1-issparse" aria-controls="expand_accordion_body_bt35io5-1-issparse" class="accordion-button add_cursor_pointer" aria-expanded="true"><span id="inputarg_issparse" class="anchor_target"></span><h3 id="bt35io5-1-issparse"><code itemprop="name">issparse</code> &#8212; <span itemprop="purpose">Output sparsity</span><br/> <span class="add_font_color_general remove_bold"><span class="example_desc"><span itemprop="inputvalue defaultvalue"><code class="literal">false</code> or <code class="literal">0</code></span> (default) | <span itemprop="inputvalue"><code class="literal">true</code> or <code class="literal">1</code></span></span></span></h3></button></div><div role="tabpanel" id="expand_accordion_body_bt35io5-1-issparse" aria-labelledby="expand_accordion_heading_bt35io5-1-issparse" class="accordion-collapse collapse show"><div class="accordion-body"><div class="cshsummary" id="csh_bt35io5-1-issparse"><p>Output sparsity, specified as a numeric or logical <code class="literal">1</code>
                            (<code class="literal">true</code>) or <code class="literal">0</code>
                            (<code class="literal">false</code>).</p><p>When <code class="literal">issparse</code> is <code class="literal">true</code> or
                            <code class="literal">1</code>, the fill value must be <code class="literal">0</code> or
                            <code class="literal">[]</code>, and the input data and output of the computation
                        function must both have type <code class="literal">double</code>.</p></div></div></div></div></div></div></div></div></div></div></div><div class="ref_sect"><h2 id="bt35io6-4">Output Arguments</h2><div class="expandableContent"><p class="switch "><a href="javascript:void(0);" class="expandAllLink" data-allexpanded="true">collapse all</a></p><div class="mw_ws_accordion_container"><div class="accordion" id="bt35io6-4_accordion-group" role="tablist" aria-multiselectable="true"><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true"><div class="accordion-item "><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_bt35io5-1-A" data-bs-target="#expand_accordion_body_bt35io5-1-A" aria-controls="expand_accordion_body_bt35io5-1-A" class="accordion-button add_cursor_pointer" aria-expanded="true"><span id="outputarg_B" class="anchor_target"></span><h3 id="bt35io5-1-A"><code class="name">B</code> &#8212; Output array<br/> <span class="add_font_color_general remove_bold"><span class="example_desc">vector | matrix | multidimensional array</span></span></h3></button></div><div role="tabpanel" id="expand_accordion_body_bt35io5-1-A" aria-labelledby="expand_accordion_heading_bt35io5-1-A" class="accordion-collapse collapse show"><div class="accordion-body"><div class="cshsummary" id="csh_bt35io5-1-A"><p>Output array, returned as a vector, matrix, or multidimensional array.
                            <code class="literal">B</code> has the same data type as the values returned by
                        the group computation function.</p><p>When the size of <code class="literal">B</code> is not specified, the output size
                        depends on the index array <code class="literal">ind</code>.</p>
<div class="itemizedlist"><ul><li><p>If <code class="literal">ind</code> is a column vector, then
                                        <code class="literal">B</code> is a column vector of length
                                        <code class="literal">max(ind,[],1)</code>.</p></li><li><p>If <code class="literal">ind</code> is a matrix with more than one
                                    column, then <code class="literal">B</code> is a multidimensional array of
                                    size <code class="literal">max(ind,[],1)</code>.</p></li></ul></div><p>
</p></div></div></div></div></div></div></div></div></div></div><div class="moreabout ref_sect"><h2 id="bt4cwp6-5">More About</h2><div class="expandableContent"><p class="switch"><a href="javascript:void(0);" class="expandAllLink" data-allexpanded="true2">collapse all</a></p><div class="mw_ws_accordion_container"><div class="accordion -presentation_expander -presentation_condensed"><div class="accordion-item"><div class="accordion-header"><button data-bs-toggle="collapse" data-bs-target="#expand_body_bt3696b-9" aria-controls="expand_body_bt3696b-9" class="accordion-button" aria-expanded="true"><h3 id="bt3696b-9">Accumulating Elements</h3></button></div><div id="expand_body_bt3696b-9" class="accordion-collapse collapsed collapse show"><div class="accordion-body"><p class="shortdesc">The following graphic illustrates the behavior of
                    <code class="literal">accumarray</code> on a vector of temperature data taken over a
                12-month period. To find the maximum temperature reading for each month,
                    <code class="literal">accumarray</code> applies the <code class="literal">max</code> function to
                each group of values in <code class="literal">temperature</code> that have identical indices
                in <code class="literal">month</code>.</p><p>No values in <code class="literal">month</code> point to the 5, 6, 7, or 10 positions of the
                output. The elements of output <code class="literal">maxTemp</code> at those indices are
                    <code class="literal">0</code> by default.</p><div class="informalfigure"><div id="d126e4654" class="mediaobject"><p><img src="accumarray.png" alt="Behavior of accumarray using the max function on vectors of month indices and temperature data. The output maxTemp contains the maximum temperature for each unique month" height="467" width="535"></p></div></div></div></div></div></div></div></div></div><div class="ref_sect"><h2 id="bt4ovq2-6">Tips</h2><div class="itemizedlist"><ul><li><p>The behavior of <code class="literal">accumarray</code> is similar to the functions
                        <a href="double.groupsummary.html"><code class="function">groupsummary</code></a> and <a href="double.groupcounts.html"><code class="function">groupcounts</code></a> for computing summary statistics by group and
                    counting the number of elements in a group, respectively. For more grouping
                    functionality in MATLAB<sup>&#x00AE;</sup>, see <a href="../preprocessing-data.html" class="a">Data Preprocessing</a>.</p></li><li><p>The behavior of <code class="literal">accumarray</code> is also similar to that of the
                        <a href="double.histcounts.html"><code class="function">histcounts</code></a> function.</p><div class="itemizedlist"><ul><li><p><code class="literal">histcounts</code> groups continuous values into a 1-D
                            range using bin edges. <code class="literal">accumarray</code> groups data using
                                <em class="varname">n</em>-dimensional indices.</p></li><li><p><code class="literal">histcounts</code> can only return bin counts and bin
                            placement. <code class="literal">accumarray</code> can apply any function to the
                            data.</p></li></ul></div><p>You can mimic the behavior of <code class="literal">histcounts</code> using
                        <code class="literal">accumarray</code> with <code class="literal">data = 1</code>.</p></li><li><p>The <code class="literal">sparse</code> function also has accumulation
behavior similar to that of <code class="literal">accumarray</code>.</p><div class="itemizedlist"><ul><li><p><code class="literal">sparse</code> groups data using 2-D indices, whereas
                                <code class="literal">accumarray</code> groups data using
                            <em class="varname">n</em>-dimensional indices.</p></li><li><p>For elements with identical indices, <code class="literal">sparse</code> applies
                            the <code class="function">sum</code> function (for <code class="literal">double</code>
                            values) or the <code class="function">any</code> function (for
                                <code class="literal">logical</code> values) and returns the scalar result in
                            the output matrix. <code class="literal">accumarray</code> sums by default, but
                            can apply any function to the data.</p></li></ul></div></li></ul></div></div><div class="ref_sect"><h2 id="refsect-extended-capabilities">Extended Capabilities</h2><div class="expandableContent"><p class="switch"><a href="javascript:void(0);" class="expandAllLink">expand all</a></p><div id="accordion_refsect-extended-capabilities" role="tablist" aria-multiselectable="true"><span id="mw_e7327116-404d-4cc5-9c46-a2fee80cdd82" class="anchor_target"></span><div class="mw_ws_accordion_container"><div class="accordion -presentation_expander -presentation_condensed"><div class="accordion-item"><span id="bt35io5-1" class="anchor_target"></span><div class="accordion-header"><button data-bs-toggle="collapse" data-bs-target="#expand_body_bt35io5-1_codegen" aria-controls="expand_body_bt35io5-1_codegen" class="accordion-button collapsed" aria-expanded="false"><h3 id="bt35io5-1_codegen">C/C++ Code Generation<br/> <span class=" remove_bold add_font_color_general">Generate C and C++ code using MATLAB&#174; Coder&#8482;.</span></h3></button></div><div id="expand_body_bt35io5-1_codegen" class="accordion-collapse collapsed collapse"><div class="accordion-body"><p>
                <span>Usage notes and limitations:</span>
            </p><div class="itemizedlist"><ul><li><p>Unless you provide explicit bounds on the <code class="literal">accumarray</code>
                        input values, the code generator may not be able to predetermine the size of
                        the <code class="literal">accumarray</code> output. Therefore, variable-size arrays
                        and dynamic memory allocation must be enabled. </p></li><li><p>The input arguments cannot contain enumerations.</p></li><li><p>The function <code class="literal">fun</code> must return a full (nonsparse)
                        scalar.</p></li><li><p>When <code class="literal">fun</code> returns a scalar 1-by-1 cell array:</p><div class="itemizedlist"><ul><li><p>You must specify a value for <code class="literal">fillval</code>. The value
                                you specify must be a scalar 1-by-1 cell array, and the content of
                                the cell must have the same data type that <code class="literal">fun</code>
                                returns.</p></li><li><p>The order of accumulated values that <code class="literal">fun</code>
                                receives as input may not match the order in MATLAB.</p></li></ul></div></li><li><p>To predetermine the output type for <code class="literal">fun</code>, the code
                        generator may call <code class="literal">fun</code> before processing the input
                        arguments of <code class="literal">accumarray</code>. As a result, if the execution of
                            <code class="literal">fun</code> causes side effects, for instance by modifying a
                        global or persistent variable or printing to output, then the generated code
                        results may differ from MATLAB results.</p></li></ul></div></div></div></div></div></div><span id="mw_5e713e47-064e-4498-85ac-41fbd76a49ca" class="anchor_target"></span><div class="mw_ws_accordion_container"><div class="accordion -presentation_expander -presentation_condensed"><div class="accordion-item"><span id="bt35io5-1" class="anchor_target"></span><div class="accordion-header"><button data-bs-toggle="collapse" data-bs-target="#expand_body_bt35io5-1_threadsupport" aria-controls="expand_body_bt35io5-1_threadsupport" class="accordion-button collapsed" aria-expanded="false"><h3 id="bt35io5-1_threadsupport">Thread-Based Environment<br/> <span class=" remove_bold add_font_color_general">Run code in the background using MATLAB&#174; <code class="function">backgroundPool</code> or accelerate code with Parallel Computing Toolbox&#8482; <code class="function">ThreadPool</code>.</span></h3></button></div><div id="expand_body_bt35io5-1_threadsupport" class="accordion-collapse collapsed collapse"><div class="accordion-body"><p>This function fully supports thread-based environments. For
                more information, see <a href="../matlab_prog/run-functions-on-threads.html" class="a">Run MATLAB Functions in Thread-Based Environment</a>.</p></div></div></div></div></div><span id="mw_7cf4d75e-0e6c-4d03-94c8-24c558fff583" class="anchor_target"></span><div class="mw_ws_accordion_container"><div class="accordion -presentation_expander -presentation_condensed"><div class="accordion-item"><span id="bt35io5-1" class="anchor_target"></span><div class="accordion-header"><button data-bs-toggle="collapse" data-bs-target="#expand_body_bt35io5-1_gpuarrays" aria-controls="expand_body_bt35io5-1_gpuarrays" class="accordion-button collapsed" aria-expanded="false"><h3 id="bt35io5-1_gpuarrays">GPU Arrays<br/> <span class=" remove_bold add_font_color_general">Accelerate code by running on a graphics processing unit (GPU) using Parallel Computing Toolbox&#8482;.</span></h3></button></div><div id="expand_body_bt35io5-1_gpuarrays" class="accordion-collapse collapsed collapse"><div class="accordion-body"><p>The <code class="function">accumarray</code> function
    supports GPU array input with these usage notes and limitations:</p><div class="itemizedlist"><ul><li><p>The value of <code class="literal">fun</code> must be one of <code class="literal">@sum</code>
                        (default), <code class="literal">@prod</code>, <code class="literal">@min</code>,
                            <code class="literal">@max</code>, <code class="literal">@any</code>, or
                            <code class="literal">@all</code>.</p></li><li><p><code class="literal">data</code> and <code class="literal">fillval</code> must be full
                        (nonsparse) <code class="literal">logical</code> or floating-point
                            (<code class="literal">double</code> or <code class="literal">single</code>) arrays. </p></li></ul></div><p>For more information, see <a href="../../parallel-computing/run-matlab-functions-on-a-gpu.html" class="a">Run MATLAB Functions on a GPU</a><span role="cross_prod"> (Parallel Computing Toolbox)</span>.</p></div></div></div></div></div></div></div></div><div class="ref_sect"><h2 id="bt35io5-1_vh">Version History</h2><p><strong>Introduced before R2006a</strong></p></div><div class="ref_sect"><h2 id="bt35io5-1_seealso">See Also</h2><p><span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="double.histcounts.html"><span itemprop="name"><code class="function">histcounts</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="sparse.html"><span itemprop="name"><code class="function">sparse</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="double.groupsummary.html"><span itemprop="name"><code class="function">groupsummary</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="double.groupcounts.html"><span itemprop="name"><code class="function">groupcounts</code></span></a></span></p></div>
    </div></div></section><div xmlns="http://www.w3.org/1999/xhtml" class="clearfix"></div>
<div xmlns="http://www.w3.org/1999/xhtml" align="center" class="feedbackblock" id="mw_docsurvey"><script src="https://www.mathworks.com/help/docsurvey/docfeedback.js"></script>
<script>loadSurveyHidden();</script>
<link rel="stylesheet" href="https://www.mathworks.com/help/docsurvey/release/index-css.css" type="text/css">
<script src="https://www.mathworks.com/help/docsurvey/release/bundle.index.js"></script>

<script>initDocSurvey();</script></div></main>


</div>
</div>
</div>
</div><!--close_0960-->
<footer xmlns="http://www.w3.org/1999/xhtml" id="footer" class="bs-footer">
<div class="container-fluid">
<div class="footer">
<div class="row">
<div class="col-12">
<p class="copyright">© 1994-2025 The MathWorks, Inc.</p>
<ul class="footernav"><li class="footernav_help"><a href="matlab:web(matlab.internal.licenseAgreement)">Terms of Use</a></li><li class="footernav_patents"><a href="matlab:web([matlabroot '/patents.txt'])">Patents</a></li><li class="footernav_trademarks"><a href="matlab:web([matlabroot '/trademarks.txt'])">Trademarks</a></li><li class="footernav_piracy"><a href="matlab:web([docroot '/acknowledgments.html'])">Acknowledgments</a></li></ul></div>
</div>
</div>
</div>
</footer>
</div><!--close row-offcanvas-->
</div><!--close_0970-->
</body>
</html>
