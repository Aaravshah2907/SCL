<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage">
<head>
<meta xmlns="http://www.w3.org/1999/xhtml" charset="utf-8">
<meta xmlns="http://www.w3.org/1999/xhtml" name="viewport" content="width=device-width, initial-scale=1.0">
<meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="X-UA-Compatible" content="IE=edge">
<title>matlab.tall.reduce</title>
<script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
      {
      "@context": "http://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement":
      [{
          "@type": "ListItem",
          "position": 1,

          "item": {
          "@id": "../index.html",
          "name": "MATLAB"
}

          } 
        ,
        {
          "@type": "ListItem",
          "position": 2,

          "item": {
          "@id": "../data-import-and-analysis.html",
          "name": "Data Import and Analysis"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 3,

          "item": {
          "@id": "../large-files-and-big-data.html",
          "name": "Large Files and Big Data"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 4,

          "item": {
          "@id": "../tall-arrays.html",
          "name": "Tall Arrays"
}

          }]
      }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "VisibleBreadcrumbs",

        "itemListElement":
        [
        "tall-arrays"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script>
<meta xmlns="http://www.w3.org/1999/xhtml" name="chunktype" content="refpage"><meta xmlns="http://www.w3.org/1999/xhtml" name="refentity" itemprop="refentity" content="function:matlab.tall.reduce"><link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/bootstrap.min.css" rel="stylesheet" type="text/css">


  <meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="Content-Script-Type" content="text/javascript">
<meta xmlns="http://www.w3.org/1999/xhtml" name="toctype" itemprop="pagetype" content="fcn">
<meta xmlns="http://www.w3.org/1999/xhtml" name="infotype" itemprop="infotype" content="ref/function">

<meta xmlns="http://www.w3.org/1999/xhtml" name="description" itemprop="description" content="This MATLAB function applies the function fcn to each block of array tX to generate partial results."><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-3.6.0.min.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-migrate.min.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_lg.css" rel="stylesheet" media="screen and (min-width: 1200px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_md.css" rel="stylesheet" media="screen and (min-width: 992px) and (max-width: 1199px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm+xs.css" rel="stylesheet" media="screen and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm.css" rel="stylesheet" media="screen and (min-width: 768px) and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_xs.css" rel="stylesheet" media="screen and (max-width: 767px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_offcanvas_v2.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/shared/highlight/styles/mwdochighlight.min.css" rel="stylesheet" type="text/css">

<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/l10n.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/f1help.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/mw.imageanimation.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/jquery.highlight.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/underscore-min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/use_platform_screenshots.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/suggest.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/overload.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/helpservices.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/productfilter.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/matlab_dialog_shared.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/highlight/highlight.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/localstorage.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/product_group.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/saxonjs/SaxonJS2.rt.js"></script><script xmlns="http://www.w3.org/1999/xhtml">
            window.history.replaceState(window.location.href, null, ""); // Initialize
            window.onload = function() {    
            mystylesheetLocation = "../../includes/shared/scripts/product_group-sef.json";
            mysourceLocation = "../../docset/docset.xml";
            product_help_location = "matlab";
            pagetype = "refentry";
            doccentertype = "product";
            langcode = "";
            getProductFilteredList(mystylesheetLocation, mysourceLocation, product_help_location, pagetype, doccentertype, langcode);  
            }
          </script>




<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery.mobile.custom.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/bootstrap.bundle.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/global.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_base.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_installed.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_print.css" rel="stylesheet" type="text/css" media="print">
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/equationrenderer/release/MathRenderer.js"></script>
</head>
<body id="responsive_offcanvas">
<div xmlns="http://www.w3.org/1999/xhtml" id="doc_header_spacer" class="header"></div>
<div xmlns="http://www.w3.org/1999/xhtml" class="section_header level_3"><div class="container-fluid"><div class="row" id="mobile_search_row"><div class="col-sm-6 col-md-7 has_horizontal_local_nav" id="section_header_title"><div class="section_header_content"><div class="section_header_title"><h1><a href="../../documentation-center.html">Help Center</a></h1></div></div></div><div class="col-12 col-sm-6 col-md-5" id="mobile_search"><div class="search_nested_content_container"><form id="docsearch_form" name="docsearch_form" method="get" data-release="R2025b" data-language="en" action="../../templates/searchresults.html"><div class="input-group tokenized_search_field"><label class="visually-hidden form-label">Search Help</label><input type="text" class="form-control conjoined_search" autocomplete="off" name="qdoc" placeholder="Search Help" id="docsearch"> <div><button type="submit" name="submitsearch" id="submitsearch" class="btn icon-search btn_search_adjacent btn_search icon_16" tabindex="-1"></button></div></div></form></div><button class="btn icon-remove btn_search float-end icon_32 d-sm-none" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div><div class="d-sm-none" id="search_actuator"><button class="btn icon-search btn_search float-end icon_16" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div></div></div></div><div class="row-offcanvas row-offcanvas-left">
<div xmlns="http://www.w3.org/1999/xhtml" class="sidebar-offcanvas" id="sidebar">
<nav class="offcanvas_nav" role="navigation">
<div class="offcanvas_actuator" data-bs-toggle="offcanvas" data-bs-target="#sidebar" id="nav_toggle"><button type="button" class="btn"><span class="visually-hidden">Off-Canvas Navigation Menu Toggle
                  Off-Canvas Navigation Menu Toggle</span><span class="icon-menu"></span></button><span class="offcanvas_actuator_label" id="translation_icon-menu" tabindex="-1" aria-hidden="true"></span></div><div class="nav_list_wrapper" id="nav_list_wrapper"><nav class="offcanvas_nav" role="navigation"><ul class="nav_breadcrumb" id="ul_left_nav_ancestors"><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../../documentation-center.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Documentation Home</span></a></li></ul>
<ul class="nav_disambiguation"><li><a href="../index.html?s_tid=CRUX_lftnav" id="index">MATLAB</a>
</li>
<li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../data-import-and-analysis.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Data Import and Analysis</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../large-files-and-big-data.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Large Files and Big Data</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../tall-arrays.html?s_tid=CRUX_lftnav" itemprop="url" id="bvaolz6"><span itemprop="title">Tall Arrays</span></a></li></ul><div class="search_refine_v4"><div id="facets_area"><ul class="nav_scrollspy nav list-unstyled" id="pnav">
<li class="nav_scrollspy_function nav-item notranslate"><a href="#responsive_offcanvas"><span class="refname">matlab.tall.reduce</span></a></li>
<li class="nav_scrollspy_title nav-item" id="SSPY810-refentry">On this page</li>
<!--ADD_REFENTRY_TITLE_HERE 11--><li><a href="#mw_d6a5642b-0c25-4a3a-a759-9d662abca18a" class="intrnllnk">Syntax</a></li><li class="nav-item"><a href="#description" class="nav-link intrnllnk">Description</a></li><li class="nav-item"><a href="#mw_032d7c6b-89ea-431c-b470-cf08c8def23d" class="nav-link intrnllnk">Examples</a><ul class="nav"><li class="nav-item"><a href="#mw_a6e26153-f250-40d1-b6e3-f9fdd3b330d7" class="nav-link intrnllnk">Apply Reduction Functions to Tall Vector</a></li></ul><ul class="nav"><li class="nav-item"><a href="#mw_0e732394-bd06-42bf-9db1-b93e8c639620" class="nav-link intrnllnk">Calculate Mean Values of Tall Vectors</a></li></ul><ul class="nav"><li class="nav-item"><a href="#mw_ae4e1ef9-065c-40bc-b465-320281db81d5" class="nav-link intrnllnk">Calculate Statistics by Group</a></li></ul><ul class="nav"><li class="nav-item"><a href="#mw_3149a85a-9087-4ff6-b908-a4b30d91cab1" class="nav-link intrnllnk">Weighted Standard Deviation and Variance of Tall Vectors</a></li></ul></li><li class="nav-item"><a href="#mw_86df9f01-6984-41d0-8e28-d631404d97d8" class="nav-link intrnllnk">Input Arguments</a><ul class="nav"><li class="nav-item"><a href="#mw_01fbfeb3-b598-4c24-82b9-4d6ff9447d20" class="nav-link intrnllnk">fcn</a></li><li class="nav-item"><a href="#mw_fb71a234-e3ee-4e9b-aa0a-49531ef7fe90" class="nav-link intrnllnk">reducefcn</a></li><li class="nav-item"><a href="#mw_a157f3d8-c6a3-4ff8-8793-23a07b11168d" class="nav-link intrnllnk">tX</a><a href="#mw_a157f3d8-c6a3-4ff8-8793-23a07b11168d" class="nav-link intrnllnk">tY</a></li><li class="nav-item"><a href="#mw_6dadc49f-eb13-4985-abf4-639212fa1dc0" class="nav-link intrnllnk">PA</a><a href="#mw_6dadc49f-eb13-4985-abf4-639212fa1dc0" class="nav-link intrnllnk">PB</a></li></ul></li><li class="nav-item"><a href="#mw_0a8b0e26-0411-4c54-977f-0cd0ec26d235" class="nav-link intrnllnk">Output Arguments</a><ul class="nav"><li class="nav-item"><a href="#mw_a93ea536-402b-46da-8647-c73cf2486cfe" class="nav-link intrnllnk">tA</a><a href="#mw_a93ea536-402b-46da-8647-c73cf2486cfe" class="nav-link intrnllnk">tB</a></li></ul></li><li class="nav-item"><a href="#mw_dce04cdd-6073-46e7-a53c-a12218737b7f" class="nav-link intrnllnk">More About</a><ul class="nav"><li class="nav-item"><a href="#mw_04122926-c37a-4cb2-8462-9d7206992381" class="nav-link intrnllnk">Tall Array Blocks</a></li></ul></li><li class="nav-item"><a href="#mw_bb35b0c6-7701-4c17-bc17-1ab8117708cf_vh" class="nav-link intrnllnk">Version History</a></li><li class="nav-item"><a href="#mw_bb35b0c6-7701-4c17-bc17-1ab8117708cf_seealso" class="nav-link intrnllnk">See Also</a></li></ul></div></div>
</nav></div></nav>
<script src="../../includes/product/scripts/offcanvas_v2.js"></script></div><!--END.CLASS sidebar-offcanvas-->
<div class="offcanvas_content_container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sticky_header_container"><div class="horizontal_nav"><div class="horizontal_nav_container"><div class="offcanvas_horizontal_nav"><div class="container-fluid"><div class="row"><div class="col-sm-12 d-none d-sm-block"><nav class="navbar navbar-default" role="navigation" id="subnav"><div><ul class="nav navbar-nav crux_browse"><li id="crux_nav_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_example" class="crux_resource"><a href="../examples.html?category=tall-arrays&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=tall-arrays&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=tall-arrays&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></nav></div><div class="d-sm-none"><div class="container-fluid"><div class="row"><div class="col-9"><div class="mobile_crux_nav_trigger"><div class="btn-group"><button type="button" class="btn btn-default dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Resources</button><ul class="dropdown-menu"><li id="crux_nav_mobile_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_mobile_example" class="crux_resource"><a href="../examples.html?category=tall-arrays&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_mobile_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=tall-arrays&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_mobile_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=tall-arrays&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></div></div><div class="col-3"><div class="translate_placeholder"></div></div></div></div></div></div></div></div></div></div></div><div class="content_container" id="content_container" itemprop="content">
<div class="container-fluid">
<div class="row">
<div class="col-12">

<main id="skip_link_anchor" tabindex="-1">
<div xmlns="http://www.w3.org/1999/xhtml" id="product_info_alert"></div><section xmlns="http://www.w3.org/1999/xhtml" id="doc_center_content" lang="en" data-language="en"><div id="pgtype-ref-function"><div class="function_ref"><span id="mw_bb35b0c6-7701-4c17-bc17-1ab8117708cf" class="anchor_target"></span><h1 class="r2025b notranslate" itemprop="title"><span class="refname">matlab.tall.reduce</span></h1><div class="doc_topic_desc"><div class="purpose_container"><p itemprop="purpose">Reduce arrays by applying reduction algorithm to blocks of data</p><div class="switch"><a href="javascript:void(0);" id="expandAllPage" data-allexpanded="true1">collapse all in page</a></div></div></div>
<span id="mw_d6a5642b-0c25-4a3a-a759-9d662abca18a" class="anchor_target"></span><div class="ref_sect"><h2 id="mw_d6a5642b-0c25-4a3a-a759-9d662abca18a">Syntax</h2><div class="syntax_signature"><div class="syntax_signature_module"><div class="code_responsive"><code class="synopsis"><a href="#d126e1811353" class="intrnllnk">tA = matlab.tall.reduce(fcn,reducefcn,tX)</a></code></div><div class="code_responsive"><code class="synopsis"><a href="#d126e1811383" class="intrnllnk">tA = matlab.tall.reduce(fcn,reducefcn,tX,tY,...)</a></code></div><div class="code_responsive"><code class="synopsis"><a href="#d126e1811419" class="intrnllnk">[tA,tB,...] = matlab.tall.reduce(fcn,reducefcn,tX,tY,...)</a></code></div><div class="code_responsive"><code class="synopsis"><a href="#d126e1811484" class="intrnllnk">[tA,tB,...] = matlab.tall.reduce(<span class="argument_placeholder">___</span>,'OutputsLike',{PA,PB,...})</a></code></div></div></div></div><div class="clear"></div><span id="mw_d979a880-c009-4ebb-a989-789f8b33d280" class="anchor_target"></span><h2 id="description">Description</h2><div class="descriptions"><div class="cshsummary" id="csh_mw_bb35b0c6-7701-4c17-bc17-1ab8117708cf"><div class="description_module"><div class="description_element"><div class="code_responsive"><p><span id="d126e1811353" itemprop="syntax"><code class="synopsis"><a href="#mw_a93ea536-402b-46da-8647-c73cf2486cfe" class="intrnllnk"><code class="argument">tA</code></a> = matlab.tall.reduce(<a href="#mw_01fbfeb3-b598-4c24-82b9-4d6ff9447d20" class="intrnllnk"><code class="argument">fcn</code></a>,<a href="#mw_fb71a234-e3ee-4e9b-aa0a-49531ef7fe90" class="intrnllnk"><code class="argument">reducefcn</code></a>,<a href="#mw_a157f3d8-c6a3-4ff8-8793-23a07b11168d" class="intrnllnk"><code class="argument">tX</code></a>)</code></span>
        applies the function <code class="literal">fcn</code> to each <a href="matlab.tall.reduce.html#mw_04122926-c37a-4cb2-8462-9d7206992381" class="intrnllnk">block</a> of array
          <code class="literal">tX</code> to generate partial results. Then the function applies
          <code class="literal">reducefcn</code> to the vertical concatenation of partial results repeatedly
        until it has one final result, <code class="literal">tA</code>.</p></div><p class="syntax_example"><a href="matlab.tall.reduce.html#mw_a6e26153-f250-40d1-b6e3-f9fdd3b330d7" class="intrnllnk">example</a></p></div><div class="description_element"><div class="code_responsive"><p><span id="d126e1811383" itemprop="syntax"><code class="synopsis"><a href="#mw_a93ea536-402b-46da-8647-c73cf2486cfe" class="intrnllnk"><code class="argument">tA</code></a> = matlab.tall.reduce(<a href="#mw_01fbfeb3-b598-4c24-82b9-4d6ff9447d20" class="intrnllnk"><code class="argument">fcn</code></a>,<a href="#mw_fb71a234-e3ee-4e9b-aa0a-49531ef7fe90" class="intrnllnk"><code class="argument">reducefcn</code></a>,<a href="#mw_a157f3d8-c6a3-4ff8-8793-23a07b11168d" class="intrnllnk"><code class="argument">tX</code></a>,<a href="#mw_a157f3d8-c6a3-4ff8-8793-23a07b11168d" class="intrnllnk"><code class="argument">tY</code></a>,...)</code></span>
        specifies several arrays <code class="literal">tX,tY,...</code> that are inputs to
          <code class="literal">fcn</code>. The same rows of each array are operated on by
          <code class="literal">fcn</code>; for example, <code class="literal">fcn(tX(n:m,:),tY(n:m,:))</code>. Inputs
        with a height of one are passed to every call of <code class="literal">fcn</code>. With this syntax,
          <code class="literal">fcn</code> must return one output, and <code class="literal">reducefcn</code> must
        accept one input and return one output.</p></div><p class="syntax_example"><a href="matlab.tall.reduce.html#mw_ae4e1ef9-065c-40bc-b465-320281db81d5" class="intrnllnk">example</a></p></div><div class="description_element"><div class="code_responsive"><p><span id="d126e1811419" itemprop="syntax"><code class="synopsis">[<a href="#mw_a93ea536-402b-46da-8647-c73cf2486cfe" class="intrnllnk"><code class="argument">tA</code></a>,<a href="#mw_a93ea536-402b-46da-8647-c73cf2486cfe" class="intrnllnk"><code class="argument">tB</code></a>,...] = matlab.tall.reduce(<a href="#mw_01fbfeb3-b598-4c24-82b9-4d6ff9447d20" class="intrnllnk"><code class="argument">fcn</code></a>,<a href="#mw_fb71a234-e3ee-4e9b-aa0a-49531ef7fe90" class="intrnllnk"><code class="argument">reducefcn</code></a>,<a href="#mw_a157f3d8-c6a3-4ff8-8793-23a07b11168d" class="intrnllnk"><code class="argument">tX</code></a>,<a href="#mw_a157f3d8-c6a3-4ff8-8793-23a07b11168d" class="intrnllnk"><code class="argument">tY</code></a>,...)</code></span>
        , where <code class="literal">fcn</code> and <code class="literal">reducefcn</code> are functions that return
        multiple outputs, returns arrays <code class="literal">tA,tB,...</code>, each corresponding to one of
        the output arguments of <code class="literal">fcn</code> and <code class="literal">reducefcn</code>. This syntax
        has these requirements:</p>
<div class="itemizedlist"><ul><li><p><code class="literal">fcn</code> must return the same number of outputs as were requested
              from <code class="function">matlab.tall.reduce</code>.</p></li><li><p><code class="literal">reducefcn</code> must have the same number of inputs and outputs as
              the number of outputs requested from <code class="function">matlab.tall.reduce</code>.</p></li><li><p>Each output of <code class="literal">fcn</code> and <code class="literal">reducefcn</code> must be the
              same type as the first input <code class="literal">tX</code>.</p></li><li><p>Corresponding outputs of <code class="literal">fcn</code> and <code class="literal">reducefcn</code>
              must have the same height.</p></li></ul></div><p>
</p></div><p class="syntax_example"><a href="matlab.tall.reduce.html#mw_3149a85a-9087-4ff6-b908-a4b30d91cab1" class="intrnllnk">example</a></p></div><div class="description_element"><div class="code_responsive"><p><span id="d126e1811484" itemprop="syntax"><code class="synopsis">[<a href="#mw_a93ea536-402b-46da-8647-c73cf2486cfe" class="intrnllnk"><code class="argument">tA</code></a>,<a href="#mw_a93ea536-402b-46da-8647-c73cf2486cfe" class="intrnllnk"><code class="argument">tB</code></a>,...] = matlab.tall.reduce(<span class="argument_placeholder">___</span>,'OutputsLike',{<a href="#mw_6dadc49f-eb13-4985-abf4-639212fa1dc0" class="intrnllnk"><code class="argument">PA</code></a>,<a href="#mw_6dadc49f-eb13-4985-abf4-639212fa1dc0" class="intrnllnk"><code class="argument">PB</code></a>,...})</code></span>
        specifies that the outputs <code class="literal">tA,tB,...</code> have the same data types as the
        prototype arrays <code class="literal">PA,PB,...</code>, respectively. You can use any of the input
        argument combinations in previous syntaxes.</p></div><p class="syntax_example"><a href="matlab.tall.reduce.html#mw_ae4e1ef9-065c-40bc-b465-320281db81d5" class="intrnllnk">example</a></p></div></div></div></div><div class="clear"></div><div class="examples"><h2 id="mw_032d7c6b-89ea-431c-b470-cf08c8def23d">Examples</h2><div class="expandableContent" id="expandableExamples"><p class="switch"><a href="javascript:void(0);" class="expandAllLink" data-allexpanded="true3">collapse all</a></p><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true" id="expand_accordion_heading_mw_a6e26153-f250-40d1-b6e3-f9fdd3b330d7"><div class="accordion-item "><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_mw_a6e26153-f250-40d1-b6e3-f9fdd3b330d7" data-bs-target="#expand_accordion_body_mw_a6e26153-f250-40d1-b6e3-f9fdd3b330d7" aria-controls="expand_accordion_body_mw_a6e26153-f250-40d1-b6e3-f9fdd3b330d7" class="accordion-button add_cursor_pointer" aria-expanded="true"><h3 id="mw_a6e26153-f250-40d1-b6e3-f9fdd3b330d7">Apply Reduction Functions to Tall Vector</h3></button></div><div role="tabpanel" id="expand_accordion_body_mw_a6e26153-f250-40d1-b6e3-f9fdd3b330d7" aria-labelledby="expand_accordion_heading_mw_a6e26153-f250-40d1-b6e3-f9fdd3b330d7" class="accordion-collapse collapse show"><div class="accordion-body"><div class="examples_short_list hidden_ios_android" data-products="ML"><div data-pane="metadata" class="card metadata_container"><div class="card-body metadata_content"><div class="d-grid"><a class="btn btn_color_blue" href="matlab:openExample('matlab/ApplyReductionFunctionsToTallVectorExample')" data-ex-genre="Live Script">Open Live Script</a></div></div></div></div><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "DigitalDocument",
          "headline": "Apply Reduction Functions to Tall Vector",
          "description": "Create a tall table, extract a tall vector from the table, and then find the total number of elements in the vector.",
          "thumbnailURL": "../../includes/product/images/doc_center/DefaultImage.png",
          "genre": "Live Script",
          "isBasedOn": {
          "@type": "Product",
          "name": "MATLAB"

        },
          "isPartOf": {
          "@type": "CreativeWork",
          "url": "matlab.tall.reduce.html"

        },
          "identifier": "matlab.ApplyReductionFunctionsToTallVectorExample",
          "name": "ApplyReductionFunctionsToTallVectorExample",
          "url": "matlab.tall.reduce.html#mw_a6e26153-f250-40d1-b6e3-f9fdd3b330d7"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "PropertyValue",
          "name": "open_command",
          "value": "matlab:openExample('matlab/ApplyReductionFunctionsToTallVectorExample')"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "ExampleSourceFiles",

        "itemListElement":
        [
        "ApplyReductionFunctionsToTallVectorExample.mlx",
        "airlinesmall.csv"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><p class="shortdesc">Create a tall table, extract a tall vector from the table, and then find the total number of elements in the vector.</p><p>Create a tall table for the <code class="literal">airlinesmall.csv</code> data set. The data contains information about arrival and departure times of US flights. Extract the <code class="literal">ArrDelay</code> variable, which is a vector of arrival delays.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>ds = tabularTextDatastore(<span style="color:#A020F0">'airlinesmall.csv'</span>,<span style="color:#A020F0">'TreatAsMissing'</span>,<span style="color:#A020F0">'NA'</span>);
ds.SelectedVariableNames = {<span style="color:#A020F0">'ArrDelay'</span> <span style="color:#A020F0">'DepDelay'</span>};
tt = tall(ds);
tX = tt.ArrDelay;</pre></div></div></div><p>Use <code class="literal">matlab.tall.reduce</code> to count the total number of non-<code class="literal">NaN</code> elements in the tall vector. The first function <code class="literal">numel</code> counts the number of elements in each block of data, and the second function <code class="literal">sum</code> adds together all of the counts for each block to produce a scalar result.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>s = matlab.tall.reduce(@numel,@sum,tX)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>s =

  M×N×... tall double array

    ?    ?    ?    ...
    ?    ?    ?    ...
    ?    ?    ?    ...
    :    :    :
    :    :    :

Preview deferred. Learn more.
</pre></div></div></div><p>Gather the result into memory.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>s = gather(s)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>Evaluating tall expression using the Local MATLAB Session:
- Pass 1 of 1: Completed in 0.65 sec
Evaluation completed in 0.81 sec
</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>s = 
123523
</pre></div></div></div><div class="procedure"></div></div></div></div></div><div itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/Example" itemprop="example" class="em_example"><meta itemprop="exampleid" content="matlab-ApplyReductionFunctionsToTallVectorExample"><meta itemprop="exampletitle" content="Apply Reduction Functions to Tall Vector"></div><div class="accordion" role="tablist" aria-multiselectable="true" id="expand_accordion_heading_mw_0e732394-bd06-42bf-9db1-b93e8c639620"><div class="accordion-item "><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_mw_0e732394-bd06-42bf-9db1-b93e8c639620" data-bs-target="#expand_accordion_body_mw_0e732394-bd06-42bf-9db1-b93e8c639620" aria-controls="expand_accordion_body_mw_0e732394-bd06-42bf-9db1-b93e8c639620" class="accordion-button add_cursor_pointer" aria-expanded="true"><h3 id="mw_0e732394-bd06-42bf-9db1-b93e8c639620">Calculate Mean Values of Tall Vectors</h3></button></div><div role="tabpanel" id="expand_accordion_body_mw_0e732394-bd06-42bf-9db1-b93e8c639620" aria-labelledby="expand_accordion_heading_mw_0e732394-bd06-42bf-9db1-b93e8c639620" class="accordion-collapse collapse show"><div class="accordion-body"><div class="examples_short_list hidden_ios_android" data-products="ML"><div data-pane="metadata" class="card metadata_container"><div class="card-body metadata_content"><div class="d-grid"><a class="btn btn_color_blue" href="matlab:openExample('matlab/MeanValuesOfTallVectorsExample')" data-ex-genre="Live Script">Open Live Script</a></div></div></div></div><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "DigitalDocument",
          "headline": "Calculate Mean Values of Tall Vectors",
          "description": "Create a tall table, extract two tall vectors form the table, and then calculate the mean value of each vector.",
          "thumbnailURL": "../../includes/product/images/doc_center/DefaultImage.png",
          "genre": "Live Script",
          "isBasedOn": {
          "@type": "Product",
          "name": "MATLAB"

        },
          "isPartOf": {
          "@type": "CreativeWork",
          "url": "matlab.tall.reduce.html"

        },
          "identifier": "matlab.MeanValuesOfTallVectorsExample",
          "name": "MeanValuesOfTallVectorsExample",
          "url": "matlab.tall.reduce.html#mw_0e732394-bd06-42bf-9db1-b93e8c639620"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "PropertyValue",
          "name": "open_command",
          "value": "matlab:openExample('matlab/MeanValuesOfTallVectorsExample')"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "ExampleSourceFiles",

        "itemListElement":
        [
        "MeanValuesOfTallVectorsExample.mlx",
        "airlinesmall.csv"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><p class="shortdesc">Create a tall table, extract two tall vectors form the table, and then calculate the mean value of each vector.</p><p>Create a tall table for the <code class="literal">airlinesmall.csv</code> data set. The data contains information about arrival and departure times of US flights. Extract the <code class="literal">ArrDelay</code> and <code class="literal">DepDelay</code> variables, which are vectors of arrival and departure delays.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>ds = tabularTextDatastore(<span style="color:#A020F0">'airlinesmall.csv'</span>,<span style="color:#A020F0">'TreatAsMissing'</span>,<span style="color:#A020F0">'NA'</span>);
ds.SelectedVariableNames = {<span style="color:#A020F0">'ArrDelay'</span> <span style="color:#A020F0">'DepDelay'</span>};
tt = tall(ds);
tt = rmmissing(tt);
tX = tt.ArrDelay;
tY = tt.DepDelay;</pre></div></div></div><p>In the first stage of the algorithm, calculate the sum and element count for each block of data in the vectors. To do this you can write a function that accepts two inputs and returns one output with the sum and count for each input. This function is listed as a local function at the end of the example.</p><div class="code_responsive"><pre id="d126e1811589" class="programlisting"><span style="color:#0000FF">function</span> bx = sumcount(tx,ty)
  bx = [sum(tx) numel(tx) sum(ty) numel(ty)];
<span style="color:#0000FF">end</span>
</pre></div><p>In the reduction stage of the algorithm, you need to add together all of the intermediate sums and counts. Thus, <code class="literal">matlab.tall.reduce</code> returns the overall sum of elements and number of elements for each input vector, and calculating the mean is then a simple division. For this step you can apply the <code class="literal">sum</code> function to the first dimension of the 1-by-4 vector outputs from the first stage.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre> reducefcn = @(x) sum(x,1);
 s = matlab.tall.reduce(@sumcount,reducefcn,tX,tY)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>s =

  M×N×... tall double array

    ?    ?    ?    ...
    ?    ?    ?    ...
    ?    ?    ?    ...
    :    :    :
    :    :    :

Preview deferred. Learn more.
</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre> s = gather(s)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>Evaluating tall expression using the Local MATLAB Session:
- Pass 1 of 1: Completed in 2 sec
Evaluation completed in 2.5 sec
</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>s = <span class="emphasis"><em>1×4</em></span>

      860584      120866      982764      120866

</pre></div></div></div><p>The first two elements of <code class="literal">s</code> are the sum and count for <code class="literal">tX</code>, and the second two elements are the sum and count for <code class="literal">tY</code>. Dividing the sums and counts yields the mean values, which you can compare to the answer returned by the <code class="literal">mean</code> function.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre> my_mean = [s(1)/s(2) s(3)/s(4)]</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>my_mean = <span class="emphasis"><em>1×2</em></span>

    7.1201    8.1310

</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre> m = gather(mean([tX tY]))</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>Evaluating tall expression using the Local MATLAB Session:
- Pass 1 of 1: Completed in 0.44 sec
Evaluation completed in 0.64 sec
</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>m = <span class="emphasis"><em>1×2</em></span>

    7.1201    8.1310

</pre></div></div></div><div class="procedure"><span id="MeanValuesOfTallVectorsExample-1" class="anchor_target"></span><p class="title" id="MeanValuesOfTallVectorsExample-1"><b>Local Functions</b></p><p>Listed here is the <code class="literal">sumcount</code> function that <code class="literal">matlab.tall.reduce</code> calls to calculate the intermediate sums and element counts.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#0000FF">function</span> bx = sumcount(tx,ty)
  bx = [sum(tx) numel(tx) sum(ty) numel(ty)];
<span style="color:#0000FF">end</span></pre></div></div></div></div></div></div></div></div><div itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/Example" itemprop="example" class="em_example"><meta itemprop="exampleid" content="matlab-MeanValuesOfTallVectorsExample"><meta itemprop="exampletitle" content="Calculate Mean Values of Tall Vectors"></div><div class="accordion" role="tablist" aria-multiselectable="true" id="expand_accordion_heading_mw_ae4e1ef9-065c-40bc-b465-320281db81d5"><div class="accordion-item "><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_mw_ae4e1ef9-065c-40bc-b465-320281db81d5" data-bs-target="#expand_accordion_body_mw_ae4e1ef9-065c-40bc-b465-320281db81d5" aria-controls="expand_accordion_body_mw_ae4e1ef9-065c-40bc-b465-320281db81d5" class="accordion-button add_cursor_pointer" aria-expanded="true"><h3 id="mw_ae4e1ef9-065c-40bc-b465-320281db81d5">Calculate Statistics by Group</h3></button></div><div role="tabpanel" id="expand_accordion_body_mw_ae4e1ef9-065c-40bc-b465-320281db81d5" aria-labelledby="expand_accordion_heading_mw_ae4e1ef9-065c-40bc-b465-320281db81d5" class="accordion-collapse collapse show"><div class="accordion-body"><div class="examples_short_list hidden_ios_android" data-products="ML"><div data-pane="metadata" class="card metadata_container"><div class="card-body metadata_content"><div class="d-grid"><a class="btn btn_color_blue" href="matlab:openExample('matlab/CalculateStatisticsByGroupExample')" data-ex-genre="Live Script">Open Live Script</a></div></div></div></div><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "DigitalDocument",
          "headline": "Calculate Statistics by Group",
          "description": "Create a tall table, then calculate the mean flight delay for each year in the data.",
          "thumbnailURL": "../../includes/product/images/doc_center/DefaultImage.png",
          "genre": "Live Script",
          "isBasedOn": {
          "@type": "Product",
          "name": "MATLAB"

        },
          "isPartOf": {
          "@type": "CreativeWork",
          "url": "matlab.tall.reduce.html"

        },
          "identifier": "matlab.CalculateStatisticsByGroupExample",
          "name": "CalculateStatisticsByGroupExample",
          "url": "matlab.tall.reduce.html#mw_ae4e1ef9-065c-40bc-b465-320281db81d5"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "PropertyValue",
          "name": "open_command",
          "value": "matlab:openExample('matlab/CalculateStatisticsByGroupExample')"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "ExampleSourceFiles",

        "itemListElement":
        [
        "CalculateStatisticsByGroupExample.mlx",
        "reduce_fcn.m",
        "transform_fcn.m",
        "mySplitFcn.m",
        "airlinesmall.csv"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><p class="shortdesc">Create a tall table, then calculate the mean flight delay for each year in the data.</p><p>Create a tall table for the <code class="literal">airlinesmall.csv</code> data set. The data contains information about arrival and departure times of US flights. Remove rows of missing data from the table and extract the <code class="literal">ArrDelay</code>, <code class="literal">DepDelay</code>, and <code class="literal">Year</code> variables. These variables are vectors of arrival and departure delays and of the associated years for each flight in the data set.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>ds = tabularTextDatastore(<span style="color:#A020F0">'airlinesmall.csv'</span>,<span style="color:#A020F0">'TreatAsMissing'</span>,<span style="color:#A020F0">'NA'</span>);
ds.SelectedVariableNames = {<span style="color:#A020F0">'ArrDelay'</span> <span style="color:#A020F0">'DepDelay'</span> <span style="color:#A020F0">'Year'</span>};
tt = tall(ds);
tt = rmmissing(tt);</pre></div></div></div><p>Use <code class="literal">matlab.tall.reduce</code> to apply two functions to the tall table. The first function combines the <code class="literal">ArrDelay</code> and <code class="literal">DepDelay</code> variables to find the total mean delay for each flight. The function determines how many unique years are in each chunk of data, and then cycles through each year and calculates the average total delay for flights in that year. The result is a two-variable table containing the year and mean total delay. This intermediate data needs to be reduced further to arrive at the mean delay per year. Save this function in your current folder as <code class="literal">transform_fcn.m</code>.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>type <span style="color:#A020F0">transform_fcn</span></pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>function t = transform_fcn(a,b,c)
ii = gather(unique(c));

for k = 1:length(ii)
    jj = (c == ii(k));
    d = mean([a(jj) b(jj)], 2);
    
    if k == 1
        t = table(c(jj),d,'VariableNames',{'Year' 'MeanDelay'});
    else
        t = [t; table(c(jj),d,'VariableNames',{'Year' 'MeanDelay'})];
    end
end

end
</pre></div></div></div><p>The second function uses the results from the first function to calculate the mean total delay for each year. The output from <code class="literal">reduce_fcn</code> is compatible with the output from <code class="literal">transform_fcn</code>, so that blocks of data can be concatenated in any order and continually reduced until only one row remains for each year.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>type <span style="color:#A020F0">reduce_fcn</span></pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>function TT = reduce_fcn(t)
[groups,Y] = findgroups(t.Year);
D = splitapply(@mean, t.MeanDelay, groups);

TT = table(Y,D,'VariableNames',{'Year' 'MeanDelay'});
end
</pre></div></div></div><p>Apply the transform and reduce functions to the tall vectors. Since the inputs (type <code class="literal">double</code>) and outputs (type <code class="literal">table</code>) have different data types, use the <code class="literal">'OutputsLike'</code> name-value pair to specify that the output is a table. A simple way to specify the type of the output is to call the transform function with dummy inputs.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>a = tt.ArrDelay;
b = tt.DepDelay;
c = tt.Year;
d1 = matlab.tall.reduce(@transform_fcn, @reduce_fcn, a, b, c, <span style="color:#A020F0">'OutputsLike'</span>,{transform_fcn(0,0,0)})</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>d1 =

  M×2 tall table

    Year    MeanDelay
    ____    _________

     ?          ?    
     ?          ?    
     ?          ?    
     :          :
     :          :

Preview deferred. Learn more.
</pre></div></div></div><p>Gather the results into memory to see the mean total flight delay per year.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>d1 = gather(d1)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>Evaluating tall expression using the Local MATLAB Session:
- Pass 1 of 1: Completed in 1.1 sec
Evaluation completed in 1.3 sec
</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>d1=<span class="emphasis"><em>22×2 table</em></span>
    Year    MeanDelay
    ____    _________

    1987     7.6889  
    1988     6.7918  
    1989     8.0757  
    1990     7.1548  
    1991     4.0134  
    1992     5.1767  
    1993     5.4941  
    1994     6.0303  
    1995     8.4284  
    1996     9.6981  
    1997     8.4346  
    1998     8.3789  
    1999     8.9121  
    2000     10.595  
    2001     6.8975  
    2002     3.4325  
      &#x22EE;

</pre></div></div></div><div class="procedure"><span id="CalculateStatisticsByGroupExample-1" class="anchor_target"></span><p class="title" id="CalculateStatisticsByGroupExample-1"><b>Alternative Approach</b></p><p>Another way to calculate the same statistics by group is to use <code class="literal">splitapply</code> to call <code class="literal">matlab.tall.reduce</code> (rather than using <code class="literal">matlab.tall.reduce</code> to call <code class="literal">splitapply</code>).</p><p>Using this approach, you call <code class="literal">findgroups</code> and <code class="literal">splitapply</code> directly on the data. The function <code class="literal">mySplitFcn</code> that operates on each group of data includes a call to <code class="literal">matlab.tall.reduce</code>. The transform and reduce functions employed by <code class="literal">matlab.tall.reduce</code> do not need to group the data, so those functions just perform calculations on the pregrouped data that <code class="literal">splitapply</code> passes to them.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>type <span style="color:#A020F0">mySplitFcn</span></pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>function T = mySplitFcn(a,b,c)
T = matlab.tall.reduce(@non_group_transform_fcn, @non_group_reduce_fcn, ...
    a, b, c, 'OutputsLike', {non_group_transform_fcn(0,0,0)});

    function t = non_group_transform_fcn(a,b,c)
        d = mean([a b], 2);
        t = table(c,d,'VariableNames',{'Year' 'MeanDelay'});
    end

    function TT = non_group_reduce_fcn(t)
        D = mean(t.MeanDelay);
        TT = table(t.Year(1),D,'VariableNames',{'Year' 'MeanDelay'});
    end

end
</pre></div></div></div><p>Call <code class="literal">findgroups</code> and <code class="literal">splitapply</code> to operate on the data and apply <code class="literal">mySplitFcn</code> to each group of data.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>groups = findgroups(c);
d2 = splitapply(@mySplitFcn, a, b, c, groups);
d2 = gather(d2)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>Evaluating tall expression using the Local MATLAB Session:
- Pass 1 of 2: Completed in 0.35 sec
- Pass 2 of 2: Completed in 0.74 sec
Evaluation completed in 1.5 sec
</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>d2=<span class="emphasis"><em>22×2 table</em></span>
    Year    MeanDelay
    ____    _________

    1987     7.6889  
    1988     6.7918  
    1989     8.0757  
    1990     7.1548  
    1991     4.0134  
    1992     5.1767  
    1993     5.4941  
    1994     6.0303  
    1995     8.4284  
    1996     9.6981  
    1997     8.4346  
    1998     8.3789  
    1999     8.9121  
    2000     10.595  
    2001     6.8975  
    2002     3.4325  
      &#x22EE;

</pre></div></div></div></div></div></div></div></div><div itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/Example" itemprop="example" class="em_example"><meta itemprop="exampleid" content="matlab-CalculateStatisticsByGroupExample"><meta itemprop="exampletitle" content="Calculate Statistics by Group"></div><div class="accordion" role="tablist" aria-multiselectable="true" id="expand_accordion_heading_mw_3149a85a-9087-4ff6-b908-a4b30d91cab1"><div class="accordion-item "><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_mw_3149a85a-9087-4ff6-b908-a4b30d91cab1" data-bs-target="#expand_accordion_body_mw_3149a85a-9087-4ff6-b908-a4b30d91cab1" aria-controls="expand_accordion_body_mw_3149a85a-9087-4ff6-b908-a4b30d91cab1" class="accordion-button add_cursor_pointer" aria-expanded="true"><h3 id="mw_3149a85a-9087-4ff6-b908-a4b30d91cab1">Weighted Standard Deviation and Variance of Tall Vectors</h3></button></div><div role="tabpanel" id="expand_accordion_body_mw_3149a85a-9087-4ff6-b908-a4b30d91cab1" aria-labelledby="expand_accordion_heading_mw_3149a85a-9087-4ff6-b908-a4b30d91cab1" class="accordion-collapse collapse show"><div class="accordion-body"><div class="examples_short_list hidden_ios_android" data-products="ML"><div data-pane="metadata" class="card metadata_container"><div class="card-body metadata_content"><div class="d-grid"><a class="btn btn_color_blue" href="matlab:openExample('matlab/WeightedStandardDeviationAndVarianceOfTallVectorsExample')" data-ex-genre="Live Script">Open Live Script</a></div></div></div></div><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "DigitalDocument",
          "headline": "Weighted Standard Deviation and Variance of Tall Vectors",
          "description": "Calculate weighted standard deviation and variance of a tall array using a vector of weights. This is one example of how you can use matlab.tall.reduce to work around functionality that tall arrays do not support yet.",
          "thumbnailURL": "../../includes/product/images/doc_center/DefaultImage.png",
          "genre": "Live Script",
          "isBasedOn": {
          "@type": "Product",
          "name": "MATLAB"

        },
          "isPartOf": {
          "@type": "CreativeWork",
          "url": "matlab.tall.reduce.html"

        },
          "identifier": "matlab.WeightedStandardDeviationAndVarianceOfTallVectorsExample",
          "name": "WeightedStandardDeviationAndVarianceOfTallVectorsExample",
          "url": "matlab.tall.reduce.html#mw_3149a85a-9087-4ff6-b908-a4b30d91cab1"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "PropertyValue",
          "name": "open_command",
          "value": "matlab:openExample('matlab/WeightedStandardDeviationAndVarianceOfTallVectorsExample')"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "ExampleSourceFiles",

        "itemListElement":
        [
        "WeightedStandardDeviationAndVarianceOfTallVectorsExample.mlx",
        "identityTransform.m",
        "weightedStats.m"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><p class="shortdesc">Calculate weighted standard deviation and variance of a tall array using a vector of weights. This is one example of how you can use <code class="literal">matlab.tall.reduce</code> to work around functionality that tall arrays do not support yet.</p><p>Create two tall vectors of random data. <code class="literal">tX</code> contains random data, and <code class="literal">tP</code> contains corresponding probabilities such that <code class="literal">sum(tP)</code> is <code class="literal">1</code>. These probabilities are suitable to weight the data.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>rng <span style="color:#A020F0">default</span>
tX = tall(rand(1e4,1));
p = rand(1e4,1);
tP = tall(normalize(p,<span style="color:#A020F0">'scale'</span>,sum(p)));</pre></div></div></div><p>Write an identity function that returns outputs equal to the inputs. This approach skips the transform step of <code class="literal">matlab.tall.reduce</code> and passes the data directly to the reduction step, where the reduction function is repeatedly applied to reduce the size of the data.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>type <span style="color:#A020F0">identityTransform.m</span></pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>function [A,B] = identityTransform(X,Y)
  A = X;
  B = Y;
end
</pre></div></div></div><p>Next, write a reduction function that operates on blocks of the tall vectors to calculate the weighted variance and standard deviation.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>type <span style="color:#A020F0">weightedStats.m</span></pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>function [wvar, wstd] = weightedStats(X, P)
  wvar = var(X,P);
  wstd = std(X,P);
end
</pre></div></div></div><p>Use <code class="literal">matlab.tall.reduce</code> to apply these functions to the blocks of data in the tall vectors. </p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>[tX_var_weighted, tX_std_weighted] = matlab.tall.reduce(@identityTransform, @weightedStats, tX, tP)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>tX_var_weighted =

  M×N×... tall double array

    ?    ?    ?    ...
    ?    ?    ?    ...
    ?    ?    ?    ...
    :    :    :
    :    :    :

Preview deferred. Learn more.


tX_std_weighted =

  M×N×... tall double array

    ?    ?    ?    ...
    ?    ?    ?    ...
    ?    ?    ?    ...
    :    :    :
    :    :    :

Preview deferred. Learn more.
</pre></div></div></div><div class="procedure"></div></div></div></div></div><div itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/Example" itemprop="example" class="em_example"><meta itemprop="exampleid" content="matlab-WeightedStandardDeviationAndVarianceOfTallVectorsExample"><meta itemprop="exampletitle" content="Weighted Standard Deviation and Variance of Tall Vectors"></div></div></div></div><div class="ref_sect"><h2 id="mw_86df9f01-6984-41d0-8e28-d631404d97d8">Input Arguments</h2><div class="expandableContent"><p class="switch "><a href="javascript:void(0);" class="expandAllLink" data-allexpanded="true">collapse all</a></p><div class="mw_ws_accordion_container"><div class="accordion" id="mw_86df9f01-6984-41d0-8e28-d631404d97d8_accordion-group" role="tablist" aria-multiselectable="true"><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true"><div class="accordion-item "><div itemscope="" itemprop="inputargument" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/NamedInputArgument" itemid="mw_01fbfeb3-b598-4c24-82b9-4d6ff9447d20"><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_mw_01fbfeb3-b598-4c24-82b9-4d6ff9447d20" data-bs-target="#expand_accordion_body_mw_01fbfeb3-b598-4c24-82b9-4d6ff9447d20" aria-controls="expand_accordion_body_mw_01fbfeb3-b598-4c24-82b9-4d6ff9447d20" class="accordion-button add_cursor_pointer" aria-expanded="true"><span id="inputarg_fcn" class="anchor_target"></span><h3 id="mw_01fbfeb3-b598-4c24-82b9-4d6ff9447d20"><code itemprop="name">fcn</code> &#8212; <span itemprop="purpose">Transform function to apply</span><br/> <span class="add_font_color_general remove_bold"><span class="example_desc"><span itemprop="inputvalue">function handle</span> | <span itemprop="inputvalue">anonymous function</span></span></span></h3></button></div><div role="tabpanel" id="expand_accordion_body_mw_01fbfeb3-b598-4c24-82b9-4d6ff9447d20" aria-labelledby="expand_accordion_heading_mw_01fbfeb3-b598-4c24-82b9-4d6ff9447d20" class="accordion-collapse collapse show"><div class="accordion-body"><div class="cshsummary" id="csh_mw_01fbfeb3-b598-4c24-82b9-4d6ff9447d20"><p>Transform function to apply, specified as a function handle or anonymous function.
            Each output of <code class="literal">fcn</code> must be the same type as the first input
              <code class="literal">tX</code>. You can use the <code class="literal">'OutputsLike'</code> option to
            return outputs of different data types. If <code class="literal">fcn</code> returns more than one
            output, then the outputs must all have the same height.</p><p>The general functional signature of <code class="literal">fcn</code> is<div class="code_responsive"><pre class="programlisting">[a, b, c, ...] = fcn(x, y, z, ...)</pre></div><code class="literal">fcn</code> must satisfy these requirements:</p>
<div class="orderedlist"><ol style="list-style: decimal;"><li><p><strong class="emphasis bold">Input Arguments</strong> &#8212; The inputs <code class="literal">[x, y, z,
                    ...]</code> are blocks of data that fit in memory. The blocks are produced by
                extracting data from the respective tall array inputs <code class="literal">[tX, tY, tZ,
                    ...]</code>. The inputs <code class="literal">[x, y, z, ...]</code> satisfy these
                properties:</p><div class="itemizedlist"><ul><li><p>All of <code class="literal">[x, y, z, ...]</code> have the same size in the first
                        dimension after any allowed expansion.</p></li><li><p>The blocks of data in <code class="literal">[x, y, z, ...]</code> come from the same
                        index in the tall dimension, assuming the tall array is nonsingleton in the
                        tall dimension. For example, if <code class="literal">tX</code> and
                            <code class="literal">tY</code> are nonsingleton in the tall dimension, then the
                        first set of blocks might be <code class="literal">x = tX(1:20000,:)</code> and
                            <code class="literal">y = tY(1:20000,:)</code>.</p></li><li><p>If the first dimension of any of <code class="literal">[tX, tY, tZ, ...]</code> has
                        a size of <code class="literal">1</code>, then the corresponding block <code class="literal">[x, y,
                            z, ...]</code> consists of all the data in that tall array.</p></li></ul></div></li><li><p><strong class="emphasis bold">Output Arguments</strong> &#8212; The outputs <code class="literal">[a, b, c,
                    ...]</code> are blocks that fit in memory, to be sent to the respective
                outputs <code class="literal">[tA, tB, tC, ...]</code>. The outputs <code class="literal">[a, b, c,
                    ...]</code> satisfy these properties:</p><div class="itemizedlist"><ul><li><p>All of <code class="literal">[a, b, c, ...]</code> must have the same size in the
                        first dimension.</p></li><li><p>All of <code class="literal">[a, b, c, ...]</code> are vertically concatenated with
                        the respective results of previous calls to <code class="literal">fcn</code>.</p></li><li><p>All of <code class="literal">[a, b, c, ...]</code> are sent to the same index in the
                        first dimension in their respective destination output arrays.</p></li></ul></div></li><li><p><strong class="emphasis bold">Functional Rules</strong> &#8212; <code class="literal">fcn</code> must satisfy the functional rule:</p><div class="itemizedlist"><ul><li><p><code class="literal">F([inputs1; inputs2]) == [F(inputs1); F(inputs2)]</code>: Applying the function to the concatenation of the inputs should be the same as applying the function to the inputs separately and then concatenating the results.</p></li></ul></div></li><li><p><strong class="emphasis bold">Empty Inputs</strong> &#8212; Ensure that <code class="literal">fcn</code>
                can handle an input that has a height of 0. Empty inputs can occur when a file is
                empty or if you have done a lot of filtering on the data.</p></li></ol></div><p>
</p><p>For example, this function accepts two input arrays, squares them, and returns two
            output
            arrays:<div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#0000FF">function</span> [xx,yy] = sqInputs(x,y)
xx = x.^2;
yy = y.^2;
<span style="color:#0000FF">end</span> </pre></div></div></div>After
            you save this function to an accessible folder, you can invoke the function to square
              <code class="literal">tX</code> and <code class="literal">tY</code> and find the maximum value with this
            command:<div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>tA = matlab.tall.reduce(@sqInputs, @max, tX, tY)</pre></div></div></div></p><p class="description_valueexample"><strong>Example: </strong><code class="literal">tC = matlab.tall.reduce(@numel,@sum,tX,tY)</code> finds the
            number of elements in each block, and then it sums the results to count the total number
            of elements.</p></div><p class="datatypelist"><strong>Data Types: </strong><code itemprop="datatype">function_handle</code></p></div></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true"><div class="accordion-item "><div itemscope="" itemprop="inputargument" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/NamedInputArgument" itemid="mw_fb71a234-e3ee-4e9b-aa0a-49531ef7fe90"><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_mw_fb71a234-e3ee-4e9b-aa0a-49531ef7fe90" data-bs-target="#expand_accordion_body_mw_fb71a234-e3ee-4e9b-aa0a-49531ef7fe90" aria-controls="expand_accordion_body_mw_fb71a234-e3ee-4e9b-aa0a-49531ef7fe90" class="accordion-button add_cursor_pointer" aria-expanded="true"><span id="inputarg_reducefcn" class="anchor_target"></span><h3 id="mw_fb71a234-e3ee-4e9b-aa0a-49531ef7fe90"><code itemprop="name">reducefcn</code> &#8212; <span itemprop="purpose">Reduction function to apply</span><br/> <span class="add_font_color_general remove_bold"><span class="example_desc"><span itemprop="inputvalue">function handle</span> | <span itemprop="inputvalue">anonymous function</span></span></span></h3></button></div><div role="tabpanel" id="expand_accordion_body_mw_fb71a234-e3ee-4e9b-aa0a-49531ef7fe90" aria-labelledby="expand_accordion_heading_mw_fb71a234-e3ee-4e9b-aa0a-49531ef7fe90" class="accordion-collapse collapse show"><div class="accordion-body"><div class="cshsummary" id="csh_mw_fb71a234-e3ee-4e9b-aa0a-49531ef7fe90"><p>Reduction function to apply, specified as a function handle or anonymous function.
            Each output of <code class="literal">reducefcn</code> must be the same type as the first input
              <code class="literal">tX</code>. You can use the <code class="literal">'OutputsLike'</code> option to
            return outputs of different data types. If <code class="literal">reducefcn</code> returns more
            than one output, then the outputs must all have the same height.</p><p>The general functional signature of <code class="literal">reducefcn</code> is<div class="code_responsive"><pre class="programlisting">[rA, rB, rC, ...] = reducefcn(a, b, c, ...)</pre></div><code class="literal">reducefcn</code> must satisfy these requirements:</p>
<div class="orderedlist"><ol style="list-style: decimal;"><li><p><strong class="emphasis bold">Input Arguments</strong> &#8212; The inputs <code class="literal">[a, b, c,
                    ...]</code> are blocks that fit in memory. The blocks of data are either
                outputs returned by <code class="literal">fcn</code>, or a partially reduced output from
                    <code class="literal">reducefcn</code> that is being operated on again for further
                reduction. The inputs <code class="literal">[a, b, c, ...]</code> satisfy these
                properties:</p><div class="itemizedlist"><ul><li><p>The inputs <code class="literal">[a, b, c, ...]</code> have the same size in the
                        first dimension.</p></li><li><p>For a given index in the first dimension, every row of the blocks of data
                            <code class="literal">[a, b, c, ...]</code> either originates from the input, or
                        originates from the same previous call to
                        <code class="literal">reducefcn</code>.</p></li><li><p>For a given index in the first dimension, every row of the inputs
                            <code class="literal">[a, b, c, ...]</code> for that index originates from the
                        same index in the first dimension.</p></li></ul></div></li><li><p><strong class="emphasis bold">Output Arguments</strong> &#8212; All outputs <code class="literal">[rA, rB, rC, ...]</code> must have the same size in the first dimension. Additionally, they must be vertically concatenable with the respective inputs <code class="literal">[a, b, c, ...]</code> to allow for repeated reductions when necessary.</p></li><li><p><strong class="emphasis bold">Functional Rules</strong> &#8212; <code class="literal">reducefcn</code> must satisfy these functional rules (up to roundoff error):</p>
<div class="itemizedlist"><ul><li><p><code class="literal">F(input) == F(F(input))</code>: Applying the function
                            repeatedly to the same inputs should not change the result.</p></li><li><p><code class="literal">F([input1; input2]) == F([input2; input1])</code>: The result should not depend on the order of concatenation.</p></li><li><p><code class="literal">F([input1; input2]) == F([F(input1); F(input2)])</code>: Applying the function once to the concatenation of some intermediate results should be the same as applying it separately, concatenating, and applying it again.</p></li></ul></div><p>
</p></li><li><p><strong class="emphasis bold">Empty Inputs</strong> &#8212; Ensure that
                    <code class="literal">reducefcn</code> can handle an input that has a height of 0. Empty
                inputs can occur when a file is empty or if you have done a lot of filtering on the
                data. For this call, all input blocks are empty arrays of the correct type and size
                in dimensions beyond the first.</p></li></ol></div><p>
</p><p>Some examples of suitable reduction functions are built-in dimension reduction
            functions such as <code class="function">sum</code>, <code class="function">prod</code>,
              <code class="function">max</code>, and so on. These functions can work on intermediate results
            produced by <code class="literal">fcn</code> and return a single scalar. These functions have the
            properties that the order in which concatenations occur and the number of times the
            reduction operation is applied do not change the final answer. Some functions, such as
              <code class="function">mean</code> and <code class="function">var</code>, should generally be avoided as
            reduction functions because the number of times the reduction operation is applied can
            change the final answer.</p><p class="description_valueexample"><strong>Example: </strong><code class="literal">tC = matlab.tall.reduce(@numel,@sum,tX)</code> finds the number
            of elements in each block, and then it sums the results to count the total number of
            elements.</p></div><p class="datatypelist"><strong>Data Types: </strong><code itemprop="datatype">function_handle</code></p></div></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true"><div class="accordion-item "><div itemscope="" itemprop="inputargument" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/NamedInputArgument" itemid="mw_a157f3d8-c6a3-4ff8-8793-23a07b11168d"><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_mw_a157f3d8-c6a3-4ff8-8793-23a07b11168d" data-bs-target="#expand_accordion_body_mw_a157f3d8-c6a3-4ff8-8793-23a07b11168d" aria-controls="expand_accordion_body_mw_a157f3d8-c6a3-4ff8-8793-23a07b11168d" class="accordion-button add_cursor_pointer" aria-expanded="true"><span id="inputarg_tX" class="anchor_target"></span><span id="inputarg_tY" class="anchor_target"></span><h3 id="mw_a157f3d8-c6a3-4ff8-8793-23a07b11168d"><code itemprop="name">tX</code>, <code itemprop="name">tY</code> &#8212; <span itemprop="purpose">Input arrays</span><br/> <span class="add_font_color_general remove_bold"><span class="example_desc"><span itemprop="inputvalue">scalars</span> | <span itemprop="inputvalue">vectors</span> | <span itemprop="inputvalue">matrices</span> | <span itemprop="inputvalue">multidimensional arrays</span></span></span></h3></button></div><div role="tabpanel" id="expand_accordion_body_mw_a157f3d8-c6a3-4ff8-8793-23a07b11168d" aria-labelledby="expand_accordion_heading_mw_a157f3d8-c6a3-4ff8-8793-23a07b11168d" class="accordion-collapse collapse show"><div class="accordion-body"><div class="cshsummary" id="csh_mw_a157f3d8-c6a3-4ff8-8793-23a07b11168d"><p>Input arrays, specified as scalars, vectors, matrices, or multidimensional arrays.
            The input arrays are used as inputs to the transform function <code class="literal">fcn</code>.
            Each input array <code class="literal">tX,tY,...</code> must have compatible heights. Two inputs
            have compatible height when they have the same height, or when one input is of height
            one.</p></div></div></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true"><div class="accordion-item "><div itemscope="" itemprop="inputargument" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/NamedInputArgument" itemid="mw_6dadc49f-eb13-4985-abf4-639212fa1dc0"><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_mw_6dadc49f-eb13-4985-abf4-639212fa1dc0" data-bs-target="#expand_accordion_body_mw_6dadc49f-eb13-4985-abf4-639212fa1dc0" aria-controls="expand_accordion_body_mw_6dadc49f-eb13-4985-abf4-639212fa1dc0" class="accordion-button add_cursor_pointer" aria-expanded="true"><span id="inputarg_PA" class="anchor_target"></span><span id="inputarg_PB" class="anchor_target"></span><h3 id="mw_6dadc49f-eb13-4985-abf4-639212fa1dc0"><code itemprop="name">PA</code>, <code itemprop="name">PB</code> &#8212; <span itemprop="purpose">Prototype of output arrays</span><br/> <span class="add_font_color_general remove_bold"><span class="example_desc"><span itemprop="inputvalue">arrays</span></span></span></h3></button></div><div role="tabpanel" id="expand_accordion_body_mw_6dadc49f-eb13-4985-abf4-639212fa1dc0" aria-labelledby="expand_accordion_heading_mw_6dadc49f-eb13-4985-abf4-639212fa1dc0" class="accordion-collapse collapse show"><div class="accordion-body"><div class="cshsummary" id="csh_mw_6dadc49f-eb13-4985-abf4-639212fa1dc0"><p>Prototype of output arrays, specified as arrays. When you specify
              <code class="literal">'OutputsLike'</code>, the output arrays <code class="literal">tA,tB,...</code>
            returned by <code class="function">matlab.tall.reduce</code> have the same data types and
            attributes as the specified arrays <code class="literal">{PA,PB,...}</code>.</p><p class="description_valueexample"><strong>Example: </strong><code class="literal">tA =
              matlab.tall.reduce(fcn,reducefcn,tX,'OutputsLike',{int8(1)});</code>, where
              <code class="literal">tX</code> is a double-precision tall array, returns <code class="literal">tA</code>
            as <code class="literal">int8</code> instead of <code class="literal">double</code>.</p></div></div></div></div></div></div></div></div></div></div></div><div class="ref_sect"><h2 id="mw_0a8b0e26-0411-4c54-977f-0cd0ec26d235">Output Arguments</h2><div class="expandableContent"><p class="switch "><a href="javascript:void(0);" class="expandAllLink" data-allexpanded="true">collapse all</a></p><div class="mw_ws_accordion_container"><div class="accordion" id="mw_0a8b0e26-0411-4c54-977f-0cd0ec26d235_accordion-group" role="tablist" aria-multiselectable="true"><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true"><div class="accordion-item "><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_mw_a93ea536-402b-46da-8647-c73cf2486cfe" data-bs-target="#expand_accordion_body_mw_a93ea536-402b-46da-8647-c73cf2486cfe" aria-controls="expand_accordion_body_mw_a93ea536-402b-46da-8647-c73cf2486cfe" class="accordion-button add_cursor_pointer" aria-expanded="true"><span id="outputarg_tA" class="anchor_target"></span><span id="outputarg_tB" class="anchor_target"></span><h3 id="mw_a93ea536-402b-46da-8647-c73cf2486cfe"><code class="name">tA</code>, <code class="name">tB</code> &#8212; Output arrays<br/> <span class="add_font_color_general remove_bold"><span class="example_desc">scalars | vectors | matrices | multidimensional arrays</span></span></h3></button></div><div role="tabpanel" id="expand_accordion_body_mw_a93ea536-402b-46da-8647-c73cf2486cfe" aria-labelledby="expand_accordion_heading_mw_a93ea536-402b-46da-8647-c73cf2486cfe" class="accordion-collapse collapse show"><div class="accordion-body"><div class="cshsummary" id="csh_mw_a93ea536-402b-46da-8647-c73cf2486cfe"><p>Output arrays, returned as scalars, vectors, matrices, or multidimensional arrays.
            If any input to <code class="function">matlab.tall.reduce</code> is tall, then all output
            arguments are also tall. Otherwise, all output arguments are in-memory arrays.</p><p>The size and data type of the output arrays depend on the specified functions
              <code class="literal">fcn</code> and <code class="literal">reducefcn</code>. In general, the outputs
              <code class="literal">tA,tB,...</code> must all have the same data type as the first input
              <code class="literal">tX</code>. However, you can specify <code class="literal">'OutputsLike'</code> to
            return different data types. The output arrays <code class="literal">tA,tB,...</code> all have the
            same height.</p></div></div></div></div></div></div></div></div></div></div><div class="moreabout ref_sect"><h2 id="mw_dce04cdd-6073-46e7-a53c-a12218737b7f">More About</h2><div class="expandableContent"><p class="switch"><a href="javascript:void(0);" class="expandAllLink" data-allexpanded="true2">collapse all</a></p><div class="mw_ws_accordion_container"><div class="accordion -presentation_expander -presentation_condensed"><div class="accordion-item"><div class="accordion-header"><button data-bs-toggle="collapse" data-bs-target="#expand_body_mw_04122926-c37a-4cb2-8462-9d7206992381" aria-controls="expand_body_mw_04122926-c37a-4cb2-8462-9d7206992381" class="accordion-button" aria-expanded="true"><h3 id="mw_04122926-c37a-4cb2-8462-9d7206992381">Tall Array Blocks</h3></button></div><div id="expand_body_mw_04122926-c37a-4cb2-8462-9d7206992381" class="accordion-collapse collapsed collapse show"><div class="accordion-body"><p class="shortdesc">When you create a tall array from a datastore, the underlying datastore
        facilitates the movement of data during a calculation. The data moves in discrete pieces
        called <span class="emphasis"><em>blocks</em></span> or <span class="emphasis"><em>chunks</em></span>, where each block is a set
        of consecutive rows that can fit in memory. For example, one block of a 2-D array (such as a
        table) is <code class="literal">X(n:m,:)</code>, for some subscripts <code class="literal">n</code> and
          <code class="literal">m</code>. The size of each block is based on the value of the
          <code class="literal">ReadSize</code> property of the datastore, but the block might not be exactly
        that size. For the purposes of <code class="function">matlab.tall.reduce</code>, a tall array is
        considered to be the vertical concatenation of many such blocks:</p><div class="informalfigure"><div id="d126e1812251" class="mediaobject"><p><img src="tallarrayblocks-01.png" alt="Illustration of an array broken into vertical blocks." height="372" width="105"></p></div></div><p>For example, if you use the <code class="function">sum</code> function as the transform function,
        the intermediate result is the sum <span class="emphasis"><em>per block</em></span>. Therefore, instead of
        returning a single scalar value for the sum of the elements, the result is a vector with
        length equal to the number of
        blocks.<div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>ds = tabularTextDatastore(<span style="color:#A020F0">'airlinesmall.csv'</span>,<span style="color:#A020F0">'TreatAsMissing'</span>,<span style="color:#A020F0">'NA'</span>);
ds.SelectedVariableNames = {<span style="color:#A020F0">'ArrDelay'</span> <span style="color:#A020F0">'DepDelay'</span>};
tt = tall(ds);
tX = tt.ArrDelay;

f = @(x) sum(x,<span style="color:#A020F0">'omitnan'</span>);
s = matlab.tall.reduce(f, @(x) x, tX);
s = gather(s)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>s =

      140467
      101065
      164355
      135920
      111182
      186274
       21321</pre></div></div></div></p></div></div></div></div></div></div></div><div class="ref_sect"><h2 id="mw_bb35b0c6-7701-4c17-bc17-1ab8117708cf_vh">Version History</h2><p><strong>Introduced in R2018b</strong></p></div><div class="ref_sect"><h2 id="mw_bb35b0c6-7701-4c17-bc17-1ab8117708cf_seealso">See Also</h2><p><span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="tall.tall.html"><span itemprop="name"><code class="function">tall</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="matlab.tall.transform.html"><span itemprop="name"><code class="function">matlab.tall.transform</code></span></a></span></p><div class="examples_container"><h3 class="remove_border">Topics</h3><div itemprop="content"><ul class="list-unstyled"><li><a href="../import_export/develop-custom-tall-array-algorithms.html" class="a">Develop Custom Tall Array Algorithms</a></li></ul></div></div></div>
    </div></div></section><div xmlns="http://www.w3.org/1999/xhtml" class="clearfix"></div>
<div xmlns="http://www.w3.org/1999/xhtml" align="center" class="feedbackblock" id="mw_docsurvey"><script src="https://www.mathworks.com/help/docsurvey/docfeedback.js"></script>
<script>loadSurveyHidden();</script>
<link rel="stylesheet" href="https://www.mathworks.com/help/docsurvey/release/index-css.css" type="text/css">
<script src="https://www.mathworks.com/help/docsurvey/release/bundle.index.js"></script>

<script>initDocSurvey();</script></div></main>


</div>
</div>
</div>
</div><!--close_0960-->
<footer xmlns="http://www.w3.org/1999/xhtml" id="footer" class="bs-footer">
<div class="container-fluid">
<div class="footer">
<div class="row">
<div class="col-12">
<p class="copyright">© 1994-2025 The MathWorks, Inc.</p>
<ul class="footernav"><li class="footernav_help"><a href="matlab:web(matlab.internal.licenseAgreement)">Terms of Use</a></li><li class="footernav_patents"><a href="matlab:web([matlabroot '/patents.txt'])">Patents</a></li><li class="footernav_trademarks"><a href="matlab:web([matlabroot '/trademarks.txt'])">Trademarks</a></li><li class="footernav_piracy"><a href="matlab:web([docroot '/acknowledgments.html'])">Acknowledgments</a></li></ul></div>
</div>
</div>
</div>
</footer>
</div><!--close row-offcanvas-->
</div><!--close_0970-->
</body>
</html>
