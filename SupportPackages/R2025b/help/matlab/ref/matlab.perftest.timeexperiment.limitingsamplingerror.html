<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage">
<head>
<meta xmlns="http://www.w3.org/1999/xhtml" charset="utf-8">
<meta xmlns="http://www.w3.org/1999/xhtml" name="viewport" content="width=device-width, initial-scale=1.0">
<meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="X-UA-Compatible" content="IE=edge">
<title>matlab.perftest.TimeExperiment.limitingSamplingError</title>
<script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
      {
      "@context": "http://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement":
      [{
          "@type": "ListItem",
          "position": 1,

          "item": {
          "@id": "../index.html",
          "name": "MATLAB"
}

          } 
        ,
        {
          "@type": "ListItem",
          "position": 2,

          "item": {
          "@id": "../software-development.html",
          "name": "Software Development Tools"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 3,

          "item": {
          "@id": "../matlab-unit-test-framework.html",
          "name": "Testing Frameworks"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 4,

          "item": {
          "@id": "../create-and-run-performance-tests.html",
          "name": "Create and Run Performance Tests"
}

          }]
      }</script>
<meta xmlns="http://www.w3.org/1999/xhtml" name="chunktype" content="refpage"><meta xmlns="http://www.w3.org/1999/xhtml" name="refentity" itemprop="refentity" content="method:matlab.perftest.TimeExperiment.limitingSamplingError"><link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/bootstrap.min.css" rel="stylesheet" type="text/css">


  <meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="Content-Script-Type" content="text/javascript">
<meta xmlns="http://www.w3.org/1999/xhtml" name="toctype" itemprop="pagetype" content="fcn">
<meta xmlns="http://www.w3.org/1999/xhtml" name="infotype" itemprop="infotype" content="mlref/function">

<meta xmlns="http://www.w3.org/1999/xhtml" name="description" itemprop="description" content="This MATLAB function constructs a time experiment for each test suite element, with the specified statistical objectives (such as margin of error and confidence level)."><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-3.6.0.min.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-migrate.min.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_lg.css" rel="stylesheet" media="screen and (min-width: 1200px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_md.css" rel="stylesheet" media="screen and (min-width: 992px) and (max-width: 1199px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm+xs.css" rel="stylesheet" media="screen and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm.css" rel="stylesheet" media="screen and (min-width: 768px) and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_xs.css" rel="stylesheet" media="screen and (max-width: 767px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_offcanvas_v2.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/shared/highlight/styles/mwdochighlight.min.css" rel="stylesheet" type="text/css">

<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/l10n.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/f1help.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/mw.imageanimation.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/jquery.highlight.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/underscore-min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/use_platform_screenshots.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/suggest.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/overload.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/helpservices.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/productfilter.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/matlab_dialog_shared.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/highlight/highlight.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/localstorage.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/product_group.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/saxonjs/SaxonJS2.rt.js"></script><script xmlns="http://www.w3.org/1999/xhtml">
            window.history.replaceState(window.location.href, null, ""); // Initialize
            window.onload = function() {    
            mystylesheetLocation = "../../includes/shared/scripts/product_group-sef.json";
            mysourceLocation = "../../docset/docset.xml";
            product_help_location = "matlab";
            pagetype = "refentry";
            doccentertype = "product";
            langcode = "";
            getProductFilteredList(mystylesheetLocation, mysourceLocation, product_help_location, pagetype, doccentertype, langcode);  
            }
          </script>




<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery.mobile.custom.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/bootstrap.bundle.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/global.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_base.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_installed.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_print.css" rel="stylesheet" type="text/css" media="print">
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/equationrenderer/release/MathRenderer.js"></script>
</head>
<body id="responsive_offcanvas">
<div xmlns="http://www.w3.org/1999/xhtml" id="doc_header_spacer" class="header"></div>
<div xmlns="http://www.w3.org/1999/xhtml" class="section_header level_3"><div class="container-fluid"><div class="row" id="mobile_search_row"><div class="col-sm-6 col-md-7 has_horizontal_local_nav" id="section_header_title"><div class="section_header_content"><div class="section_header_title"><h1><a href="../../documentation-center.html">Help Center</a></h1></div></div></div><div class="col-12 col-sm-6 col-md-5" id="mobile_search"><div class="search_nested_content_container"><form id="docsearch_form" name="docsearch_form" method="get" data-release="R2025b" data-language="en" action="../../templates/searchresults.html"><div class="input-group tokenized_search_field"><label class="visually-hidden form-label">Search Help</label><input type="text" class="form-control conjoined_search" autocomplete="off" name="qdoc" placeholder="Search Help" id="docsearch"> <div><button type="submit" name="submitsearch" id="submitsearch" class="btn icon-search btn_search_adjacent btn_search icon_16" tabindex="-1"></button></div></div></form></div><button class="btn icon-remove btn_search float-end icon_32 d-sm-none" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div><div class="d-sm-none" id="search_actuator"><button class="btn icon-search btn_search float-end icon_16" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div></div></div></div><div class="row-offcanvas row-offcanvas-left">
<div xmlns="http://www.w3.org/1999/xhtml" class="sidebar-offcanvas" id="sidebar">
<nav class="offcanvas_nav" role="navigation">
<div class="offcanvas_actuator" data-bs-toggle="offcanvas" data-bs-target="#sidebar" id="nav_toggle"><button type="button" class="btn"><span class="visually-hidden">Off-Canvas Navigation Menu Toggle
                  Off-Canvas Navigation Menu Toggle</span><span class="icon-menu"></span></button><span class="offcanvas_actuator_label" id="translation_icon-menu" tabindex="-1" aria-hidden="true"></span></div><div class="nav_list_wrapper" id="nav_list_wrapper"><nav class="offcanvas_nav" role="navigation"><ul class="nav_breadcrumb" id="ul_left_nav_ancestors"><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../../documentation-center.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Documentation Home</span></a></li></ul>
<ul class="nav_disambiguation"><li><a href="../index.html?s_tid=CRUX_lftnav" id="index">MATLAB</a>
</li>
<li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../software-development.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Software Development Tools</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../matlab-unit-test-framework.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Testing Frameworks</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../create-and-run-performance-tests.html?s_tid=CRUX_lftnav" itemprop="url" id="bu4b3kl"><span itemprop="title">Create and Run Performance Tests</span></a></li></ul><div class="search_refine_v4"><div id="facets_area"><ul class="nav_scrollspy nav list-unstyled" id="pnav">
<li class="nav_scrollspy_function nav-item notranslate"><a href="#responsive_offcanvas">matlab.perftest.TimeExperiment.limitingSamplingError</a></li>
<li class="nav_scrollspy_title nav-item" id="SSPY810-refentry">On this page</li>
<!--ADD_REFENTRY_TITLE_HERE 11--><li><a href="#d126e1307810" class="intrnllnk">Syntax</a></li><li class="nav-item"><a href="#bu4wtcf-2" class="nav-link intrnllnk">Description</a></li><li class="nav-item"><a href="#namevaluepairs" class="nav-link intrnllnk">Name-Value Arguments</a><ul class="nav"><li class="nav-item"><a href="#bu4wtcf-1-NumWarmups" class="nav-link intrnllnk">NumWarmups</a></li><li class="nav-item"><a href="#bu4wtcf-1-MinSamples" class="nav-link intrnllnk">MinSamples</a></li><li class="nav-item"><a href="#bu4wtcf-1-MaxSamples" class="nav-link intrnllnk">MaxSamples</a></li><li class="nav-item"><a href="#bu4wtcf-1-RelativeMarginOfError" class="nav-link intrnllnk">RelativeMarginOfError</a></li><li class="nav-item"><a href="#bu4wtcf-1-ConfidenceLevel" class="nav-link intrnllnk">ConfidenceLevel</a></li></ul></li><li class="nav-item"><a href="#bu4wtcf-9" class="nav-link intrnllnk">Examples</a><ul class="nav"><li class="nav-item"><a href="#bu4wtcf-10" class="nav-link intrnllnk">Performance Test with Variable Number of Measurements</a></li></ul></li><li class="nav-item"><a href="#mw_72ed76e4-142e-46f7-bc2e-908f771b93d3" class="nav-link intrnllnk">Version History</a><ul class="nav"><li class="nav-item"><a href="#mw_bdc5ff62-c8bf-4493-b8d6-0ac046fdba08" class="nav-link intrnllnk">Default number of warm-up measurements has increased</a></li></ul></li><li class="nav-item"><a href="#bu4wtcf-1_seealso" class="nav-link intrnllnk">See Also</a></li></ul></div></div>
</nav></div></nav>
<script src="../../includes/product/scripts/offcanvas_v2.js"></script></div><!--END.CLASS sidebar-offcanvas-->
<div class="offcanvas_content_container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sticky_header_container"><div class="horizontal_nav"><div class="horizontal_nav_container"><div class="offcanvas_horizontal_nav"><div class="container-fluid"><div class="row"><div class="col-sm-12 d-none d-sm-block"><nav class="navbar navbar-default" role="navigation" id="subnav"><div><ul class="nav navbar-nav crux_browse"><li id="crux_nav_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_example" class="crux_resource"><a href="../examples.html?category=create-and-run-performance-tests&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=create-and-run-performance-tests&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=create-and-run-performance-tests&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></nav></div><div class="d-sm-none"><div class="container-fluid"><div class="row"><div class="col-9"><div class="mobile_crux_nav_trigger"><div class="btn-group"><button type="button" class="btn btn-default dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Resources</button><ul class="dropdown-menu"><li id="crux_nav_mobile_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_mobile_example" class="crux_resource"><a href="../examples.html?category=create-and-run-performance-tests&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_mobile_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=create-and-run-performance-tests&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_mobile_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=create-and-run-performance-tests&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></div></div><div class="col-3"><div class="translate_placeholder"></div></div></div></div></div></div></div></div></div></div></div><div class="content_container" id="content_container" itemprop="content">
<div class="container-fluid">
<div class="row">
<div class="col-12">

<main id="skip_link_anchor" tabindex="-1">
<div xmlns="http://www.w3.org/1999/xhtml" id="product_info_alert"></div><section xmlns="http://www.w3.org/1999/xhtml" id="doc_center_content" lang="en" data-language="en"><div id="pgtype-ref"><div class="method_ref"><span id="bu4wtcf-1" class="anchor_target"></span><h1 class="r2025b notranslate" itemprop="title">matlab.perftest.TimeExperiment.limitingSamplingError</h1><p><b>Class: </b><a href="matlab.perftest.timeexperiment-class.html">matlab.perftest.TimeExperiment</a><br/>
<b>Namespace: </b>matlab.perftest</p><div class="doc_topic_desc"><div class="purpose_container"><p itemprop="purpose">Construct time experiment for specified margin of error
and confidence level</p><div class="switch"><a href="javascript:void(0);" id="expandAllPage">expand all in page</a></div></div></div>
<div class="ref_sect"><h2 id="d126e1307810">Syntax</h2><div class="syntax_signature"><div class="syntax_signature_module"><div class="code_responsive"><code class="synopsis"><a href="#d126e1307817" class="intrnllnk">experiment = matlab.perftest.TimeExperiment.limitingSamplingError</a></code></div><div class="code_responsive"><code class="synopsis"><a href="#d126e1307841" class="intrnllnk">experiment = matlab.perftest.TimeExperiment.limitingSamplingError(Name,Value)</a></code></div></div></div></div><div class="clear"></div><div class="ref_sect"><h2 id="bu4wtcf-2">Description</h2><div class="cshsummary" id="csh_bu4wtcf-1"><div class="description_module"><div class="description_element"><div class="code_responsive"><p><span id="d126e1307817" itemprop="syntax"><code class="synopsis">experiment = matlab.perftest.TimeExperiment.limitingSamplingError</code></span> constructs
a time experiment for each test suite element, with the specified
statistical objectives (such as margin of error and confidence level).
This method returns an instance of <code class="literal">FrequentistTimeExperiment</code>.
This syntax uses the following defaults to determine the number of
sample measurements.</p>
<div class="itemizedlist"><ul><li><p>Number of warm-up measurements: 5</p></li><li><p>Minimum number of samples: 4</p></li><li><p>Maximum number of samples collected in the event other statistical
                            objectives are not met: 256</p></li><li><p>Objective relative margin of error for samples: 0.05
(5%)</p></li><li><p>Confidence level for samples to be within relative
margin of error: 0.95 (95%)</p></li></ul></div><p>
</p></div><p class="syntax_example"><a href="matlab.perftest.timeexperiment.limitingsamplingerror.html#bu4wtcf-10" class="intrnllnk">example</a></p></div><div class="description_element"><div class="code_responsive"><p><span id="d126e1307841" itemprop="syntax"><code class="synopsis">experiment = matlab.perftest.TimeExperiment.limitingSamplingError(<a href="#namevaluepairarguments" class="intrnllnk"><code class="argument">Name,Value</code></a>)</code></span>
                constructs a time experiment with additional options specified by one or more
                name-value arguments. Use this syntax to override the defaults listed above.</p></div><p class="syntax_example"><a href="matlab.perftest.timeexperiment.limitingsamplingerror.html#bu4wtcf-10" class="intrnllnk">example</a></p></div></div></div></div><div class="ref_sect"><span id="namevaluepairarguments" class="anchor_target"></span><span id="bu4wtcf-5" class="anchor_target"></span><h2 id="namevaluepairs">Name-Value Arguments</h2><div class="expandableContent"><p class="switch "><a href="javascript:void(0);" class="expandAllLink" data-allexpanded="false">expand all</a></p><div class="mw_ws_accordion_container"><div class="accordion" id="bu4wtcf-5_accordion-group" role="tablist" aria-multiselectable="true"><div class="namevaluecontainer"><p class="neqvpair_boilerplate">Specify optional pairs of arguments as
      <code class="argument">Name1=Value1,...,NameN=ValueN</code>, where <code class="literal">Name</code> is
      the argument name and <code class="literal">Value</code> is the corresponding value.
      Name-value arguments must appear after other arguments, but the order of the
      pairs does not matter.
    </p><p class="nvpaircompat_boilerplate"><span class="emphasis"><em>
      Before R2021a, use commas to separate each name and value, and enclose</em></span> 
      <code class="literal">Name</code> <span class="emphasis"><em>in quotes.</em></span>
    </p><p><span class="example_desc"><strong>Example: </strong><code class="literal">experiment
= matlab.perftest.TimeExperiment.limitingSamplingError('RelativeMarginOfError',0.12,'MaxSamples',100)</code> creates
a time experiment that collects sample measurements until samples
have a relative margin of error of 12%, or until it collects 100 measurements.</span></p></div><div class="ref_sect"><div class="expandableContent"><div class="mw_ws_accordion_container"><div class="accordion" id="d126e1307876_accordion-group" role="tablist" aria-multiselectable="true"><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true"><div class="accordion-item "><div itemscope="" itemprop="inputargument" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/NameValuePairInputArgument" itemid="bu4wtcf-1-NumWarmups"><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_bu4wtcf-1-NumWarmups" data-bs-target="#expand_accordion_body_bu4wtcf-1-NumWarmups" aria-controls="expand_accordion_body_bu4wtcf-1-NumWarmups" class="accordion-button add_cursor_pointer collapsed" aria-expanded="false"><span id="inputarg_NumWarmups" class="anchor_target"></span><h3 id="bu4wtcf-1-NumWarmups"><code itemprop="name">NumWarmups</code> &#8212; <span itemprop="purpose">Number of warm-up measurements</span><br/> <span class="add_font_color_general remove_bold"><span class="example_desc"><span itemprop="inputvalue defaultvalue">5</span> (default) | <span itemprop="inputvalue">nonnegative integer</span></span></span></h3></button></div><div role="tabpanel" id="expand_accordion_body_bu4wtcf-1-NumWarmups" aria-labelledby="expand_accordion_heading_bu4wtcf-1-NumWarmups" class="accordion-collapse collapse"><div class="accordion-body"><div class="cshsummary" id="csh_bu4wtcf-1-NumWarmups"><p>Number of warm-up measurements, specified as a nonnegative integer.
                                <code class="argument">NumWarmups</code> defines the number of times that the
                            testing framework runs the test code to warm it up.</p></div></div></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true"><div class="accordion-item "><div itemscope="" itemprop="inputargument" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/NameValuePairInputArgument" itemid="bu4wtcf-1-MinSamples"><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_bu4wtcf-1-MinSamples" data-bs-target="#expand_accordion_body_bu4wtcf-1-MinSamples" aria-controls="expand_accordion_body_bu4wtcf-1-MinSamples" class="accordion-button add_cursor_pointer collapsed" aria-expanded="false"><span id="inputarg_MinSamples" class="anchor_target"></span><h3 id="bu4wtcf-1-MinSamples"><code itemprop="name">MinSamples</code> &#8212; <span itemprop="purpose">Minimum number of samples</span><br/> <span class="add_font_color_general remove_bold"><span class="example_desc"><span itemprop="inputvalue defaultvalue">4</span> (default) | <span itemprop="inputvalue">positive integer</span></span></span></h3></button></div><div role="tabpanel" id="expand_accordion_body_bu4wtcf-1-MinSamples" aria-labelledby="expand_accordion_heading_bu4wtcf-1-MinSamples" class="accordion-collapse collapse"><div class="accordion-body"><div class="cshsummary" id="csh_bu4wtcf-1-MinSamples"><p>Minimum number of sample measurements, specified as a positive integer. The value defines the
                            minimum number of times that the framework exercises the test code after
                            any warm-up runs. The framework exercises the test code at least
                                <code class="literal">MinSamples</code> times, regardless of whether the
                            experiment meets the statistical objectives.</p></div></div></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true"><div class="accordion-item "><div itemscope="" itemprop="inputargument" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/NameValuePairInputArgument" itemid="bu4wtcf-1-MaxSamples"><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_bu4wtcf-1-MaxSamples" data-bs-target="#expand_accordion_body_bu4wtcf-1-MaxSamples" aria-controls="expand_accordion_body_bu4wtcf-1-MaxSamples" class="accordion-button add_cursor_pointer collapsed" aria-expanded="false"><span id="inputarg_MaxSamples" class="anchor_target"></span><h3 id="bu4wtcf-1-MaxSamples"><code itemprop="name">MaxSamples</code> &#8212; <span itemprop="purpose">Maximum number of samples</span><br/> <span class="add_font_color_general remove_bold"><span class="example_desc"><span itemprop="inputvalue defaultvalue">256</span> (default) | <span itemprop="inputvalue">positive integer</span></span></span></h3></button></div><div role="tabpanel" id="expand_accordion_body_bu4wtcf-1-MaxSamples" aria-labelledby="expand_accordion_heading_bu4wtcf-1-MaxSamples" class="accordion-collapse collapse"><div class="accordion-body"><div class="cshsummary" id="csh_bu4wtcf-1-MaxSamples"><p>Maximum number of sample measurements, specified as a positive integer. The value defines the
                            maximum number of times that the framework exercises the test code after
                                <code class="literal">NumWarmups</code>. If the experiment does not meet the
                            statistical objectives, the framework collects up to
                                <code class="literal">MaxSamples</code>.</p></div></div></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true"><div class="accordion-item "><div itemscope="" itemprop="inputargument" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/NameValuePairInputArgument" itemid="bu4wtcf-1-RelativeMarginOfError"><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_bu4wtcf-1-RelativeMarginOfError" data-bs-target="#expand_accordion_body_bu4wtcf-1-RelativeMarginOfError" aria-controls="expand_accordion_body_bu4wtcf-1-RelativeMarginOfError" class="accordion-button add_cursor_pointer collapsed" aria-expanded="false"><span id="inputarg_RelativeMarginOfError" class="anchor_target"></span><h3 id="bu4wtcf-1-RelativeMarginOfError"><code itemprop="name">RelativeMarginOfError</code> &#8212; <span itemprop="purpose">Objective relative margin of error for samples</span><br/> <span class="add_font_color_general remove_bold"><span class="example_desc"><span itemprop="inputvalue defaultvalue">0.05</span> (default) | <span itemprop="inputvalue">positive number</span></span></span></h3></button></div><div role="tabpanel" id="expand_accordion_body_bu4wtcf-1-RelativeMarginOfError" aria-labelledby="expand_accordion_heading_bu4wtcf-1-RelativeMarginOfError" class="accordion-collapse collapse"><div class="accordion-body"><div class="cshsummary" id="csh_bu4wtcf-1-RelativeMarginOfError"><p>Objective relative margin of error for samples, specified as
a positive number.</p><p>The framework calculates the relative margin of error for a sample <code class="literal">X</code> using
                            the equation</p>
<div id="d126e1307972" class="mediaobject"><div class="code_responsive"><p class="programlistingindent"><math xmlns="http://www.w3.org/1998/Math/MathML" altimg-valign="-19px" display="block"><mrow><mtext>relMoE</mtext><mo>=</mo><mfrac><mrow><mtext>T</mtext><mo>∗</mo><mtext>std(X)</mtext></mrow><mrow><mtext>mean(X)</mtext><mo>∗</mo><msqrt><mrow><mtext>length(X)</mtext></mrow></msqrt></mrow></mfrac></mrow></math></p></div></div><p> where <code class="literal">T</code> is the T-score from
                            Student's T distribution using the specified
                                <code class="property">ConfidenceLevel</code> and
                                <code class="literal">length(X)-1</code> degrees of freedom.</p></div></div></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true"><div class="accordion-item "><div itemscope="" itemprop="inputargument" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/NameValuePairInputArgument" itemid="bu4wtcf-1-ConfidenceLevel"><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_bu4wtcf-1-ConfidenceLevel" data-bs-target="#expand_accordion_body_bu4wtcf-1-ConfidenceLevel" aria-controls="expand_accordion_body_bu4wtcf-1-ConfidenceLevel" class="accordion-button add_cursor_pointer collapsed" aria-expanded="false"><span id="inputarg_ConfidenceLevel" class="anchor_target"></span><h3 id="bu4wtcf-1-ConfidenceLevel"><code itemprop="name">ConfidenceLevel</code> &#8212; <span itemprop="purpose">Confidence level for samples to be within relative margin of error</span><br/>
<span class="add_font_color_general remove_bold"><span class="example_desc"><span itemprop="inputvalue defaultvalue">0.95</span> (default) | <span itemprop="inputvalue">number between 0 and 1</span></span></span></h3></button></div><div role="tabpanel" id="expand_accordion_body_bu4wtcf-1-ConfidenceLevel" aria-labelledby="expand_accordion_heading_bu4wtcf-1-ConfidenceLevel" class="accordion-collapse collapse"><div class="accordion-body"><div class="cshsummary" id="csh_bu4wtcf-1-ConfidenceLevel"><p>Confidence level for the samples to be within the relative margin
of error, specified as a number from 0 through 1.</p></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div class="examples"><h2 id="bu4wtcf-9">Examples</h2><div class="expandableContent" id="expandableExamples"><p class="switch"><a href="javascript:void(0);" class="expandAllLink">expand all</a></p><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true" id="expand_accordion_heading_bu4wtcf-10"><div class="accordion-item "><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_bu4wtcf-10" data-bs-target="#expand_accordion_body_bu4wtcf-10" aria-controls="expand_accordion_body_bu4wtcf-10" class="accordion-button add_cursor_pointer collapsed" aria-expanded="false"><h3 id="bu4wtcf-10">Performance Test with Variable Number of Measurements</h3></button></div><div role="tabpanel" id="expand_accordion_body_bu4wtcf-10" aria-labelledby="expand_accordion_heading_bu4wtcf-10" class="accordion-collapse collapse"><div class="accordion-body"><div class="procedure"><p>In your current folder, create a class-based test,
                            <code class="literal">preallocationTest.m</code>, that compares different methods
                        of preallocation.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#0000FF">classdef</span> preallocationTest &lt; matlab.perftest.TestCase
    <span style="color:#0000FF">methods</span> (Test)
        <span style="color:#0000FF">function</span> testOnes(testCase)
            x = ones(1,1e7);
        <span style="color:#0000FF">end</span>
        <span style="color:#0000FF">function</span> testIndexingWithVariable(testCase)
            id = 1:1e7;
            x(id) = 1;
        <span style="color:#0000FF">end</span>
        <span style="color:#0000FF">function</span> testIndexingOnLHS(testCase)
            x(1:1e7) = 1;
        <span style="color:#0000FF">end</span>
        <span style="color:#0000FF">function</span> testForLoop(testCase)
            <span style="color:#0000FF">for</span> i=1:1e7
                x(i) = 1;
            <span style="color:#0000FF">end</span>
        <span style="color:#0000FF">end</span>
    <span style="color:#0000FF">end</span>
<span style="color:#0000FF">end</span></pre></div></div></div><p>Create a test suite.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>suite = testsuite(<span style="color:#A020F0">"preallocationTest"</span>);</pre></div></div></div><p>Construct a time experiment with a variable number of
sample measurements, and run the tests.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>import <span style="color:#A020F0">matlab.perftest.TimeExperiment</span>
experiment = TimeExperiment.limitingSamplingError;
results = run(experiment,suite);</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>Running preallocationTest
.......... .......... .......... ......
Done preallocationTest
__________
</pre></div></div></div><p>View the test activity for the first test. For this test, the performance
                        testing framework collected five warm-up measurements (the default), and
                        four sample measurements. After four sample measurements, the framework
                        satisfied the default statistical objectives.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>results(1).TestActivity</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>ans =

  9×12 table

               Name               Passed    Failed    Incomplete    MeasuredTime    Objective         Timestamp             Host        Platform                 Version                            TestResult                         RunIdentifier            
    __________________________    ______    ______    __________    ____________    _________    ____________________    ___________    ________    __________________________________    ______________________________    ____________________________________

    preallocationTest/testOnes    true      false       false         0.016621       warmup      12-Oct-2022 16:19:12    MY-HOSTNAME     win64      9.14.0.2078117 (R2023a) Prerelease    1×1 matlab.unittest.TestResult    a04b1262-f4c3-4af5-b68e-ae54a6ae24b1
    preallocationTest/testOnes    true      false       false         0.016783       warmup      12-Oct-2022 16:19:12    MY-HOSTNAME     win64      9.14.0.2078117 (R2023a) Prerelease    1×1 matlab.unittest.TestResult    a04b1262-f4c3-4af5-b68e-ae54a6ae24b1
    preallocationTest/testOnes    true      false       false         0.016685       warmup      12-Oct-2022 16:19:12    MY-HOSTNAME     win64      9.14.0.2078117 (R2023a) Prerelease    1×1 matlab.unittest.TestResult    a04b1262-f4c3-4af5-b68e-ae54a6ae24b1
    preallocationTest/testOnes    true      false       false         0.017241       warmup      12-Oct-2022 16:19:12    MY-HOSTNAME     win64      9.14.0.2078117 (R2023a) Prerelease    1×1 matlab.unittest.TestResult    a04b1262-f4c3-4af5-b68e-ae54a6ae24b1
    preallocationTest/testOnes    true      false       false         0.017496       warmup      12-Oct-2022 16:19:12    MY-HOSTNAME     win64      9.14.0.2078117 (R2023a) Prerelease    1×1 matlab.unittest.TestResult    a04b1262-f4c3-4af5-b68e-ae54a6ae24b1
    preallocationTest/testOnes    true      false       false         0.016733       sample      12-Oct-2022 16:19:12    MY-HOSTNAME     win64      9.14.0.2078117 (R2023a) Prerelease    1×1 matlab.unittest.TestResult    a04b1262-f4c3-4af5-b68e-ae54a6ae24b1
    preallocationTest/testOnes    true      false       false         0.016654       sample      12-Oct-2022 16:19:12    MY-HOSTNAME     win64      9.14.0.2078117 (R2023a) Prerelease    1×1 matlab.unittest.TestResult    a04b1262-f4c3-4af5-b68e-ae54a6ae24b1
    preallocationTest/testOnes    true      false       false         0.016602       sample      12-Oct-2022 16:19:12    MY-HOSTNAME     win64      9.14.0.2078117 (R2023a) Prerelease    1×1 matlab.unittest.TestResult    a04b1262-f4c3-4af5-b68e-ae54a6ae24b1
    preallocationTest/testOnes    true      false       false         0.017102       sample      12-Oct-2022 16:19:12    MY-HOSTNAME     win64      9.14.0.2078117 (R2023a) Prerelease    1×1 matlab.unittest.TestResult    a04b1262-f4c3-4af5-b68e-ae54a6ae24b1
</pre></div></div></div><p>Construct a time experiment that collects two warm-up
measurements and runs the tests a variable number of times to reach
a sample mean with a 10% relative margin of error within a 90% confidence
level.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>experiment = TimeExperiment.limitingSamplingError(<span style="color:#A020F0">"NumWarmups"</span>,2, <span style="color:#0000FF">...</span>
    <span style="color:#A020F0">"RelativeMarginOfError"</span>,0.10,<span style="color:#A020F0">"ConfidenceLevel"</span>,0.90);
results = run(experiment,suite);</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>Running preallocationTest
.......... .......... ....
Done preallocationTest
__________</pre></div></div></div><p>View the test activity for the first test. For this test, the framework
                        collected two warm-up measurements and four sample measurements. After four
                        sample measurements, the framework satisfied the specified statistical
                        objectives.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>results(1).TestActivity</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>ans =

  6×12 table

               Name               Passed    Failed    Incomplete    MeasuredTime    Objective         Timestamp             Host        Platform                 Version                            TestResult                         RunIdentifier            
    __________________________    ______    ______    __________    ____________    _________    ____________________    ___________    ________    __________________________________    ______________________________    ____________________________________

    preallocationTest/testOnes    true      false       false         0.016576       warmup      12-Oct-2022 16:23:04    MY-HOSTNAME     win64      9.14.0.2078117 (R2023a) Prerelease    1×1 matlab.unittest.TestResult    932317a8-bb61-4cba-945e-082f38eb0ced
    preallocationTest/testOnes    true      false       false         0.016709       warmup      12-Oct-2022 16:23:04    MY-HOSTNAME     win64      9.14.0.2078117 (R2023a) Prerelease    1×1 matlab.unittest.TestResult    932317a8-bb61-4cba-945e-082f38eb0ced
    preallocationTest/testOnes    true      false       false         0.016672       sample      12-Oct-2022 16:23:04    MY-HOSTNAME     win64      9.14.0.2078117 (R2023a) Prerelease    1×1 matlab.unittest.TestResult    932317a8-bb61-4cba-945e-082f38eb0ced
    preallocationTest/testOnes    true      false       false         0.017231       sample      12-Oct-2022 16:23:04    MY-HOSTNAME     win64      9.14.0.2078117 (R2023a) Prerelease    1×1 matlab.unittest.TestResult    932317a8-bb61-4cba-945e-082f38eb0ced
    preallocationTest/testOnes    true      false       false         0.017646       sample      12-Oct-2022 16:23:04    MY-HOSTNAME     win64      9.14.0.2078117 (R2023a) Prerelease    1×1 matlab.unittest.TestResult    932317a8-bb61-4cba-945e-082f38eb0ced
    preallocationTest/testOnes    true      false       false         0.016836       sample      12-Oct-2022 16:23:04    MY-HOSTNAME     win64      9.14.0.2078117 (R2023a) Prerelease    1×1 matlab.unittest.TestResult    932317a8-bb61-4cba-945e-082f38eb0ced

</pre></div></div></div></div></div></div></div></div></div></div></div><div class="ref_sect"><h2 id="mw_72ed76e4-142e-46f7-bc2e-908f771b93d3">Version History</h2><strong>Introduced in R2016a</strong><div class="expandableContent"><p class="switch"><a href="javascript:void(0);" class="expandAllLink">expand all</a></p><div class="mw_ws_accordion_container"><div class="accordion -presentation_expander -presentation_condensed"><div class="accordion-item"><div class="accordion-header"><button data-bs-toggle="collapse" data-bs-target="#expand_body_mw_bdc5ff62-c8bf-4493-b8d6-0ac046fdba08" aria-controls="expand_body_mw_bdc5ff62-c8bf-4493-b8d6-0ac046fdba08" class="accordion-button collapsed" aria-expanded="false"><h3 id="mw_bdc5ff62-c8bf-4493-b8d6-0ac046fdba08">R2023a: <span class="remove_bold">Default number of warm-up measurements has increased</span><span class="icon-alert-warning icon_alert_color"></span></h3></button></div><div id="expand_body_mw_bdc5ff62-c8bf-4493-b8d6-0ac046fdba08" class="accordion-collapse collapsed collapse"><div class="accordion-body"><p>The default number of times that the framework exercises the test code to warm it
                up in a frequentist time experiment has increased from four to five. This change
                results in typically fewer samples required to meet the objective relative margin of
                error.</p><p>If you want to use the previous default value, explicitly specify the value in
                your code. This table shows an example of how to update code that runs tests using
                four warm-up measurements.</p><div class="table-responsive"><table class="table table-condensed"><colgroup><col class="tcol1" width="50%" align="left"><col class="tcol2" width="50%" align="left"></colgroup><thead><tr><th>Before</th><th>After</th></tr></thead><tbody><tr><td>
                                <div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>import <span style="color:#A020F0">matlab.perftest.TimeExperiment</span>
experiment = TimeExperiment.limitingSamplingError;
results = run(experiment,mySuite);</pre></div></div></div>
                            </td><td>
                                <div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>import <span style="color:#A020F0">matlab.perftest.TimeExperiment</span>
experiment = TimeExperiment.limitingSamplingError(<span style="color:#A020F0">"NumWarmups"</span>,4);
results = run(experiment,mySuite);</pre></div></div></div>
                            </td></tr></tbody></table></div></div></div></div></div></div></div></div><div class="ref_sect"><h2 id="bu4wtcf-1_seealso">See Also</h2><p><span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="matlab.perftest.timeexperiment.withfixedsamplesize.html"><span itemprop="name"><code class="method">matlab.perftest.TimeExperiment.withFixedSampleSize</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="matlab.perftest.frequentisttimeexperiment-class.html"><span itemprop="name"><code class="class">matlab.perftest.FrequentistTimeExperiment</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="runperf.html"><span itemprop="name"><code class="function">runperf</code></span></a></span></p><div class="examples_container"><h3 class="remove_border">Topics</h3><div itemprop="content"><ul class="list-unstyled"><li><a href="../matlab_prog/overview-of-performance-test-framework.html" class="a">Overview of Performance Testing Framework</a></li></ul></div></div></div>
    </div></div></section><div xmlns="http://www.w3.org/1999/xhtml" class="clearfix"></div>
<div xmlns="http://www.w3.org/1999/xhtml" align="center" class="feedbackblock" id="mw_docsurvey"><script src="https://www.mathworks.com/help/docsurvey/docfeedback.js"></script>
<script>loadSurveyHidden();</script>
<link rel="stylesheet" href="https://www.mathworks.com/help/docsurvey/release/index-css.css" type="text/css">
<script src="https://www.mathworks.com/help/docsurvey/release/bundle.index.js"></script>

<script>initDocSurvey();</script></div></main>


</div>
</div>
</div>
</div><!--close_0960-->
<footer xmlns="http://www.w3.org/1999/xhtml" id="footer" class="bs-footer">
<div class="container-fluid">
<div class="footer">
<div class="row">
<div class="col-12">
<p class="copyright">© 1994-2025 The MathWorks, Inc.</p>
<ul class="footernav"><li class="footernav_help"><a href="matlab:web(matlab.internal.licenseAgreement)">Terms of Use</a></li><li class="footernav_patents"><a href="matlab:web([matlabroot '/patents.txt'])">Patents</a></li><li class="footernav_trademarks"><a href="matlab:web([matlabroot '/trademarks.txt'])">Trademarks</a></li><li class="footernav_piracy"><a href="matlab:web([docroot '/acknowledgments.html'])">Acknowledgments</a></li></ul></div>
</div>
</div>
</div>
</footer>
</div><!--close row-offcanvas-->
</div><!--close_0970-->
</body>
</html>
