<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage">
<head>
<meta xmlns="http://www.w3.org/1999/xhtml" charset="utf-8">
<meta xmlns="http://www.w3.org/1999/xhtml" name="viewport" content="width=device-width, initial-scale=1.0">
<meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="X-UA-Compatible" content="IE=edge">
<title>varfun</title>
<script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
      {
      "@context": "http://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement":
      [{
          "@type": "ListItem",
          "position": 1,

          "item": {
          "@id": "../index.html",
          "name": "MATLAB"
}

          } 
        ,
        {
          "@type": "ListItem",
          "position": 2,

          "item": {
          "@id": "../language-fundamentals.html",
          "name": "Language Fundamentals"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 3,

          "item": {
          "@id": "../data-types.html",
          "name": "Data Types"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 4,

          "item": {
          "@id": "../tables.html",
          "name": "Tables"
}

          }]
      }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "VisibleBreadcrumbs",

        "itemListElement":
        [
        "tables"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "ExtendedCapabilities",

        "itemListElement":
        [
{
          "@type": "ListItem",
          "position": 1,
"item": 
        {
        "@context": "http://schema.org",
        "@type": "PropertyValue",
          "name": "codegen",
          "value": "limited"

        }
          },
{
          "@type": "ListItem",
          "position": 2,
"item": 
        {
        "@context": "http://schema.org",
        "@type": "PropertyValue",
          "name": "tall",
          "value": "limited"

        }
          },
{
          "@type": "ListItem",
          "position": 3,
"item": 
        {
        "@context": "http://schema.org",
        "@type": "PropertyValue",
          "name": "threadsupport",
          "value": "full"

        }
          }
        ]
        }
        </script>
<meta xmlns="http://www.w3.org/1999/xhtml" name="chunktype" content="refpage"><meta xmlns="http://www.w3.org/1999/xhtml" name="refentity" itemprop="refentity" content="function:varfun"><meta xmlns="http://www.w3.org/1999/xhtml" name="refentity" itemprop="refentity" content="method:table.varfun"><meta xmlns="http://www.w3.org/1999/xhtml" name="refentity" itemprop="refentity" content="method:timetable.varfun"><meta xmlns="http://www.w3.org/1999/xhtml" name="refentity" itemprop="refentity" content="method:tall.varfun"><link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/bootstrap.min.css" rel="stylesheet" type="text/css">


  <meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="Content-Script-Type" content="text/javascript">
<meta xmlns="http://www.w3.org/1999/xhtml" name="toctype" itemprop="pagetype" content="fcn">
<meta xmlns="http://www.w3.org/1999/xhtml" name="infotype" itemprop="infotype" content="ref/function">

<meta xmlns="http://www.w3.org/1999/xhtml" name="description" itemprop="description" content="This MATLAB function applies the function func separately to each variable of the table or timetable A and returns the results in the table or timetable B."><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-3.6.0.min.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-migrate.min.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_lg.css" rel="stylesheet" media="screen and (min-width: 1200px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_md.css" rel="stylesheet" media="screen and (min-width: 992px) and (max-width: 1199px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm+xs.css" rel="stylesheet" media="screen and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm.css" rel="stylesheet" media="screen and (min-width: 768px) and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_xs.css" rel="stylesheet" media="screen and (max-width: 767px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_offcanvas_v2.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/shared/highlight/styles/mwdochighlight.min.css" rel="stylesheet" type="text/css">

<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/l10n.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/f1help.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/mw.imageanimation.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/jquery.highlight.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/underscore-min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/use_platform_screenshots.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/suggest.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/overload.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/helpservices.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/productfilter.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/matlab_dialog_shared.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/highlight/highlight.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/localstorage.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/product_group.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/saxonjs/SaxonJS2.rt.js"></script><script xmlns="http://www.w3.org/1999/xhtml">
            window.history.replaceState(window.location.href, null, ""); // Initialize
            window.onload = function() {    
            mystylesheetLocation = "../../includes/shared/scripts/product_group-sef.json";
            mysourceLocation = "../../docset/docset.xml";
            product_help_location = "matlab";
            pagetype = "refentry";
            doccentertype = "product";
            langcode = "";
            getProductFilteredList(mystylesheetLocation, mysourceLocation, product_help_location, pagetype, doccentertype, langcode);  
            }
          </script>




<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery.mobile.custom.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/bootstrap.bundle.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/global.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_base.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_installed.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_print.css" rel="stylesheet" type="text/css" media="print">
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/equationrenderer/release/MathRenderer.js"></script>
</head>
<body id="responsive_offcanvas">
<div xmlns="http://www.w3.org/1999/xhtml" id="doc_header_spacer" class="header"></div>
<div xmlns="http://www.w3.org/1999/xhtml" class="section_header level_3"><div class="container-fluid"><div class="row" id="mobile_search_row"><div class="col-sm-6 col-md-7 has_horizontal_local_nav" id="section_header_title"><div class="section_header_content"><div class="section_header_title"><h1><a href="../../documentation-center.html">Help Center</a></h1></div></div></div><div class="col-12 col-sm-6 col-md-5" id="mobile_search"><div class="search_nested_content_container"><form id="docsearch_form" name="docsearch_form" method="get" data-release="R2025b" data-language="en" action="../../templates/searchresults.html"><div class="input-group tokenized_search_field"><label class="visually-hidden form-label">Search Help</label><input type="text" class="form-control conjoined_search" autocomplete="off" name="qdoc" placeholder="Search Help" id="docsearch"> <div><button type="submit" name="submitsearch" id="submitsearch" class="btn icon-search btn_search_adjacent btn_search icon_16" tabindex="-1"></button></div></div></form></div><button class="btn icon-remove btn_search float-end icon_32 d-sm-none" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div><div class="d-sm-none" id="search_actuator"><button class="btn icon-search btn_search float-end icon_16" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div></div></div></div><div class="row-offcanvas row-offcanvas-left">
<div xmlns="http://www.w3.org/1999/xhtml" class="sidebar-offcanvas" id="sidebar">
<nav class="offcanvas_nav" role="navigation">
<div class="offcanvas_actuator" data-bs-toggle="offcanvas" data-bs-target="#sidebar" id="nav_toggle"><button type="button" class="btn"><span class="visually-hidden">Off-Canvas Navigation Menu Toggle
                  Off-Canvas Navigation Menu Toggle</span><span class="icon-menu"></span></button><span class="offcanvas_actuator_label" id="translation_icon-menu" tabindex="-1" aria-hidden="true"></span></div><div class="nav_list_wrapper" id="nav_list_wrapper"><nav class="offcanvas_nav" role="navigation"><ul class="nav_breadcrumb" id="ul_left_nav_ancestors"><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../../documentation-center.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Documentation Home</span></a></li></ul>
<ul class="nav_disambiguation"><li><a href="../index.html?s_tid=CRUX_lftnav" id="index">MATLAB</a>
</li>
<li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../language-fundamentals.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Language Fundamentals</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../data-types.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Data Types</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../tables.html?s_tid=CRUX_lftnav" itemprop="url" id="btzmn1p"><span itemprop="title">Tables</span></a></li></ul><div class="search_refine_v4"><div id="facets_area"><ul class="nav_scrollspy nav list-unstyled" id="pnav">
<li class="nav_scrollspy_function nav-item notranslate"><a href="#responsive_offcanvas"><span class="refname">varfun</span></a></li>
<li class="nav_scrollspy_title nav-item" id="SSPY810-refentry">On this page</li>
<!--ADD_REFENTRY_TITLE_HERE 11--><li><a href="#d126e1975874" class="intrnllnk">Syntax</a></li><li class="nav-item"><a href="#description" class="nav-link intrnllnk">Description</a></li><li class="nav-item"><a href="#btyj4vl-5" class="nav-link intrnllnk">Examples</a><ul class="nav"><li class="nav-item"><a href="#btyj4vl-2_1" class="nav-link intrnllnk">Apply Element-Wise Function</a></li></ul><ul class="nav"><li class="nav-item"><a href="#btyj88i-3" class="nav-link intrnllnk">Apply Function That Reduces Table Variables</a></li></ul><ul class="nav"><li class="nav-item"><a href="#btyj88i-4" class="nav-link intrnllnk">Apply Function to Groups Within Variables</a></li></ul><ul class="nav"><li class="nav-item"><a href="#bvg6pod" class="nav-link intrnllnk">Apply Function to Groups Within Timetable Variables</a></li></ul><ul class="nav"><li class="nav-item"><a href="#mw_93d3ff11-65fd-452f-8f99-959c4c1c730c" class="nav-link intrnllnk">Pass Optional Arguments to Applied Function</a></li></ul></li><li class="nav-item"><a href="#btyj4vl-3" class="nav-link intrnllnk">Input Arguments</a><ul class="nav"><li class="nav-item"><a href="#btyj4vl-1-func" class="nav-link intrnllnk">func</a></li><li class="nav-item"><a href="#btyj4vl-1-A" class="nav-link intrnllnk">A</a></li></ul></li><li class="nav-item"><a href="#namevaluepairs" class="nav-link intrnllnk">Name-Value Arguments</a><ul class="nav"><li class="nav-item"><a href="#btyj4vl-1-InputVariables" class="nav-link intrnllnk">InputVariables</a></li><li class="nav-item"><a href="#btyj4vl-1-GroupingVariables" class="nav-link intrnllnk">GroupingVariables</a></li><li class="nav-item"><a href="#btyj4vl-1-OutputFormat" class="nav-link intrnllnk">OutputFormat</a></li><li class="nav-item"><a href="#mw_dc847342-021c-46ee-ab7c-cee0478dd599" class="nav-link intrnllnk">ErrorHandler</a></li></ul></li><li class="nav-item"><a href="#bt1udmx-1" class="nav-link intrnllnk">Output Arguments</a><ul class="nav"><li class="nav-item"><a href="#btyj4vl-1_sep_shared-B" class="nav-link intrnllnk">B</a></li></ul></li><li class="nav-item"><a href="#mw_3f20cb5e-4238-40f1-ac63-aabd07865347" class="nav-link intrnllnk">More About</a><ul class="nav"><li class="nav-item"><a href="#mw_1b1b50a0-633c-4f9a-a211-45f65d792b4f" class="nav-link intrnllnk">Calculations on Groups of Data</a></li></ul></li><li class="nav-item"><a href="#refsect-extended-capabilities" class="nav-link intrnllnk">Extended Capabilities</a></li><li class="nav-item"><a href="#mw_8e45bc98-8755-48a7-b063-b64549604696" class="nav-link intrnllnk">Version History</a><ul class="nav"><li class="nav-item"><a href="#mw_ade86c32-cdae-48a6-a9c8-e792fda56aab" class="nav-link intrnllnk">Match output data type to input data type by specifying the
                    <code class="literal">OutputFormat</code> name-value argument as
                <code class="literal">"auto"</code></a></li></ul></li><li class="nav-item"><a href="#btyj4vl-1_seealso" class="nav-link intrnllnk">See Also</a></li></ul></div></div>
</nav></div></nav>
<script src="../../includes/product/scripts/offcanvas_v2.js"></script></div><!--END.CLASS sidebar-offcanvas-->
<div class="offcanvas_content_container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sticky_header_container"><div class="horizontal_nav"><div class="horizontal_nav_container"><div class="offcanvas_horizontal_nav"><div class="container-fluid"><div class="row"><div class="col-sm-12 d-none d-sm-block"><nav class="navbar navbar-default" role="navigation" id="subnav"><div><ul class="nav navbar-nav crux_browse"><li id="crux_nav_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_example" class="crux_resource"><a href="../examples.html?category=tables&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=tables&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=tables&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></nav></div><div class="d-sm-none"><div class="container-fluid"><div class="row"><div class="col-9"><div class="mobile_crux_nav_trigger"><div class="btn-group"><button type="button" class="btn btn-default dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Resources</button><ul class="dropdown-menu"><li id="crux_nav_mobile_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_mobile_example" class="crux_resource"><a href="../examples.html?category=tables&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_mobile_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=tables&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_mobile_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=tables&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></div></div><div class="col-3"><div class="translate_placeholder"></div></div></div></div></div></div></div></div></div></div></div><div class="content_container" id="content_container" itemprop="content">
<div class="container-fluid">
<div class="row">
<div class="col-12">

<main id="skip_link_anchor" tabindex="-1">
<div xmlns="http://www.w3.org/1999/xhtml" id="product_info_alert"></div><section xmlns="http://www.w3.org/1999/xhtml" id="doc_center_content" lang="en" data-language="en"><div id="pgtype-ref-function"><div class="function_ref"><span id="btyj4vl-1" class="anchor_target"></span><h1 class="r2025b notranslate" itemprop="title"><span class="refname">varfun</span></h1><div class="doc_topic_desc"><div class="purpose_container"><p itemprop="purpose">Apply function to table or timetable variables</p><div class="switch"><a href="javascript:void(0);" id="expandAllPage" data-allexpanded="true1">collapse all in page</a></div></div></div>
<div class="ref_sect"><h2 id="d126e1975874">Syntax</h2><div class="syntax_signature"><div class="syntax_signature_module"><div class="code_responsive"><code class="synopsis"><a href="#d126e1975881" class="intrnllnk">B = varfun(func,A)</a></code></div><div class="code_responsive"><code class="synopsis"><a href="#d126e1975917" class="intrnllnk">B = varfun(func,A,Name,Value)</a></code></div></div></div></div><div class="clear"></div><span id="btyj4vl-2" class="anchor_target"></span><h2 id="description">Description</h2><div class="descriptions"><div class="cshsummary" id="csh_btyj4vl-1"><div class="description_module"><div class="description_element"><div class="code_responsive"><p><span id="d126e1975881" itemprop="syntax"><code class="synopsis"><a href="#btyj4vl-1_sep_shared-B" class="intrnllnk"><code class="argument">B</code></a> = varfun(<a href="#btyj4vl-1-func" class="intrnllnk"><code class="argument">func</code></a>,<a href="#btyj4vl-1-A" class="intrnllnk"><code class="argument">A</code></a>)</code></span> applies
the function <code class="argument">func</code> separately to each variable
of the table or timetable <code class="literal">A</code> and returns the results
in the table or timetable <code class="literal">B</code>.</p><p>The function <code class="literal">func</code> must take one input argument and return an array with the
                same number of rows each time it is called. The <code class="literal">i</code>th value in the
                output argument, <code class="literal">B{:,i}</code>, is equal to
                    <code class="literal">func(A{:,i})</code>.</p></div><p class="syntax_example"><a href="table.varfun.html#btyj4vl-2_1" class="intrnllnk">example</a></p></div><div class="description_element"><div class="code_responsive"><p><span id="d126e1975917" itemprop="syntax"><code class="synopsis"><a href="#btyj4vl-1_sep_shared-B" class="intrnllnk"><code class="argument">B</code></a> = varfun(<a href="#btyj4vl-1-func" class="intrnllnk"><code class="argument">func</code></a>,<a href="#btyj4vl-1-A" class="intrnllnk"><code class="argument">A</code></a>,<a href="#namevaluepairarguments" class="intrnllnk"><code class="argument">Name,Value</code></a>)</code></span>
                specifies options using one or more name-value arguments. For example, you can use
                the <code class="literal">GroupingVariables</code> name-value argument to perform calculations
                on groups of data within table variables. For more information about calculations on
                groups of data, see <a href="table.varfun.html#mw_1b1b50a0-633c-4f9a-a211-45f65d792b4f" class="intrnllnk">Calculations on Groups of Data</a>.</p></div><p class="syntax_example"><a href="table.varfun.html#btyj88i-4" class="intrnllnk">example</a></p></div></div></div></div><div class="clear"></div><div class="examples"><h2 id="btyj4vl-5">Examples</h2><div class="expandableContent" id="expandableExamples"><p class="switch"><a href="javascript:void(0);" class="expandAllLink" data-allexpanded="true3">collapse all</a></p><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true" id="expand_accordion_heading_btyj4vl-2_1"><div class="accordion-item "><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_btyj4vl-2_1" data-bs-target="#expand_accordion_body_btyj4vl-2_1" aria-controls="expand_accordion_body_btyj4vl-2_1" class="accordion-button add_cursor_pointer" aria-expanded="true"><h3 id="btyj4vl-2_1">Apply Element-Wise Function</h3></button></div><div role="tabpanel" id="expand_accordion_body_btyj4vl-2_1" aria-labelledby="expand_accordion_heading_btyj4vl-2_1" class="accordion-collapse collapse show"><div class="accordion-body"><div class="examples_short_list hidden_ios_android" data-products="ML"><div data-pane="metadata" class="card metadata_container"><div class="card-body metadata_content"><div class="d-grid"><a class="btn btn_color_blue" href="matlab:openExample('matlab/ApplyElementwiseFunctionExample')" data-ex-genre="Live Script">Open Live Script</a></div></div></div></div><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "DigitalDocument",
          "headline": "Apply Element-Wise Function",
          "description": "Apply an element-wise function to the variables of a table.",
          "thumbnailURL": "../../includes/product/images/doc_center/DefaultImage.png",
          "genre": "Live Script",
          "isBasedOn": {
          "@type": "Product",
          "name": "MATLAB"

        },
          "isPartOf": {
          "@type": "CreativeWork",
          "url": "table.varfun.html"

        },
          "identifier": "matlab.ApplyElementwiseFunctionExample",
          "name": "ApplyElementwiseFunctionExample",
          "url": "table.varfun.html#btyj4vl-2_1"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "PropertyValue",
          "name": "open_command",
          "value": "matlab:openExample('matlab/ApplyElementwiseFunctionExample')"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "ExampleSourceFiles",

        "itemListElement":
        [
        "ApplyElementwiseFunctionExample.mlx"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><p class="shortdesc">Apply an element-wise function to the variables of a table.</p><p>Create a table that contains numeric variables.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>A = table([10.71;-2.05;-0.35;-0.82;1.57],[9.23;3.12;-1.18;0.23;16.41])</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>A=<span class="emphasis"><em>5×2 table</em></span>
    Var1     Var2 
    _____    _____

    10.71     9.23
    -2.05     3.12
    -0.35    -1.18
    -0.82     0.23
     1.57    16.41

</pre></div></div></div><p>Round the numeric values in <code class="literal">A</code> by applying the <code class="literal">round</code> function. To specify a function as an input argument to <code class="literal">varfun</code>, use the <code class="literal">@</code> symbol. The variable names of the output table are based on the function name and the variable names from the input table.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>B = varfun(@round,A)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>B=<span class="emphasis"><em>5×2 table</em></span>
    round_Var1    round_Var2
    __________    __________

        11             9    
        -2             3    
         0            -1    
        -1             0    
         2            16    

</pre></div></div></div><div class="procedure"></div></div></div></div></div><div itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/Example" itemprop="example" class="em_example"><meta itemprop="exampleid" content="matlab-ApplyElementwiseFunctionExample"><meta itemprop="exampletitle" content="Apply ElementWise Function"></div><div class="accordion" role="tablist" aria-multiselectable="true" id="expand_accordion_heading_btyj88i-3"><div class="accordion-item "><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_btyj88i-3" data-bs-target="#expand_accordion_body_btyj88i-3" aria-controls="expand_accordion_body_btyj88i-3" class="accordion-button add_cursor_pointer" aria-expanded="true"><h3 id="btyj88i-3">Apply Function That Reduces Table Variables</h3></button></div><div role="tabpanel" id="expand_accordion_body_btyj88i-3" aria-labelledby="expand_accordion_heading_btyj88i-3" class="accordion-collapse collapse show"><div class="accordion-body"><div class="examples_short_list hidden_ios_android" data-products="ML"><div data-pane="metadata" class="card metadata_container"><div class="card-body metadata_content"><div class="d-grid"><a class="btn btn_color_blue" href="matlab:openExample('matlab/ApplyFunctionthatReturnsScalarFromVectorExample')" data-ex-genre="Live Script">Open Live Script</a></div></div></div></div><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "DigitalDocument",
          "headline": "Apply Function That Reduces Table Variables",
          "description": "You can apply a function, such as sum or max, that reduces table variables along the first dimension. For example, use varfun to calculate the mean of each variable in a table.",
          "thumbnailURL": "../../includes/product/images/doc_center/DefaultImage.png",
          "genre": "Live Script",
          "isBasedOn": {
          "@type": "Product",
          "name": "MATLAB"

        },
          "isPartOf": {
          "@type": "CreativeWork",
          "url": "table.varfun.html"

        },
          "identifier": "matlab.ApplyFunctionthatReturnsScalarFromVectorExample",
          "name": "ApplyFunctionthatReturnsScalarFromVectorExample",
          "url": "table.varfun.html#btyj88i-3"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "PropertyValue",
          "name": "open_command",
          "value": "matlab:openExample('matlab/ApplyFunctionthatReturnsScalarFromVectorExample')"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "ExampleSourceFiles",

        "itemListElement":
        [
        "ApplyFunctionthatReturnsScalarFromVectorExample.mlx"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><p class="shortdesc">You can apply a function, such as <code class="literal">sum</code> or <code class="literal">max</code>, that reduces table variables along the first dimension. For example, use <code class="literal">varfun</code> to calculate the mean of each variable in a table.</p><p>Create a table that contains numeric variables.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>A = table([0.71;-2.05;-0.35;-0.82;1.57],[0.23;0.12;-0.18;0.23;0.41])</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>A=<span class="emphasis"><em>5×2 table</em></span>
    Var1     Var2 
    _____    _____

     0.71     0.23
    -2.05     0.12
    -0.35    -0.18
    -0.82     0.23
     1.57     0.41

</pre></div></div></div><p>Apply the <code class="literal">mean</code> function to all the variables of the table. The output table contains the mean value of each variable of the input table.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>B = varfun(@mean,A)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>B=<span class="emphasis"><em>1×2 table</em></span>
    mean_Var1    mean_Var2
    _________    _________

     -0.188        0.162  

</pre></div></div></div><p>To have <code class="literal">varfun</code> return a numeric vector instead of a table, specify the <code class="literal">OutputFormat</code> name-value argument as <code class="literal">"uniform"</code>. To use the <code class="literal">"uniform"</code> output format, <code class="literal">func</code> must always return a scalar.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>B = varfun(@mean,A,<span style="color:#A020F0">"OutputFormat"</span>,<span style="color:#A020F0">"uniform"</span>)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>B = <span class="emphasis"><em>1×2</em></span>

   -0.1880    0.1620

</pre></div></div></div><div class="procedure"></div></div></div></div></div><div itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/Example" itemprop="example" class="em_example"><meta itemprop="exampleid" content="matlab-ApplyFunctionthatReturnsScalarFromVectorExample"><meta itemprop="exampletitle" content="Apply Function That Reduces Table Variables"></div><div class="accordion" role="tablist" aria-multiselectable="true" id="expand_accordion_heading_btyj88i-4"><div class="accordion-item "><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_btyj88i-4" data-bs-target="#expand_accordion_body_btyj88i-4" aria-controls="expand_accordion_body_btyj88i-4" class="accordion-button add_cursor_pointer" aria-expanded="true"><h3 id="btyj88i-4">Apply Function to Groups Within Variables</h3></button></div><div role="tabpanel" id="expand_accordion_body_btyj88i-4" aria-labelledby="expand_accordion_heading_btyj88i-4" class="accordion-collapse collapse show"><div class="accordion-body"><div class="examples_short_list hidden_ios_android" data-products="ML"><div data-pane="metadata" class="card metadata_container"><div class="card-body metadata_content"><div class="d-grid"><a class="btn btn_color_blue" href="matlab:openExample('matlab/ApplyFunctiontoGroupsWithinVariablesExample')" data-ex-genre="Live Script">Open Live Script</a></div></div></div></div><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "DigitalDocument",
          "headline": "Apply Function to Groups Within Variables",
          "description": "Create a table that has numeric data variables and a nonnumeric variable that is a grouping variable. Then perform a calculation on each group within the numeric variables.",
          "thumbnailURL": "../../includes/product/images/doc_center/DefaultImage.png",
          "genre": "Live Script",
          "isBasedOn": {
          "@type": "Product",
          "name": "MATLAB"

        },
          "isPartOf": {
          "@type": "CreativeWork",
          "url": "table.varfun.html"

        },
          "identifier": "matlab.ApplyFunctiontoGroupsWithinVariablesExample",
          "name": "ApplyFunctiontoGroupsWithinVariablesExample",
          "url": "table.varfun.html#btyj88i-4"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "PropertyValue",
          "name": "open_command",
          "value": "matlab:openExample('matlab/ApplyFunctiontoGroupsWithinVariablesExample')"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "ExampleSourceFiles",

        "itemListElement":
        [
        "ApplyFunctiontoGroupsWithinVariablesExample.mlx",
        "testScores.csv"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><p class="shortdesc">Create a table that has numeric data variables and a nonnumeric variable that is a grouping variable. Then perform a calculation on each group within the numeric variables.</p><p>Read data from a CSV (comma-separated values) file into a table. The sample file contains test scores for 10 students from two different schools.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>scores = readtable(<span style="color:#A020F0">"testScores.csv"</span>,<span style="color:#A020F0">"TextType"</span>,<span style="color:#A020F0">"string"</span>);
scores.School = categorical(scores.School)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>scores=<span class="emphasis"><em>10×5 table</em></span>
     LastName       School      Test1    Test2    Test3
    __________    __________    _____    _____    _____

    "Jeong"       XYZ School     90       87       93  
    "Collins"     XYZ School     87       85       83  
    "Torres"      XYZ School     86       85       88  
    "Phillips"    ABC School     75       80       72  
    "Ling"        ABC School     89       86       87  
    "Ramirez"     ABC School     96       92       98  
    "Lee"         XYZ School     78       75       77  
    "Walker"      ABC School     91       94       92  
    "Garcia"      ABC School     86       83       85  
    "Chang"       XYZ School     79       76       82  

</pre></div></div></div><p>Calculate the mean score for each test by school. The variables <code class="literal">Test1</code>, <code class="literal">Test2</code>, and <code class="literal">Test3</code> are the numeric data variables. The <code class="literal">School</code> variable is the grouping variable. When you specify a grouping variable, its unique values define groups that corresponding values in the data variables belong to.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>vars = [<span style="color:#A020F0">"Test1"</span>,<span style="color:#A020F0">"Test2"</span>,<span style="color:#A020F0">"Test3"</span>];
meanScoresBySchool = varfun(@mean, <span style="color:#0000FF">...</span>
                            scores, <span style="color:#0000FF">...</span>
                            <span style="color:#A020F0">"InputVariables"</span>,vars, <span style="color:#0000FF">...</span>
                            <span style="color:#A020F0">"GroupingVariables"</span>,<span style="color:#A020F0">"School"</span>)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>meanScoresBySchool=<span class="emphasis"><em>2×5 table</em></span>
      School      GroupCount    mean_Test1    mean_Test2    mean_Test3
    __________    __________    __________    __________    __________

    ABC School        5            87.4            87          86.8   
    XYZ School        5              84          81.6          84.6   

</pre></div></div></div><p>The output table includes a variable named <code class="literal">GroupCount</code> to indicate the number of rows from the input table in that group.</p><div class="procedure"></div></div></div></div></div><div itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/Example" itemprop="example" class="em_example"><meta itemprop="exampleid" content="matlab-ApplyFunctiontoGroupsWithinVariablesExample"><meta itemprop="exampletitle" content="Apply Function to Groups Within Variables"></div><div class="accordion" role="tablist" aria-multiselectable="true" id="expand_accordion_heading_bvg6pod"><div class="accordion-item "><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_bvg6pod" data-bs-target="#expand_accordion_body_bvg6pod" aria-controls="expand_accordion_body_bvg6pod" class="accordion-button add_cursor_pointer" aria-expanded="true"><h3 id="bvg6pod">Apply Function to Groups Within Timetable Variables</h3></button></div><div role="tabpanel" id="expand_accordion_body_bvg6pod" aria-labelledby="expand_accordion_heading_bvg6pod" class="accordion-collapse collapse show"><div class="accordion-body"><div class="examples_short_list hidden_ios_android" data-products="ML"><div data-pane="metadata" class="card metadata_container"><div class="card-body metadata_content"><div class="d-grid"><a class="btn btn_color_blue" href="matlab:openExample('matlab/ApplyFunctionToGroupsWithinTimetableVariablesExample')" data-ex-genre="Live Script">Open Live Script</a></div></div></div></div><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "DigitalDocument",
          "headline": "Apply Function to Groups Within Timetable Variables",
          "description": "Create a timetable containing sample data. The row times of the timetable can define groups because row times can be duplicates.",
          "thumbnailURL": "../../includes/product/images/doc_center/DefaultImage.png",
          "genre": "Live Script",
          "isBasedOn": {
          "@type": "Product",
          "name": "MATLAB"

        },
          "isPartOf": {
          "@type": "CreativeWork",
          "url": "table.varfun.html"

        },
          "identifier": "matlab.ApplyFunctionToGroupsWithinTimetableVariablesExample",
          "name": "ApplyFunctionToGroupsWithinTimetableVariablesExample",
          "url": "table.varfun.html#bvg6pod"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "PropertyValue",
          "name": "open_command",
          "value": "matlab:openExample('matlab/ApplyFunctionToGroupsWithinTimetableVariablesExample')"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "ExampleSourceFiles",

        "itemListElement":
        [
        "ApplyFunctionToGroupsWithinTimetableVariablesExample.mlx"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><p class="shortdesc">Create a timetable containing sample data. The row times of the timetable can define groups because row times can be duplicates.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>Timestamps = datetime(2023,1,1)+days([0 1 1 2 3 3])';
A = timetable(Timestamps, <span style="color:#0000FF">...</span>
              [0.71;-2.05;-0.35;-0.82;1.57;0.09], <span style="color:#0000FF">...</span>
              [0.23;0.12;-0.18;0.23;0.41;0.02], <span style="color:#0000FF">...</span>
              <span style="color:#A020F0">'VariableNames'</span>,[<span style="color:#A020F0">"x"</span>,<span style="color:#A020F0">"y"</span>])</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>A=<span class="emphasis"><em>6×2 timetable</em></span>
    Timestamps       x        y  
    ___________    _____    _____

    01-Jan-2023     0.71     0.23
    02-Jan-2023    -2.05     0.12
    02-Jan-2023    -0.35    -0.18
    03-Jan-2023    -0.82     0.23
    04-Jan-2023     1.57     0.41
    04-Jan-2023     0.09     0.02

</pre></div></div></div><p>Compute the mean values of the variables in the timetable by day. Specify the vector of row times as the grouping variable. The output <code class="literal">B</code> is a timetable because the input <code class="literal">A</code> is a timetable. When you specify the vector of row times as the grouping variable, you cannot specify any variable as another grouping variable.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>B = varfun(@mean,A,<span style="color:#A020F0">"GroupingVariables"</span>,<span style="color:#A020F0">"Timestamps"</span>)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>B=<span class="emphasis"><em>4×3 timetable</em></span>
    Timestamps     GroupCount    mean_x    mean_y
    ___________    __________    ______    ______

    01-Jan-2023        1          0.71      0.23 
    02-Jan-2023        2          -1.2     -0.03 
    03-Jan-2023        1         -0.82      0.23 
    04-Jan-2023        2          0.83     0.215 

</pre></div></div></div><div class="procedure"></div></div></div></div></div><div itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/Example" itemprop="example" class="em_example"><meta itemprop="exampleid" content="matlab-ApplyFunctionToGroupsWithinTimetableVariablesExample"><meta itemprop="exampletitle" content="Apply Function to Groups Within Timetable Variables"></div><div class="accordion" role="tablist" aria-multiselectable="true" id="expand_accordion_heading_mw_93d3ff11-65fd-452f-8f99-959c4c1c730c"><div class="accordion-item "><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_mw_93d3ff11-65fd-452f-8f99-959c4c1c730c" data-bs-target="#expand_accordion_body_mw_93d3ff11-65fd-452f-8f99-959c4c1c730c" aria-controls="expand_accordion_body_mw_93d3ff11-65fd-452f-8f99-959c4c1c730c" class="accordion-button add_cursor_pointer" aria-expanded="true"><h3 id="mw_93d3ff11-65fd-452f-8f99-959c4c1c730c">Pass Optional Arguments to Applied Function</h3></button></div><div role="tabpanel" id="expand_accordion_body_mw_93d3ff11-65fd-452f-8f99-959c4c1c730c" aria-labelledby="expand_accordion_heading_mw_93d3ff11-65fd-452f-8f99-959c4c1c730c" class="accordion-collapse collapse show"><div class="accordion-body"><div class="examples_short_list hidden_ios_android" data-products="ML"><div data-pane="metadata" class="card metadata_container"><div class="card-body metadata_content"><div class="d-grid"><a class="btn btn_color_blue" href="matlab:openExample('matlab/PassOptionalArgumentsToVarfunExample')" data-ex-genre="Live Script">Open Live Script</a></div></div></div></div><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "DigitalDocument",
          "headline": "Pass Optional Arguments to Applied Function",
          "description": "To pass optional arguments when you apply a function, wrap the function call in an anonymous function.",
          "thumbnailURL": "../../includes/product/images/doc_center/DefaultImage.png",
          "genre": "Live Script",
          "isBasedOn": {
          "@type": "Product",
          "name": "MATLAB"

        },
          "isPartOf": {
          "@type": "CreativeWork",
          "url": "table.varfun.html"

        },
          "identifier": "matlab.PassOptionalArgumentsToVarfunExample",
          "name": "PassOptionalArgumentsToVarfunExample",
          "url": "table.varfun.html#mw_93d3ff11-65fd-452f-8f99-959c4c1c730c"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "PropertyValue",
          "name": "open_command",
          "value": "matlab:openExample('matlab/PassOptionalArgumentsToVarfunExample')"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "ExampleSourceFiles",

        "itemListElement":
        [
        "PassOptionalArgumentsToVarfunExample.mlx"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><p class="shortdesc">To pass optional arguments when you apply a function, wrap the function call in an anonymous function.</p><p>Create a table that contains numeric variables. Assign <code class="literal">NaN</code> to some elements of the table.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>A = table([10.71;-2.05;NaN;-0.82;1.57],[9.23;NaN;-1.18;0.23;16.41])</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>A=<span class="emphasis"><em>5×2 table</em></span>
    Var1     Var2 
    _____    _____

    10.71     9.23
    -2.05      NaN
      NaN    -1.18
    -0.82     0.23
     1.57    16.41

</pre></div></div></div><p>By default, the <code class="literal">mean</code> function returns <code class="literal">NaN</code> when input arrays have <code class="literal">NaN</code>s.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>B = varfun(@mean,A)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>B=<span class="emphasis"><em>1×2 table</em></span>
    mean_Var1    mean_Var2
    _________    _________

       NaN          NaN   

</pre></div></div></div><p>To omit <code class="literal">NaN</code>s when you apply <code class="literal">mean</code>, specify the <code class="literal">"omitnan"</code> option. To use this option when you apply <code class="literal">mean</code>, wrap a call that specifies <code class="literal">"omitnan"</code> in an anonymous function.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>func = @(x) mean(x,<span style="color:#A020F0">"omitnan"</span>);</pre></div></div></div><p>Calculate the mean values with <code class="literal">"omitnan"</code> by applying the anonymous function.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>C = varfun(func,A)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>C=<span class="emphasis"><em>1×2 table</em></span>
    Fun_Var1    Fun_Var2
    ________    ________

     2.3525      6.1725 

</pre></div></div></div><div class="procedure"></div></div></div></div></div><div itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/Example" itemprop="example" class="em_example"><meta itemprop="exampleid" content="matlab-PassOptionalArgumentsToVarfunExample"><meta itemprop="exampletitle" content="Pass Optional Arguments to Applied Function"></div></div></div></div><div class="ref_sect"><h2 id="btyj4vl-3">Input Arguments</h2><div class="expandableContent"><p class="switch "><a href="javascript:void(0);" class="expandAllLink" data-allexpanded="true">collapse all</a></p><div class="mw_ws_accordion_container"><div class="accordion" id="btyj4vl-3_accordion-group" role="tablist" aria-multiselectable="true"><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true"><div class="accordion-item "><div itemscope="" itemprop="inputargument" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/NamedInputArgument" itemid="btyj4vl-1-func"><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_btyj4vl-1-func" data-bs-target="#expand_accordion_body_btyj4vl-1-func" aria-controls="expand_accordion_body_btyj4vl-1-func" class="accordion-button add_cursor_pointer" aria-expanded="true"><span id="inputarg_func" class="anchor_target"></span><h3 id="btyj4vl-1-func"><code itemprop="name">func</code> &#8212; <span itemprop="purpose">Function</span><br/> <span class="add_font_color_general remove_bold"><span class="example_desc"><span itemprop="inputvalue">function handle</span></span></span></h3></button></div><div role="tabpanel" id="expand_accordion_body_btyj4vl-1-func" aria-labelledby="expand_accordion_heading_btyj4vl-1-func" class="accordion-collapse collapse show"><div class="accordion-body"><div class="cshsummary" id="csh_btyj4vl-1-func"><p>Function, specified as a function handle. You can specify a handle for an existing function,
                        define the function in a file, or specify an anonymous function. The
                        function takes one input argument and must have a syntax in this
                        form:</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>result = f(arg)
</pre></div></div></div><p>To call <code class="literal">f</code> on the variables of <code class="literal">A</code>,
                        specify <code class="literal">func</code> as shown in this call to
                            <code class="literal">varfun</code>.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>func = @f;
B = varfun(func,A);
</pre></div></div></div><p>For every variable in <code class="literal">A</code>, <code class="function">varfun</code>
                        calls <code class="literal">func</code> on that variable, and then assigns the output
                        of <code class="literal">func</code> as the corresponding variable in output
                            <code class="literal">B</code>.</p><p>Some further considerations:</p><div class="itemizedlist"><ul><li><p>The function that <code class="literal">func</code> represents can have
                                other syntaxes with additional optional arguments. But when
                                    <code class="function">varfun</code> calls the function, it calls the
                                syntax that has only one input argument.</p><p>For example, the <code class="function">mean</code> function has syntaxes
                                that specify optional arguments, such as
                                    <code class="literal">"omitnan"</code>. But if you specify
                                    <code class="literal">func</code> as <code class="literal">@mean</code>, then
                                    <code class="function">varfun</code> calls <code class="function">mean</code>
                                using the <code class="literal">mean(arg)</code> syntax.</p></li><li><p>To call a function with optional arguments, wrap it in an
                                anonymous function. For example, to call <code class="function">mean</code>
                                with the <code class="literal">"omitnan"</code> option, specify
                                    <code class="literal">func</code> as <code class="literal">@(x)
                                    mean(x,"omitnan")</code>.</p></li><li><p>If <code class="literal">func</code> returns an array with a different
                                number of rows each time it is called, then specify the
                                    <code class="literal">OutputFormat</code> name-value argument as
                                    <code class="literal">"cell"</code>. Otherwise, <code class="literal">func</code>
                                must return an array with the same number of rows each time it is
                                called.</p></li><li><p>If <code class="literal">func</code> corresponds to more than one function
                                file (that is, if <code class="literal">func</code> represents a set of
                                overloaded functions), MATLAB<sup>&#x00AE;</sup> determines which function to call based on the class
                                of the input arguments.</p></li></ul></div><p class="description_valueexample"><strong>Example: </strong><code class="literal">B = varfun(@mean,A)</code> calculates the mean value
                        of an input.</p><p class="description_valueexample"><strong>Example: </strong><code class="literal">B = varfun(@(x) x.^2,A)</code> calculates the square of each element of an
                        input.</p><p class="description_valueexample"><strong>Example: </strong><code class="literal">B = varfun(@(x) mean(x,"omitnan"),A)</code> calls
                            <code class="literal">mean</code> with the <code class="literal">"omitnan"</code> option
                        specified.</p></div></div></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true"><div class="accordion-item "><div itemscope="" itemprop="inputargument" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/NamedInputArgument" itemid="btyj4vl-1-A"><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_btyj4vl-1-A" data-bs-target="#expand_accordion_body_btyj4vl-1-A" aria-controls="expand_accordion_body_btyj4vl-1-A" class="accordion-button add_cursor_pointer" aria-expanded="true"><span id="inputarg_A" class="anchor_target"></span><h3 id="btyj4vl-1-A"><code itemprop="name">A</code> &#8212; <span itemprop="purpose">Input table</span><br/> <span class="add_font_color_general remove_bold"><span class="example_desc"><span itemprop="inputvalue">table</span> | <span itemprop="inputvalue">timetable</span></span></span></h3></button></div><div role="tabpanel" id="expand_accordion_body_btyj4vl-1-A" aria-labelledby="expand_accordion_heading_btyj4vl-1-A" class="accordion-collapse collapse show"><div class="accordion-body"><div class="cshsummary" id="csh_btyj4vl-1-A"><p>Input table, specified as a table or timetable.</p></div></div></div></div></div></div></div></div></div></div></div><div class="ref_sect"><span id="namevaluepairarguments" class="anchor_target"></span><span id="btyj4vl-1_1" class="anchor_target"></span><h2 id="namevaluepairs">Name-Value Arguments</h2><div class="expandableContent"><p class="switch "><a href="javascript:void(0);" class="expandAllLink" data-allexpanded="true">collapse all</a></p><div class="mw_ws_accordion_container"><div class="accordion" id="btyj4vl-1_1_accordion-group" role="tablist" aria-multiselectable="true"><div class="namevaluecontainer"><p class="neqvpair_boilerplate">Specify optional pairs of arguments as
      <code class="argument">Name1=Value1,...,NameN=ValueN</code>, where <code class="literal">Name</code> is
      the argument name and <code class="literal">Value</code> is the corresponding value.
      Name-value arguments must appear after other arguments, but the order of the
      pairs does not matter.
    </p><p><span class="example_desc"><strong>Example: </strong><code class="literal">B = varfun(func,A,InputVariables=["Var2","Var3"])</code> uses
                only the variables named <code class="literal">Var2</code> and <code class="literal">Var3</code> in
                    <code class="literal">A</code> as the inputs to <code class="literal">func</code>.</span></p><p class="nvpaircompat_boilerplate"><span class="emphasis"><em>
      Before R2021a, use commas to separate each name and value, and enclose</em></span> 
      <code class="literal">Name</code> <span class="emphasis"><em>in quotes.</em></span>
    </p><p><span class="example_desc"><strong>Example: </strong><code class="literal">B = varfun(func,A,"InputVariables",["Var2","Var3"])</code> uses
                only the variables named <code class="literal">Var2</code> and <code class="literal">Var3</code> in
                    <code class="literal">A</code> as the inputs to <code class="literal">func</code>. </span></p></div><div class="ref_sect"><div class="expandableContent"><div class="mw_ws_accordion_container"><div class="accordion" id="d126e1976124_accordion-group" role="tablist" aria-multiselectable="true"><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true"><div class="accordion-item "><div itemscope="" itemprop="inputargument" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/NameValuePairInputArgument" itemid="btyj4vl-1-InputVariables"><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_btyj4vl-1-InputVariables" data-bs-target="#expand_accordion_body_btyj4vl-1-InputVariables" aria-controls="expand_accordion_body_btyj4vl-1-InputVariables" class="accordion-button add_cursor_pointer" aria-expanded="true"><span id="inputarg_InputVariables" class="anchor_target"></span><h3 id="btyj4vl-1-InputVariables"><code itemprop="name">InputVariables</code> &#8212; <span itemprop="purpose">Variables of <code class="literal">A</code> to pass to                         <code class="literal">func</code></span><br/>
<span class="add_font_color_general remove_bold"><span class="example_desc"><span itemprop="inputvalue">positive integer</span> | <span itemprop="inputvalue">vector of positive integers</span> | <span itemprop="inputvalue">string array</span> | <span itemprop="inputvalue">character vector</span> | <span itemprop="inputvalue">cell array of character vectors</span> | <span itemprop="inputvalue"><code class="literal">pattern</code> scalar</span> | <span itemprop="inputvalue">logical vector</span> | <span itemprop="inputvalue">function handle</span></span></span></h3></button></div><div role="tabpanel" id="expand_accordion_body_btyj4vl-1-InputVariables" aria-labelledby="expand_accordion_heading_btyj4vl-1-InputVariables" class="accordion-collapse collapse show"><div class="accordion-body"><div class="cshsummary" id="csh_btyj4vl-1-InputVariables"><p>Variables of <code class="literal">A</code> to pass to <code class="literal">func</code>,
                            specified using one of the indexing schemes from this table.</p><div class="table-responsive"><table class="table table-condensed"><colgroup><col class="tcol1" width="50%"><col class="tcol2" width="50%"></colgroup><thead><tr><th>Indexing Scheme</th><th>Examples</th></tr></thead><tbody><tr><td><p>Variable names:</p>
<div class="itemizedlist"><ul><li><p>A string array, character vector, or cell array of character vectors</p></li><li><p>A <a href="pattern.html"><code class="object">pattern</code></a> object</p></li></ul></div><p>
</p></td><td><p></p>
<div class="itemizedlist"><ul><li><p><code class="literal">"A"</code> or <code class="literal">'A'</code> &#8212; A variable named <code class="literal">A</code></p></li><li><p><code class="literal">["A","B"]</code> or <code class="literal">{'A','B'}</code> &#8212; Two variables named <code class="literal">A</code> and <code class="literal">B</code></p></li><li><p><code class="literal">"Var"+digitsPattern(1)</code> &#8212; Variables named <code class="literal">"Var"</code> followed by a single digit</p></li></ul></div><p>
</p></td></tr><tr><td><p>Variable index:</p>
<div class="itemizedlist"><ul><li><p>An index number that refers to the location of a variable in the table</p></li><li><p>A vector of numbers</p></li><li><p>A logical vector. Typically, this vector is the same length as the number of variables, but you can omit trailing <code class="literal">0</code> or <code class="literal">false</code> values</p></li></ul></div><p>
</p></td><td><p></p>
<div class="itemizedlist"><ul><li><p><code class="literal">3</code> &#8212; The third variable from the table</p></li><li><p><code class="literal">[2 3]</code> &#8212; The second and third variables from the table</p></li><li><p><code class="literal">[false false true]</code> &#8212; The third variable</p></li></ul></div><p>
</p></td></tr><tr><td><p>Function handle:</p>
<div class="itemizedlist"><ul><li><p>A handle to a function that takes one argument as input and
                                    returns a logical scalar. The function must have a syntax in
                                    this form:</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>tf = f(arg)
</pre></div></div></div><p>If you need to apply a function that has additional optional
                                    arguments, wrap it in an anonymous function.</p></li></ul></div><p>
</p></td><td><div class="itemizedlist"><ul><li><p><code class="literal">@isnumeric</code> &#8212; Handle to a function that returns
                                    <code class="literal">true</code> for an input argument that contain
                                numeric values</p></li></ul></div></td></tr></tbody></table></div><p class="description_valueexample"><strong>Example: </strong><code class="literal">B = varfun(func,A,InputVariables=[1 3 4])</code>
                            uses only the first, third, and fourth variables in <code class="literal">A</code>
                            as the inputs to <code class="literal">func</code>.</p><p class="description_valueexample"><strong>Example: </strong><code class="literal">B =
                                varfun(func,A,InputVariables=@isnumeric)</code> uses only the
                            numeric variables in <code class="literal">A</code> as the inputs to
                                <code class="literal">func</code>.</p></div></div></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true"><div class="accordion-item "><div itemscope="" itemprop="inputargument" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/NameValuePairInputArgument" itemid="btyj4vl-1-GroupingVariables"><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_btyj4vl-1-GroupingVariables" data-bs-target="#expand_accordion_body_btyj4vl-1-GroupingVariables" aria-controls="expand_accordion_body_btyj4vl-1-GroupingVariables" class="accordion-button add_cursor_pointer" aria-expanded="true"><span id="inputarg_GroupingVariables" class="anchor_target"></span><h3 id="btyj4vl-1-GroupingVariables"><code itemprop="name">GroupingVariables</code> &#8212; <span itemprop="purpose">Variables of <code class="literal">A</code> to use as grouping                         variables</span><br/>
<span class="add_font_color_general remove_bold"><span class="example_desc"><span itemprop="inputvalue">positive integer</span> | <span itemprop="inputvalue">vector of positive integers</span> | <span itemprop="inputvalue">string array</span> | <span itemprop="inputvalue">character vector</span> | <span itemprop="inputvalue">cell array of character vectors</span> | <span itemprop="inputvalue"><code class="literal">pattern</code> scalar</span> | <span itemprop="inputvalue">logical vector</span></span></span></h3></button></div><div role="tabpanel" id="expand_accordion_body_btyj4vl-1-GroupingVariables" aria-labelledby="expand_accordion_heading_btyj4vl-1-GroupingVariables" class="accordion-collapse collapse show"><div class="accordion-body"><div class="cshsummary" id="csh_btyj4vl-1-GroupingVariables"><p>Variables of <code class="literal">A</code> to use as grouping variables,
                            specified using one of the indexing schemes from this table.</p><div class="table-responsive"><table class="table table-condensed"><colgroup><col class="tcol1" width="50%"><col class="tcol2" width="50%"></colgroup><thead><tr><th>Indexing Scheme</th><th>Examples</th></tr></thead><tbody><tr><td><p>Variable names:</p>
<div class="itemizedlist"><ul><li><p>A string array, character vector, or cell array of character vectors</p></li><li><p>A <a href="pattern.html"><code class="object">pattern</code></a> object</p></li></ul></div><p>
</p></td><td><p></p>
<div class="itemizedlist"><ul><li><p><code class="literal">"A"</code> or <code class="literal">'A'</code> &#8212; A variable named <code class="literal">A</code></p></li><li><p><code class="literal">["A","B"]</code> or <code class="literal">{'A','B'}</code> &#8212; Two variables named <code class="literal">A</code> and <code class="literal">B</code></p></li><li><p><code class="literal">"Var"+digitsPattern(1)</code> &#8212; Variables named <code class="literal">"Var"</code> followed by a single digit</p></li></ul></div><p>
</p></td></tr><tr><td><p>Variable index:</p>
<div class="itemizedlist"><ul><li><p>An index number that refers to the location of a variable in the table</p></li><li><p>A vector of numbers</p></li><li><p>A logical vector. Typically, this vector is the same length as the number of variables, but you can omit trailing <code class="literal">0</code> or <code class="literal">false</code> values</p></li></ul></div><p>
</p></td><td><p></p>
<div class="itemizedlist"><ul><li><p><code class="literal">3</code> &#8212; The third variable from the table</p></li><li><p><code class="literal">[2 3]</code> &#8212; The second and third variables from the table</p></li><li><p><code class="literal">[false false true]</code> &#8212; The third variable</p></li></ul></div><p>
</p></td></tr></tbody></table></div><p>The unique values in the grouping variables define groups. Rows in
                                <code class="literal">A</code> where the grouping variables have the same
                            values belong to the same group. <code class="literal">varfun</code> applies
                                <code class="literal">func</code> to each group of rows within each of the
                            remaining variables of <code class="literal">A</code>, rather than to entire
                            variables. For more information on calculations using grouping
                            variables, see <a href="table.varfun.html#mw_1b1b50a0-633c-4f9a-a211-45f65d792b4f" class="intrnllnk">Calculations on Groups of Data</a>.</p><p>Grouping variables can have any of the data types listed in this
                            table.</p><div class="table-responsive"><table class="table table-condensed"><colgroup><col class="tcol1" width="50%"><col class="tcol2" width="50%"></colgroup><thead><tr><th><p>Values That Specify Groups</p></th><th><p>Data Type of Grouping Variable</p></th></tr></thead><tbody><tr><td><p>Numbers</p></td><td><p>Numeric or logical vector</p></td></tr><tr><td><p>Text</p></td><td><p>String array or cell array of character
                                                vectors</p></td></tr><tr><td><p>Dates and times</p></td><td><p><code class="literal">datetime</code>,
                                                  <code class="literal">duration</code>, or
                                                  <code class="literal">calendarDuration</code>
                                            vector</p></td></tr><tr><td><p>Categories</p></td><td><p><code class="literal">categorical</code>
                                            vector</p></td></tr><tr><td><p>Bins</p></td><td><p>Vector of binned values, created by binning a
                                                continuous distribution of numeric,
                                                  <code class="literal">datetime</code>, or
                                                  <code class="literal">duration</code> values</p></td></tr></tbody></table></div><p>Many data types have ways to represent missing values, such as
                                <code class="literal">NaN</code>s, <code class="literal">NaT</code>s, undefined
                                <code class="literal">categorical</code> values, or missing strings. If any
                            grouping variable has a data type that can represent missing values,
                            then rows where missing values occur in that grouping variable do not
                            belong to any group and are excluded from the output.</p><p>To include rows where the grouping variables have missing values,
                            consider using the <a href="double.groupsummary.html"><code class="function">groupsummary</code></a> function instead.</p><p>Row labels can be grouping variables. You can group on row labels
                            alone, on one or more variables in <code class="literal">A</code>, or on row
                            labels and variables together.</p><div class="itemizedlist"><ul><li><p>If <code class="literal">A</code> is a table, then the labels are row
                                    names.</p></li><li><p>If <code class="literal">A</code> is a timetable, then the labels are
                                    row times.</p></li></ul></div><p>The output <code class="literal">B</code> has one row for each group of rows in
                            the input <code class="literal">A</code>. If <code class="literal">B</code> is a table or
                            timetable, then <code class="literal">B</code> has:</p>
<div class="itemizedlist"><ul><li><p>Variables corresponding to the input table variables that
                                            <code class="literal">func</code> was applied to</p></li><li><p>Variables corresponding to the grouping variables</p></li><li><p>A new variable, <code class="literal">GroupCount</code>, whose
                                        values are the number of rows of the input
                                            <code class="literal">A</code> that are in each group</p></li></ul></div><p>
</p><p>If <code class="literal">B</code> is a timetable, then <code class="literal">B</code> also has:</p>
<div class="itemizedlist"><ul><li><p>Row times, where the first row time from each group of
                                        rows in <code class="literal">A</code> is the corresponding row time
                                        in <code class="literal">B</code>. To return <code class="literal">B</code> as a
                                        table without row times, specify
                                            <code class="literal">OutputFormat</code> as
                                            <code class="literal">"table"</code>.</p></li></ul></div><p>
</p><p class="description_valueexample"><strong>Example: </strong><code class="literal">B = varfun(func,A,GroupingVariables="Var3")</code>
                            uses the variable named <code class="literal">Var3</code> in <code class="literal">A</code>
                            as a grouping variable.</p><p class="description_valueexample"><strong>Example: </strong><code class="literal">B =
                                varfun(func,A,GroupingVariables=["Var3","Var4"])</code> uses the
                            variables named <code class="literal">Var3</code> and <code class="literal">Var4</code> in
                                <code class="literal">A</code> as grouping variables.</p><p class="description_valueexample"><strong>Example: </strong><code class="literal">B = varfun(func,A,GroupingVariables=[3 4])</code>
                            uses the third and fourth variables in <code class="literal">A</code> as grouping
                            variables.</p></div></div></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true"><div class="accordion-item "><div itemscope="" itemprop="inputargument" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/NameValuePairInputArgument" itemid="btyj4vl-1-OutputFormat"><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_btyj4vl-1-OutputFormat" data-bs-target="#expand_accordion_body_btyj4vl-1-OutputFormat" aria-controls="expand_accordion_body_btyj4vl-1-OutputFormat" class="accordion-button add_cursor_pointer" aria-expanded="true"><span id="inputarg_OutputFormat" class="anchor_target"></span><h3 id="btyj4vl-1-OutputFormat"><code itemprop="name">OutputFormat</code> &#8212; <span itemprop="purpose">Format of <code class="literal">B</code></span><br/> <span class="add_font_color_general remove_bold"><span class="example_desc"><span itemprop="inputvalue defaultvalue"><code class="literal">"auto"</code></span> (default) | <span itemprop="inputvalue"><code class="literal">"table"</code></span> | <span itemprop="inputvalue"><code class="literal">"timetable"</code></span> | <span itemprop="inputvalue"><code class="literal">"uniform"</code></span> | <span itemprop="inputvalue"><code class="literal">"cell"</code></span></span></span></h3></button></div><div role="tabpanel" id="expand_accordion_body_btyj4vl-1-OutputFormat" aria-labelledby="expand_accordion_heading_btyj4vl-1-OutputFormat" class="accordion-collapse collapse show"><div class="accordion-body"><div class="cshsummary" id="csh_btyj4vl-1-OutputFormat"><p>Format of <code class="literal">B</code>, specified as one of the values in this table.</p><div class="table-responsive"><table class="table table-condensed"><colgroup><col class="tcol1" width="17%"><col class="tcol2" width="84%"></colgroup><tbody><tr><td><p><code class="literal">"auto"</code>
                                            (default)<em> (since R2023a)</em></p></td><td><p><code class="literal">varfun</code> returns an output
                                                whose data type matches the data type of the input
                                                  <code class="literal">A</code>.</p></td></tr><tr><td><p><code class="literal">"table"</code></p></td><td><p><code class="literal">varfun</code> returns a table with one variable for each variable in
                                                  <code class="literal">A</code> (or each variable specified
                                                with <code class="literal">InputVariables</code>). For grouped
                                                calculations, <code class="literal">B</code> also contains the
                                                grouping variables and a new
                                                  <code class="literal">GroupCount</code>
                                                  variable.</p><p><code class="literal">"table"</code>
                                                allows you to use a function that returns values of
                                                different sizes or data types for the different
                                                variables in <code class="literal">A</code>. However, for
                                                ungrouped calculations, <code class="literal">func</code> must
                                                return an array with the same number of rows each
                                                time it is called. For grouped calculations,
                                                  <code class="literal">func</code> must return an array with
                                                the same number of rows each time it is called for a
                                                given group.</p><p>If <code class="literal">A</code> is
                                                a table, then this format is the default output
                                                format.</p></td></tr><tr><td><p><code class="literal">"timetable"</code></p></td><td><p><code class="literal">varfun</code> returns a timetable with one variable for each variable in
                                                  <code class="literal">A</code> (or each variable specified
                                                with <code class="literal">InputVariables</code>). For grouped
                                                calculations, <code class="literal">B</code> also contains the
                                                grouping variables and a new
                                                  <code class="literal">GroupCount</code>
                                                  variable.</p><p><code class="literal">varfun</code>
                                                creates the row times of <code class="literal">B</code> from
                                                the row times of <code class="literal">A</code>. If the row
                                                times assigned to <code class="literal">B</code> do not make
                                                sense in the context of the calculations performed
                                                using <code class="literal">func</code>, then specify
                                                  <code class="literal">OutputFormat</code> as
                                                  <code class="literal">"table"</code>.</p><p>If
                                                  <code class="literal">A</code> is a timetable, then this
                                                format is the default output format.</p></td></tr><tr><td><p><code class="literal">"uniform"</code></p></td><td><p><code class="literal">varfun</code> concatenates the output values into a vector.
                                                  <code class="literal">func</code> must return a scalar with
                                                the same data type each time it is
                                            called.</p></td></tr><tr><td><p><code class="literal">"cell"</code></p></td><td><p><code class="literal">varfun</code> returns a cell array. <code class="literal">"cell"</code> allows you to
                                                use a function that returns values of different
                                                sizes or data types.</p></td></tr></tbody></table></div><p class="description_valueexample"><strong>Example: </strong><code class="literal">B = varfun(func,A,OutputFormat="uniform")</code>
                            returns the output as a vector.</p></div></div></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true"><div class="accordion-item "><div itemscope="" itemprop="inputargument" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/NameValuePairInputArgument" itemid="mw_dc847342-021c-46ee-ab7c-cee0478dd599"><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_mw_dc847342-021c-46ee-ab7c-cee0478dd599" data-bs-target="#expand_accordion_body_mw_dc847342-021c-46ee-ab7c-cee0478dd599" aria-controls="expand_accordion_body_mw_dc847342-021c-46ee-ab7c-cee0478dd599" class="accordion-button add_cursor_pointer" aria-expanded="true"><span id="inputarg_ErrorHandler" class="anchor_target"></span><h3 id="mw_dc847342-021c-46ee-ab7c-cee0478dd599"><code itemprop="name">ErrorHandler</code> &#8212; <span itemprop="purpose">Function to call if <code class="literal">func</code> fails</span><br/> <span class="add_font_color_general remove_bold"><span class="example_desc"><span itemprop="inputvalue">function handle</span></span></span></h3></button></div><div role="tabpanel" id="expand_accordion_body_mw_dc847342-021c-46ee-ab7c-cee0478dd599" aria-labelledby="expand_accordion_heading_mw_dc847342-021c-46ee-ab7c-cee0478dd599" class="accordion-collapse collapse show"><div class="accordion-body"><div class="cshsummary" id="csh_mw_dc847342-021c-46ee-ab7c-cee0478dd599"><p>Function to call if <code class="literal">func</code> fails, specified as a
                            function handle. If <code class="literal">func</code> throws an error, then the
                            error handler function specified by <code class="literal">ErrorHandler</code>
                            catches the error and takes the specified action.</p><p>The error handler function must meet these requirements:</p><div class="itemizedlist"><ul><li><p>The definition of the error handler function must specify that
                                    it returns output arguments that match the number and data types
                                    of the output arguments of <code class="literal">func</code>.</p><p>When called, the error handler function can either throw an
                                    error or return output arguments. But even if the error handler
                                    always throws an error, its definition must specify that it
                                    returns the same types and number of output arguments as
                                        <code class="literal">func</code>.</p></li><li><p>The error handler function cannot be an anonymous
                                    function.</p><p>Instead, write it as a local function. You can even define a
                                    local function in a script. You do not have to write the local
                                    function in a separate file.</p></li></ul></div><p>If you do not specify <code class="literal">ErrorHandler</code>, then
                                <code class="function">varfun</code> rethrows the error that it caught from
                                <code class="literal">func</code>.</p><p>The first input argument of the error handler is a structure with
                            these fields:</p><div class="itemizedlist"><ul><li><p><code class="literal">cause</code>
                                    &#8212; <a href="mexception.html"><code class="object">MException</code></a> object
                                    that contains information about the error<em> (since R2024a)</em></p></li><li><p><code class="literal">index</code> &#8212; Index of the variable where the
                                    error occurred</p></li><li><p><code class="literal">name</code> &#8212; Name of the variable where the error
                                    occurred</p></li></ul></div><p>The remaining input arguments to the error handler are the input
                            arguments for the call to <code class="literal">func</code> that made
                                <code class="literal">func</code> throw the error.</p><p>For example, suppose that <code class="literal">func</code> returns two doubles
                            as output arguments. You can specify the error handler as a function
                            that raises a warning and returns two output
                            arguments.<div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#0000FF">function</span> [A,B] = errorFunc(S,varargin)
    warning(S.cause.identifier,S.cause.message);
    A = NaN;
    B = NaN;
<span style="color:#0000FF">end</span>
</pre></div></div></div></p><p>In releases before R2024a, the first input argument of the error
                            handler is a structure with these fields:</p><div class="itemizedlist"><ul><li><p><code class="literal">identifier</code> &#8212; Error identifier</p></li><li><p><code class="literal">message</code> &#8212; Error message text</p></li><li><p><code class="literal">index</code> &#8212; Index of the variable where the
                                    error occurred</p></li><li><p><code class="literal">name</code> &#8212; Name of the variable where the error
                                    occurred</p></li></ul></div><p class="description_valueexample"><strong>Example: </strong><code class="literal">B = varfun(func,A,ErrorHandler=@errorFunc)</code>
                            specifies <code class="literal">errorFunc</code> as the error
                            handler.</p></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div class="ref_sect"><h2 id="bt1udmx-1">Output Arguments</h2><div class="expandableContent"><p class="switch "><a href="javascript:void(0);" class="expandAllLink" data-allexpanded="true">collapse all</a></p><div class="mw_ws_accordion_container"><div class="accordion" id="bt1udmx-1_accordion-group" role="tablist" aria-multiselectable="true"><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true"><div class="accordion-item "><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_btyj4vl-1_sep_shared-B" data-bs-target="#expand_accordion_body_btyj4vl-1_sep_shared-B" aria-controls="expand_accordion_body_btyj4vl-1_sep_shared-B" class="accordion-button add_cursor_pointer" aria-expanded="true"><span id="outputarg_B" class="anchor_target"></span><h3 id="btyj4vl-1_sep_shared-B"><code class="name">B</code> &#8212; Output values<br/> <span class="add_font_color_general remove_bold"><span class="example_desc">table | timetable | cell array | vector</span></span></h3></button></div><div role="tabpanel" id="expand_accordion_body_btyj4vl-1_sep_shared-B" aria-labelledby="expand_accordion_heading_btyj4vl-1_sep_shared-B" class="accordion-collapse collapse show"><div class="accordion-body"><div class="cshsummary" id="csh_btyj4vl-1.shared-B"><p>Output values, returned as a table, timetable, cell array, or vector.</p><p>If <code class="literal">B</code> is a table or timetable, then it can store metadata such as
            descriptions, variable units, variable names, and row names. For more information, see
            the Properties sections of <a href="table.html"><code class="object">table</code></a> or <a href="timetable.html"><code class="object">timetable</code></a>.</p><p>To return <code class="literal">B</code> as a cell array or vector, specify the
                <code class="literal">OutputFormat</code> name-value argument.</p></div></div></div></div></div></div></div></div></div></div><div class="moreabout ref_sect"><h2 id="mw_3f20cb5e-4238-40f1-ac63-aabd07865347">More About</h2><div class="expandableContent"><p class="switch"><a href="javascript:void(0);" class="expandAllLink" data-allexpanded="true2">collapse all</a></p><div class="mw_ws_accordion_container"><div class="accordion -presentation_expander -presentation_condensed"><div class="accordion-item"><div class="accordion-header"><button data-bs-toggle="collapse" data-bs-target="#expand_body_mw_1b1b50a0-633c-4f9a-a211-45f65d792b4f" aria-controls="expand_body_mw_1b1b50a0-633c-4f9a-a211-45f65d792b4f" class="accordion-button" aria-expanded="true"><h3 id="mw_1b1b50a0-633c-4f9a-a211-45f65d792b4f">Calculations on Groups of Data</h3></button></div><div id="expand_body_mw_1b1b50a0-633c-4f9a-a211-45f65d792b4f" class="accordion-collapse collapsed collapse show"><div class="accordion-body"><p class="shortdesc">In data analysis, you commonly perform calculations on groups of data. For
                        such calculations, you split one or more data variables into groups of data,
                        perform a calculation on each group, and combine the results into one or
                        more output variables. You can specify the groups using one or more
                                    <span class="emphasis"><em>grouping variables</em></span>. The unique values in
                        the grouping variables define the groups that the corresponding values of
                        the data variables belong to.</p><p class="shortdesc">For example, the diagram shows a simple grouped calculation that splits a
                        6-by-1 numeric vector into two groups of data, calculates the mean of each
                        group, and then combines the outputs into a 2-by-1 numeric vector. The
                        6-by-1 grouping variable has two unique values, <code class="literal">AB</code> and
                                    <code class="literal">XYZ</code>.</p><div class="informalfigure"><div id="d126e1977147" class="mediaobject"><p><img src="grouping_workflow.png" alt="Calculation that splits a data variable based on a grouping variable, performs calculations on individual groups of data by applying the same function, and then concatenates the outputs of those function calls" height="247" width="571"></p></div></div><p>You can specify grouping variables that have numbers, text, dates and times, categories, or
                        bins.</p></div></div></div></div></div></div></div><div class="ref_sect"><h2 id="refsect-extended-capabilities">Extended Capabilities</h2><div class="expandableContent"><p class="switch"><a href="javascript:void(0);" class="expandAllLink">expand all</a></p><div id="accordion_refsect-extended-capabilities" role="tablist" aria-multiselectable="true"><span id="bvmplhp" class="anchor_target"></span><div class="mw_ws_accordion_container"><div class="accordion -presentation_expander -presentation_condensed"><div class="accordion-item"><span id="btyj4vl-1" class="anchor_target"></span><div class="accordion-header"><button data-bs-toggle="collapse" data-bs-target="#expand_body_btyj4vl-1_tall" aria-controls="expand_body_btyj4vl-1_tall" class="accordion-button collapsed" aria-expanded="false"><h3 id="btyj4vl-1_tall">Tall Arrays<br/> <span class=" remove_bold add_font_color_general">Calculate with arrays that have more rows than fit in memory. </span></h3></button></div><div id="expand_body_btyj4vl-1_tall" class="accordion-collapse collapsed collapse"><div class="accordion-body"><p>The
        <code class="function">varfun</code> function supports tall arrays with the following usage
    notes and limitations:</p><div class="itemizedlist"><ul><li><p>The <code class="literal">func</code> input must always return a tall array.</p></li><li><p>Supported name-value arguments are:</p>
<div class="itemizedlist"><ul><li><p><code class="literal">InputVariables</code> &#8212; Value cannot be a
                                    function handle.</p></li><li><p><code class="literal">OutputFormat</code></p></li></ul></div><p>
</p></li><li><p>When the input array is a tall timetable and
                            <code class="literal">OutputFormat</code> is <code class="literal">"timetable"</code> or
                            <code class="literal">"auto"</code>, the specified function must return an array
                        with the same size in the first dimension as the input. Specify
                            <code class="literal">OutputFormat</code> as <code class="literal">"table"</code> when the
                        input function is a reduction function such as
                        <code class="function">mean</code>.</p></li></ul></div><p>For more information,
    see <a href="../tall-arrays.html" class="a">Tall Arrays</a>.</p></div></div></div></div></div><span id="mw_26c016b4-bf26-44af-a57a-a9f4865f2dad" class="anchor_target"></span><div class="mw_ws_accordion_container"><div class="accordion -presentation_expander -presentation_condensed"><div class="accordion-item"><span id="btyj4vl-1" class="anchor_target"></span><div class="accordion-header"><button data-bs-toggle="collapse" data-bs-target="#expand_body_btyj4vl-1_codegen" aria-controls="expand_body_btyj4vl-1_codegen" class="accordion-button collapsed" aria-expanded="false"><h3 id="btyj4vl-1_codegen">C/C++ Code Generation<br/> <span class=" remove_bold add_font_color_general">Generate C and C++ code using MATLAB&#174; Coder&#8482;.</span></h3></button></div><div id="expand_body_btyj4vl-1_codegen" class="accordion-collapse collapsed collapse"><div class="accordion-body"><p><span>Usage notes and limitations:</span></p><div class="itemizedlist"><ul><li><p>The function handle input, <code class="literal">func</code>, must be
                        constant.</p></li><li><p>While function handles can be inputs to <code class="function">varfun</code>
                        itself, they cannot be inputs to your entry point functions. Specify
                            <code class="literal">func</code> within the code meant for code generation. For
                        more information, see <a href="../../coder/ug/function-handle-limitations-for-code-generation.html" class="a">Function Handle Limitations for Code Generation</a><span role="cross_prod"> (MATLAB Coder)</span>.</p></li><li><p>The values for all name-value arguments must be constant.</p></li><li><p>The values of the <code class="literal">InputVariables</code> and
                            <code class="literal">GroupingVariables</code> name-value arguments do not support
                        pattern expressions.</p></li><li><p>The <code class="literal">ErrorHandler</code> name-value argument is not supported
                        for code generation.</p></li><li><p>Variable-size input arguments are not supported.</p></li><li><p>Grouping variables cannot have duplicate values in generated code.</p></li><li><p>You cannot specify <code class="literal">OutputFormat</code> as
                            <code class="literal">"cell"</code> if you specify the
                            <code class="literal">GroupingVariables</code> name-value argument and the
                        function returns a different data type for each variable specified by
                            <code class="literal">InputVariables</code>.</p></li><li><p>If the input is a timetable and you specify
                            <code class="literal">GroupingVariables</code>, then the output is always an
                        irregular timetable.</p></li><li><p>If you specify groups and the number of groups is not known at compile
                        time, and that number is zero, then empty double variables in the output
                        might have sizes of 1-by-0 in generated code. In MATLAB, such variables have sizes of 0-by-0.</p></li></ul></div></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion -presentation_expander -presentation_condensed"><div class="accordion-item"><span id="btyj4vl-1" class="anchor_target"></span><div class="accordion-header"><h3 id="btyj4vl-1_threadsupport">Thread-Based Environment<br/> <span class=" remove_bold add_font_color_general">Run code in the background using MATLAB&#174; <code class="function">backgroundPool</code> or accelerate code with Parallel Computing Toolbox&#8482; <code class="function">ThreadPool</code>.</span></h3></div></div></div></div></div></div></div><div class="ref_sect"><h2 id="mw_8e45bc98-8755-48a7-b063-b64549604696">Version History</h2><strong>Introduced in R2013b</strong><div class="expandableContent"><p class="switch"><a href="javascript:void(0);" class="expandAllLink">expand all</a></p><div class="mw_ws_accordion_container"><div class="accordion -presentation_expander -presentation_condensed"><div class="accordion-item"><div class="accordion-header"><button data-bs-toggle="collapse" data-bs-target="#expand_body_mw_ade86c32-cdae-48a6-a9c8-e792fda56aab" aria-controls="expand_body_mw_ade86c32-cdae-48a6-a9c8-e792fda56aab" class="accordion-button collapsed" aria-expanded="false"><h3 id="mw_ade86c32-cdae-48a6-a9c8-e792fda56aab">R2023a: <span class="remove_bold">Match output data type to input data type by specifying the
                    <code class="literal">OutputFormat</code> name-value argument as
                <code class="literal">"auto"</code></span></h3></button></div><div id="expand_body_mw_ade86c32-cdae-48a6-a9c8-e792fda56aab" class="accordion-collapse collapsed collapse"><div class="accordion-body"><p>To return an output whose data type matches the data type of the input, specify
                the <code class="literal">OutputFormat</code> name-value argument as
                <code class="literal">"auto"</code>. This value is the default value.</p></div></div></div></div></div></div></div><div class="ref_sect"><h2 id="btyj4vl-1_seealso">See Also</h2><p><span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="table.rowfun.html"><span itemprop="name"><code class="function">rowfun</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="cellfun.html"><span itemprop="name"><code class="function">cellfun</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="structfun.html"><span itemprop="name"><code class="function">structfun</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="arrayfun.html"><span itemprop="name"><code class="function">arrayfun</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="findgroups.html"><span itemprop="name"><code class="function">findgroups</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="splitapply.html"><span itemprop="name"><code class="function">splitapply</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="double.groupsummary.html"><span itemprop="name"><code class="function">groupsummary</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="table.convertvars.html"><span itemprop="name"><code class="function">convertvars</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="vartype.html"><span itemprop="name"><code class="function">vartype</code></span></a></span></p><div class="examples_container"><h3 class="remove_border">Topics</h3><div itemprop="content"><ul class="list-unstyled"><li><a href="../matlab_prog/calculations-when-tables-have-both-numeric-and-nonnumeric-data.html" class="a">Calculations When Tables Have Both Numeric and Nonnumeric Data</a></li><li><a href="../matlab_prog/anonymous-functions.html" class="a">Anonymous Functions</a></li><li><a href="../matlab_prog/perform-calculations-by-group-in-table.html" class="a">Perform Calculations by Group in Table</a></li><li><a href="../data_analysis/summarize-or-pivot.html" class="a">Summarize or Pivot Data in Tables Using Groups</a></li><li><a href="../matlab_prog/computations-with-numeric-data-in-table-or-timetable.html" class="a">Data Cleaning and Calculations in Tables</a></li><li><a href="../matlab_prog/grouped-calculations-in-tables-and-timetables.html" class="a">Grouped Calculations in Tables and Timetables</a></li></ul></div></div></div>
    </div></div></section><div xmlns="http://www.w3.org/1999/xhtml" class="clearfix"></div>
<div xmlns="http://www.w3.org/1999/xhtml" align="center" class="feedbackblock" id="mw_docsurvey"><script src="https://www.mathworks.com/help/docsurvey/docfeedback.js"></script>
<script>loadSurveyHidden();</script>
<link rel="stylesheet" href="https://www.mathworks.com/help/docsurvey/release/index-css.css" type="text/css">
<script src="https://www.mathworks.com/help/docsurvey/release/bundle.index.js"></script>

<script>initDocSurvey();</script></div></main>


</div>
</div>
</div>
</div><!--close_0960-->
<footer xmlns="http://www.w3.org/1999/xhtml" id="footer" class="bs-footer">
<div class="container-fluid">
<div class="footer">
<div class="row">
<div class="col-12">
<p class="copyright">© 1994-2025 The MathWorks, Inc.</p>
<ul class="footernav"><li class="footernav_help"><a href="matlab:web(matlab.internal.licenseAgreement)">Terms of Use</a></li><li class="footernav_patents"><a href="matlab:web([matlabroot '/patents.txt'])">Patents</a></li><li class="footernav_trademarks"><a href="matlab:web([matlabroot '/trademarks.txt'])">Trademarks</a></li><li class="footernav_piracy"><a href="matlab:web([docroot '/acknowledgments.html'])">Acknowledgments</a></li></ul></div>
</div>
</div>
</div>
</footer>
</div><!--close row-offcanvas-->
</div><!--close_0970-->
</body>
</html>
