<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage">
<head>
<meta xmlns="http://www.w3.org/1999/xhtml" charset="utf-8">
<meta xmlns="http://www.w3.org/1999/xhtml" name="viewport" content="width=device-width, initial-scale=1.0">
<meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="X-UA-Compatible" content="IE=edge">
<title>tallrng</title>
<script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
      {
      "@context": "http://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement":
      [{
          "@type": "ListItem",
          "position": 1,

          "item": {
          "@id": "../index.html",
          "name": "MATLAB"
}

          } 
        ,
        {
          "@type": "ListItem",
          "position": 2,

          "item": {
          "@id": "../data-import-and-analysis.html",
          "name": "Data Import and Analysis"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 3,

          "item": {
          "@id": "../large-files-and-big-data.html",
          "name": "Large Files and Big Data"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 4,

          "item": {
          "@id": "../tall-arrays.html",
          "name": "Tall Arrays"
}

          }]
      }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "VisibleBreadcrumbs",

        "itemListElement":
        [
        "tall-arrays"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script>
<meta xmlns="http://www.w3.org/1999/xhtml" name="chunktype" content="refpage"><meta xmlns="http://www.w3.org/1999/xhtml" name="refentity" itemprop="refentity" content="function:tallrng"><link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/bootstrap.min.css" rel="stylesheet" type="text/css">


  <meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="Content-Script-Type" content="text/javascript">
<meta xmlns="http://www.w3.org/1999/xhtml" name="toctype" itemprop="pagetype" content="fcn">
<meta xmlns="http://www.w3.org/1999/xhtml" name="infotype" itemprop="infotype" content="ref/function">

<meta xmlns="http://www.w3.org/1999/xhtml" name="description" itemprop="description" content="This MATLAB function restores the settings of the random number generator used in tall array calculations to their default values."><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-3.6.0.min.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-migrate.min.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_lg.css" rel="stylesheet" media="screen and (min-width: 1200px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_md.css" rel="stylesheet" media="screen and (min-width: 992px) and (max-width: 1199px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm+xs.css" rel="stylesheet" media="screen and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm.css" rel="stylesheet" media="screen and (min-width: 768px) and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_xs.css" rel="stylesheet" media="screen and (max-width: 767px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_offcanvas_v2.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/shared/highlight/styles/mwdochighlight.min.css" rel="stylesheet" type="text/css">

<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/l10n.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/f1help.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/mw.imageanimation.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/jquery.highlight.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/underscore-min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/use_platform_screenshots.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/suggest.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/overload.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/helpservices.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/productfilter.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/matlab_dialog_shared.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/highlight/highlight.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/localstorage.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/product_group.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/saxonjs/SaxonJS2.rt.js"></script><script xmlns="http://www.w3.org/1999/xhtml">
            window.history.replaceState(window.location.href, null, ""); // Initialize
            window.onload = function() {    
            mystylesheetLocation = "../../includes/shared/scripts/product_group-sef.json";
            mysourceLocation = "../../docset/docset.xml";
            product_help_location = "matlab";
            pagetype = "refentry";
            doccentertype = "product";
            langcode = "";
            getProductFilteredList(mystylesheetLocation, mysourceLocation, product_help_location, pagetype, doccentertype, langcode);  
            }
          </script>




<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery.mobile.custom.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/bootstrap.bundle.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/global.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_base.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_installed.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_print.css" rel="stylesheet" type="text/css" media="print">
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/equationrenderer/release/MathRenderer.js"></script>
</head>
<body id="responsive_offcanvas">
<div xmlns="http://www.w3.org/1999/xhtml" id="doc_header_spacer" class="header"></div>
<div xmlns="http://www.w3.org/1999/xhtml" class="section_header level_3"><div class="container-fluid"><div class="row" id="mobile_search_row"><div class="col-sm-6 col-md-7 has_horizontal_local_nav" id="section_header_title"><div class="section_header_content"><div class="section_header_title"><h1><a href="../../documentation-center.html">Help Center</a></h1></div></div></div><div class="col-12 col-sm-6 col-md-5" id="mobile_search"><div class="search_nested_content_container"><form id="docsearch_form" name="docsearch_form" method="get" data-release="R2025b" data-language="en" action="../../templates/searchresults.html"><div class="input-group tokenized_search_field"><label class="visually-hidden form-label">Search Help</label><input type="text" class="form-control conjoined_search" autocomplete="off" name="qdoc" placeholder="Search Help" id="docsearch"> <div><button type="submit" name="submitsearch" id="submitsearch" class="btn icon-search btn_search_adjacent btn_search icon_16" tabindex="-1"></button></div></div></form></div><button class="btn icon-remove btn_search float-end icon_32 d-sm-none" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div><div class="d-sm-none" id="search_actuator"><button class="btn icon-search btn_search float-end icon_16" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div></div></div></div><div class="row-offcanvas row-offcanvas-left">
<div xmlns="http://www.w3.org/1999/xhtml" class="sidebar-offcanvas" id="sidebar">
<nav class="offcanvas_nav" role="navigation">
<div class="offcanvas_actuator" data-bs-toggle="offcanvas" data-bs-target="#sidebar" id="nav_toggle"><button type="button" class="btn"><span class="visually-hidden">Off-Canvas Navigation Menu Toggle
                  Off-Canvas Navigation Menu Toggle</span><span class="icon-menu"></span></button><span class="offcanvas_actuator_label" id="translation_icon-menu" tabindex="-1" aria-hidden="true"></span></div><div class="nav_list_wrapper" id="nav_list_wrapper"><nav class="offcanvas_nav" role="navigation"><ul class="nav_breadcrumb" id="ul_left_nav_ancestors"><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../../documentation-center.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Documentation Home</span></a></li></ul>
<ul class="nav_disambiguation"><li><a href="../index.html?s_tid=CRUX_lftnav" id="index">MATLAB</a>
</li>
<li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../data-import-and-analysis.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Data Import and Analysis</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../large-files-and-big-data.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Large Files and Big Data</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../tall-arrays.html?s_tid=CRUX_lftnav" itemprop="url" id="bvaolz6"><span itemprop="title">Tall Arrays</span></a></li></ul><div class="search_refine_v4"><div id="facets_area"><ul class="nav_scrollspy nav list-unstyled" id="pnav">
<li class="nav_scrollspy_function nav-item notranslate"><a href="#responsive_offcanvas"><span class="refname">tallrng</span></a></li>
<li class="nav_scrollspy_title nav-item" id="SSPY810-refentry">On this page</li>
<!--ADD_REFENTRY_TITLE_HERE 11--><li><a href="#mw_c8060af7-5bf1-4a49-928a-36573fb2a711" class="intrnllnk">Syntax</a></li><li class="nav-item"><a href="#description" class="nav-link intrnllnk">Description</a></li><li class="nav-item"><a href="#d126e1814834" class="nav-link intrnllnk">Examples</a><ul class="nav"><li class="nav-item"><a href="#mw_c017f03d-f955-4abf-9231-eaa0ea33d855" class="nav-link intrnllnk">Capture and Restore Generator Settings</a></li></ul></li><li class="nav-item"><a href="#d126e1814890" class="nav-link intrnllnk">Input Arguments</a><ul class="nav"><li class="nav-item"><a href="#d126e1814894" class="nav-link intrnllnk">seed</a></li><li class="nav-item"><a href="#d126e1814925" class="nav-link intrnllnk">generator</a></li><li class="nav-item"><a href="#d126e1815009" class="nav-link intrnllnk">state</a></li></ul></li><li class="nav-item"><a href="#d126e1815040" class="nav-link intrnllnk">Output Arguments</a><ul class="nav"><li class="nav-item"><a href="#d126e1815044" class="nav-link intrnllnk">state</a></li></ul></li><li class="nav-item"><a href="#d126e1815115" class="nav-link intrnllnk">Tips</a></li><li class="nav-item"><a href="#mw_0e0f0407-1b3e-413d-b027-e3852a7024d2" class="nav-link intrnllnk">Version History</a><ul class="nav"><li class="nav-item"><a href="#mw_f860a55a-6a73-4274-84df-9ecf616c6b5d" class="nav-link intrnllnk">Specify random number algorithm without specifying seed</a></li></ul><ul class="nav"><li class="nav-item"><a href="#mw_6023b027-c69d-40dd-8d4a-3a76be087d7d" class="nav-link intrnllnk">Default random number generator change for <code class="function">tallrng</code></a></li></ul></li><li class="nav-item"><a href="#mw_af151232-f6de-440e-afa0-f942d5035fe4_seealso" class="nav-link intrnllnk">See Also</a></li></ul></div></div>
</nav></div></nav>
<script src="../../includes/product/scripts/offcanvas_v2.js"></script></div><!--END.CLASS sidebar-offcanvas-->
<div class="offcanvas_content_container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sticky_header_container"><div class="horizontal_nav"><div class="horizontal_nav_container"><div class="offcanvas_horizontal_nav"><div class="container-fluid"><div class="row"><div class="col-sm-12 d-none d-sm-block"><nav class="navbar navbar-default" role="navigation" id="subnav"><div><ul class="nav navbar-nav crux_browse"><li id="crux_nav_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_example" class="crux_resource"><a href="../examples.html?category=tall-arrays&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=tall-arrays&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=tall-arrays&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></nav></div><div class="d-sm-none"><div class="container-fluid"><div class="row"><div class="col-9"><div class="mobile_crux_nav_trigger"><div class="btn-group"><button type="button" class="btn btn-default dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Resources</button><ul class="dropdown-menu"><li id="crux_nav_mobile_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_mobile_example" class="crux_resource"><a href="../examples.html?category=tall-arrays&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_mobile_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=tall-arrays&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_mobile_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=tall-arrays&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></div></div><div class="col-3"><div class="translate_placeholder"></div></div></div></div></div></div></div></div></div></div></div><div class="content_container" id="content_container" itemprop="content">
<div class="container-fluid">
<div class="row">
<div class="col-12">

<main id="skip_link_anchor" tabindex="-1">
<div xmlns="http://www.w3.org/1999/xhtml" id="product_info_alert"></div><section xmlns="http://www.w3.org/1999/xhtml" id="doc_center_content" lang="en" data-language="en"><div id="pgtype-ref-function"><div class="function_ref"><span id="mw_af151232-f6de-440e-afa0-f942d5035fe4" class="anchor_target"></span><h1 class="r2025b notranslate" itemprop="title"><span class="refname">tallrng</span></h1><div class="doc_topic_desc"><div class="purpose_container"><p itemprop="purpose">Control random number generation for tall arrays</p><div class="switch"><a href="javascript:void(0);" id="expandAllPage" data-allexpanded="true1">collapse all in page</a></div></div></div>
<span id="mw_c8060af7-5bf1-4a49-928a-36573fb2a711" class="anchor_target"></span><div class="ref_sect"><h2 id="mw_c8060af7-5bf1-4a49-928a-36573fb2a711">Syntax</h2><div class="syntax_signature"><div class="syntax_signature_module"><div class="code_responsive"><code class="synopsis"><a href="#d126e1814717" class="intrnllnk">tallrng("default")</a></code></div><div class="code_responsive"><code class="synopsis"><a href="#d126e1814729" class="intrnllnk">tallrng("shuffle")</a></code></div></div><div class="syntax_signature_module"><div class="code_responsive"><code class="synopsis"><a href="#d126e1814740" class="intrnllnk">tallrng(seed)</a></code></div><div class="code_responsive"><code class="synopsis"><a href="#d126e1814752" class="intrnllnk">tallrng(seed,generator)</a></code></div><div class="code_responsive"><code class="synopsis"><a href="#d126e1814759" class="intrnllnk">tallrng("shuffle",generator)</a></code></div><div class="code_responsive"><code class="synopsis"><a href="#d126e1814773" class="intrnllnk">tallrng(generator)</a></code></div></div><div class="syntax_signature_module"><div class="code_responsive"><code class="synopsis"><a href="#d126e1814789" class="intrnllnk">state = tallrng</a></code></div><div class="code_responsive"><code class="synopsis"><a href="#d126e1814805" class="intrnllnk">tallrng(state)</a></code></div></div></div></div><div class="clear"></div><h2 id="description">Description</h2><div class="descriptions"><div class="cshsummary" id="csh_mw_af151232-f6de-440e-afa0-f942d5035fe4"><div class="description_module"><span id="mw_1c11b8b8-d6ef-4aa5-9e10-6b8ab8f82548" class="anchor_target"></span>
            <div class="description_element"><div class="code_responsive"><p><span id="d126e1814717" itemprop="syntax"><code class="synopsis">tallrng("default")</code></span> restores the settings of the random
                    number generator used in tall array calculations to their default values. The
                    random numbers produced are the same as if you restart MATLAB<sup>&#x00AE;</sup>.</p></div></div>
            <div class="description_element"><div class="code_responsive"><p><span id="d126e1814729" itemprop="syntax"><code class="synopsis">tallrng("shuffle")</code></span> specifies the seed of the random
                    number generator based on the current time. Use this syntax when you want
                    different sequences of random numbers each time they are generated.</p></div></div>
        </div><div class="description_module"><span id="mw_322ac0c6-d13d-4906-854a-1291685abe4e" class="anchor_target"></span>
            <div class="description_element"><div class="code_responsive"><p><span id="d126e1814740" itemprop="syntax"><code class="synopsis">tallrng(<a href="#d126e1814894" class="intrnllnk"><code class="argument">seed</code></a>)</code></span> specifies the starting
                    point, or seed, of the random number generator. Use this syntax when you want to
                    produce predictable sequences of numbers.</p></div></div>
            <div class="description_element"><div class="code_responsive"><p><span id="d126e1814752" itemprop="syntax"><code class="synopsis">tallrng(<a href="#d126e1814894" class="intrnllnk"><code class="argument">seed</code></a>,<a href="#d126e1814925" class="intrnllnk"><code class="argument">generator</code></a>)</code></span>
                    or <span id="d126e1814759" itemprop="syntax"><code class="synopsis">tallrng("shuffle",<code class="argument">generator</code>)</code></span> also
                    specifies the algorithm for the random number generator to use. For example,
                        <code class="literal">tallrng(0,"mlfg6331_64")</code>.</p></div></div>
            <div class="description_element"><div class="code_responsive"><p><span id="d126e1814773" itemprop="syntax"><code class="synopsis">tallrng(<a href="#d126e1814925" class="intrnllnk"><code class="argument">generator</code></a>)</code></span> specifies the
                    algorithm for the random number generator to use with a seed of 0. This syntax
                    is equivalent to <code class="literal">tallrng(0,generator)</code>.<em> (since R2023b)</em></p></div></div>
        </div><div class="description_module"><span id="mw_9a23c410-d261-4153-b133-6c902891f21b" class="anchor_target"></span>
            <div class="description_element"><div class="code_responsive"><p><span id="d126e1814789" itemprop="syntax"><code class="synopsis"><a href="#d126e1815009" class="intrnllnk"><code class="argument">state</code></a> = tallrng</code></span> returns the current
                    state of the random number generator as a structure. Use the structure to
                    restore the random number generator to the captured state at a later time with
                        <code class="literal">tallrng(state)</code>.</p></div><p class="syntax_example"><a href="tallrng.html#mw_c017f03d-f955-4abf-9231-eaa0ea33d855" class="intrnllnk">example</a></p></div>
            <div class="description_element"><div class="code_responsive"><p><span id="d126e1814805" itemprop="syntax"><code class="synopsis">tallrng(<a href="#d126e1815009" class="intrnllnk"><code class="argument">state</code></a>)</code></span> restores the state of
                    the random number generator using settings previously captured with
                        <code class="literal">state = tallrng</code>.</p><p>
                    </p>
<div class="alert alert-info d-inline-block"><span class="alert_icon icon-alert-info-reverse"></span><p class="alert_heading"><strong>Note</strong></p><p>The default algorithm and seed for the random number generator in the <strong class="guimenuitem">MATLAB</strong> &gt; <strong class="guimenuitem">General</strong> page of the Settings window only affect
                                <code class="literal">rng("default")</code> and do not affect calls to
                                <code class="literal">tallrng("default)</code>.</p></div><p>

                </p></div><p class="syntax_example"><a href="tallrng.html#mw_c017f03d-f955-4abf-9231-eaa0ea33d855" class="intrnllnk">example</a></p></div>
        </div></div></div><div class="clear"></div><div class="examples"><h2 id="d126e1814834">Examples</h2><div class="expandableContent" id="expandableExamples"><p class="switch"><a href="javascript:void(0);" class="expandAllLink" data-allexpanded="true3">collapse all</a></p><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true" id="expand_accordion_heading_mw_c017f03d-f955-4abf-9231-eaa0ea33d855"><div class="accordion-item "><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_mw_c017f03d-f955-4abf-9231-eaa0ea33d855" data-bs-target="#expand_accordion_body_mw_c017f03d-f955-4abf-9231-eaa0ea33d855" aria-controls="expand_accordion_body_mw_c017f03d-f955-4abf-9231-eaa0ea33d855" class="accordion-button add_cursor_pointer" aria-expanded="true"><h3 id="mw_c017f03d-f955-4abf-9231-eaa0ea33d855">Capture and Restore Generator Settings</h3></button></div><div role="tabpanel" id="expand_accordion_body_mw_c017f03d-f955-4abf-9231-eaa0ea33d855" aria-labelledby="expand_accordion_heading_mw_c017f03d-f955-4abf-9231-eaa0ea33d855" class="accordion-collapse collapse show"><div class="accordion-body"><div class="examples_short_list hidden_ios_android" data-products="ML"><div data-pane="metadata" class="card metadata_container"><div class="card-body metadata_content"><div class="d-grid"><a class="btn btn_color_blue" href="matlab:openExample('matlab/SaveRestoreTallRNGExample')" data-ex-genre="Live Script">Open Live Script</a></div></div></div></div><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "DigitalDocument",
          "headline": "Capture and Restore Generator Settings",
          "description": "Capture the generator settings, generate an array of random numbers, and then restore the generator to the initial settings to create predictable arrays of random numbers.",
          "thumbnailURL": "../../includes/product/images/doc_center/DefaultImage.png",
          "genre": "Live Script",
          "isBasedOn": {
          "@type": "Product",
          "name": "MATLAB"

        },
          "isPartOf": {
          "@type": "CreativeWork",
          "url": "tallrng.html"

        },
          "identifier": "matlab.SaveRestoreTallRNGExample",
          "name": "SaveRestoreTallRNGExample",
          "url": "tallrng.html#mw_c017f03d-f955-4abf-9231-eaa0ea33d855"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "PropertyValue",
          "name": "open_command",
          "value": "matlab:openExample('matlab/SaveRestoreTallRNGExample')"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "ExampleSourceFiles",

        "itemListElement":
        [
        "SaveRestoreTallRNGExample.mlx"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><p class="shortdesc">Capture the generator settings, generate an array of random numbers, and then restore the generator to the initial settings to create predictable arrays of random numbers.</p><p>Save the current state of the random number generator.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>state = tallrng</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>state = <span class="emphasis"><em>struct with fields:</em></span>
           Type: 'threefry'
           Seed: 0
    StreamIndex: 1
      Substream: 1

</pre></div></div></div><p>Create a tall array of random numbers using <code class="literal">arrayfun</code>.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>t = tall(zeros(10,1));
n1 = arrayfun(@(x) x+randn, t);
n1 = gather(n1)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>Evaluating tall expression using the Local MATLAB Session:
- Pass 1 of 2: Completed in 0.4 sec
- Pass 2 of 2: Completed in 0.19 sec
Evaluation completed in 0.93 sec
</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>n1 = <span class="emphasis"><em>10×1</em></span>

   -0.3479
    0.1057
    0.3969
    0.6544
   -1.8228
   -1.1037
    0.4521
    1.4768
    0.0832
   -1.2005

</pre></div></div></div><p>Restore the generator to the previous state and regenerate the array of random numbers. The two arrays <code class="literal">n1</code> and <code class="literal">n2</code> are equal.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>tallrng(state)
n2 = arrayfun(@(x) x+randn, t);
n2 = gather(n2)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>Evaluating tall expression using the Local MATLAB Session:
- Pass 1 of 2: Completed in 0.09 sec
- Pass 2 of 2: Completed in 0.076 sec
Evaluation completed in 0.27 sec
</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>n2 = <span class="emphasis"><em>10×1</em></span>

   -0.3479
    0.1057
    0.3969
    0.6544
   -1.8228
   -1.1037
    0.4521
    1.4768
    0.0832
   -1.2005

</pre></div></div></div><div class="procedure"></div></div></div></div></div><div itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/Example" itemprop="example" class="em_example"><meta itemprop="exampleid" content="matlab-SaveRestoreTallRNGExample"><meta itemprop="exampletitle" content="Capture and Restore Generator Settings"></div></div></div></div><div class="ref_sect"><h2 id="d126e1814890">Input Arguments</h2><div class="expandableContent"><p class="switch "><a href="javascript:void(0);" class="expandAllLink" data-allexpanded="true">collapse all</a></p><div class="mw_ws_accordion_container"><div class="accordion" id="d126e1814890_accordion-group" role="tablist" aria-multiselectable="true"><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true"><div class="accordion-item "><div itemscope="" itemprop="inputargument" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/NamedInputArgument" itemid="d126e1814894"><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_d126e1814894" data-bs-target="#expand_accordion_body_d126e1814894" aria-controls="expand_accordion_body_d126e1814894" class="accordion-button add_cursor_pointer" aria-expanded="true"><span id="inputarg_seed" class="anchor_target"></span><h3 id="d126e1814894"><code itemprop="name">seed</code> &#8212; <span itemprop="purpose">Random number seed</span><br/> <span class="add_font_color_general remove_bold"><span class="example_desc"><span itemprop="inputvalue defaultvalue"><code class="literal">0</code></span> (default) | <span itemprop="inputvalue">nonnegative integer</span></span></span></h3></button></div><div role="tabpanel" id="expand_accordion_body_d126e1814894" aria-labelledby="expand_accordion_heading_d126e1814894" class="accordion-collapse collapse show"><div class="accordion-body"><div class="cshsummary" id="csh_mw_af151232-f6de-440e-afa0-f942d5035fe4"><p>Random number seed, specified as a nonnegative integer. The seed specifies
                        the starting point for the algorithm to generate random numbers. Specify the
                        seed when you want reproducible results.</p><p>The maximum value of the seed is
                            <code class="literal">2<sup>32</sup>-1</code>.</p><p class="description_valueexample"><strong>Example: </strong><code class="literal">tallrng(3)</code></p></div></div></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true"><div class="accordion-item "><div itemscope="" itemprop="inputargument" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/NamedInputArgument" itemid="d126e1814925"><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_d126e1814925" data-bs-target="#expand_accordion_body_d126e1814925" aria-controls="expand_accordion_body_d126e1814925" class="accordion-button add_cursor_pointer" aria-expanded="true"><span id="inputarg_generator" class="anchor_target"></span><h3 id="d126e1814925"><code itemprop="name">generator</code> &#8212; <span itemprop="purpose">Random number algorithm</span><br/> <span class="add_font_color_general remove_bold"><span class="example_desc"><span itemprop="inputvalue defaultvalue"><code class="literal">"threefry"</code></span> (default) | <span itemprop="inputvalue"><code class="literal">"multFibonacci"</code></span> | <span itemprop="inputvalue"><code class="literal">"philox"</code></span> | <span itemprop="inputvalue"><code class="literal">"combRecursive"</code></span></span></span></h3></button></div><div role="tabpanel" id="expand_accordion_body_d126e1814925" aria-labelledby="expand_accordion_heading_d126e1814925" class="accordion-collapse collapse show"><div class="accordion-body"><div class="cshsummary" id="csh_mw_af151232-f6de-440e-afa0-f942d5035fe4"><p>Random number algorithm, specified as one of the options in this table.
                        You can specify the regular or convenience name.</p><div class="table-responsive"><table class="table table-condensed"><colgroup><col class="tcol1" width="33%"><col class="tcol2" width="33%"><col class="tcol3" width="33%"></colgroup><thead><tr><th>Name</th><th>Convenience Name</th><th>Description</th></tr></thead><tbody><tr><td><code class="literal">"threefry4x64_20"</code> (default)</td><td><code class="literal">"threefry"</code></td><td>Threefry 4x64 generator with 20 rounds</td></tr><tr><td><code class="literal">"mrg32k3a"</code>
                                    </td><td><code class="literal">"combRecursive"</code></td><td><p>Combined multiple recursive
                                        generator</p></td></tr><tr><td><code class="literal">"mlfg6331_64"</code></td><td><code class="literal">"multFibonacci"</code></td><td><p>Multiplicative lagged Fibonacci
                                        generator</p></td></tr><tr><td><code class="literal">"philox4x32_10"</code></td><td><code class="literal">"philox"</code></td><td>Philox 4x32 generator with 10 rounds</td></tr></tbody></table></div><p><code class="function">tallrng</code> supports random number generators that have
                        multiple stream and substream support. See <a href="../math/creating-and-controlling-a-random-number-stream.html" class="a">Creating and Controlling a Random Number Stream</a> for a complete list of available
                        generators in MATLAB.</p><p class="description_valueexample"><strong>Example: </strong><code class="literal">tallrng(0,"mlfg6331_64")</code></p></div></div></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true"><div class="accordion-item "><div itemscope="" itemprop="inputargument" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/NamedInputArgument" itemid="d126e1815009"><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_d126e1815009" data-bs-target="#expand_accordion_body_d126e1815009" aria-controls="expand_accordion_body_d126e1815009" class="accordion-button add_cursor_pointer" aria-expanded="true"><span id="inputarg_state" class="anchor_target"></span><h3 id="d126e1815009"><code itemprop="name">state</code> &#8212; <span itemprop="purpose">Previous random number generator state</span><br/> <span class="add_font_color_general remove_bold"><span class="example_desc"><span itemprop="inputvalue">structure</span></span></span></h3></button></div><div role="tabpanel" id="expand_accordion_body_d126e1815009" aria-labelledby="expand_accordion_heading_d126e1815009" class="accordion-collapse collapse show"><div class="accordion-body"><div class="cshsummary" id="csh_mw_af151232-f6de-440e-afa0-f942d5035fe4"><p>Previous random number generator state, specified as a structure
                        previously created using <code class="literal">state = tallrng</code>.</p><p class="description_valueexample"><strong>Example: </strong><code class="literal">state = tallrng</code> captures the current state of
                        the random number generator, and <code class="literal">tallrng(state)</code> restores
                        the generator to those settings.</p></div><p class="datatypelist"><strong>Data Types: </strong><code itemprop="datatype">struct</code></p></div></div></div></div></div></div></div></div></div></div><div class="ref_sect"><h2 id="d126e1815040">Output Arguments</h2><div class="expandableContent"><p class="switch "><a href="javascript:void(0);" class="expandAllLink" data-allexpanded="true">collapse all</a></p><div class="mw_ws_accordion_container"><div class="accordion" id="d126e1815040_accordion-group" role="tablist" aria-multiselectable="true"><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true"><div class="accordion-item "><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_d126e1815044" data-bs-target="#expand_accordion_body_d126e1815044" aria-controls="expand_accordion_body_d126e1815044" class="accordion-button add_cursor_pointer" aria-expanded="true"><span id="outputarg_state" class="anchor_target"></span><h3 id="d126e1815044"><code class="name">state</code> &#8212; Random number generator state<br/> <span class="add_font_color_general remove_bold"><span class="example_desc">structure</span></span></h3></button></div><div role="tabpanel" id="expand_accordion_body_d126e1815044" aria-labelledby="expand_accordion_heading_d126e1815044" class="accordion-collapse collapse show"><div class="accordion-body"><div class="cshsummary" id="csh_mw_af151232-f6de-440e-afa0-f942d5035fe4"><p>Random number generator state, returned as a structure with these
                        fields.</p><div class="table-responsive"><table class="table table-condensed"><colgroup><col class="tcol1" width="33%"><col class="tcol2" width="33%"><col class="tcol3" width="33%"></colgroup><thead><tr><th>Field</th><th>Description</th><th>Example Value</th></tr></thead><tbody><tr><td><code class="literal">Type</code></td><td>Type of random number generator</td><td><code class="literal">'threefry'</code></td></tr><tr><td><code class="literal">Seed</code></td><td>Number indicating the starting point for the algorithm
                                        (for reproducibility)</td><td><code class="literal">0</code></td></tr><tr><td><code class="literal">StreamIndex</code></td><td>Index indicating the associated global stream </td><td><code class="literal">1</code></td></tr><tr><td><code class="literal">Substream</code></td><td>Index indicating the associated substream</td><td><code class="literal">1</code></td></tr></tbody></table></div><p class="description_valueexample"><strong>Example: </strong><code class="literal">state = tallrng</code> captures the current state of
                        the random number generator, and <code class="literal">tallrng(state)</code> restores
                        the generator to those settings.</p></div><p class="datatypelist"><strong>Data Types: </strong><code>struct</code></p></div></div></div></div></div></div></div></div></div><div class="ref_sect"><h2 id="d126e1815115">Tips</h2><div class="itemizedlist"><ul><li><p>If you have Statistics and Machine Learning Toolbox&#x2122;, then <code class="function">tallrng</code> controls the random numbers
                    that functions such as <code class="function">datasample</code>,
                        <code class="function">cvpartition</code>, and <code class="class">TreeBagger</code> generate
                    during tall array calculations.</p></li></ul></div></div><div class="ref_sect"><h2 id="mw_0e0f0407-1b3e-413d-b027-e3852a7024d2">Version History</h2><strong>Introduced in R2017b</strong><div class="expandableContent"><p class="switch"><a href="javascript:void(0);" class="expandAllLink">expand all</a></p><div class="mw_ws_accordion_container"><div class="accordion -presentation_expander -presentation_condensed"><div class="accordion-item"><div class="accordion-header"><button data-bs-toggle="collapse" data-bs-target="#expand_body_mw_f860a55a-6a73-4274-84df-9ecf616c6b5d" aria-controls="expand_body_mw_f860a55a-6a73-4274-84df-9ecf616c6b5d" class="accordion-button collapsed" aria-expanded="false"><h3 id="mw_f860a55a-6a73-4274-84df-9ecf616c6b5d">R2023b: <span class="remove_bold">Specify random number algorithm without specifying seed</span></h3></button></div><div id="expand_body_mw_f860a55a-6a73-4274-84df-9ecf616c6b5d" class="accordion-collapse collapsed collapse"><div class="accordion-body"><p>Use the new syntax <code class="literal">tallrng(generator)</code> to specify the algorithm
                for the random number generator to use. This syntax allows you to set the random
                number algorithm without specifying the seed, where <code class="literal">tallrng</code> uses
                a seed of 0. This syntax is equivalent to <code class="literal">tallrng(0,generator)</code>.
                For example, <code class="literal">tallrng("philox")</code> initializes the Philox 4x32
                generator with a seed of 0.</p></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion -presentation_expander -presentation_condensed"><div class="accordion-item"><div class="accordion-header"><button data-bs-toggle="collapse" data-bs-target="#expand_body_mw_6023b027-c69d-40dd-8d4a-3a76be087d7d" aria-controls="expand_body_mw_6023b027-c69d-40dd-8d4a-3a76be087d7d" class="accordion-button collapsed" aria-expanded="false"><h3 id="mw_6023b027-c69d-40dd-8d4a-3a76be087d7d">R2019a: <span class="remove_bold">Default random number generator change for <code class="function">tallrng</code></span><span class="icon-alert-warning icon_alert_color"></span></h3></button></div><div id="expand_body_mw_6023b027-c69d-40dd-8d4a-3a76be087d7d" class="accordion-collapse collapsed collapse"><div class="accordion-body"><p>The default random number generator for <code class="function">tallrng</code> is now
                    <code class="literal">threefry</code>. This generator offers performance enhancements for
                parallel calculations over the old default. In older releases, the default random
                number generator for <code class="function">tallrng</code> was
                    <code class="literal">combRecursive</code>.</p><p>With a different default generator, MATLAB will generate different sequences of random numbers by default in the
                context of tall arrays. However, the statistics of these calculations will remain
                unaffected. Therefore, you should update any code that relies on the
                    <span class="emphasis"><em>specific</em></span> random numbers being generated. However, most
                calculations on the random numbers should be unaffected.</p><p>To set the generator to the settings used by default in older releases, use the
                command:<div class="code_responsive"><pre class="programlisting">tallrng(0,"combRecursive")</pre></div></p></div></div></div></div></div></div></div><div class="ref_sect"><h2 id="mw_af151232-f6de-440e-afa0-f942d5035fe4_seealso">See Also</h2><p><span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="rng.html"><span itemprop="name"><code class="function">rng</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="tall.tall.html"><span itemprop="name"><code class="function">tall</code></span></a></span></p></div>
    </div></div></section><div xmlns="http://www.w3.org/1999/xhtml" class="clearfix"></div>
<div xmlns="http://www.w3.org/1999/xhtml" align="center" class="feedbackblock" id="mw_docsurvey"><script src="https://www.mathworks.com/help/docsurvey/docfeedback.js"></script>
<script>loadSurveyHidden();</script>
<link rel="stylesheet" href="https://www.mathworks.com/help/docsurvey/release/index-css.css" type="text/css">
<script src="https://www.mathworks.com/help/docsurvey/release/bundle.index.js"></script>

<script>initDocSurvey();</script></div></main>


</div>
</div>
</div>
</div><!--close_0960-->
<footer xmlns="http://www.w3.org/1999/xhtml" id="footer" class="bs-footer">
<div class="container-fluid">
<div class="footer">
<div class="row">
<div class="col-12">
<p class="copyright">© 1994-2025 The MathWorks, Inc.</p>
<ul class="footernav"><li class="footernav_help"><a href="matlab:web(matlab.internal.licenseAgreement)">Terms of Use</a></li><li class="footernav_patents"><a href="matlab:web([matlabroot '/patents.txt'])">Patents</a></li><li class="footernav_trademarks"><a href="matlab:web([matlabroot '/trademarks.txt'])">Trademarks</a></li><li class="footernav_piracy"><a href="matlab:web([docroot '/acknowledgments.html'])">Acknowledgments</a></li></ul></div>
</div>
</div>
</div>
</footer>
</div><!--close row-offcanvas-->
</div><!--close_0970-->
</body>
</html>
