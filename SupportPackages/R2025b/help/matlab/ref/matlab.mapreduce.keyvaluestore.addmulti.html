<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage">
<head>
<meta xmlns="http://www.w3.org/1999/xhtml" charset="utf-8">
<meta xmlns="http://www.w3.org/1999/xhtml" name="viewport" content="width=device-width, initial-scale=1.0">
<meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="X-UA-Compatible" content="IE=edge">
<title>addmulti</title>
<script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
      {
      "@context": "http://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement":
      [{
          "@type": "ListItem",
          "position": 1,

          "item": {
          "@id": "../index.html",
          "name": "MATLAB"
}

          } 
        ,
        {
          "@type": "ListItem",
          "position": 2,

          "item": {
          "@id": "../data-import-and-analysis.html",
          "name": "Data Import and Analysis"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 3,

          "item": {
          "@id": "../large-files-and-big-data.html",
          "name": "Large Files and Big Data"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 4,

          "item": {
          "@id": "../mapreduce.html",
          "name": "MapReduce"
}

          }]
      }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "VisibleBreadcrumbs",

        "itemListElement":
        [
        "mapreduce"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script>
<meta xmlns="http://www.w3.org/1999/xhtml" name="chunktype" content="refpage"><meta xmlns="http://www.w3.org/1999/xhtml" name="refentity" itemprop="refentity" content="function:addmulti"><meta xmlns="http://www.w3.org/1999/xhtml" name="refentity" itemprop="refentity" content="method:matlab.mapreduce.KeyValueStore.addmulti"><link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/bootstrap.min.css" rel="stylesheet" type="text/css">


  <meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="Content-Script-Type" content="text/javascript">
<meta xmlns="http://www.w3.org/1999/xhtml" name="toctype" itemprop="pagetype" content="fcn">
<meta xmlns="http://www.w3.org/1999/xhtml" name="infotype" itemprop="infotype" content="ref/function">

<meta xmlns="http://www.w3.org/1999/xhtml" name="description" itemprop="description" content="This MATLAB function adds multiple key-value pairs to KVStore, which is a KeyValueStore created during mapreduce execution."><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-3.6.0.min.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-migrate.min.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_lg.css" rel="stylesheet" media="screen and (min-width: 1200px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_md.css" rel="stylesheet" media="screen and (min-width: 992px) and (max-width: 1199px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm+xs.css" rel="stylesheet" media="screen and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm.css" rel="stylesheet" media="screen and (min-width: 768px) and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_xs.css" rel="stylesheet" media="screen and (max-width: 767px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_offcanvas_v2.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/shared/highlight/styles/mwdochighlight.min.css" rel="stylesheet" type="text/css">

<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/l10n.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/f1help.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/mw.imageanimation.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/jquery.highlight.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/underscore-min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/use_platform_screenshots.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/suggest.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/overload.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/helpservices.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/productfilter.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/matlab_dialog_shared.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/highlight/highlight.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/localstorage.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/product_group.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/saxonjs/SaxonJS2.rt.js"></script><script xmlns="http://www.w3.org/1999/xhtml">
            window.history.replaceState(window.location.href, null, ""); // Initialize
            window.onload = function() {    
            mystylesheetLocation = "../../includes/shared/scripts/product_group-sef.json";
            mysourceLocation = "../../docset/docset.xml";
            product_help_location = "matlab";
            pagetype = "refentry";
            doccentertype = "product";
            langcode = "";
            getProductFilteredList(mystylesheetLocation, mysourceLocation, product_help_location, pagetype, doccentertype, langcode);  
            }
          </script>




<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery.mobile.custom.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/bootstrap.bundle.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/global.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_base.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_installed.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_print.css" rel="stylesheet" type="text/css" media="print">
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/equationrenderer/release/MathRenderer.js"></script>
</head>
<body id="responsive_offcanvas">
<div xmlns="http://www.w3.org/1999/xhtml" id="doc_header_spacer" class="header"></div>
<div xmlns="http://www.w3.org/1999/xhtml" class="section_header level_3"><div class="container-fluid"><div class="row" id="mobile_search_row"><div class="col-sm-6 col-md-7 has_horizontal_local_nav" id="section_header_title"><div class="section_header_content"><div class="section_header_title"><h1><a href="../../documentation-center.html">Help Center</a></h1></div></div></div><div class="col-12 col-sm-6 col-md-5" id="mobile_search"><div class="search_nested_content_container"><form id="docsearch_form" name="docsearch_form" method="get" data-release="R2025b" data-language="en" action="../../templates/searchresults.html"><div class="input-group tokenized_search_field"><label class="visually-hidden form-label">Search Help</label><input type="text" class="form-control conjoined_search" autocomplete="off" name="qdoc" placeholder="Search Help" id="docsearch"> <div><button type="submit" name="submitsearch" id="submitsearch" class="btn icon-search btn_search_adjacent btn_search icon_16" tabindex="-1"></button></div></div></form></div><button class="btn icon-remove btn_search float-end icon_32 d-sm-none" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div><div class="d-sm-none" id="search_actuator"><button class="btn icon-search btn_search float-end icon_16" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div></div></div></div><div class="row-offcanvas row-offcanvas-left">
<div xmlns="http://www.w3.org/1999/xhtml" class="sidebar-offcanvas" id="sidebar">
<nav class="offcanvas_nav" role="navigation">
<div class="offcanvas_actuator" data-bs-toggle="offcanvas" data-bs-target="#sidebar" id="nav_toggle"><button type="button" class="btn"><span class="visually-hidden">Off-Canvas Navigation Menu Toggle
                  Off-Canvas Navigation Menu Toggle</span><span class="icon-menu"></span></button><span class="offcanvas_actuator_label" id="translation_icon-menu" tabindex="-1" aria-hidden="true"></span></div><div class="nav_list_wrapper" id="nav_list_wrapper"><nav class="offcanvas_nav" role="navigation"><ul class="nav_breadcrumb" id="ul_left_nav_ancestors"><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../../documentation-center.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Documentation Home</span></a></li></ul>
<ul class="nav_disambiguation"><li><a href="../index.html?s_tid=CRUX_lftnav" id="index">MATLAB</a>
</li>
<li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../data-import-and-analysis.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Data Import and Analysis</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../large-files-and-big-data.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Large Files and Big Data</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../mapreduce.html?s_tid=CRUX_lftnav" itemprop="url" id="bugetb8-1"><span itemprop="title">MapReduce</span></a></li></ul><div class="search_refine_v4"><div id="facets_area"><ul class="nav_scrollspy nav list-unstyled" id="pnav">
<li class="nav_scrollspy_function nav-item notranslate"><a href="#responsive_offcanvas"><span class="refname">addmulti</span></a></li>
<li class="nav_scrollspy_title nav-item" id="SSPY810-refentry">On this page</li>
<!--ADD_REFENTRY_TITLE_HERE 11--><li><a href="#d126e10888" class="intrnllnk">Syntax</a></li><li class="nav-item"><a href="#description" class="nav-link intrnllnk">Description</a></li><li class="nav-item"><a href="#bvmdj3o-1" class="nav-link intrnllnk">Examples</a><ul class="nav"><li class="nav-item"><a href="#bvmdnz3-1" class="nav-link intrnllnk">Add Multiple Key/Value Pairs to KeyValueStore</a></li></ul></li><li class="nav-item"><a href="#buhb1yx-2" class="nav-link intrnllnk">Input Arguments</a><ul class="nav"><li class="nav-item"><a href="#buhb1yx-KVStore" class="nav-link intrnllnk">KVStore</a></li><li class="nav-item"><a href="#buhb1yx-keys" class="nav-link intrnllnk">keys</a></li><li class="nav-item"><a href="#buhb1yx-values" class="nav-link intrnllnk">values</a></li></ul></li><li class="nav-item"><a href="#bukuh5i-3" class="nav-link intrnllnk">Tips</a></li><li class="nav-item"><a href="#buhb1yx_vh" class="nav-link intrnllnk">Version History</a></li><li class="nav-item"><a href="#buhb1yx_seealso" class="nav-link intrnllnk">See Also</a></li></ul></div></div>
</nav></div></nav>
<script src="../../includes/product/scripts/offcanvas_v2.js"></script></div><!--END.CLASS sidebar-offcanvas-->
<div class="offcanvas_content_container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sticky_header_container"><div class="horizontal_nav"><div class="horizontal_nav_container"><div class="offcanvas_horizontal_nav"><div class="container-fluid"><div class="row"><div class="col-sm-12 d-none d-sm-block"><nav class="navbar navbar-default" role="navigation" id="subnav"><div><ul class="nav navbar-nav crux_browse"><li id="crux_nav_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_example" class="crux_resource"><a href="../examples.html?category=mapreduce&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=mapreduce&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=mapreduce&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></nav></div><div class="d-sm-none"><div class="container-fluid"><div class="row"><div class="col-9"><div class="mobile_crux_nav_trigger"><div class="btn-group"><button type="button" class="btn btn-default dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Resources</button><ul class="dropdown-menu"><li id="crux_nav_mobile_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_mobile_example" class="crux_resource"><a href="../examples.html?category=mapreduce&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_mobile_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=mapreduce&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_mobile_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=mapreduce&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></div></div><div class="col-3"><div class="translate_placeholder"></div></div></div></div></div></div></div></div></div></div></div><div class="content_container" id="content_container" itemprop="content">
<div class="container-fluid">
<div class="row">
<div class="col-12">

<main id="skip_link_anchor" tabindex="-1">
<div xmlns="http://www.w3.org/1999/xhtml" id="product_info_alert"></div><section xmlns="http://www.w3.org/1999/xhtml" id="doc_center_content" lang="en" data-language="en"><div id="pgtype-ref-function"><div class="function_ref"><span id="buhb1yx" class="anchor_target"></span><h1 class="r2025b notranslate" itemprop="title"><span class="refname">addmulti</span></h1><div class="doc_topic_desc"><div class="purpose_container"><p itemprop="purpose">Add multiple key-value pairs to KeyValueStore</p><div class="switch"><a href="javascript:void(0);" id="expandAllPage" data-allexpanded="true1">collapse all in page</a></div></div></div>
<div class="ref_sect"><h2 id="d126e10888">Syntax</h2><div class="syntax_signature"><div class="syntax_signature_module"><div class="code_responsive"><code class="synopsis"><a href="#d126e10895" class="intrnllnk">addmulti(KVStore,keys,values)</a></code></div></div></div></div><div class="clear"></div><span id="buhb1yx-1" class="anchor_target"></span><h2 id="description">Description</h2><div class="descriptions"><div class="cshsummary" id="csh_buhb1yx"><div class="description_module"><div class="description_element"><div class="code_responsive"><p><span id="d126e10895" itemprop="syntax"><code class="synopsis">addmulti(<a href="#buhb1yx-KVStore" class="intrnllnk"><code class="argument">KVStore</code></a>,<a href="#buhb1yx-keys" class="intrnllnk"><code class="argument">keys</code></a>,<a href="#buhb1yx-values" class="intrnllnk"><code class="argument">values</code></a>)</code></span> adds
multiple key-value pairs to <code class="literal">KVStore</code>, which is a <code class="literal">KeyValueStore</code> created
during <code class="function">mapreduce</code> execution. Use <code class="function">addmulti</code> in
a map or reduce function written for use with <code class="function">mapreduce</code> to
store intermediate or final key-value pair information.</p></div><p class="syntax_example"><a href="matlab.mapreduce.keyvaluestore.addmulti.html#bvmdnz3-1" class="intrnllnk">example</a></p></div></div></div></div><div class="clear"></div><div class="examples"><h2 id="bvmdj3o-1">Examples</h2><div class="expandableContent" id="expandableExamples"><p class="switch"><a href="javascript:void(0);" class="expandAllLink" data-allexpanded="true3">collapse all</a></p><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true" id="expand_accordion_heading_bvmdnz3-1"><div class="accordion-item "><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_bvmdnz3-1" data-bs-target="#expand_accordion_body_bvmdnz3-1" aria-controls="expand_accordion_body_bvmdnz3-1" class="accordion-button add_cursor_pointer" aria-expanded="true"><h3 id="bvmdnz3-1">Add Multiple Key/Value Pairs to KeyValueStore</h3></button></div><div role="tabpanel" id="expand_accordion_body_bvmdnz3-1" aria-labelledby="expand_accordion_heading_bvmdnz3-1" class="accordion-collapse collapse show"><div class="accordion-body"><div class="examples_short_list hidden_ios_android" data-products="ML"><div data-pane="metadata" class="card metadata_container"><div class="card-body metadata_content"><div class="d-grid"><a class="btn btn_color_blue" href="matlab:openExample('matlab/AddMultipleKeysValuesExample')" data-ex-genre="Live Script">Open Live Script</a></div></div></div></div><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "DigitalDocument",
          "headline": "Add Multiple Key/Value Pairs to KeyValueStore",
          "description": "Use add and addmulti in map and reduce functions to pass data into the intermediate and final KeyValueStore. This example uses identity map and reduce functions that pass the inputs straight through to the output. The map and reduce functions are listed at the end of the example as local functions.",
          "thumbnailURL": "../../includes/product/images/doc_center/DefaultImage.png",
          "genre": "Live Script",
          "isBasedOn": {
          "@type": "Product",
          "name": "MATLAB"

        },
          "isPartOf": {
          "@type": "CreativeWork",
          "url": "matlab.mapreduce.keyvaluestore.addmulti.html"

        },
          "identifier": "matlab.AddMultipleKeysValuesExample",
          "name": "AddMultipleKeysValuesExample",
          "url": "matlab.mapreduce.keyvaluestore.addmulti.html#bvmdnz3-1"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "PropertyValue",
          "name": "open_command",
          "value": "matlab:openExample('matlab/AddMultipleKeysValuesExample')"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "ExampleSourceFiles",

        "itemListElement":
        [
        "AddMultipleKeysValuesExample.mlx",
        "airlinesmall.csv"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><p class="shortdesc">Use <code class="literal">add</code> and <code class="literal">addmulti</code> in map and reduce functions to pass data into the intermediate and final <code class="literal">KeyValueStore</code>. This example uses identity map and reduce functions that pass the inputs straight through to the output. The map and reduce functions are listed at the end of the example as local functions.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>inds = tabularTextDatastore(<span style="color:#A020F0">'airlinesmall.csv'</span>,<span style="color:#A020F0">'SelectedVariableNames'</span>,<span style="color:#0000FF">...</span>
    {<span style="color:#A020F0">'ArrDelay'</span>,<span style="color:#A020F0">'DepDelay'</span>},<span style="color:#A020F0">'TreatAsMissing'</span>,<span style="color:#A020F0">'NA'</span>);
preview(inds)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>ans=<span class="emphasis"><em>8×2 table</em></span>
    ArrDelay    DepDelay
    ________    ________

        8          12   
        8           1   
       21          20   
       13          12   
        4          -1   
       59          63   
        3          -2   
       11          -1   

</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>outds = mapreduce(inds,@myMapper,@myReducer,mapreducer(0));</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>********************************
*      MAPREDUCE PROGRESS      *
********************************
Map   0% Reduce   0%
Map  16% Reduce   0%
Map  32% Reduce   0%
Map  48% Reduce   0%
Map  65% Reduce   0%
Map  81% Reduce   0%
Map  97% Reduce   0%
Map 100% Reduce   0%
Map 100% Reduce  50%
Map 100% Reduce 100%
</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>readall(outds)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>ans=<span class="emphasis"><em>2×2 table</em></span>
        Key               Value      
    ____________    _________________

    {'ArrDelay'}    {123523×1 double}
    {'DepDelay'}    {123523×1 double}

</pre></div></div></div><div class="procedure"><span id="AddMultipleKeysValuesExample-1" class="anchor_target"></span><p class="title" id="AddMultipleKeysValuesExample-1"><b>Local Functions</b></p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#0000FF">function</span> myMapper(data,info,intermKV)
    addmulti(intermKV,{<span style="color:#A020F0">'ArrDelay'</span> <span style="color:#A020F0">'DepDelay'</span>},{data.ArrDelay data.DepDelay});
<span style="color:#0000FF">end</span>

<span style="color:#0000FF">function</span> myReducer(key,intermValIter,outKV)
    data = getnext(intermValIter);
    <span style="color:#0000FF">while</span> hasnext(intermValIter)
        data = [data; getnext(intermValIter)];
    <span style="color:#0000FF">end</span>
    add(outKV,key,data);
<span style="color:#0000FF">end</span></pre></div></div></div></div></div></div></div></div><div itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/Example" itemprop="example" class="em_example"><meta itemprop="exampleid" content="matlab-AddMultipleKeysValuesExample"><meta itemprop="exampletitle" content="Add Multiple Key/Value Pairs to KeyValueStore"></div></div></div></div><div class="ref_sect"><h2 id="buhb1yx-2">Input Arguments</h2><div class="expandableContent"><p class="switch "><a href="javascript:void(0);" class="expandAllLink" data-allexpanded="true">collapse all</a></p><div class="mw_ws_accordion_container"><div class="accordion" id="buhb1yx-2_accordion-group" role="tablist" aria-multiselectable="true"><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true"><div class="accordion-item "><div itemscope="" itemprop="inputargument" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/NamedInputArgument" itemid="buhb1yx-KVStore"><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_buhb1yx-KVStore" data-bs-target="#expand_accordion_body_buhb1yx-KVStore" aria-controls="expand_accordion_body_buhb1yx-KVStore" class="accordion-button add_cursor_pointer" aria-expanded="true"><span id="inputarg_KVStore" class="anchor_target"></span><h3 id="buhb1yx-KVStore"><code itemprop="name">KVStore</code> &#8212; <span itemprop="purpose">Key-value pair storage object</span><br/> <span class="add_font_color_general remove_bold"><span class="example_desc"><span itemprop="inputvalue"><code class="literal">KeyValueStore</code> object</span></span></span></h3></button></div><div role="tabpanel" id="expand_accordion_body_buhb1yx-KVStore" aria-labelledby="expand_accordion_heading_buhb1yx-KVStore" class="accordion-collapse collapse show"><div class="accordion-body"><div class="cshsummary" id="csh_buhb1yx-KVStore"><p>Key-value pair storage object, specified as a <code class="literal">KeyValueStore</code> object.
The <code class="function">mapreduce</code> function automatically creates
the <code class="literal">KeyValueStore</code> object during execution:</p><div class="itemizedlist"><ul><li><p>In the map function, the name of the intermediate <code class="literal">KeyValueStore</code> object
is the third input argument to the map function, <code class="literal">myMapper(data,
info, intermKVStore)</code>. Use that same variable name to add
intermediate key-value pairs with <code class="function">add</code> or <code class="function">addmulti</code> in
the map function.</p></li><li><p>In the reduce function, the name of the final <code class="literal">KeyValueStore</code> object
is the third input argument to the reduce function, <code class="literal">myReducer(intermKey,
intermValIter, outKVStore)</code>. Use that same variable name
to add final key-value pairs with <code class="function">add</code> or <code class="function">addmulti</code> in
the reduce function.</p></li></ul></div><p>For more information, see <a href="matlab.mapreduce.keyvaluestore.html"><code class="object">KeyValueStore</code></a>.</p></div></div></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true"><div class="accordion-item "><div itemscope="" itemprop="inputargument" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/NamedInputArgument" itemid="buhb1yx-keys"><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_buhb1yx-keys" data-bs-target="#expand_accordion_body_buhb1yx-keys" aria-controls="expand_accordion_body_buhb1yx-keys" class="accordion-button add_cursor_pointer" aria-expanded="true"><span id="inputarg_keys" class="anchor_target"></span><h3 id="buhb1yx-keys"><code itemprop="name">keys</code> &#8212; <span itemprop="purpose">Keys</span><br/> <span class="add_font_color_general remove_bold"><span class="example_desc"><span itemprop="inputvalue">numeric scalar</span> | <span itemprop="inputvalue">numeric vector</span> | <span itemprop="inputvalue">character vector</span> | <span itemprop="inputvalue">string array</span> | <span itemprop="inputvalue">cell vector of character vectors</span> | <span itemprop="inputvalue">cell vector of numeric scalars</span></span></span></h3></button></div><div role="tabpanel" id="expand_accordion_body_buhb1yx-keys" aria-labelledby="expand_accordion_heading_buhb1yx-keys" class="accordion-collapse collapse show"><div class="accordion-body"><div class="cshsummary" id="csh_buhb1yx-keys"><p>Keys, specified as a numeric scalar, numeric vector, character vector, string array, cell
                        vector of character vectors, or cell vector of numeric scalars. If the keys
                        are a numeric vector, cell vector, or string array, then each entry
                        specifies a different key.</p><p>All of the keys added by the map function must have the same
class. The keys added by the reduce function must also have the same
class, but that class can differ from the class of the keys added
by the map function.</p><p>Numeric keys cannot be <code class="literal">NaN</code>, complex, logical,
or sparse.</p><p class="description_valueexample"><strong>Example: </strong><code class="literal">addmulti(intermKVStore,{'Sum'; 'Count'; 'Variance'},{sum(X);
numel(X); var(X)})</code> adds three key-value pairs to an intermediate <code class="literal">KeyValueStore</code> object
(named <code class="literal">intermKVStore</code>) using a cell vector to specify
the keys.</p><p class="description_valueexample"><strong>Example: </strong><code class="literal">addmulti(intermKVStore,[1
2 3 4],{sum(X); mean(X); max(X); min(X)})</code> adds four key-value
pairs to an intermediate <code class="literal">KeyValueStore</code> object using
a numeric vector to specify the keys.</p><p class="description_valueexample"><strong>Example: </strong><code class="literal">addmulti(outKVStore,'Stats',{[mean(X)
max(X) min(X) var(X) std(X)]})</code> adds a single key-value pair
to a final <code class="literal">KeyValueStore</code> object (named <code class="literal">outKVStore</code>)
using a character vector as the key.</p></div><p class="datatypelist"><strong>Data Types: </strong><code itemprop="datatype">single</code> | <code itemprop="datatype">double</code> | <code itemprop="datatype">int8</code> | <code itemprop="datatype">int16</code> | <code itemprop="datatype">int32</code> | <code itemprop="datatype">int64</code> | <code itemprop="datatype">uint8</code> | <code itemprop="datatype">uint16</code> | <code itemprop="datatype">uint32</code> | <code itemprop="datatype">uint64</code> | <code itemprop="datatype">char</code> | <code itemprop="datatype">string</code></p></div></div></div></div></div></div><div class="mw_ws_accordion_container"><div class="accordion" role="tablist" aria-multiselectable="true"><div class="accordion-item "><div itemscope="" itemprop="inputargument" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/NamedInputArgument" itemid="buhb1yx-values"><div class="accordion-header"><button role="tab" data-bs-toggle="collapse" id="expand_accordion_heading_buhb1yx-values" data-bs-target="#expand_accordion_body_buhb1yx-values" aria-controls="expand_accordion_body_buhb1yx-values" class="accordion-button add_cursor_pointer" aria-expanded="true"><span id="inputarg_values" class="anchor_target"></span><h3 id="buhb1yx-values"><code itemprop="name">values</code> &#8212; <span itemprop="purpose">Values</span><br/> <span class="add_font_color_general remove_bold"><span class="example_desc"><span itemprop="inputvalue">cell array</span></span></span></h3></button></div><div role="tabpanel" id="expand_accordion_body_buhb1yx-values" aria-labelledby="expand_accordion_heading_buhb1yx-values" class="accordion-collapse collapse show"><div class="accordion-body"><div class="cshsummary" id="csh_buhb1yx-values"><p>Values, specified as a cell array. Each entry in the cell array
specifies the value in a key-value pair, so <code class="literal">numel(values)</code> must
be equal to the number of keys. The entries in the cell array can
be any MATLAB<sup>&#x00AE;</sup> object, including all valid MATLAB data types.</p><p>The <code class="literal">OutputType</code> argument of <code class="function">mapreduce</code> affects
the type of values that the reduce function can add:</p><div class="itemizedlist"><ul><li><p>If the <code class="literal">OutputType</code> is <code class="literal">'Binary'</code> (the
default), then a value added by the reduce function can be any MATLAB object.</p></li><li><p>If the <code class="literal">OutputType</code> is
                                    <code class="literal">'TabularText'</code>, then a value added by the
                                reduce function can be a numeric scalar, character vector, or string
                                scalar when using the <code class="function">add</code> function.
                                Additionally, you can use the <code class="function">addmulti</code> function
                                to add multiple values with a numeric vector, cell vector of
                                character vectors, cell vector of numeric scalars, or string array.
                                In each case, the numeric values cannot be <code class="literal">NaN</code>,
                                complex, logical, or sparse.</p></li></ul></div><div class="alert alert-info d-inline-block"><span class="alert_icon icon-alert-info-reverse"></span><p class="alert_heading"><strong>Note</strong></p><p>The above key-value pair requirements may differ when using
other products with&nbsp;mapreduce. See the documentation for the
appropriate product to get product-specific key-value pair requirements.</p></div><p class="description_valueexample"><strong>Example: </strong><code class="literal">addmulti(intermKVStore,{'Sum'; 'Count'; 'Variance'},{sum(X);
numel(X); var(X)})</code> adds three key-value pairs to an intermediate <code class="literal">KeyValueStore</code> object
named <code class="literal">intermKVStore</code>.</p><p class="description_valueexample"><strong>Example: </strong><code class="literal">addmulti(intermKVStore,[1
2 3 4],{sum(X); mean(X); max(X); min(X)})</code> adds four key-value
pairs to an intermediate <code class="literal">KeyValueStore</code> object using
a cell vector.</p><p class="description_valueexample"><strong>Example: </strong><code class="literal">addmulti(outKVStore,'Stats',{[mean(X)
max(X) min(X) var(X) std(X)]})</code> adds a single key-value pair
to a final <code class="literal">KeyValueStore</code> object named <code class="literal">outKVStore</code>.</p><p class="description_valueexample"><strong>Example: </strong><code class="literal">addmulti(outKVStore,{'Distance' 'Time'},{table.Distance
table.Time})</code> adds two key-value pairs using variables in
a table to specify the values.</p></div></div></div></div></div></div></div></div></div></div></div><div class="ref_sect"><h2 id="bukuh5i-3">Tips</h2><div class="itemizedlist"><ul><li><p>Avoid using <code class="function">add</code> in a loop, as
it can negatively affect <code class="function">mapreduce</code> execution
time. Instead, use cell arrays to collect multiple values (using vectorized
operations if possible) and use a single call to <code class="function">addmulti</code>.</p></li></ul></div></div><div class="ref_sect"><h2 id="buhb1yx_vh">Version History</h2><p><strong>Introduced in R2014b</strong></p></div><div class="ref_sect"><h2 id="buhb1yx_seealso">See Also</h2><p><span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="matlab.mapreduce.keyvaluestore.add.html"><span itemprop="name"><code class="function">add</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="matlab.mapreduce.keyvaluestore.html"><span itemprop="name"><code class="object">KeyValueStore</code></span></a></span></p><div class="examples_container"><h3 class="remove_border">Topics</h3><div itemprop="content"><ul class="list-unstyled"><li><a href="../import_export/getting-started-with-mapreduce.html" class="a">Getting Started with MapReduce</a></li></ul></div></div></div>
    </div></div></section><div xmlns="http://www.w3.org/1999/xhtml" class="clearfix"></div>
<div xmlns="http://www.w3.org/1999/xhtml" align="center" class="feedbackblock" id="mw_docsurvey"><script src="https://www.mathworks.com/help/docsurvey/docfeedback.js"></script>
<script>loadSurveyHidden();</script>
<link rel="stylesheet" href="https://www.mathworks.com/help/docsurvey/release/index-css.css" type="text/css">
<script src="https://www.mathworks.com/help/docsurvey/release/bundle.index.js"></script>

<script>initDocSurvey();</script></div></main>


</div>
</div>
</div>
</div><!--close_0960-->
<footer xmlns="http://www.w3.org/1999/xhtml" id="footer" class="bs-footer">
<div class="container-fluid">
<div class="footer">
<div class="row">
<div class="col-12">
<p class="copyright">© 1994-2025 The MathWorks, Inc.</p>
<ul class="footernav"><li class="footernav_help"><a href="matlab:web(matlab.internal.licenseAgreement)">Terms of Use</a></li><li class="footernav_patents"><a href="matlab:web([matlabroot '/patents.txt'])">Patents</a></li><li class="footernav_trademarks"><a href="matlab:web([matlabroot '/trademarks.txt'])">Trademarks</a></li><li class="footernav_piracy"><a href="matlab:web([docroot '/acknowledgments.html'])">Acknowledgments</a></li></ul></div>
</div>
</div>
</div>
</footer>
</div><!--close row-offcanvas-->
</div><!--close_0970-->
</body>
</html>
