<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage">
<head>
<meta xmlns="http://www.w3.org/1999/xhtml" charset="utf-8">
<meta xmlns="http://www.w3.org/1999/xhtml" name="viewport" content="width=device-width, initial-scale=1.0">
<meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="X-UA-Compatible" content="IE=edge">
<title>Managing Properties of Chart Classes</title>
<script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
      {
      "@context": "http://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement":
      [{
          "@type": "ListItem",
          "position": 1,

          "item": {
          "@id": "../index.html",
          "name": "MATLAB"
}

          } 
        ,
        {
          "@type": "ListItem",
          "position": 2,

          "item": {
          "@id": "../graphics.html",
          "name": "Graphics"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 3,

          "item": {
          "@id": "../graphics-objects.html",
          "name": "Graphics Objects"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 4,

          "item": {
          "@id": "../developing-chart-classes.html",
          "name": "Developing Chart Classes"
}

          }]
      }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "VisibleBreadcrumbs",

        "itemListElement":
        [
        "developing-chart-classes"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/bootstrap.min.css" rel="stylesheet" type="text/css">


  <meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="Content-Script-Type" content="text/javascript">
<meta xmlns="http://www.w3.org/1999/xhtml" name="toctype" itemprop="pagetype" content="ug">
<meta xmlns="http://www.w3.org/1999/xhtml" name="infotype" itemprop="infotype" content="ex">

<meta xmlns="http://www.w3.org/1999/xhtml" name="description" itemprop="description" content="Validate property values, optimize how properties update, and customize how properties display for the charts you author."><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-3.6.0.min.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-migrate.min.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_lg.css" rel="stylesheet" media="screen and (min-width: 1200px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_md.css" rel="stylesheet" media="screen and (min-width: 992px) and (max-width: 1199px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm+xs.css" rel="stylesheet" media="screen and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm.css" rel="stylesheet" media="screen and (min-width: 768px) and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_xs.css" rel="stylesheet" media="screen and (max-width: 767px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_offcanvas_v2.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/shared/highlight/styles/mwdochighlight.min.css" rel="stylesheet" type="text/css">

<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/l10n.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/f1help.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/mw.imageanimation.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/jquery.highlight.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/underscore-min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/use_platform_screenshots.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/suggest.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/overload.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/helpservices.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/productfilter.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/matlab_dialog_shared.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/highlight/highlight.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/localstorage.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/product_group.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/saxonjs/SaxonJS2.rt.js"></script><script xmlns="http://www.w3.org/1999/xhtml">
            window.history.replaceState(window.location.href, null, ""); // Initialize
            window.onload = function() {    
            mystylesheetLocation = "../../includes/shared/scripts/product_group-sef.json";
            mysourceLocation = "../../docset/docset.xml";
            product_help_location = "matlab";
            pagetype = "section";
            doccentertype = "product";
            langcode = "";
            getProductFilteredList(mystylesheetLocation, mysourceLocation, product_help_location, pagetype, doccentertype, langcode);  
            }
          </script>




<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery.mobile.custom.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/bootstrap.bundle.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/global.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_base.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_installed.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_print.css" rel="stylesheet" type="text/css" media="print">
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/equationrenderer/release/MathRenderer.js"></script>
</head>
<body id="responsive_offcanvas">
<div xmlns="http://www.w3.org/1999/xhtml" id="doc_header_spacer" class="header"></div>
<div xmlns="http://www.w3.org/1999/xhtml" class="section_header level_3"><div class="container-fluid"><div class="row" id="mobile_search_row"><div class="col-sm-6 col-md-7 has_horizontal_local_nav" id="section_header_title"><div class="section_header_content"><div class="section_header_title"><h1><a href="../../documentation-center.html">Help Center</a></h1></div></div></div><div class="col-12 col-sm-6 col-md-5" id="mobile_search"><div class="search_nested_content_container"><form id="docsearch_form" name="docsearch_form" method="get" data-release="R2025b" data-language="en" action="../../templates/searchresults.html"><div class="input-group tokenized_search_field"><label class="visually-hidden form-label">Search Help</label><input type="text" class="form-control conjoined_search" autocomplete="off" name="qdoc" placeholder="Search Help" id="docsearch"> <div><button type="submit" name="submitsearch" id="submitsearch" class="btn icon-search btn_search_adjacent btn_search icon_16" tabindex="-1"></button></div></div></form></div><button class="btn icon-remove btn_search float-end icon_32 d-sm-none" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div><div class="d-sm-none" id="search_actuator"><button class="btn icon-search btn_search float-end icon_16" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div></div></div></div><div class="row-offcanvas row-offcanvas-left">
<div xmlns="http://www.w3.org/1999/xhtml" class="sidebar-offcanvas" id="sidebar">
<nav class="offcanvas_nav" role="navigation">
<div class="offcanvas_actuator" data-bs-toggle="offcanvas" data-bs-target="#sidebar" id="nav_toggle"><button type="button" class="btn"><span class="visually-hidden">Off-Canvas Navigation Menu Toggle
                  Off-Canvas Navigation Menu Toggle</span><span class="icon-menu"></span></button><span class="offcanvas_actuator_label" id="translation_icon-menu" tabindex="-1" aria-hidden="true"></span></div><div class="nav_list_wrapper" id="nav_list_wrapper"><nav class="offcanvas_nav" role="navigation"><ul class="nav_breadcrumb" id="ul_left_nav_ancestors"><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../../documentation-center.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Documentation Home</span></a></li></ul>
<ul class="nav_disambiguation"><li><a href="../index.html?s_tid=CRUX_lftnav" id="index">MATLAB</a>
</li>
<li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../graphics.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Graphics</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../graphics-objects.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Graphics Objects</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../developing-chart-classes.html?s_tid=CRUX_lftnav" itemprop="url" id="mw_3030590a-11cb-455b-92cb-5856db5c8caf"><span itemprop="title">Developing Chart Classes</span></a></li></ul><div class="search_refine_v4"><div id="facets_area"><ul class="nav_scrollspy nav list-unstyled" id="pnav">
<li class="nav_scrollspy_function nav-item"><a href="#responsive_offcanvas">Managing Properties of Chart Classes</a></li>
<li class="nav_scrollspy_title nav-item" id="SSPY810-section">On this page</li>
<!--ADD_REFENTRY_TITLE_HERE 11--><li class="nav-item"><a href="#mw_db6ff5da-d329-4edb-a4f8-ed0d8ffcfa50" class="nav-link intrnllnk">Initialize Property Values</a></li><li class="nav-item"><a href="#mw_1efb8538-879c-4c7b-b220-bc42ff2c0ae3" class="nav-link intrnllnk">Validate Property Values</a></li><li class="nav-item"><a href="#mw_20abe4d4-c271-483b-afd7-72c2ccf17b37" class="nav-link intrnllnk">Customize the Property Display</a></li><li class="nav-item"><a href="#mw_739ef76c-51a9-4e85-9278-3cae9f30a0fd" class="nav-link intrnllnk">Optimize the update Method</a></li><li class="nav-item"><a href="#mw_485d92e6-f579-4f08-b379-2b81e7af125f" class="nav-link intrnllnk">Example: Optimized Isosurface Chart with Customized Property Display</a></li><li class="nav-item"><a href="#d126e32517" class="nav-link intrnllnk">See Also</a></li></ul></div></div>
</nav></div></nav>
<script src="../../includes/product/scripts/offcanvas_v2.js"></script></div><!--END.CLASS sidebar-offcanvas-->
<div class="offcanvas_content_container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sticky_header_container"><div class="horizontal_nav"><div class="horizontal_nav_container"><div class="offcanvas_horizontal_nav"><div class="container-fluid"><div class="row"><div class="col-sm-12 d-none d-sm-block"><nav class="navbar navbar-default" role="navigation" id="subnav"><div><ul class="nav navbar-nav crux_browse"><li id="crux_nav_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_example" class="crux_resource"><a href="../examples.html?category=developing-chart-classes&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=developing-chart-classes&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=developing-chart-classes&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></nav></div><div class="d-sm-none"><div class="container-fluid"><div class="row"><div class="col-9"><div class="mobile_crux_nav_trigger"><div class="btn-group"><button type="button" class="btn btn-default dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Resources</button><ul class="dropdown-menu"><li id="crux_nav_mobile_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_mobile_example" class="crux_resource"><a href="../examples.html?category=developing-chart-classes&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_mobile_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=developing-chart-classes&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_mobile_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=developing-chart-classes&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></div></div><div class="col-3"><div class="translate_placeholder"></div></div></div></div></div></div></div></div></div></div></div><div class="content_container" id="content_container" itemprop="content">
<div class="container-fluid">
<div class="row">
<div class="col-12">

<main id="skip_link_anchor" tabindex="-1">
<div xmlns="http://www.w3.org/1999/xhtml" id="product_info_alert"></div><section xmlns="http://www.w3.org/1999/xhtml" id="doc_center_content" lang="en" data-language="en"><div id="pgtype-topic">
<section><h2 class="title r2025b" itemprop="title content" id="mw_0afa5f9d-f02c-4396-a33c-148db26784f5">Managing Properties of Chart Classes</h2><p>When you develop a custom chart as a subclass of the <code class="literal">ChartContainer</code>
            base class, you can use certain techniques to make your code more robust, efficient, and
            tailored to the needs of your users. These techniques focus on how you define and manage
            the properties of your class. Use any that are helpful for the type of visualization you
            want to create and the user experience you want to provide.</p>
<div class="itemizedlist"><ul><li><p><a href="managing-properties-of-chart-classes.html#mw_db6ff5da-d329-4edb-a4f8-ed0d8ffcfa50" class="intrnllnk">Initialize property
                            values</a> &#8212; Set the default state of the chart in case your users
                        call the implicit constructor without any input arguments.</p></li><li><p><a href="managing-properties-of-chart-classes.html#mw_1efb8538-879c-4c7b-b220-bc42ff2c0ae3" class="intrnllnk">Validate property
                            values</a> &#8212; Ensure that the values are valid before using them to
                        perform a calculation or configure one of the underlying graphics objects in
                        your chart.</p></li><li><p><a href="managing-properties-of-chart-classes.html#mw_20abe4d4-c271-483b-afd7-72c2ccf17b37" class="intrnllnk">Customize the property
                            display</a> &#8212; Provide a customized list of properties when a user
                        references the chart object without semicolon.</p></li><li><p><a href="managing-properties-of-chart-classes.html#mw_739ef76c-51a9-4e85-9278-3cae9f30a0fd" class="intrnllnk">Optimize the
                                <code class="literal">update</code> method</a> &#8212; Improve the performance of
                        the <code class="literal">update</code> method when only a subset of your properties
                        are used in a time-consuming calculation.</p></li></ul></div><p>
</p><section><h3 class="title" id="mw_db6ff5da-d329-4edb-a4f8-ed0d8ffcfa50">Initialize Property Values</h3><p>Assign default values for all of the public properties of your class. Doing so
                configures a valid chart if the user omits some of the name-value pair arguments
                when they call the constructor method.</p><p>For properties that store coordinate data, set the initial values to
                    <code class="literal">NaN</code> values or empty arrays so that the default chart is empty
                when the user does not specify the coordinates. Choose the default coordinates
                according to the requirements of the plotting functions you plan to call in your
                class methods. To learn about the requirements, see the documentation for the
                plotting functions you plan to use.</p></section><section><h3 class="title" id="mw_1efb8538-879c-4c7b-b220-bc42ff2c0ae3">Validate Property Values</h3><p>A good practice is to verify the values of your class properties
                before your code uses those values. A convenient way to do this is to validate the
                size and class of the properties as you define them. For example, this property
                block validates the size and class of four properties.<div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#0000FF">properties</span>
    IsoValue <span style="color:#A0522D">(1,1) double </span>= 0.5
    Enclose <span style="color:#A0522D">{mustBeMember(Enclose,{'above','below'})}</span> = <span style="color:#A020F0">'below'</span>
    CapVisible <span style="color:#A0522D">(1,1) matlab.lang.OnOffSwitchState </span>= <span style="color:#A020F0">'on'</span>
    Color <span style="color:#A0522D">(1,3) double {mustBeGreaterThanOrEqual(Color,0),</span><span style="color:#0000FF">...</span>
        <span style="color:#A0522D">mustBeLessThanOrEqual(Color,1)}</span> = [.2 .5 .8]
<span style="color:#0000FF">end</span></pre></div></div></div></p>
<div class="itemizedlist"><ul><li><p><code class="literal">IsoValue</code> must be a 1-by-1 array of class
                                <code class="literal">double</code>.</p></li><li><p><code class="literal">Enclose</code> must have a value of either
                                <code class="literal">'above'</code> or <code class="literal">'below'</code>.</p></li><li><p><code class="literal">CapVisible</code> must be a 1-by-1 array of class
                                <code class="literal">matlab.lang.OnOffSwitchState</code>.</p></li><li><p><code class="literal">Color</code> must be a 1-by-3 array of class
                                <code class="literal">double</code>, where each value is in the range
                                <code class="literal">[0,1]</code>.</p></li></ul></div><p>
</p><p>You can also validate properties that store the underlying graphics objects in
                your chart. To determine the class name of an object, call the corresponding
                plotting function at the command line, and then call the <code class="function">class</code>
                function to get the class name. For example, if you plan to call the
                    <code class="function">patch</code> function in your <code class="literal">setup</code> method,
                call the <code class="function">patch</code> function at the command line with an output
                argument (the input arguments do not matter). Then pass the output to the
                    <code class="function">class</code> function to get its class
                name.<div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>x = patch(NaN,NaN,NaN);
class(x)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>ans =

    'matlab.graphics.primitive.Patch'</pre></div></div></div></p><p>Use the output of the <code class="function">class</code> function to validate the class
                for the corresponding property in your class. For example, each of the following
                properties stores a <code class="literal">Patch</code>
                object.<div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#0000FF">properties</span> (Access = private,Transient,NonCopyable)
    IsoPatch <span style="color:#A0522D">(1,1) matlab.graphics.primitive.Patch</span>
     CapPatch <span style="color:#A0522D">(1,1) matlab.graphics.primitive.Patch</span>
<span style="color:#0000FF">end</span></pre></div></div></div></p><p>Occasionally, you might want to define a property that can store different shapes
                and classes of values. For example, if you define a property that can store a
                character vector, cell array of character vectors, or string array, omit the size
                and class validation or use a custom property validation method.</p><p>For more information about validating properties, see <a href="../matlab_oop/validate-property-values.html" class="a">Validate Property Values</a>.</p></section><section><h3 class="title" id="mw_20abe4d4-c271-483b-afd7-72c2ccf17b37">Customize the Property Display</h3><p>One of the benefits of defining your chart as a subclass of the
                    <code class="literal">ChartContainer</code> base class is that it also inherits from the
                    <a href="../ref/matlab.mixin.customdisplay-class.html"><code class="class">matlab.mixin.CustomDisplay</code></a> class.
                Thus, you can customize the list of properties MATLAB<sup>&#x00AE;</sup> displays in the Command Window when you reference the chart without a
                semicolon. To customize the property display, overload the <a href="../ref/matlab.mixin.customdisplay.getpropertygroups.html"><code class="method">getPropertyGroups</code></a> method.
                Within that method, you can customize which properties are listed and the order of
                the list. For example, consider an <code class="literal">IsoSurfCapChart</code> class that has
                the following public
                properties.<div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#0000FF">properties</span>
    IsoValue <span style="color:#A0522D">(1,1) double </span>= 0.5
    Enclose <span style="color:#A0522D">{mustBeMember(Enclose,{'above','below'})}</span> = <span style="color:#A020F0">'below'</span>
    CapVisible <span style="color:#A0522D">(1,1) matlab.lang.OnOffSwitchState </span>= <span style="color:#A020F0">'on'</span>
    Color <span style="color:#A0522D">(1,3) double {mustBeGreaterThanOrEqual(Color,0),</span><span style="color:#0000FF">...</span>
        <span style="color:#A0522D">mustBeLessThanOrEqual(Color,1)}</span> = [.2 .5 .8]
<span style="color:#0000FF">end</span></pre></div></div></div></p><p>The following <code class="literal">getPropertyGroups</code> method specifies the scalar
                object property list as <code class="literal">Color</code>, <code class="literal">IsoValue</code>,
                    <code class="literal">Enclose</code>, and
                <code class="literal">CapVisible</code>.<div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#0000FF">function</span> propgrp = getPropertyGroups(obj)
    <span style="color:#0000FF">if</span> ~isscalar(obj)
        <span style="color:#228B22">% List for array of objects</span>
        propgrp = getPropertyGroups@matlab.mixin.CustomDisplay(obj);    
    <span style="color:#0000FF">else</span>
        <span style="color:#228B22">% List for scalar object</span>
        propList = {<span style="color:#A020F0">'Color'</span>,<span style="color:#A020F0">'IsoValue'</span>,<span style="color:#A020F0">'Enclose'</span>,<span style="color:#A020F0">'CapVisible'</span>};
        propgrp = matlab.mixin.util.PropertyGroup(propList);
    <span style="color:#0000FF">end</span>
<span style="color:#0000FF">end</span>
</pre></div></div></div></p><p>When the user references an instance of this chart without a semicolon,
                    MATLAB displays the customized
                list.<div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>c = IsoSurfCapChart</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>c = 

  IsoSurfCapChart with properties:

            Color: [0.2000 0.5000 0.8000]
         IsoValue: 0.5000
          Enclose: 'below'
       CapVisible: on
</pre></div></div></div></p><p>For more information about customizing the property display, see <a href="../matlab_oop/use-cases.html" class="a">Customize Property Display</a>.</p></section><section><h3 class="title" id="mw_739ef76c-51a9-4e85-9278-3cae9f30a0fd">Optimize the <code class="literal">update</code> Method</h3><p>In most cases, the <code class="literal">update</code> method of your class reconfigures all
                the relevant aspects of your chart that depend on the public properties. Sometimes,
                the reconfiguration involves an expensive calculation that is time consuming. If the
                calculation involves only a subset of the properties, you can design your class to
                execute that code only when it is necessary.</p><p>One way to optimize the <code class="literal">update</code> method is to add these
                components to your class: </p>
<div class="itemizedlist"><ul><li><p>Define a private property called
                                <code class="literal">ExpensivePropChanged</code> that accepts a
                                <code class="literal">logical</code> value. This property indicates whether
                            any of the properties used in the expensive calculation have
                            changed.</p></li><li><p>Write a <code class="literal">set</code> method for each property involved in
                            the expensive calculation. Within each <code class="literal">set</code> method,
                            set the <code class="literal">ExpensivePropChanged</code> property to
                                <code class="literal">true</code>.</p></li><li><p>Write a protected method that performs the expensive
                            calculation.</p></li><li><p>Write a conditional statement in the <code class="literal">update</code> method
                            that checks the value of <code class="literal">ExpensivePropChanged</code>. If the
                            value is <code class="literal">true</code>, execute the method that performs the
                            expensive calculation.</p></li></ul></div><p>
</p><p>The following code provides a simplified implementation of this
                design.<div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#0000FF">classdef</span> OptimizedChart &lt; matlab.graphics.chartcontainer.ChartContainer
    
    <span style="color:#0000FF">properties</span>
        Prop1
        Prop2
    <span style="color:#0000FF">end</span>
    <span style="color:#0000FF">properties</span>(Access=private,Transient,NonCopyable)
        ExpensivePropChanged <span style="color:#A0522D">(1,1) logical </span>= true
    <span style="color:#0000FF">end</span>
    
    <span style="color:#0000FF">methods</span>(Access = protected)
        <span style="color:#0000FF">function</span> setup(obj)
            <span style="color:#228B22">% Configure chart</span>
            <span style="color:#228B22">% ...</span>
        <span style="color:#0000FF">end</span>
        <span style="color:#0000FF">function</span> update( obj )
            <span style="color:#228B22">% Perform expensive computation if needed</span>
            <span style="color:#0000FF">if</span> obj.ExpensivePropChanged
                doExpensiveCalculation(obj);
                obj.ExpensivePropChanged = false;
            <span style="color:#0000FF">end</span>
            
            <span style="color:#228B22">% Update other aspects of chart</span>
            <span style="color:#228B22">% ...</span>
        <span style="color:#0000FF">end</span>
        <span style="color:#0000FF">function</span> doExpensiveCalculation(obj)
            <span style="color:#228B22">% Expensive code</span>
            <span style="color:#228B22">% ...</span>
        <span style="color:#0000FF">end</span>
    <span style="color:#0000FF">end</span>
    
    <span style="color:#0000FF">methods</span>
        <span style="color:#0000FF">function</span> set.Prop2(obj,val)
            obj.Prop2 = val;
            obj.ExpensivePropChanged = true;
        <span style="color:#0000FF">end</span>
    <span style="color:#0000FF">end</span>
<span style="color:#0000FF">end</span></pre></div></div></div>In this case, <code class="literal">Prop2</code> is involved in the
                expensive calculation. The <code class="literal">set.Prop2</code> method sets the value of
                    <code class="literal">Prop2</code>, and then it sets
                    <code class="literal">ExpensivePropChanged</code> to <code class="literal">true</code>. Thus, the
                next time the <code class="literal">update</code> method runs, it calls
                    <code class="literal">doExpensiveCalculation</code> only if
                    <code class="literal">ExpensivePropChanged</code> is <code class="literal">true</code>. Then the
                    <code class="literal">update</code> method continues to update other aspects of the
                chart.</p></section><section><h3 class="title" id="mw_485d92e6-f579-4f08-b379-2b81e7af125f">Example: Optimized Isosurface Chart with Customized Property Display</h3><p>Define an <code class="literal">IsoSurfCapChart</code> class for displaying an <a href="../ref/isosurface.html"><code class="function">isosurface</code></a> with the associated
                    <a href="../ref/isocaps.html"><code class="function">isocaps</code></a>. Include the following features:</p>
<div class="itemizedlist"><ul><li><p>Properties that use size and class validation</p></li><li><p>A customized property display</p></li><li><p>An optimized <code class="literal">update</code> method that recalculates the
                                <code class="literal">isosurface</code> and <code class="literal">isocaps</code> only if
                            one or more of the relevant properties changed</p></li></ul></div><p>
</p><p>To define this class, create a program file named
                    <code class="literal">IsoSurfCapChart.m</code> in a folder that is on the MATLAB path. Then implement the class by following the steps in the
                    table.</p>
<div class="table-responsive"><table class="table table-condensed"><colgroup><col class="tcol1" width="25%"><col class="tcol2" width="75%"></colgroup><thead><tr><th>Step</th><th>Implementation</th></tr></thead><tbody><tr><td><p>Derive from the <code class="literal">ChartContainer</code> base
                                        class.</p></td><td><p>
                                        <div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#0000FF">classdef</span> IsoSurfCapChart &lt; matlab.graphics.chartcontainer.ChartContainer</pre></div></div></div>
                                    </p></td></tr><tr><td><p>Define the public properties using class and size validation.</p>
<div class="itemizedlist"><ul><li><p><code class="literal">VolumeData</code>,
                                                  <code class="literal">IsoValue</code>, and
                                                  <code class="literal">Color</code> are parameters for the
                                                  <code class="literal">isosurface</code>.</p></li><li><p><code class="literal">Enclose</code>,
                                                  <code class="literal">WhichCapPlane</code>, and
                                                  <code class="literal">CapVisible</code> are parameters for
                                                  the <code class="literal">isocaps</code>.</p></li></ul></div><p>
</p></td><td>
                                    <div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>    properties
        VolumeData <span style="color:#A020F0">double</span> <span style="color:#A020F0">=</span> <span style="color:#A020F0">rand(25,25,25)</span>
        IsoValue (1,1) double = 0.5
        Enclose {mustBeMember(Enclose,{<span style="color:#A020F0">'above'</span>,<span style="color:#A020F0">'below'</span>})} = <span style="color:#A020F0">'below'</span>
        WhichCapPlane <span style="color:#A020F0">{mustBeMember(WhichCapPlane,{'all','xmin',</span><span style="color:#0000FF">...</span>
            <span style="color:#A020F0">'xmax'</span>,<span style="color:#A020F0">'ymin'</span>,<span style="color:#A020F0">'ymax'</span>,<span style="color:#A020F0">'zmin'</span>,<span style="color:#A020F0">'zmax'</span>})} = <span style="color:#A020F0">'all'</span>
        CapVisible (1,1) matlab.lang.OnOffSwitchState = <span style="color:#A020F0">'on'</span>
        Color (1,3) double <span style="color:#A020F0">{mustBeGreaterThanOrEqual(Color,0),</span><span style="color:#0000FF">...</span>
            <span style="color:#A020F0">mustBeLessThanOrEqual(Color,1)} = [.2</span> <span style="color:#A020F0">.5</span> <span style="color:#A020F0">.8]</span>
    <span style="color:#0000FF">end</span></pre></div></div></div>
                                </td></tr><tr><td><p>Define the private properties.</p>
<div class="itemizedlist"><ul><li><p>
                                                  <code class="literal">IsoPatch</code> and
                                                  <code class="literal">CapPatch</code> store the
                                                  <code class="literal">Patch</code> objects for the
                                                  <code class="literal">isosurface</code> and
                                                  <code class="literal">isocaps</code>.</p></li><li><p><code class="literal">SmoothData</code> stores a
                                                  smoothed version of the volume data.</p></li><li><p><code class="literal">ExpensivePropChanged</code>
                                                  indicates whether the update method needs to
                                                  recalculate the <code class="literal">isosurface</code> and
                                                  <code class="literal">isocaps</code>.</p></li></ul></div><p>
</p></td><td><p>
                                        <div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>    properties(Access = private,Transient,NonCopyable)
        IsoPatch (1,1) matlab.graphics.primitive.Patch
        CapPatch (1,1) matlab.graphics.primitive.Patch
        SmoothData <span style="color:#A020F0">double</span> <span style="color:#A020F0">=</span> <span style="color:#A020F0">[]</span>;
        ExpensivePropChanged (1,1) logical = true
    <span style="color:#0000FF">end</span></pre></div></div></div>
                                    </p></td></tr><tr><td><p>Implement the <code class="literal">setup</code> method. In this
                                        case, call the <code class="function">patch</code> function twice to
                                        create the <code class="literal">Patch</code> objects for the
                                            <code class="literal">isosurface</code> and
                                            <code class="literal">isocaps</code>. Store the objects in the
                                        corresponding properties, and configure the
                                    axes.</p></td><td><p>
                                        <div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>    methods(Access = protected)
        <span style="color:#0000FF">function</span> setup(obj)
            ax = getAxes(obj);
            
            <span style="color:#228B22">% Create two Patch objects</span>
            obj.IsoPatch = patch(ax,NaN,NaN,NaN, <span style="color:#A020F0">'EdgeColor'</span>, <span style="color:#A020F0">'none'</span>, <span style="color:#0000FF">...</span>
                <span style="color:#A020F0">'FaceColor'</span>,[.2 .5 .8],<span style="color:#A020F0">'FaceAlpha'</span>,0.9);
            hold(ax,<span style="color:#A020F0">'on'</span>);
            obj.CapPatch = patch(ax,NaN,NaN,NaN,<span style="color:#A020F0">'EdgeColor'</span>, <span style="color:#A020F0">'none'</span>, <span style="color:#0000FF">...</span>
                <span style="color:#A020F0">'FaceColor'</span>,<span style="color:#A020F0">'interp'</span>);
            
            <span style="color:#228B22">% Configure the axes</span>
            view(ax,3)
            camlight(ax, <span style="color:#A020F0">'infinite'</span>);
            camlight(ax,<span style="color:#A020F0">'left'</span>);
            lighting(ax, <span style="color:#A020F0">'gouraud'</span>);
            hold(ax,<span style="color:#A020F0">'off'</span>);
        <span style="color:#0000FF">end</span></pre></div></div></div>
                                    </p></td></tr><tr><td><p>Implement the <code class="literal">update</code> method. Decide
                                        whether to call the
                                            <code class="literal">doExpensiveCalculation</code> method by
                                        testing the value of
                                        <code class="literal">ExpensivePropChanged</code>. Then continue
                                        updating the other (less expensive) aspects of the
                                        chart.</p></td><td><p>
                                        <div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>        <span style="color:#0000FF">function</span> update(obj)
            <span style="color:#228B22">% Perform expensive computation if needed</span>
            <span style="color:#0000FF">if</span> obj.ExpensivePropChanged
                doExpensiveCalculation(obj);
                obj.ExpensivePropChanged = false;
            <span style="color:#0000FF">end</span>
            
            <span style="color:#228B22">% Update visibility of CapPatch and update color</span>
            obj.CapPatch.Visible = obj.CapVisible;
            obj.IsoPatch.FaceColor = obj.Color;
        <span style="color:#0000FF">end</span></pre></div></div></div>
                                    </p></td></tr><tr><td><p>Implement the <code class="literal">doExpensiveCalculation</code>
                                        method, which smooths the volume data and recalculates the
                                        faces and vertices of the <code class="literal">isosurface</code> and
                                            <code class="literal">isocaps</code>.</p></td><td><p>
                                        <div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>        <span style="color:#0000FF">function</span> doExpensiveCalculation(obj)
            <span style="color:#228B22">% Update isosurface</span>
            obj.SmoothData = smooth3(obj.VolumeData,<span style="color:#A020F0">'box'</span>,7);
            [F,V] = isosurface(obj.SmoothData, obj.IsoValue);
            set(obj.IsoPatch,<span style="color:#A020F0">'Faces'</span>,F,<span style="color:#A020F0">'Vertices'</span>,V);
            isonormals(obj.SmoothData,obj.IsoPatch);
            
            <span style="color:#228B22">% Update isocaps</span>
            [m,n,p] = size(obj.SmoothData);
            [Xc,Yc,Zc] = meshgrid(1:n,1:m,1:p);
            [Fc,Vc,Cc] = isocaps(Xc,Yc,Zc,obj.SmoothData,obj.IsoValue,<span style="color:#0000FF">...</span>
                obj.Enclose,obj.WhichCapPlane);
            set(obj.CapPatch,<span style="color:#A020F0">'Faces'</span>,Fc,<span style="color:#A020F0">'Vertices'</span>,Vc,<span style="color:#A020F0">'CData'</span>,Cc);
        <span style="color:#0000FF">end</span></pre></div></div></div>
                                    </p></td></tr><tr><td><p>Implement the <code class="literal">getPropertyGroups</code>
                                        method to customize the property display.</p></td><td><p>
                                        <div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>        <span style="color:#0000FF">function</span> propgrp = getPropertyGroups(obj)
            <span style="color:#0000FF">if</span> ~isscalar(obj)
                <span style="color:#228B22">% List for array of objects</span>
                propgrp = getPropertyGroups@matlab.mixin.CustomDisplay(obj);
                
            <span style="color:#0000FF">else</span>
                <span style="color:#228B22">% List for scalar object</span>
                propList = {<span style="color:#A020F0">'Color'</span>,<span style="color:#A020F0">'IsoValue'</span>,<span style="color:#A020F0">'Enclose'</span>,<span style="color:#A020F0">'CapVisible'</span>,<span style="color:#0000FF">...</span>
                    <span style="color:#A020F0">'WhichCapPlane'</span>,<span style="color:#A020F0">'VolumeData'</span>};
                propgrp = matlab.mixin.util.PropertyGroup(propList);
            <span style="color:#0000FF">end</span>
        <span style="color:#0000FF">end</span>
    <span style="color:#0000FF">end</span></pre></div></div></div>
                                    </p></td></tr><tr><td><p>Implement the <code class="literal">set</code> methods for each
                                        expensive property (<code class="literal">VolumeData</code>,
                                            <code class="literal">IsoValue</code>, and
                                            <code class="literal">Enclose</code>). Within each method, set the
                                        corresponding property value, and then set
                                            <code class="literal">ExpensivePropChanged</code> to
                                            <code class="literal">true</code>.</p></td><td><p>
                                        <div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>    methods
        <span style="color:#0000FF">function</span> set.VolumeData(obj,val)
            obj.VolumeData = val;
            obj.ExpensivePropChanged = true;
        <span style="color:#0000FF">end</span>
        <span style="color:#0000FF">function</span> set.IsoValue(obj, val)
            obj.IsoValue = val;
            obj.ExpensivePropChanged = true;
        <span style="color:#0000FF">end</span>
        <span style="color:#0000FF">function</span> set.Enclose(obj, val)
            obj.Enclose = val;
            obj.ExpensivePropChanged = true;
        <span style="color:#0000FF">end</span>
    <span style="color:#0000FF">end</span>
<span style="color:#0000FF">end</span></pre></div></div></div>
                                    </p></td></tr></tbody></table></div><p>
</p><p>Next, create an array of volume data, and then create an instance of
                    <code class="literal">IsoSurfCapChart</code>.<div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>[X,Y,Z] = meshgrid(-2:0.1:2);
v = (1/9)*X.^2 + (1/16)*Y.^2 + Z.^2;
c = IsoSurfCapChart(<span style="color:#A020F0">'VolumeData'</span>,v,<span style="color:#A020F0">'IsoValue'</span>,0.5)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>c = 

  IsoSurfCapChart with properties:

            Color: [0.2000 0.5000 0.8000]
         IsoValue: 0.5000
          Enclose: 'below'
       CapVisible: on
    WhichCapPlane: 'all'
       VolumeData: [41×41×41 double]</pre></div></div></div></p>
<div class="informalfigure"><div id="d126e32500" class="mediaobject"><p><img src="chart_authoring_isosurf1.png" height="307" width="406"></p></div></div><p></p><p>Change the color of <code class="literal">c</code> and hide the <code class="literal">isocaps</code>.<div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>c.Color = [1 0.60 0];
c.CapVisible = false;</pre></div></div></div></p>
<div class="informalfigure"><div id="d126e32512" class="mediaobject"><p><img src="chart_authoring_isosurf2.png" height="307" width="409"></p></div></div><p></p></section>
            <h2 id="d126e32517">See Also</h2><h3>Classes</h3><ul class="list-unstyled margined_10"><li><span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/matlab.graphics.chartcontainer.chartcontainer-class.html"><span itemprop="name"><code class="class">matlab.graphics.chartcontainer.ChartContainer</code></span></a></span></li></ul><h3>Functions</h3><ul class="list-unstyled margined_10"><li><span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/isosurface.html"><span itemprop="name"><code class="function">isosurface</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/isocaps.html"><span itemprop="name"><code class="function">isocaps</code></span></a></span></li></ul>
            <h3 id="d126e32535">Topics</h3><ul class="list-unstyled"><li><a href="../matlab_oop/validate-property-values.html" class="a">Validate Property Values</a></li><li><a href="../matlab_oop/use-cases.html" class="a">Customize Property Display</a></li><li><a href="../matlab_oop/property-set-methods.html" class="a">Property Get and Set Methods</a></li><li><a href="chart-development-overview.html" class="a">Chart Development Overview</a></li></ul>
            
        </section>
    </div></section><div xmlns="http://www.w3.org/1999/xhtml" class="clearfix"></div>
<div xmlns="http://www.w3.org/1999/xhtml" align="center" class="feedbackblock" id="mw_docsurvey"><script src="https://www.mathworks.com/help/docsurvey/docfeedback.js"></script>
<script>loadSurveyHidden();</script>
<link rel="stylesheet" href="https://www.mathworks.com/help/docsurvey/release/index-css.css" type="text/css">
<script src="https://www.mathworks.com/help/docsurvey/release/bundle.index.js"></script>

<script>initDocSurvey();</script></div></main>


</div>
</div>
</div>
</div><!--close_0960-->
<footer xmlns="http://www.w3.org/1999/xhtml" id="footer" class="bs-footer">
<div class="container-fluid">
<div class="footer">
<div class="row">
<div class="col-12">
<p class="copyright">© 1994-2025 The MathWorks, Inc.</p>
<ul class="footernav"><li class="footernav_help"><a href="matlab:web(matlab.internal.licenseAgreement)">Terms of Use</a></li><li class="footernav_patents"><a href="matlab:web([matlabroot '/patents.txt'])">Patents</a></li><li class="footernav_trademarks"><a href="matlab:web([matlabroot '/trademarks.txt'])">Trademarks</a></li><li class="footernav_piracy"><a href="matlab:web([docroot '/acknowledgments.html'])">Acknowledgments</a></li></ul></div>
</div>
</div>
</div>
</footer>
</div><!--close row-offcanvas-->
</div><!--close_0970-->
</body>
</html>
