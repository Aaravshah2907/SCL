<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage">
<head>
<meta xmlns="http://www.w3.org/1999/xhtml" charset="utf-8">
<meta xmlns="http://www.w3.org/1999/xhtml" name="viewport" content="width=device-width, initial-scale=1.0">
<meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="X-UA-Compatible" content="IE=edge">
<title>Animation Techniques</title>
<script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
      {
      "@context": "http://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement":
      [{
          "@type": "ListItem",
          "position": 1,

          "item": {
          "@id": "../index.html",
          "name": "MATLAB"
}

          } 
        ,
        {
          "@type": "ListItem",
          "position": 2,

          "item": {
          "@id": "../graphics.html",
          "name": "Graphics"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 3,

          "item": {
          "@id": "../2-and-3d-plots.html",
          "name": "2-D and 3-D Plots"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 4,

          "item": {
          "@id": "../animation-1.html",
          "name": "Animation"
}

          }]
      }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "VisibleBreadcrumbs",

        "itemListElement":
        [
        "animation-1"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/bootstrap.min.css" rel="stylesheet" type="text/css">


  <meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="Content-Script-Type" content="text/javascript">
<meta xmlns="http://www.w3.org/1999/xhtml" name="toctype" itemprop="pagetype" content="ug">
<meta xmlns="http://www.w3.org/1999/xhtml" name="infotype" itemprop="infotype" content="ex">

<meta xmlns="http://www.w3.org/1999/xhtml" name="description" itemprop="description" content="You can use three basic techniques for creating animations in MATLAB."><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-3.6.0.min.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-migrate.min.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_lg.css" rel="stylesheet" media="screen and (min-width: 1200px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_md.css" rel="stylesheet" media="screen and (min-width: 992px) and (max-width: 1199px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm+xs.css" rel="stylesheet" media="screen and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm.css" rel="stylesheet" media="screen and (min-width: 768px) and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_xs.css" rel="stylesheet" media="screen and (max-width: 767px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_offcanvas_v2.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/shared/highlight/styles/mwdochighlight.min.css" rel="stylesheet" type="text/css">

<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/l10n.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/f1help.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/mw.imageanimation.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/jquery.highlight.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/underscore-min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/use_platform_screenshots.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/suggest.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/overload.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/helpservices.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/productfilter.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/matlab_dialog_shared.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/highlight/highlight.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/localstorage.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/product_group.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/saxonjs/SaxonJS2.rt.js"></script><script xmlns="http://www.w3.org/1999/xhtml">
            window.history.replaceState(window.location.href, null, ""); // Initialize
            window.onload = function() {    
            mystylesheetLocation = "../../includes/shared/scripts/product_group-sef.json";
            mysourceLocation = "../../docset/docset.xml";
            product_help_location = "matlab";
            pagetype = "section";
            doccentertype = "product";
            langcode = "";
            getProductFilteredList(mystylesheetLocation, mysourceLocation, product_help_location, pagetype, doccentertype, langcode);  
            }
          </script>




<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery.mobile.custom.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/bootstrap.bundle.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/global.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_base.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_installed.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_print.css" rel="stylesheet" type="text/css" media="print">
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/equationrenderer/release/MathRenderer.js"></script>
</head>
<body id="responsive_offcanvas">
<div xmlns="http://www.w3.org/1999/xhtml" id="doc_header_spacer" class="header"></div>
<div xmlns="http://www.w3.org/1999/xhtml" class="section_header level_3"><div class="container-fluid"><div class="row" id="mobile_search_row"><div class="col-sm-6 col-md-7 has_horizontal_local_nav" id="section_header_title"><div class="section_header_content"><div class="section_header_title"><h1><a href="../../documentation-center.html">Help Center</a></h1></div></div></div><div class="col-12 col-sm-6 col-md-5" id="mobile_search"><div class="search_nested_content_container"><form id="docsearch_form" name="docsearch_form" method="get" data-release="R2025b" data-language="en" action="../../templates/searchresults.html"><div class="input-group tokenized_search_field"><label class="visually-hidden form-label">Search Help</label><input type="text" class="form-control conjoined_search" autocomplete="off" name="qdoc" placeholder="Search Help" id="docsearch"> <div><button type="submit" name="submitsearch" id="submitsearch" class="btn icon-search btn_search_adjacent btn_search icon_16" tabindex="-1"></button></div></div></form></div><button class="btn icon-remove btn_search float-end icon_32 d-sm-none" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div><div class="d-sm-none" id="search_actuator"><button class="btn icon-search btn_search float-end icon_16" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div></div></div></div><div class="row-offcanvas row-offcanvas-left">
<div xmlns="http://www.w3.org/1999/xhtml" class="sidebar-offcanvas" id="sidebar">
<nav class="offcanvas_nav" role="navigation">
<div class="offcanvas_actuator" data-bs-toggle="offcanvas" data-bs-target="#sidebar" id="nav_toggle"><button type="button" class="btn"><span class="visually-hidden">Off-Canvas Navigation Menu Toggle
                  Off-Canvas Navigation Menu Toggle</span><span class="icon-menu"></span></button><span class="offcanvas_actuator_label" id="translation_icon-menu" tabindex="-1" aria-hidden="true"></span></div><div class="nav_list_wrapper" id="nav_list_wrapper"><nav class="offcanvas_nav" role="navigation"><ul class="nav_breadcrumb" id="ul_left_nav_ancestors"><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../../documentation-center.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Documentation Home</span></a></li></ul>
<ul class="nav_disambiguation"><li><a href="../index.html?s_tid=CRUX_lftnav" id="index">MATLAB</a>
</li>
<li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../graphics.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Graphics</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../2-and-3d-plots.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">2-D and 3-D Plots</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../animation-1.html?s_tid=CRUX_lftnav" itemprop="url" id="btfntld-1"><span itemprop="title">Animation</span></a></li></ul><div class="search_refine_v4"><div id="facets_area"><ul class="nav_scrollspy nav list-unstyled" id="pnav">
<li class="nav_scrollspy_function nav-item"><a href="#responsive_offcanvas">Animation Techniques</a></li>
<li class="nav_scrollspy_title nav-item" id="SSPY810-section">On this page</li>
<!--ADD_REFENTRY_TITLE_HERE 11--><li class="nav-item"><a href="#buh9wtt" class="nav-link intrnllnk">Create Animation by Updating Data in Loop</a></li><li class="nav-item"><a href="#buh9wtw-1" class="nav-link intrnllnk">Create Animation Using Matrix Transformation</a></li><li class="nav-item"><a href="#mw_a016a49c-0a5f-42cb-9031-7ba9989cdcdf" class="nav-link intrnllnk">Create Animated GIF File</a></li><li class="nav-item"><a href="#mw_c5d80c45-1ad9-4e22-b9fb-b07c64621adc" class="nav-link intrnllnk">Create and Play Movie</a></li><li class="nav-item"><a href="#d126e10012" class="nav-link intrnllnk">See Also</a></li></ul></div></div>
</nav></div></nav>
<script src="../../includes/product/scripts/offcanvas_v2.js"></script></div><!--END.CLASS sidebar-offcanvas-->
<div class="offcanvas_content_container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sticky_header_container"><div class="horizontal_nav"><div class="horizontal_nav_container"><div class="offcanvas_horizontal_nav"><div class="container-fluid"><div class="row"><div class="col-sm-12 d-none d-sm-block"><nav class="navbar navbar-default" role="navigation" id="subnav"><div><ul class="nav navbar-nav crux_browse"><li id="crux_nav_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_example" class="crux_resource"><a href="../examples.html?category=animation-1&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=animation-1&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=animation-1&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></nav></div><div class="d-sm-none"><div class="container-fluid"><div class="row"><div class="col-9"><div class="mobile_crux_nav_trigger"><div class="btn-group"><button type="button" class="btn btn-default dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Resources</button><ul class="dropdown-menu"><li id="crux_nav_mobile_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_mobile_example" class="crux_resource"><a href="../examples.html?category=animation-1&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_mobile_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=animation-1&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_mobile_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=animation-1&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></div></div><div class="col-3"><div class="translate_placeholder"></div></div></div></div></div></div></div></div></div></div></div><div class="content_container" id="content_container" itemprop="content">
<div class="container-fluid">
<div class="row">
<div class="col-12">

<main id="skip_link_anchor" tabindex="-1">
<div xmlns="http://www.w3.org/1999/xhtml" id="product_info_alert"></div><section xmlns="http://www.w3.org/1999/xhtml" id="doc_center_content" lang="en" data-language="en"><div id="pgtype-topic">
<section><h2 class="title r2025b" itemprop="title content" id="f10-1460">Animation Techniques</h2><p>You can use four basic techniques to create animations in MATLAB<sup>&#x00AE;</sup>.</p>
<div class="table-responsive"><table class="table table-condensed"><colgroup><col class="tcol1" width="25%"><col class="tcol2" width="50%"><col class="tcol3" width="25%"></colgroup><thead><tr><th>Technique</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td><p>Update data in a loop.</p></td><td><p>Update the properties of a graphics object and display the
                                    updates on the screen in a loop. This technique is useful for
                                    creating animations when most of the plot remains the same. For
                                    example, set the <a href="../ref/matlab.graphics.chart.primitive.scatter-properties.html#bubhpux-XData"><code class="argument">XData</code></a> and
                                        <a href="../ref/matlab.graphics.chart.primitive.scatter-properties.html#bubhpux-YData"><code class="argument">YData</code></a>
                                    properties of a <code class="literal">Scatter</code> object in a loop to
                                    create an animation effect.</p></td><td><p><a href="animation-techniques-1.html#buh9wtt" class="intrnllnk">Create Animation by Updating Data in Loop</a></p></td></tr><tr><td><p>Apply matrix transformations.</p></td><td><p>Apply transforms to objects. This technique is useful when
                                    you want change the position and orientation of a group of
                                    objects together. Group the graphics objects as children under a
                                    transform object. Create the transform object using the
                                        <a href="../ref/hgtransform.html"><code class="function">hgtransform</code></a>
                                    function. Set the <a href="../ref/matlab.graphics.primitive.transform-properties.html#bubwq72-1-Matrix"><code class="argument">Matrix</code></a>
                                    property of the transform object to adjust the position of all
                                    its children.</p></td><td><p><a href="animation-techniques-1.html#buh9wtw-1" class="intrnllnk">Create Animation Using Matrix Transformation</a></p></td></tr><tr><td><p>Create an animated GIF file.</p></td><td><p>Update a figure and capture the frames of an animated GIF
                                    using the <a href="../ref/exportgraphics.html"><code class="function">exportgraphics</code></a> function in a
                                loop.</p></td><td><p><a href="animation-techniques-1.html#mw_a016a49c-0a5f-42cb-9031-7ba9989cdcdf" class="intrnllnk">Create Animated GIF File</a></p></td></tr><tr><td><p>Create a movie.</p></td><td><p>Update a figure and capture the frames of a movie using the
                                        <a href="../ref/getframe.html"><code class="function">getframe</code></a>
                                    function in a loop. This technique is useful for complex
                                    animations that do not draw quickly in real time or when you
                                    want to store an animation to replay it. Use the  <a href="../ref/movie.html"><code class="function">movie</code></a> function
                                    to play the movie.</p></td><td><p><a href="animation-techniques-1.html#mw_c5d80c45-1ad9-4e22-b9fb-b07c64621adc" class="intrnllnk">Create and Play Movie</a></p></td></tr></tbody></table></div><p>
</p><section><h3 class="title" id="buh9wtt">Create Animation by Updating Data in Loop</h3><p>Create an animation of a marker moving along a line.</p>
<div class="itemizedlist"><ul><li><p>Plot a sine wave. Then plot a marker and save it as the variable
                                <code class="literal">mkr</code> so you can access its properties
                            later.</p></li><li><p>Use the <a href="../ref/xlim.html"><code class="function">xlim</code></a>, <a href="../ref/ylim.html"><code class="function">ylim</code></a>, and <a href="../ref/zlim.html"><code class="function">zlim</code></a> functions to set the
                            limits of each axis. Setting the limits disables the automatic axis
                            limits calculation, which can cause flicker and affect the performance
                            of the animation.</p></li><li><p>Create a <code class="function">for</code>-loop that updates the coordinates of
                            the marker. Change the <a href="../ref/matlab.graphics.chart.primitive.scatter-properties.html#bubhpux-XData"><code class="argument">XData</code></a> and <a href="../ref/matlab.graphics.chart.primitive.scatter-properties.html#bubhpux-YData"><code class="argument">YData</code></a> properties of
                            the <code class="literal">Scatter</code> object (<code class="literal">mkr</code>) at each
                            iteration to move the marker along the line. </p></li><li><p>Call the <a href="../ref/drawnow.html"><code class="function">drawnow</code></a> command at the
                            end each loop iteration to update the figure display.</p></li></ul></div><p>
</p><p>
                <div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>x = linspace(0,10,500);
y = sin(x);

<span style="color:#228B22">% Plot a line and a marker</span>
plot(x,y)
hold <span style="color:#A020F0">on</span>
mkr = scatter(NaN,NaN,[],<span style="color:#A020F0">"red"</span>,<span style="color:#A020F0">"filled"</span>);
hold <span style="color:#A020F0">off</span>
xlim([0 10])
ylim([-1 1])
zlim([-1 1])

<span style="color:#228B22">% Move the marker along the line</span>
<span style="color:#0000FF">for</span> i = 1:length(x)
    mkr.XData = x(i);
    mkr.YData = y(i);
    drawnow
<span style="color:#0000FF">end</span></pre></div></div></div>
            </p><div class="informalfigure"><div id="d126e9840" class="mediaobject"><p><img src="animation-marker-tracing-line.gif" alt="Animation of a red marker tracing a line plot of a sine wave" height="344" width="456"></p></div></div></section><section><h3 class="title" id="buh9wtw-1">Create Animation Using Matrix Transformation</h3><p>An efficient way to animate a plot is to apply a transformation matrix to one or
                more objects rather than iterating over all the points. The transformations you can
                use include translation, rotation, and scaling. You can also define your own
                transformation matrix.</p><p>Create an animation of a sphere rotating it 2<em class="varname">π</em> radians on an
                arbitrary axis.</p>
<div class="itemizedlist"><ul><li><p>Create the coordinates of a sphere using the <a href="../ref/sphere.html"><code class="function">sphere</code></a>
                            function.</p></li><li><p>Create a <code class="literal">Transform</code> object named
                                <code class="literal">grp</code>. Then plot the sphere as a
                                <code class="literal">Surface</code> object by calling the <a href="../ref/surf.html"><code class="function">surf</code></a> function and
                            specifying the parent object as <code class="literal">grp</code>.</p></li><li><p>Display the axes grid lines and show the plot box in a 3-D
                            view.</p></li><li><p>Create a <code class="function">for</code>-loop that steps through 300 equally
                            spaced angle values from 0 to 2<em class="varname">π</em>, rotating the sphere
                            by a small angle at every iteration. Use the <a href="../ref/makehgtform.html"><code class="function">makehgtform</code></a> function
                            to create the transformation matrix for each small angle of rotation.
                            Then set the <code class="argument">Matrix</code> property of
                                <code class="literal">grp</code> to perform the rotation. </p></li><li><p>Call the <a href="../ref/drawnow.html"><code class="function">drawnow</code></a> command at the
                            end of each loop iteration to update the figure display.</p></li></ul></div><p>
</p><p>
                <div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#228B22">% Create the coordinates of a sphere</span>
figure
ax = axes;
[x,y,z] = sphere(270);

<span style="color:#228B22">% Create transform object and plot the sphere</span>
grp = hgtransform(Parent=ax);
s = surf(ax,x,y,z,z,Parent=grp,EdgeColor=<span style="color:#A020F0">"none"</span>);

<span style="color:#228B22">% Display grid lines and show the plot box in 3-D</span>
grid <span style="color:#A020F0">on</span>
view(3)
axis <span style="color:#A020F0">vis3d</span>
axis <span style="color:#A020F0">tight</span> <span style="color:#A020F0">manual</span>

<span style="color:#228B22">% Rotate the sphere by small angles in a loop</span>
<span style="color:#0000FF">for</span> ang = linspace(0,2*pi,300)
   tm = makehgtform(<span style="color:#A020F0">"axisrotate"</span>,[1,1,1],ang);
   grp.Matrix = tm;
   drawnow
<span style="color:#0000FF">end</span></pre></div></div></div>
            </p><div class="informalfigure"><div id="d126e9900" class="mediaobject"><p><img src="animation-sphere.gif" alt="Animation of a rotating sphere" height="348" width="476"></p></div></div></section><section><h3 class="title" id="mw_a016a49c-0a5f-42cb-9031-7ba9989cdcdf"><strong class="emphasis bold">Create Animated GIF File</strong></h3><p>Create an animated GIF file of a marker moving along a parabola.</p>
<div class="itemizedlist"><ul><li><p>Plot a parabola with one marker.</p></li><li><p>Create a <code class="literal">for</code>-loop that changes the location of the
                            marker at every iteration.</p></li><li><p>At the end of each loop iteration, capture the figure as a frame of an
                            animated GIF file using the <a href="../ref/exportgraphics.html"><code class="function">exportgraphics</code></a> function. When you specify the
                                <code class="literal">Append=true</code> name-value argument,
                                <code class="function">exportgraphics</code> captures the current frame and
                            appends it to the specified GIF file.</p></li><li><p>The resulting <code class="literal">parabola.gif</code> file is saved to your
                            current folder.</p></li></ul></div><p>
</p><p>
                <div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#228B22">% Plot a parabola and a marker</span>
x = -10:0.5:10;
y = x.^2;
p = plot(x,y,<span style="color:#A020F0">"-o"</span>,MarkerFaceColor=<span style="color:#A020F0">"red"</span>);

<span style="color:#228B22">% Move the marker along the parabola and capture frames in a loop</span>
<span style="color:#0000FF">for</span> i=1:41
    p.MarkerIndices = i;
    exportgraphics(gca,<span style="color:#A020F0">"parabola.gif"</span>,Append=true)
<span style="color:#0000FF">end</span></pre></div></div></div>
            </p><div class="informalfigure"><div id="d126e9939" class="mediaobject"><p><img src="animation-parabola.gif" alt="Animation of a red marker tracing a line plot of a parabola" height="344" width="456"></p></div></div></section><section><h3 class="title" id="mw_c5d80c45-1ad9-4e22-b9fb-b07c64621adc">Create and Play Movie</h3><p>Create a movie of a surface plot changing shape by using the <a href="../ref/getframe.html"><code class="function">getframe</code></a> function in a loop. The
                    <code class="function">getframe</code> function captures the movie frames in an array of
                structures, and you use the <a href="../ref/movie.html"><code class="function">movie</code></a> function to play the movie.</p>
<div class="itemizedlist"><ul><li><p>Plot the coordinates of the <code class="function">peaks</code> function as a
                            surface using the <code class="function">surf</code> function and save the
                                <code class="literal">Surface</code> objects as the variable
                                <code class="literal">s</code>.</p></li><li><p>Position the plot box tightly around surface and freeze the axes
                            limits using the <code class="literal">axis tight manual</code> command.</p></li><li><p>Create an array of 40 structures named <code class="literal">F</code> to contain
                            the animation frames.</p></li><li><p>Create a <code class="literal">for</code>-loop that changes the shape of the
                            surface at every iteration.</p></li><li><p>At the end of each loop iteration, update the figure using the
                                <code class="function">drawnow</code> command and capture a movie frame using
                            the <code class="function">getframe</code> function.</p></li><li><p>The resulting movie is saved as the structure array
                                <code class="literal">F</code>.</p></li></ul></div><p>
</p><p>
                <div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#228B22">% Plot a surface</span>
Z = peaks;
s = surf(Z);
axis <span style="color:#A020F0">tight</span> <span style="color:#A020F0">manual</span>

<span style="color:#228B22">% Change the shape of the surface and capture frames</span>
loops = 40;
F(loops) = struct(<span style="color:#A020F0">'cdata'</span>,[],<span style="color:#A020F0">'colormap'</span>,[]);
<span style="color:#0000FF">for</span> j = 1:loops
    Zframe = sin(j*pi/10)*Z;
    s.ZData = Zframe;
    drawnow
    F(j) = getframe(gcf);
<span style="color:#0000FF">end</span></pre></div></div></div>
            </p><p>Play the movie two times.</p><p>
                <div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>fig = figure;
movie(fig,F,2)</pre></div></div></div>
            </p><div class="informalfigure"><div id="d126e10006" class="mediaobject"><p><img src="animation-peaks-movie.gif" alt="Animation of a surface plot" height="344" width="456"></p></div></div></section>
            <h2 id="d126e10012">See Also</h2><h3>Functions</h3><ul class="list-unstyled margined_10"><li><span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/hgtransform.html"><span itemprop="name"><code class="function">hgtransform</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/makehgtform.html"><span itemprop="name"><code class="function">makehgtform</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/exportgraphics.html"><span itemprop="name"><code class="function">exportgraphics</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/getframe.html"><span itemprop="name"><code class="function">getframe</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/movie.html"><span itemprop="name"><code class="function">movie</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/videowriter.writevideo.html"><span itemprop="name"><code class="function">writeVideo</code></span></a></span></li></ul><h3 id="d126e10036">Topics</h3><ul class="list-unstyled"><li><a href="move-group-of-objects-along-line.html" class="a">Move Group of Objects Along Line</a></li><li><a href="animate-graphics-object.html" class="a">Animate Triangle Within Circle</a></li><li><a href="line-animation-of-streaming-data.html" class="a">Line Animations</a></li></ul></section>
    </div></section><div xmlns="http://www.w3.org/1999/xhtml" class="clearfix"></div>
<div xmlns="http://www.w3.org/1999/xhtml" align="center" class="feedbackblock" id="mw_docsurvey"><script src="https://www.mathworks.com/help/docsurvey/docfeedback.js"></script>
<script>loadSurveyHidden();</script>
<link rel="stylesheet" href="https://www.mathworks.com/help/docsurvey/release/index-css.css" type="text/css">
<script src="https://www.mathworks.com/help/docsurvey/release/bundle.index.js"></script>

<script>initDocSurvey();</script></div></main>


</div>
</div>
</div>
</div><!--close_0960-->
<footer xmlns="http://www.w3.org/1999/xhtml" id="footer" class="bs-footer">
<div class="container-fluid">
<div class="footer">
<div class="row">
<div class="col-12">
<p class="copyright">© 1994-2025 The MathWorks, Inc.</p>
<ul class="footernav"><li class="footernav_help"><a href="matlab:web(matlab.internal.licenseAgreement)">Terms of Use</a></li><li class="footernav_patents"><a href="matlab:web([matlabroot '/patents.txt'])">Patents</a></li><li class="footernav_trademarks"><a href="matlab:web([matlabroot '/trademarks.txt'])">Trademarks</a></li><li class="footernav_piracy"><a href="matlab:web([docroot '/acknowledgments.html'])">Acknowledgments</a></li></ul></div>
</div>
</div>
</div>
</footer>
</div><!--close row-offcanvas-->
</div><!--close_0970-->
</body>
</html>
