<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage">
<head>
<meta xmlns="http://www.w3.org/1999/xhtml" charset="utf-8">
<meta xmlns="http://www.w3.org/1999/xhtml" name="viewport" content="width=device-width, initial-scale=1.0">
<meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="X-UA-Compatible" content="IE=edge">
<title>Improve Graphics Performance</title>
<script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
      {
      "@context": "http://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement":
      [{
          "@type": "ListItem",
          "position": 1,

          "item": {
          "@id": "../index.html",
          "name": "MATLAB"
}

          } 
        ,
        {
          "@type": "ListItem",
          "position": 2,

          "item": {
          "@id": "../graphics.html",
          "name": "Graphics"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 3,

          "item": {
          "@id": "../graphics-performance.html",
          "name": "Graphics Performance"
}

          }]
      }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "VisibleBreadcrumbs",

        "itemListElement":
        [
        "graphics-performance"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/bootstrap.min.css" rel="stylesheet" type="text/css">


  <meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="Content-Script-Type" content="text/javascript">
<meta xmlns="http://www.w3.org/1999/xhtml" name="toctype" itemprop="pagetype" content="con">
<meta xmlns="http://www.w3.org/1999/xhtml" name="infotype" itemprop="infotype" content="con">

<meta xmlns="http://www.w3.org/1999/xhtml" name="description" itemprop="description" content="Improve the time it takes to update charts and display animations."><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-3.6.0.min.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-migrate.min.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_lg.css" rel="stylesheet" media="screen and (min-width: 1200px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_md.css" rel="stylesheet" media="screen and (min-width: 992px) and (max-width: 1199px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm+xs.css" rel="stylesheet" media="screen and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm.css" rel="stylesheet" media="screen and (min-width: 768px) and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_xs.css" rel="stylesheet" media="screen and (max-width: 767px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_offcanvas_v2.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/shared/highlight/styles/mwdochighlight.min.css" rel="stylesheet" type="text/css">

<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/l10n.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/f1help.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/mw.imageanimation.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/jquery.highlight.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/underscore-min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/use_platform_screenshots.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/suggest.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/overload.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/helpservices.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/productfilter.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/matlab_dialog_shared.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/highlight/highlight.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/localstorage.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/product_group.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/saxonjs/SaxonJS2.rt.js"></script><script xmlns="http://www.w3.org/1999/xhtml">
            window.history.replaceState(window.location.href, null, ""); // Initialize
            window.onload = function() {    
            mystylesheetLocation = "../../includes/shared/scripts/product_group-sef.json";
            mysourceLocation = "../../docset/docset.xml";
            product_help_location = "matlab";
            pagetype = "section";
            doccentertype = "product";
            langcode = "";
            getProductFilteredList(mystylesheetLocation, mysourceLocation, product_help_location, pagetype, doccentertype, langcode);  
            }
          </script>




<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery.mobile.custom.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/bootstrap.bundle.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/global.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_base.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_installed.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_print.css" rel="stylesheet" type="text/css" media="print">
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/equationrenderer/release/MathRenderer.js"></script>
</head>
<body id="responsive_offcanvas">
<div xmlns="http://www.w3.org/1999/xhtml" id="doc_header_spacer" class="header"></div>
<div xmlns="http://www.w3.org/1999/xhtml" class="section_header level_3"><div class="container-fluid"><div class="row" id="mobile_search_row"><div class="col-sm-6 col-md-7 has_horizontal_local_nav" id="section_header_title"><div class="section_header_content"><div class="section_header_title"><h1><a href="../../documentation-center.html">Help Center</a></h1></div></div></div><div class="col-12 col-sm-6 col-md-5" id="mobile_search"><div class="search_nested_content_container"><form id="docsearch_form" name="docsearch_form" method="get" data-release="R2025b" data-language="en" action="../../templates/searchresults.html"><div class="input-group tokenized_search_field"><label class="visually-hidden form-label">Search Help</label><input type="text" class="form-control conjoined_search" autocomplete="off" name="qdoc" placeholder="Search Help" id="docsearch"> <div><button type="submit" name="submitsearch" id="submitsearch" class="btn icon-search btn_search_adjacent btn_search icon_16" tabindex="-1"></button></div></div></form></div><button class="btn icon-remove btn_search float-end icon_32 d-sm-none" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div><div class="d-sm-none" id="search_actuator"><button class="btn icon-search btn_search float-end icon_16" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div></div></div></div><div class="row-offcanvas row-offcanvas-left">
<div xmlns="http://www.w3.org/1999/xhtml" class="sidebar-offcanvas" id="sidebar">
<nav class="offcanvas_nav" role="navigation">
<div class="offcanvas_actuator" data-bs-toggle="offcanvas" data-bs-target="#sidebar" id="nav_toggle"><button type="button" class="btn"><span class="visually-hidden">Off-Canvas Navigation Menu Toggle
                  Off-Canvas Navigation Menu Toggle</span><span class="icon-menu"></span></button><span class="offcanvas_actuator_label" id="translation_icon-menu" tabindex="-1" aria-hidden="true"></span></div><div class="nav_list_wrapper" id="nav_list_wrapper"><nav class="offcanvas_nav" role="navigation"><ul class="nav_breadcrumb" id="ul_left_nav_ancestors"><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../../documentation-center.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Documentation Home</span></a></li></ul>
<ul class="nav_disambiguation"><li><a href="../index.html?s_tid=CRUX_lftnav" id="index">MATLAB</a>
</li>
<li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../graphics.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Graphics</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../graphics-performance.html?s_tid=CRUX_lftnav" itemprop="url" id="bufy8h9"><span itemprop="title">Graphics Performance</span></a></li></ul><div class="search_refine_v4"><div id="facets_area"><ul class="nav_scrollspy nav list-unstyled" id="pnav">
<li class="nav_scrollspy_function nav-item"><a href="#responsive_offcanvas">Improve Graphics Performance</a></li>
<li class="nav_scrollspy_title nav-item" id="SSPY810-section">On this page</li>
<!--ADD_REFENTRY_TITLE_HERE 11--><li class="nav-item"><a href="#mw_cd1d31ac-8f89-4a5f-afed-3325eb4acf8b" class="nav-link intrnllnk">Identify Bottlenecks in Your Code</a></li><li class="nav-item"><a href="#mw_07aa2486-902f-4794-9e66-6a7d0127cf8c" class="nav-link intrnllnk">Avoid Re-Creating Objects and Unnecessary Searches</a></li><li class="nav-item"><a href="#mw_3dadfddc-ed45-46f7-a99b-ad011b5a68bf" class="nav-link intrnllnk">Preallocate Arrays</a></li><li class="nav-item"><a href="#mw_cc84ec1b-d6d6-47b8-a935-eb9d6cf51312" class="nav-link intrnllnk">Use Newer Features for Speed</a><ul class="nav"><li class="nav-item"><a href="#mw_82e01f56-bf8a-4b0b-85f4-b436a6b66144" class="nav-link intrnllnk">Use Dot Notation Instead of set and get</a></li><li class="nav-item"><a href="#mw_12752aeb-bfd8-4398-9184-08580fabbb03" class="nav-link intrnllnk">Display Figures in Tabbed Containers</a></li><li class="nav-item"><a href="#mw_4fe471c9-a843-4db7-a5eb-ae8e6d3a90f2" class="nav-link intrnllnk">Use tiledlayout Instead of subplot</a></li><li class="nav-item"><a href="#mw_0fb89190-6888-421a-855e-16c855cb969f" class="nav-link intrnllnk">Limit Resolution for Displayed Images</a></li><li class="nav-item"><a href="#mw_19725b08-efba-442c-a39d-5794c315e0f3" class="nav-link intrnllnk">Use Built-In Axes Interactions Instead of Older Interactions</a></li></ul></li><li class="nav-item"><a href="#mw_cbcd33d4-6d97-47d0-a906-2fadf19850f3" class="nav-link intrnllnk">Disable Unnecessary Features</a></li><li class="nav-item"><a href="#mw_9345a989-fec1-48a5-b3d6-42ee9bc2ca08" class="nav-link intrnllnk">Use drawnow Strategically</a></li><li class="nav-item"><a href="#seealsoref" class="nav-link intrnllnk">See Also</a></li></ul></div></div>
</nav></div></nav>
<script src="../../includes/product/scripts/offcanvas_v2.js"></script></div><!--END.CLASS sidebar-offcanvas-->
<div class="offcanvas_content_container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sticky_header_container"><div class="horizontal_nav"><div class="horizontal_nav_container"><div class="offcanvas_horizontal_nav"><div class="container-fluid"><div class="row"><div class="col-sm-12 d-none d-sm-block"><nav class="navbar navbar-default" role="navigation" id="subnav"><div><ul class="nav navbar-nav crux_browse"><li id="crux_nav_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_example" class="crux_resource"><a href="../examples.html?category=graphics-performance&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=graphics-performance&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=graphics-performance&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></nav></div><div class="d-sm-none"><div class="container-fluid"><div class="row"><div class="col-9"><div class="mobile_crux_nav_trigger"><div class="btn-group"><button type="button" class="btn btn-default dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Resources</button><ul class="dropdown-menu"><li id="crux_nav_mobile_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_mobile_example" class="crux_resource"><a href="../examples.html?category=graphics-performance&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_mobile_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=graphics-performance&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_mobile_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=graphics-performance&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></div></div><div class="col-3"><div class="translate_placeholder"></div></div></div></div></div></div></div></div></div></div></div><div class="content_container" id="content_container" itemprop="content">
<div class="container-fluid">
<div class="row">
<div class="col-12">

<main id="skip_link_anchor" tabindex="-1">
<div xmlns="http://www.w3.org/1999/xhtml" id="product_info_alert"></div><section xmlns="http://www.w3.org/1999/xhtml" id="doc_center_content" lang="en" data-language="en"><div id="pgtype-topic">
<section><h2 class="title r2025b" itemprop="title content" id="mw_c9477e25-e620-4216-b624-7338415a5760">Improve Graphics Performance</h2><span id="specify_axes_with_plotting_function" class="anchor_target"></span><p>When you create data visualizations, you can use multiple strategies to improve
         performance. This topic provides strategies for identifying performance issues and choosing
         more efficient coding patterns and features. Use any of the strategies that are helpful for
         the type of graphics you create.</p>
<div class="itemizedlist"><ul><li><p><a href="improve-graphics-update-performance.html#mw_cd1d31ac-8f89-4a5f-afed-3325eb4acf8b" class="intrnllnk">Identify
                     bottlenecks in your code</a> &#8212; Use the Profiler to find which functions have
                  a longer execution time.</p></li><li><p><a href="improve-graphics-update-performance.html#mw_07aa2486-902f-4794-9e66-6a7d0127cf8c" class="intrnllnk">Avoid
                     re-creating objects and unnecessary searches</a> &#8212; Rather than create
                  objects repeatedly in a loop, create one instance of each object and store them as
                  variables. Then you can use a loop to modify only the properties of the objects
                  that change.</p></li><li><p><a href="improve-graphics-update-performance.html#mw_3dadfddc-ed45-46f7-a99b-ad011b5a68bf" class="intrnllnk">Preallocate
                     arrays</a> &#8212; Preallocate arrays before a loop rather than adding new
                  elements inside the loop.</p></li><li><p><a href="improve-graphics-update-performance.html#mw_cc84ec1b-d6d6-47b8-a935-eb9d6cf51312" class="intrnllnk">Use newer
                     features for speed</a> &#8212; Consider updating your code to use newer, faster,
                  and more flexible functionality.</p></li><li><p><a href="improve-graphics-update-performance.html#mw_cbcd33d4-6d97-47d0-a906-2fadf19850f3" class="intrnllnk">Disable
                     unnecessary features</a> &#8212; Consider disabling the features you do not need
                  that are enabled by default.</p></li><li><p><a href="improve-graphics-update-performance.html#mw_9345a989-fec1-48a5-b3d6-42ee9bc2ca08" class="intrnllnk">Use
                        <code class="literal">drawnow</code> strategically</a> &#8212; Identify extraneous
                     <code class="function">drawnow</code> commands that can impact performance, and learn
                  different ways to use the command effectively. </p></li></ul></div><p>
</p><section><h3 class="title" id="mw_cd1d31ac-8f89-4a5f-afed-3325eb4acf8b">Identify Bottlenecks in Your Code</h3><p>Use the MATLAB<sup>&#x00AE;</sup> Profiler app to identify the functions that have a longer execution time.
            You can then evaluate those functions for possible performance improvements.</p><p>For example, create a scatter plot of 10-by-500 arrays using the
               <code class="literal">myPlot</code> function.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#0000FF">function</span> myPlot
x = rand(10,500);
y = rand(10,500);
scatter(x,y,<span style="color:#A020F0">"blue"</span>);
<span style="color:#0000FF">end</span></pre></div></div></div><p>Use the Profiler to time the execution of the <code class="literal">myPlot</code> function. The
            code takes about 2.7 seconds to execute.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>profile <span style="color:#A020F0">on</span>
myPlot
profile <span style="color:#A020F0">viewer</span></pre></div></div></div><div class="informalfigure"><div id="d126e34184" class="mediaobject"><p><img src="profiler-summary-1.png" alt="Flame graph in the profile summary. The myPlot function accounts for 99.9% of the code execution time and takes 2.736 seconds to run." height="341" width="650"></p></div></div><p>Because the <code class="literal">x</code> and <code class="literal">y</code> arrays contain 500 columns
            of data, the <code class="function">scatter</code> function creates 500
               <code class="literal">Scatter</code> objects. In this case, you can plot the same data by
            creating one object with 5000 data points instead.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#0000FF">function</span> myPlot
   x = rand(10,500);
   y = rand(10,500);
   scatter(x(:),y(:),<span style="color:#A020F0">"blue"</span>);
<span style="color:#0000FF">end</span></pre></div></div></div><p>Profiling the code again shows that the updated function takes less than 0.3 second
            to execute.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>profile <span style="color:#A020F0">on</span>
myPlot
profile <span style="color:#A020F0">viewer</span></pre></div></div></div><div class="informalfigure"><div id="d126e34205" class="mediaobject"><p><img src="profiler-summary-2.png" alt="Flame graph in the profile summary. The myPlot function accounts for 98.5% of the code execution time and takes 0.262 second to run." height="361" width="654"></p></div></div><p>To learn more about using the Profiler, see <a href="../matlab_prog/profiling-for-improving-performance.html" class="a">Profile Your Code to Improve Performance</a>.</p></section><section><h3 class="title" id="mw_07aa2486-902f-4794-9e66-6a7d0127cf8c">Avoid Re-Creating Objects and Unnecessary Searches</h3><p>If you create graphics objects that you intend to modify later in your code, you can
            improve performance by using these best practices: </p>
<div class="itemizedlist"><ul><li><p>Update only the data you need to change by setting properties, rather than
                     re-creating objects.</p></li><li><p>Save objects as variables so you can access them later, rather than having
                     to search for them. Creating variables for later access is more efficient than
                     searching the graphics hierarchy with the <code class="function">findobj</code> or
                        <code class="function">findall</code> functions.</p></li></ul></div><p>
</p><p>For example, this code plots a surface and a marker and stores the marker as a
               <code class="literal">Line</code> object named <code class="literal">m</code>. Later, a
               <code class="literal">for</code>-loop updates the marker coordinates. At each iteration of the
            loop, only the marker changes position. All of the data associated with the surface plot
            and many of the marker properties remain the same at each step. Rather than updating all
            the data by calling the <code class="function">surf</code> and <code class="function">plot3</code>
            functions multiple times, update only the properties that control the position of the
               <code class="literal">Line</code> object.</p><p>
            <div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>[sx,sy,sz] = peaks(500);
nframes = 490;

surf(sx,sy,sz,EdgeColor=<span style="color:#A020F0">"none"</span>)
hold <span style="color:#A020F0">on</span>
m = plot3(sx(1,1),sy(1,1),sz(1,1),<span style="color:#A020F0">"o"</span>, <span style="color:#0000FF">...</span>
    MarkerFaceColor=<span style="color:#A020F0">"red"</span>, <span style="color:#0000FF">...</span>
    MarkerSize=14);
hold <span style="color:#A020F0">off</span>

<span style="color:#0000FF">for</span> t = 1:nframes
    m.XData = sx(t,t);
    m.YData = sy(t,t);
    m.ZData = sz(t,t) + 0.5;
    drawnow
<span style="color:#0000FF">end</span></pre></div></div></div>
            </p>
<div class="informalfigure"><div id="d126e34248" class="mediaobject"><p><img src="performance-peaks-marker.gif" alt="Animation of a marker moving across a surface" height="348" width="476"></p></div></div><p>
         </p><p>To animate data that grows in a loop&#8212;for example, to plot data that you collect over
            time&#8212;consider creating an <a href="../ref/animatedline.html"><code class="function">animatedline</code></a> object and add points to
            the line using the <a href="../ref/addpoints.html"><code class="function">addpoints</code></a> function (see <a href="improve-graphics-update-performance.html#mw_9345a989-fec1-48a5-b3d6-42ee9bc2ca08" class="intrnllnk">Use drawnow Strategically</a> for an
            example). Alternatively, consider updating your data in segments. For more information
            on this approach, see <a href="avoid-updating-static-data.html#buen2n5" class="a">Segmenting Data to Reduce Update Times</a>.</p></section><section><h3 class="title" id="mw_3dadfddc-ed45-46f7-a99b-ad011b5a68bf">Preallocate Arrays</h3><p>Preallocate arrays and fill the elements in a loop. This technique is more efficient
            than appending new elements to the end of an array in a loop.</p><p>For example, to create an array of axes objects in a loop. Start by creating an array
            of <code class="literal">GraphicsPlaceholder</code> objects using the <a href="../ref/gobjects.html"><code class="function">gobjects</code></a> function. Then replace the
               <code class="literal">GraphicsPlaceholder</code> objects with the axes objects in a
            loop.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>numaxes = 100;
ax = gobjects(numaxes,1);
t = tiledlayout(10,10);
<span style="color:#0000FF">for</span> i=1:numaxes
   ax(i) = nexttile;
<span style="color:#0000FF">end</span></pre></div></div></div><p>Similarly, you can initialize a plot using <code class="literal">NaN</code> values and populate
            the data later in a loop. For example, plot a line of 1000 <code class="literal">NaN</code>
            values. Then replace the <code class="literal">NaN</code> values with numbers by setting the
               <code class="argument">XData</code> and <code class="argument">YData</code> properties of the line in a
            loop.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>x = NaN(1000,1);
y = NaN(1000,1);
p = plot(x,y);
hold <span style="color:#A020F0">on</span>
<span style="color:#0000FF">for</span> i = 1:10:1000
    p.XData(i:i+9) = i:i+9;
    p.YData(i:i+9) = rand(10,1);
    drawnow
<span style="color:#0000FF">end</span>
hold <span style="color:#A020F0">off</span>
</pre></div></div></div></section><section><h3 class="title" id="mw_cc84ec1b-d6d6-47b8-a935-eb9d6cf51312">Use Newer Features for Speed</h3><p>One way to improve performance is to update your code to use newer features when
            possible. Some newer features replace older features, and others are optional
            enhancements that can speed up your code. This section describes some of the newer
            features to consider.</p><section><h4 class="title" id="mw_82e01f56-bf8a-4b0b-85f4-b436a6b66144">Use Dot Notation Instead of <code class="literal">set</code> and                <code class="literal">get</code></h4><p>Using dot notation to set and get the properties of graphics objects provides
               better performance than the <code class="function">set</code> and <code class="function">get</code>
               functions. For example, create a figure, get the <code class="argument">Color</code> property,
               and store the value in the <code class="literal">clr</code> variable. Then set the
                  <code class="argument">Name</code> property of the figure to <code class="literal">"My
               Figure"</code>.</p><p>
               <div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>f = figure;
clr = f.Color;
f.Name = <span style="color:#A020F0">"My Figure"</span>;</pre></div></div></div>
            </p></section><section><h4 class="title add_margin_0" id="mw_12752aeb-bfd8-4398-9184-08580fabbb03">Display Figures in Tabbed Containers</h4><p><em>Since R2025a</em></p><p>By default, figures appear as tabs in a figure container. You can customize the
               layout by rearranging tabs or view multiple figures simultaneously by arranging them
               in tiles. The figure container has performance advantages because it provides one
               shared set of resources (such as the figure toolstrip) for multiple figures. By
               contrast, opening multiple undocked figures requires a separate set of resources for
               each figure, which takes additional time to load. For better performance, consider
               keeping your figures in the container and avoid undocking them.</p></section><section><h4 class="title" id="mw_4fe471c9-a843-4db7-a5eb-ae8e6d3a90f2">Use <code class="literal">tiledlayout</code> Instead of <code class="literal">subplot</code></h4><p>Use the <a href="../ref/tiledlayout.html"><code class="function">tiledlayout</code></a> function to display a tiling of plots in a figure. The
                  <code class="function">tiledlayout</code> function creates layouts that are more
               customizable and configurable than the layouts created by the
                  <code class="function">subplot</code> function. To improve performance when using a tiled
               chart layout, follow these best practices:</p>
<div class="itemizedlist"><ul><li><p>Specify a fixed-size grid when you create the layout. For example, to
                        create a 2-by-2 tiling, use <code class="literal">tiledlayout(2,2)</code> instead of
                           <code class="literal">tiledlayout("flow")</code>. Specifying a fixed-size grid
                        reduces the calculations needed to determine the size and placement of each
                        axes object.</p></li><li><p>Set the limits of each axes object using the <a href="../ref/xlim.html"><code class="function">xlim</code></a>, <a href="../ref/ylim.html"><code class="function">ylim</code></a>, and <a href="../ref/zlim.html"><code class="function">zlim</code></a> functions so that
                           MATLAB does not recalculate the limits when you resize the figure or
                        add data to your plots.</p></li><li><p>To improve the axes creation time, enable a shared axes toolbar in the
                        tiled chart layout using the <a href="../ref/axtoolbar.html"><code class="function">axtoolbar</code></a> function. Use only the shared axes toolbar for
                        interactivity and disable the other methods. Disable the axes toolbar on
                        each of the axes objects using <code class="literal">ax.Toolbar=[]</code>, where
                           <code class="literal">ax</code> is one of the axes objects. Disable the built-in
                        axes interactions using the <a href="../ref/disabledefaultinteractivity.html"><code class="function">disableDefaultInteractivity</code></a> function.</p></li></ul></div><p>
</p></section><section><h4 class="title add_margin_0" id="mw_0fb89190-6888-421a-855e-16c855cb969f">Limit Resolution for Displayed Images</h4><p><em>Since R2022b</em></p><p>When you work with an image, you can set the <a href="../ref/matlab.graphics.primitive.image-properties.html#mw_63482fdb-43ed-43ac-a9da-f976c6c7b601"><code class="argument">MaxRenderedResolution</code></a> property to control the maximum resolution
                  MATLAB uses to display the larger dimension of the image. The smaller
               dimension adjusts to preserve the aspect ratio. The value you specify affects the
               on-screen display, but it does not affect the image data, which is stored in the
                  <code class="argument">CData</code> property of the image.</p><p>To display the image at full resolution, set the
                  <code class="argument">MaxRenderedResolution</code> property to <code class="literal">"none"</code> .
               Specify a number to limit the size of the displayed image. Larger numbers (and
                  <code class="literal">"none"</code>) provide higher quality images, but the initial images
               might take longer to render. Smaller numbers provide downsampled images, but they
               render faster.</p><p>Images can render faster if you specify a value that is smaller than the largest
               dimension of the original image, particularly in bandwidth-constrained situations.
               However, if you specify a value that is only one or a few pixels smaller, the initial
               rendering of that image might take longer than rendering it at full
               resolution.</p><p>For example, display <code class="literal">peppers.png</code> (which is a 384-by-512 RGB
               image) with a maximum of 128 pixels along the larger
               dimension.<div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>imdata = imread(<span style="color:#A020F0">"peppers.png"</span>);
imagesc(imdata,MaxRenderedResolution=128)</pre></div></div></div></p><div class="alert alert-info d-inline-block"><span class="alert_icon icon-alert-info-reverse"></span><p class="alert_heading"><strong>Note</strong></p><p>If you use the <a href="../ref/imshow.html"><code class="function">imshow</code></a> function to display an
                  image in <span class="entity">MATLAB
            Online&#x2122;</span>, the function uses a <code class="argument">MaxRenderedResolution</code>
                  value of <code class="literal">512</code>.</p></div></section><section><h4 class="title" id="mw_19725b08-efba-442c-a39d-5794c315e0f3">Use Built-In Axes Interactions Instead of Older Interactions</h4><p>Use the built-in axes interactions for panning, zooming, and rotating. These
               interactions are available by default and are faster and more responsive than the
                  <code class="function">pan</code>, <code class="function">zoom</code>, and
                  <code class="function">rotate3d</code> functions. These interactions are also much faster
               and responsive than callback functions such as
                  <code class="argument">WindowButtonMotionFcn</code>. </p><p>You can also customize the interactions using the
                  <code class="argument">InteractionOptions</code> property of the axes. For more information
               about using and customizing built-in interactions, see <a href="control-axes-interactions.html" class="a">Control Chart Interactivity</a>.</p></section></section><section><h3 class="title" id="mw_cbcd33d4-6d97-47d0-a906-2fadf19850f3">Disable Unnecessary Features</h3><p>Another way to improve graphics performance is to disable features that you do not
            intend to use. This table describes the features that can impact performance regardless
            of whether you use them.</p><p>
            </p>
<div class="table-responsive"><table class="table table-condensed"><colgroup><col class="tcol1" width="25%"><col class="tcol2" width="25%"><col class="tcol3" width="50%"></colgroup><thead><tr><th>Feature</th><th>Effect on Performance</th><th>How to Improve Performance</th></tr></thead><tbody><tr><td><p><strong class="emphasis bold">Built-in axes
                              interactions</strong></p></td><td><p>Enabled by default, the built-in axes interactions can impact
                              axes creation time.</p><p>If you do not need to interact with
                              your plots, you can improve performance by disabling these
                              interactions.</p></td><td><p>Disable the interactions by passing the axes to the <a href="../ref/disabledefaultinteractivity.html"><code class="function">disableDefaultInteractivity</code></a> function.</p></td></tr><tr><td><p><strong class="emphasis bold">Axes toolbar</strong></p></td><td><p>Enabled by default, the axes toolbar can impact axes creation
                              time.</p><p>If you do not need to interact with your plots, you
                              can improve performance by disabling the axes toolbar.</p></td><td><p>Disable the axes toolbar by setting the
                                 <code class="argument">Toolbar</code> property of the axes object to an
                              empty array (<code class="literal">[]</code>) immediately after creating the
                              axes.</p><p>
                              <div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>ax = axes;
ax.Toolbar=[];</pre></div></div></div>
                           </p></td></tr><tr><td><p><strong class="emphasis bold">Automatic axes limits
                                 calculation</strong></p></td><td><p>Enabled by default, the limits calculations can affect the time
                              it takes to update the tick labels when you create plots or update
                              existing plots. The axes limits calculations can cause flicker in
                              animations.</p><p>If you know the range of your data before you
                              plot it, you can improve performance by disabling the automatic limits
                              calculation.</p></td><td><p>Disable the automatic limits calculation by setting the axes
                              limits to static values. Use the <a href="../ref/xlim.html"><code class="function">xlim</code></a>, <a href="../ref/ylim.html"><code class="function">ylim</code></a>, and <a href="../ref/zlim.html"><code class="function">zlim</code></a> functions.
                              Alternatively, set associated axes mode properties
                                 (<code class="argument">XLimMode</code>, <code class="argument">YLimMode</code>, and
                                 <code class="argument">ZLimMode</code>) to
                              <code class="literal">"manual"</code>.</p><p>Set the limits (or the
                              associated mode properties) after you plot into the axes for the first
                              time. Otherwise, the plotting functions might reset the property
                              values. Call the <a href="../ref/hold.html"><code class="function">hold</code></a> function before
                              calling additional plotting functions.</p></td></tr><tr><td><p><strong class="emphasis bold">Automatic legend
                              updates</strong></p></td><td><p>Enabled by default, the automatic legend updates can affect the
                              time it takes to draw updates in the figure when you add or delete
                              objects in the axes.</p></td><td><p>Create the legend after creating all the objects in the
                              axes.</p></td></tr></tbody></table></div><p>

         </p></section><section><h3 class="title" id="mw_9345a989-fec1-48a5-b3d6-42ee9bc2ca08">Use <code class="literal">drawnow</code> Strategically</h3><p>When you create or modify graphics objects in your code, those changes might not
            appear in the figure immediately. In many cases, you might want to force an update using
            the <a href="../ref/drawnow.html"><code class="function">drawnow</code></a> command. However, this command
            takes time to execute, and frequent use can impact performance. When writing your code,
            consider where the <code class="function">drawnow</code> command is useful and where it is
            unnecessary.</p><p>After changes occur in one or more figures, those figures automatically update in
            these situations (so you do not need to use a <code class="literal">drawnow</code> command):</p>
<div class="itemizedlist"><ul><li><p>When the <code class="function">pause</code>, <code class="function">figure</code>,
                        <code class="function">uifigure</code>, or <code class="function">getframe</code> functions
                     execute.</p></li><li><p>When your code queries an automatically calculated property (a property that
                     depends on other properties). For more information, see <a href="getting-and-setting-automatically-calculated-properties.html" class="a">Optimize Code for Getting and Setting Graphics Properties</a>.</p></li><li><p>When your code finishes execution and returns control to the MATLAB Command Window or stops at a breakpoint in the debugger.</p></li></ul></div><p>
</p><p>Other situations require <code class="function">drawnow</code> to produce the intended effect.
            This table describes the most common situations where using a
               <code class="function">drawnow</code> command is useful. </p><p>
            </p>
<div class="table-responsive"><table class="table table-condensed"><colgroup><col class="tcol1" width="17%"><col class="tcol2" width="25%"><col class="tcol3" width="58%"></colgroup><thead><tr><th>Situation</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td><p>Create an animation with a relatively small number of
                              iterations</p></td><td><p>To display an animation using a relatively small number of
                              frames, create an object and update its properties in a loop. To
                              display the changes at each loop iteration, add a
                                 <code class="literal">drawnow</code> command at the end of the
                           loop.</p></td><td><p>Create an animation of a marker moving along a line. Change the
                              coordinates of the marker at every iteration of a loop, and call
                                 <code class="literal">drawnow</code> to show the marker as it changes
                              position.</p><p>
                              <div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>x = linspace(0,10,500);
y = sin(x);

<span style="color:#228B22">% Plot a line and a marker</span>
plot(x,y)
hold <span style="color:#A020F0">on</span>
mkr = scatter(x(1),y(1),[],<span style="color:#A020F0">"red"</span>,<span style="color:#A020F0">"filled"</span>);
hold <span style="color:#A020F0">off</span>
xlim([0 10])
ylim([-1 1])

<span style="color:#228B22">% Move the marker along the line</span>
<span style="color:#0000FF">for</span> i = 2:length(x)
    mkr.XData = x(i);
    mkr.YData = y(i);
    drawnow
<span style="color:#0000FF">end</span></pre></div></div></div>
                           </p></td></tr><tr><td><p>Make a long-running animation faster.</p></td><td><p>To improve the performance of long-running animations, consider
                              using <code class="literal">drawnow limitrate</code> instead of
                                 <code class="literal">drawnow</code> to display updates on the screen. Both
                              commands update the figure, but <code class="literal">drawnow limitrate</code>
                              limits the number of updates to 20 frames per second. As a result,
                              animations can appear faster.</p><p>Consider using
                                 <code class="literal">drawnow limitrate</code> when you do not need to
                              display every frame in your animation, or if it is important to see
                              the most up-to-date frame, such as in plots of real-time simulation
                              data.</p></td><td><p>Create an animated line that adds 50,000 data points in a loop.
                              Call <code class="function">drawnow</code> before the loop to ensure that the
                              figure and axes display before the loop starts
                              executing.</p><p>Inside the loop, use <code class="literal">drawnow
                                 limitrate</code> to limit the number of times the display
                              updates, which results in a faster animation than performing an update
                              at each iteration.</p><p>
                              <div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>h = animatedline;
xlim([0 4*pi])
ylim([-1 1])
x = linspace(0,4*pi,50000);
drawnow
 
<span style="color:#0000FF">for</span> i = 1:length(x)
    y = sin(x(i));
    addpoints(h,x(i),y);
    drawnow <span style="color:#A020F0">limitrate</span>
<span style="color:#0000FF">end</span></pre></div></div></div>
                           </p></td></tr><tr><td><p>Selectively update a figure</p></td><td><p>Eliminate unnecessary updates by selectively updating the
                              figure only when certain conditions are true.</p></td><td><p>Create an animation loop that iterates on the variable
                                 <code class="literal">i</code> from <code class="literal">1</code> to
                                 <code class="literal">500</code>.  Add a marker to the axes and update the
                              figure only when <code class="literal">i</code> is a prime number.</p><p>
                              <div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>n = 500;
ax = axes;
xlim([1 n])
ylim([1 n])
hold <span style="color:#A020F0">on</span>

<span style="color:#0000FF">for</span> i=1:n
    <span style="color:#0000FF">if</span> isprime(i)
        scatter(i,i,[],<span style="color:#A020F0">"red"</span>,<span style="color:#A020F0">"filled"</span>)
        drawnow
    <span style="color:#0000FF">end</span>
<span style="color:#0000FF">end</span>
hold <span style="color:#A020F0">off</span></pre></div></div></div>
                           </p></td></tr><tr><td><p>Display the initial state of the figure and axes before
                              starting a fast-running animation.</p></td><td><p>In some cases, an animation loop can finish before the figure
                              and axes objects are completely initialized and visible. In these
                              cases, only the final state of the animation displays. Calling
                                 <code class="function">drawnow</code> before the animation loop ensures that
                              the figure and axes are visible first, so you can see the animation
                              progress.</p></td><td><p>Create an animation of 2000 points using <code class="literal">drawnow
                                 limitrate</code> in a loop, which executes relatively quickly.
                              Call <code class="function">drawnow</code> before the loop so that the figure
                              and axes display before the animation starts.</p><p>
                              <div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>figure
axes
x = linspace(0,4*pi,2000);
h = animatedline;
xlim([0 4*pi])
ylim([-1 1])
drawnow 

<span style="color:#0000FF">for</span> i = 1:length(x)
    y = sin(x(i));
    addpoints(h,x(i),y);
    drawnow <span style="color:#A020F0">limitrate</span>
<span style="color:#0000FF">end</span>
</pre></div></div></div>
                           </p></td></tr></tbody></table></div><p>

         </p></section>
         
         <h2 id="seealsoref">See Also</h2><h3 id="d126e34690">Topics</h3><ul class="list-unstyled"><li><a href="../matlab_prog/techniques-for-improving-performance.html" class="a">Techniques to Improve Performance</a></li><li><a href="../creating_guis/improve-app-performance.html" class="a">Improve App Performance</a></li><li><a href="../matlab_prog/profiling-for-improving-performance.html" class="a">Profile Your Code to Improve Performance</a></li></ul>
         
      </section>
    </div></section><div xmlns="http://www.w3.org/1999/xhtml" class="clearfix"></div>
<div xmlns="http://www.w3.org/1999/xhtml" align="center" class="feedbackblock" id="mw_docsurvey"><script src="https://www.mathworks.com/help/docsurvey/docfeedback.js"></script>
<script>loadSurveyHidden();</script>
<link rel="stylesheet" href="https://www.mathworks.com/help/docsurvey/release/index-css.css" type="text/css">
<script src="https://www.mathworks.com/help/docsurvey/release/bundle.index.js"></script>

<script>initDocSurvey();</script></div></main>


</div>
</div>
</div>
</div><!--close_0960-->
<footer xmlns="http://www.w3.org/1999/xhtml" id="footer" class="bs-footer">
<div class="container-fluid">
<div class="footer">
<div class="row">
<div class="col-12">
<p class="copyright">Â© 1994-2025 The MathWorks, Inc.</p>
<ul class="footernav"><li class="footernav_help"><a href="matlab:web(matlab.internal.licenseAgreement)">Terms of Use</a></li><li class="footernav_patents"><a href="matlab:web([matlabroot '/patents.txt'])">Patents</a></li><li class="footernav_trademarks"><a href="matlab:web([matlabroot '/trademarks.txt'])">Trademarks</a></li><li class="footernav_piracy"><a href="matlab:web([docroot '/acknowledgments.html'])">Acknowledgments</a></li></ul></div>
</div>
</div>
</div>
</footer>
</div><!--close row-offcanvas-->
</div><!--close_0970-->
</body>
</html>
