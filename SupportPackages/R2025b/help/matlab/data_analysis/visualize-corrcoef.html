<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage">
<head>
<meta xmlns="http://www.w3.org/1999/xhtml" charset="utf-8">
<meta xmlns="http://www.w3.org/1999/xhtml" name="viewport" content="width=device-width, initial-scale=1.0">
<meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="X-UA-Compatible" content="IE=edge">
<title>Identify and Visualize Correlated Variables</title>
<script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
      {
      "@context": "http://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement":
      [{
          "@type": "ListItem",
          "position": 1,

          "item": {
          "@id": "../index.html",
          "name": "MATLAB"
}

          } 
        ,
        {
          "@type": "ListItem",
          "position": 2,

          "item": {
          "@id": "../data-import-and-analysis.html",
          "name": "Data Import and Analysis"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 3,

          "item": {
          "@id": "../descriptive-statistics.html",
          "name": "Descriptive Statistics"
}

          }]
      }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "VisibleBreadcrumbs",

        "itemListElement":
        [
        "descriptive-statistics"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "DigitalDocument",
          "headline": "Identify and Visualize Correlated Variables",
          "description": "Calculate, filter, rank, and visualize correlations between variables.",
          "thumbnailURL": "../../examples/matlab/win64/IdentifyAndVisualizeCorrelatedVariablesExample_02.png",
          "genre": "Live Script",
          "isBasedOn": {
          "@type": "Product",
          "name": "MATLAB"

        },
          "identifier": "matlab.IdentifyAndVisualizeCorrelatedVariablesExample",
          "name": "IdentifyAndVisualizeCorrelatedVariablesExample",
          "url": "visualize-corrcoef.html"

        }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "PropertyValue",
          "name": "open_command",
          "value": "matlab:openExample('matlab/IdentifyAndVisualizeCorrelatedVariablesExample')"

        }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "ExampleSourceFiles",

        "itemListElement":
        [
        "IdentifyAndVisualizeCorrelatedVariablesExample.mlx"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/bootstrap.min.css" rel="stylesheet" type="text/css">


  <meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="Content-Script-Type" content="text/javascript">
<meta xmlns="http://www.w3.org/1999/xhtml" name="toctype" itemprop="pagetype" content="ug">
<meta xmlns="http://www.w3.org/1999/xhtml" name="infotype" itemprop="infotype" content="other">

<meta xmlns="http://www.w3.org/1999/xhtml" name="description" itemprop="description" content="Calculate, filter, rank, and visualize correlations between variables."><meta xmlns="http://www.w3.org/1999/xhtml" content="../../examples/matlab/win64/IdentifyAndVisualizeCorrelatedVariablesExample_02.png" itemprop="thumbnailUrl">
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-3.6.0.min.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-migrate.min.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_lg.css" rel="stylesheet" media="screen and (min-width: 1200px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_md.css" rel="stylesheet" media="screen and (min-width: 992px) and (max-width: 1199px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm+xs.css" rel="stylesheet" media="screen and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm.css" rel="stylesheet" media="screen and (min-width: 768px) and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_xs.css" rel="stylesheet" media="screen and (max-width: 767px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_offcanvas_v2.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/shared/highlight/styles/mwdochighlight.min.css" rel="stylesheet" type="text/css">

<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/l10n.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/f1help.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/mw.imageanimation.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/jquery.highlight.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/underscore-min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/use_platform_screenshots.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/suggest.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/overload.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/helpservices.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/productfilter.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/matlab_dialog_shared.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/highlight/highlight.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/localstorage.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/product_group.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/saxonjs/SaxonJS2.rt.js"></script><script xmlns="http://www.w3.org/1999/xhtml">
            window.history.replaceState(window.location.href, null, ""); // Initialize
            window.onload = function() {    
            mystylesheetLocation = "../../includes/shared/scripts/product_group-sef.json";
            mysourceLocation = "../../docset/docset.xml";
            product_help_location = "matlab";
            pagetype = "section";
            doccentertype = "product";
            langcode = "";
            getProductFilteredList(mystylesheetLocation, mysourceLocation, product_help_location, pagetype, doccentertype, langcode);  
            }
          </script>




<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery.mobile.custom.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/bootstrap.bundle.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/global.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_base.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_installed.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_print.css" rel="stylesheet" type="text/css" media="print">
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/equationrenderer/release/MathRenderer.js"></script>
</head>
<body id="responsive_offcanvas">
<div xmlns="http://www.w3.org/1999/xhtml" id="doc_header_spacer" class="header"></div>
<div xmlns="http://www.w3.org/1999/xhtml" class="section_header level_3"><div class="container-fluid"><div class="row" id="mobile_search_row"><div class="col-sm-6 col-md-7 has_horizontal_local_nav" id="section_header_title"><div class="section_header_content"><div class="section_header_title"><h1><a href="../../documentation-center.html">Help Center</a></h1></div></div></div><div class="col-12 col-sm-6 col-md-5" id="mobile_search"><div class="search_nested_content_container"><form id="docsearch_form" name="docsearch_form" method="get" data-release="R2025b" data-language="en" action="../../templates/searchresults.html"><div class="input-group tokenized_search_field"><label class="visually-hidden form-label">Search Help</label><input type="text" class="form-control conjoined_search" autocomplete="off" name="qdoc" placeholder="Search Help" id="docsearch"> <div><button type="submit" name="submitsearch" id="submitsearch" class="btn icon-search btn_search_adjacent btn_search icon_16" tabindex="-1"></button></div></div></form></div><button class="btn icon-remove btn_search float-end icon_32 d-sm-none" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div><div class="d-sm-none" id="search_actuator"><button class="btn icon-search btn_search float-end icon_16" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div></div></div></div><div class="row-offcanvas row-offcanvas-left">
<div xmlns="http://www.w3.org/1999/xhtml" class="sidebar-offcanvas" id="sidebar">
<nav class="offcanvas_nav" role="navigation">
<div class="offcanvas_actuator" data-bs-toggle="offcanvas" data-bs-target="#sidebar" id="nav_toggle"><button type="button" class="btn"><span class="visually-hidden">Off-Canvas Navigation Menu Toggle
                  Off-Canvas Navigation Menu Toggle</span><span class="icon-menu"></span></button><span class="offcanvas_actuator_label" id="translation_icon-menu" tabindex="-1" aria-hidden="true"></span></div><div class="nav_list_wrapper" id="nav_list_wrapper"><nav class="offcanvas_nav" role="navigation"><ul class="nav_breadcrumb" id="ul_left_nav_ancestors"><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../../documentation-center.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Documentation Home</span></a></li></ul>
<ul class="nav_disambiguation"><li><a href="../index.html?s_tid=CRUX_lftnav" id="index">MATLAB</a>
</li>
<li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../data-import-and-analysis.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Data Import and Analysis</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../descriptive-statistics.html?s_tid=CRUX_lftnav" itemprop="url" id="bvfkb0n-1"><span itemprop="title">Descriptive Statistics</span></a></li></ul><div class="search_refine_v4"><div id="facets_area"><ul class="nav_scrollspy nav list-unstyled" id="pnav">
<li class="nav_scrollspy_function nav-item"><a href="#responsive_offcanvas">Identify and Visualize Correlated Variables</a></li>
<li class="nav_scrollspy_title nav-item" id="SSPY810-section">On this page</li>
<!--ADD_REFENTRY_TITLE_HERE 11--><li class="nav-item"><a href="#IdentifyAndVisualizeCorrelatedVariablesExample-1" class="nav-link intrnllnk">Compute Correlation Coefficients and P-Values</a></li><li class="nav-item"><a href="#IdentifyAndVisualizeCorrelatedVariablesExample-2" class="nav-link intrnllnk">Visualize Correlations Using Heatmap</a></li><li class="nav-item"><a href="#IdentifyAndVisualizeCorrelatedVariablesExample-3" class="nav-link intrnllnk">Determine Significant Correlations</a></li><li class="nav-item"><a href="#IdentifyAndVisualizeCorrelatedVariablesExample-4" class="nav-link intrnllnk">Display Correlations in Table</a></li><li class="nav-item"><a href="#IdentifyAndVisualizeCorrelatedVariablesExample-5" class="nav-link intrnllnk">Visualize Top Correlations Using Bar Chart</a></li><li class="nav-item"><a href="#d126e2817" class="nav-link intrnllnk">See Also</a></li></ul></div></div>
</nav></div></nav>
<script src="../../includes/product/scripts/offcanvas_v2.js"></script></div><!--END.CLASS sidebar-offcanvas-->
<div class="offcanvas_content_container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sticky_header_container"><div class="horizontal_nav"><div class="horizontal_nav_container"><div class="offcanvas_horizontal_nav"><div class="container-fluid"><div class="row"><div class="col-sm-12 d-none d-sm-block"><nav class="navbar navbar-default" role="navigation" id="subnav"><div><ul class="nav navbar-nav crux_browse"><li id="crux_nav_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_example" class="crux_resource"><a href="../examples.html?category=descriptive-statistics&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=descriptive-statistics&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=descriptive-statistics&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></nav></div><div class="d-sm-none"><div class="container-fluid"><div class="row"><div class="col-9"><div class="mobile_crux_nav_trigger"><div class="btn-group"><button type="button" class="btn btn-default dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Resources</button><ul class="dropdown-menu"><li id="crux_nav_mobile_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_mobile_example" class="crux_resource"><a href="../examples.html?category=descriptive-statistics&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_mobile_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=descriptive-statistics&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_mobile_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=descriptive-statistics&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></div></div><div class="col-3"><div class="translate_placeholder"></div></div></div></div></div></div></div></div></div></div></div><div class="content_container" id="content_container" itemprop="content">
<div class="container-fluid">
<div class="row">
<div class="col-12">

<main id="skip_link_anchor" tabindex="-1">
<div xmlns="http://www.w3.org/1999/xhtml" id="product_info_alert"></div><section xmlns="http://www.w3.org/1999/xhtml" id="doc_center_content" lang="en" data-language="en"><div id="pgtype-topic">
<section><h1 class="r2025b" itemprop="title content" id="mw_2d76b7cb-de2d-41e0-9018-760da42c0ec8">Identify and Visualize Correlated Variables</h1><div class="examples_short_list hidden_ios_android" data-products="ML"><div data-pane="metadata" class="card metadata_container"><div class="card-body metadata_content"><div class="d-grid"><a class="btn btn_color_blue" href="matlab:openExample('matlab/IdentifyAndVisualizeCorrelatedVariablesExample')" data-ex-genre="Live Script">Open Live Script</a></div></div></div></div><div itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/Example" itemprop="example" class="em_example"><meta itemprop="exampleid" content="matlab-IdentifyAndVisualizeCorrelatedVariablesExample"><meta itemprop="exampletitle" content="Identify and Visualize Correlated Variables"></div><span id="IdentifyAndVisualizeCorrelatedVariablesExample" class="anchor_target"></span><p class="shortdesc">When analyzing the relationships between data variables, you can identify and visualize correlated variables to gain insights into the data set. This example shows how to determine the strength and direction of relationships by using the <code class="literal">corrcoef</code> function to calculate correlation coefficients. The correlation coefficients range from &#8211;1 to 1, where:</p><div class="itemizedlist"><ul><li><p>Values close to 1 indicate a positive linear relationship between the data variables.</p></li><li><p>Values close to &#8211;1 indicate a negative linear relationship between the data variables (<span class="emphasis"><em>anticorrelation</em></span>).</p></li><li><p>Values close to or equal to 0 suggest no linear relationship between the data variables.</p></li></ul></div><p>Additionally, this example shows how to determine which correlations are significant and identify the most correlated pairs. The example plots correlations using a heatmap and bar chart, so you can visually compare the relationships between variables.</p><div class="procedure"><h3 class="title" id="IdentifyAndVisualizeCorrelatedVariablesExample-1">Compute Correlation Coefficients and P-Values</h3><p>Generate random data with correlations among variables. Then, use the <code class="literal">corrcoef</code> function to calculate the correlation coefficients and corresponding p-values that describe the significance of the correlations.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>rng(16)
A = randn(50,6);
A(:,3) = A(:,3) + 2*A(:,1);
A(:,4) = A(:,4) - 3*A(:,2);
A(:,5) = A(:,6) + 0.1*A(:,4) - 0.1*A(:,3);
[R,P] = corrcoef(A)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>R = <span class="emphasis"><em>6×6</em></span>

    1.0000   -0.1248    0.8047    0.1300   -0.1726   -0.1009
   -0.1248    1.0000   -0.0744   -0.9612   -0.2314    0.0730
    0.8047   -0.0744    1.0000    0.0709   -0.3595   -0.2515
    0.1300   -0.9612    0.0709    1.0000    0.2611   -0.0549
   -0.1726   -0.2314   -0.3595    0.2611    1.0000    0.9384
   -0.1009    0.0730   -0.2515   -0.0549    0.9384    1.0000

</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>P = <span class="emphasis"><em>6×6</em></span>

    1.0000    0.3878    0.0000    0.3683    0.2308    0.4858
    0.3878    1.0000    0.6075    0.0000    0.1060    0.6143
    0.0000    0.6075    1.0000    0.6248    0.0103    0.0781
    0.3683    0.0000    0.6248    1.0000    0.0670    0.7051
    0.2308    0.1060    0.0103    0.0670    1.0000    0.0000
    0.4858    0.6143    0.0781    0.7051    0.0000    1.0000

</pre></div></div></div><p>The returned matrices <code class="literal">R</code> and <code class="literal">P</code>, which contain the correlation coefficients and the p-values respectively, are symmetric. Extract the lower triangular part of <code class="literal">R</code> to focus on unique pairwise correlations.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>R = tril(R,-1)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>R = <span class="emphasis"><em>6×6</em></span>

         0         0         0         0         0         0
   -0.1248         0         0         0         0         0
    0.8047   -0.0744         0         0         0         0
    0.1300   -0.9612    0.0709         0         0         0
   -0.1726   -0.2314   -0.3595    0.2611         0         0
   -0.1009    0.0730   -0.2515   -0.0549    0.9384         0

</pre></div></div></div><h3 class="title" id="IdentifyAndVisualizeCorrelatedVariablesExample-2">Visualize Correlations Using Heatmap</h3><p>Create a heatmap of the correlation coefficients to visualize the strength and direction of relationships between variables.</p><p>Convert the zeros in the correlation coefficient matrix, which mirror the redundant elements of the lower triangle correlations, into missing values (<code class="literal">NaN</code>). Next, create a colormap where variable pairs with negative correlations are in red, pairs with positive correlations are in blue, and pairs with no correlation are in white. The heatmap highlights the strongest correlations in bright red and bright blue.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>Rheatmap = standardizeMissing(R,0);
map = [1 0 0;
    0.9 0.3 0.3;
    0.9 0.6 0.6;
    1 1 1;
    0.6 0.6 0.9;
    0.3 0.3 0.9;
    0 0 1];
h = heatmap(Rheatmap,Colormap=map,ColorLimits=[-1 1]);
h.Title = <span style="color:#A020F0">"Correlation Coefficients"</span>;
h.YLabel = <span style="color:#A020F0">"First Variable"</span>;
h.XLabel = <span style="color:#A020F0">"Second Variable"</span>;</pre></div></div></div><div class="informalfigure"><div id="d126e2766" class="mediaobject"><p><img src="../../examples/matlab/win64/IdentifyAndVisualizeCorrelatedVariablesExample_01.png" alt="Figure contains an object of type heatmap. The chart of type heatmap has title Correlation Coefficients." width="560"></p></div></div><h3 class="title" id="IdentifyAndVisualizeCorrelatedVariablesExample-3">Determine Significant Correlations</h3><p>Identify significant correlations by filtering out those with a p-value greater than 0.05. This approach focuses the analysis only on relationships that are statistically meaningful and avoids interpreting random noise as a correlation.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>threshold = 0.05;
R(abs(P) &gt; threshold) = 0;
[firstVar,secondVar,corrCoef] = find(R)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>firstVar = <span class="emphasis"><em>4×1</em></span>

     3
     4
     5
     6

</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>secondVar = <span class="emphasis"><em>4×1</em></span>

     1
     2
     3
     5

</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>corrCoef = <span class="emphasis"><em>4×1</em></span>

    0.8047
   -0.9612
   -0.3595
    0.9384

</pre></div></div></div><h3 class="title" id="IdentifyAndVisualizeCorrelatedVariablesExample-4">Display Correlations in Table</h3><p>Compile significant correlations in a table, including indices, correlation coefficients, and p-values.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>ind2 = sub2ind(size(P),firstVar,secondVar);
sigP = P(ind2);
TSig = table(firstVar,secondVar,corrCoef,sigP)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>TSig=<span class="emphasis"><em>4×4 table</em></span>
    firstVar    secondVar    corrCoef       sigP   
    ________    _________    ________    __________

       3            1         0.80471    1.8997e-12
       4            2        -0.96118    1.7065e-28
       5            3        -0.35949      0.010346
       6            5          0.9384    8.5819e-24

</pre></div></div></div><p>List the top three correlations by magnitude. The top correlations are consistent with the relationships established in the input data.</p><div class="code_responsive"><pre class="programlisting">A(:,3) = A(:,3) + 2*A(:,1);
A(:,4) = A(:,4) - 3*A(:,2);
A(:,5) = A(:,6) + 0.1*A(:,4) - 0.1*A(:,3);
</pre></div><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>k = 3;
TTopk = topkrows(TSig,k,<span style="color:#A020F0">"corrCoef"</span>,<span style="color:#A020F0">"descend"</span>,ComparisonMethod=<span style="color:#A020F0">"abs"</span>)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>TTopk=<span class="emphasis"><em>3×4 table</em></span>
    firstVar    secondVar    corrCoef       sigP   
    ________    _________    ________    __________

       4            2        -0.96118    1.7065e-28
       6            5          0.9384    8.5819e-24
       3            1         0.80471    1.8997e-12

</pre></div></div></div><h3 class="title" id="IdentifyAndVisualizeCorrelatedVariablesExample-5">Visualize Top Correlations Using Bar Chart</h3><p>Display the three most significant correlations using a horizontal bar chart. Represent negative correlations with red bars and positive correlations with blue bars.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>labels = TTopk.firstVar + <span style="color:#A020F0">" &amp; "</span> + TTopk.secondVar;
b = barh(labels,abs(TTopk.corrCoef));

negCorr = TTopk.corrCoef &lt; 0;
b.FaceColor = <span style="color:#A020F0">"flat"</span>;
b.CData(negCorr,:) = repmat([1 0 0],nnz(negCorr),1);
b.Labels = TTopk.corrCoef;
b.LabelLocation = <span style="color:#A020F0">"end-inside"</span>;

title(<span style="color:#A020F0">"Top Correlations"</span>)
xlabel(<span style="color:#A020F0">"Correlation Coefficient"</span>)
ylabel(<span style="color:#A020F0">"Correlated Variables"</span>)</pre></div></div></div><div class="informalfigure"><div id="d126e2810" class="mediaobject"><p><img src="../../examples/matlab/win64/IdentifyAndVisualizeCorrelatedVariablesExample_02.png" alt="Figure contains an axes object. The axes object with title Top Correlations, xlabel Correlation Coefficient, ylabel Correlated Variables contains an object of type bar." width="560"></p></div></div></div>
            <h2 id="d126e2817">See Also</h2><p><span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/corrcoef.html"><span itemprop="name"><code class="function">corrcoef</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/heatmap.html"><span itemprop="name"><code class="function">heatmap</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/barh.html"><span itemprop="name"><code class="function">barh</code></span></a></span></p>
            
            
        </section>
    </div></section><div xmlns="http://www.w3.org/1999/xhtml" class="clearfix"></div>
<div xmlns="http://www.w3.org/1999/xhtml" align="center" class="feedbackblock" id="mw_docsurvey"><script src="https://www.mathworks.com/help/docsurvey/docfeedback.js"></script>
<script>loadSurveyHidden();</script>
<link rel="stylesheet" href="https://www.mathworks.com/help/docsurvey/release/index-css.css" type="text/css">
<script src="https://www.mathworks.com/help/docsurvey/release/bundle.index.js"></script>

<script>initDocSurvey();</script></div></main>


</div>
</div>
</div>
</div><!--close_0960-->
<footer xmlns="http://www.w3.org/1999/xhtml" id="footer" class="bs-footer">
<div class="container-fluid">
<div class="footer">
<div class="row">
<div class="col-12">
<p class="copyright">© 1994-2025 The MathWorks, Inc.</p>
<ul class="footernav"><li class="footernav_help"><a href="matlab:web(matlab.internal.licenseAgreement)">Terms of Use</a></li><li class="footernav_patents"><a href="matlab:web([matlabroot '/patents.txt'])">Patents</a></li><li class="footernav_trademarks"><a href="matlab:web([matlabroot '/trademarks.txt'])">Trademarks</a></li><li class="footernav_piracy"><a href="matlab:web([docroot '/acknowledgments.html'])">Acknowledgments</a></li></ul></div>
</div>
</div>
</div>
</footer>
</div><!--close row-offcanvas-->
</div><!--close_0970-->
</body>
</html>
