<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage">
<head>
<meta xmlns="http://www.w3.org/1999/xhtml" charset="utf-8">
<meta xmlns="http://www.w3.org/1999/xhtml" name="viewport" content="width=device-width, initial-scale=1.0">
<meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="X-UA-Compatible" content="IE=edge">
<title>Develop Custom UI Components Programmatically</title>
<script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
      {
      "@context": "http://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement":
      [{
          "@type": "ListItem",
          "position": 1,

          "item": {
          "@id": "../index.html",
          "name": "MATLAB"
}

          } 
        ,
        {
          "@type": "ListItem",
          "position": 2,

          "item": {
          "@id": "../gui-development.html",
          "name": "App Building"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 3,

          "item": {
          "@id": "../developing-custom-ui-component-classes.html",
          "name": "Create Custom UI Components"
}

          }]
      }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "VisibleBreadcrumbs",

        "itemListElement":
        [
        "developing-custom-ui-component-classes"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/bootstrap.min.css" rel="stylesheet" type="text/css">


  <meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="Content-Script-Type" content="text/javascript">
<meta xmlns="http://www.w3.org/1999/xhtml" name="toctype" itemprop="pagetype" content="ug">
<meta xmlns="http://www.w3.org/1999/xhtml" name="infotype" itemprop="infotype" content="ex">

<meta xmlns="http://www.w3.org/1999/xhtml" name="description" itemprop="description" content="Walk through the basic steps to author a custom UI component class using MATLAB functions."><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-3.6.0.min.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-migrate.min.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_lg.css" rel="stylesheet" media="screen and (min-width: 1200px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_md.css" rel="stylesheet" media="screen and (min-width: 992px) and (max-width: 1199px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm+xs.css" rel="stylesheet" media="screen and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm.css" rel="stylesheet" media="screen and (min-width: 768px) and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_xs.css" rel="stylesheet" media="screen and (max-width: 767px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_offcanvas_v2.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/shared/highlight/styles/mwdochighlight.min.css" rel="stylesheet" type="text/css">

<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/l10n.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/f1help.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/mw.imageanimation.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/jquery.highlight.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/underscore-min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/use_platform_screenshots.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/suggest.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/overload.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/helpservices.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/productfilter.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/matlab_dialog_shared.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/highlight/highlight.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/localstorage.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/product_group.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/saxonjs/SaxonJS2.rt.js"></script><script xmlns="http://www.w3.org/1999/xhtml">
            window.history.replaceState(window.location.href, null, ""); // Initialize
            window.onload = function() {    
            mystylesheetLocation = "../../includes/shared/scripts/product_group-sef.json";
            mysourceLocation = "../../docset/docset.xml";
            product_help_location = "matlab";
            pagetype = "section";
            doccentertype = "product";
            langcode = "";
            getProductFilteredList(mystylesheetLocation, mysourceLocation, product_help_location, pagetype, doccentertype, langcode);  
            }
          </script>




<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery.mobile.custom.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/bootstrap.bundle.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/global.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_base.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_installed.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_print.css" rel="stylesheet" type="text/css" media="print">
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/equationrenderer/release/MathRenderer.js"></script>
</head>
<body id="responsive_offcanvas">
<div xmlns="http://www.w3.org/1999/xhtml" id="doc_header_spacer" class="header"></div>
<div xmlns="http://www.w3.org/1999/xhtml" class="section_header level_3"><div class="container-fluid"><div class="row" id="mobile_search_row"><div class="col-sm-6 col-md-7 has_horizontal_local_nav" id="section_header_title"><div class="section_header_content"><div class="section_header_title"><h1><a href="../../documentation-center.html">Help Center</a></h1></div></div></div><div class="col-12 col-sm-6 col-md-5" id="mobile_search"><div class="search_nested_content_container"><form id="docsearch_form" name="docsearch_form" method="get" data-release="R2025b" data-language="en" action="../../templates/searchresults.html"><div class="input-group tokenized_search_field"><label class="visually-hidden form-label">Search Help</label><input type="text" class="form-control conjoined_search" autocomplete="off" name="qdoc" placeholder="Search Help" id="docsearch"> <div><button type="submit" name="submitsearch" id="submitsearch" class="btn icon-search btn_search_adjacent btn_search icon_16" tabindex="-1"></button></div></div></form></div><button class="btn icon-remove btn_search float-end icon_32 d-sm-none" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div><div class="d-sm-none" id="search_actuator"><button class="btn icon-search btn_search float-end icon_16" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div></div></div></div><div class="row-offcanvas row-offcanvas-left">
<div xmlns="http://www.w3.org/1999/xhtml" class="sidebar-offcanvas" id="sidebar">
<nav class="offcanvas_nav" role="navigation">
<div class="offcanvas_actuator" data-bs-toggle="offcanvas" data-bs-target="#sidebar" id="nav_toggle"><button type="button" class="btn"><span class="visually-hidden">Off-Canvas Navigation Menu Toggle
                  Off-Canvas Navigation Menu Toggle</span><span class="icon-menu"></span></button><span class="offcanvas_actuator_label" id="translation_icon-menu" tabindex="-1" aria-hidden="true"></span></div><div class="nav_list_wrapper" id="nav_list_wrapper"><nav class="offcanvas_nav" role="navigation"><ul class="nav_breadcrumb" id="ul_left_nav_ancestors"><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../../documentation-center.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Documentation Home</span></a></li></ul>
<ul class="nav_disambiguation"><li><a href="../index.html?s_tid=CRUX_lftnav" id="index">MATLAB</a>
</li>
<li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../gui-development.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">App Building</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../developing-custom-ui-component-classes.html?s_tid=CRUX_lftnav" itemprop="url" id="mw_4599001b-126d-40d9-b094-1d13710d02e2"><span itemprop="title">Create Custom UI Components</span></a></li></ul><div class="search_refine_v4"><div id="facets_area"><ul class="nav_scrollspy nav list-unstyled" id="pnav">
<li class="nav_scrollspy_function nav-item"><a href="#responsive_offcanvas">Develop Custom UI Components Programmatically</a></li>
<li class="nav_scrollspy_title nav-item" id="SSPY810-section">On this page</li>
<!--ADD_REFENTRY_TITLE_HERE 11--><li class="nav-item"><a href="#mw_7177bcae-892b-496f-a1ac-5cc7234b164f" class="nav-link intrnllnk">Structure of a UI Component Class</a></li><li class="nav-item"><a href="#mw_82c1e01a-c512-43b2-ab5c-8b5f4a7ca3d2" class="nav-link intrnllnk">Constructor Method</a></li><li class="nav-item"><a href="#mw_fa73d2ae-3cd1-4380-a582-68c14deb32fe" class="nav-link intrnllnk">Public and Private Property Blocks</a></li><li class="nav-item"><a href="#mw_ade41d9d-d8f4-404f-8ab8-c8c855d256a8" class="nav-link intrnllnk">Event Block</a></li><li class="nav-item"><a href="#mw_49eef667-6a7a-4a8f-80a3-e80ab5b4274e" class="nav-link intrnllnk">Setup Method</a></li><li class="nav-item"><a href="#mw_8804931f-ae3d-4fc6-a3ad-25836310d8df" class="nav-link intrnllnk">Update Method</a></li><li class="nav-item"><a href="#mw_20af2b7a-6d46-4ba7-bc40-597646f0e3e0" class="nav-link intrnllnk">Example: Color Selector UI Component</a></li><li class="nav-item"><a href="#d126e13769" class="nav-link intrnllnk">See Also</a></li></ul></div></div>
</nav></div></nav>
<script src="../../includes/product/scripts/offcanvas_v2.js"></script></div><!--END.CLASS sidebar-offcanvas-->
<div class="offcanvas_content_container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sticky_header_container"><div class="horizontal_nav"><div class="horizontal_nav_container"><div class="offcanvas_horizontal_nav"><div class="container-fluid"><div class="row"><div class="col-sm-12 d-none d-sm-block"><nav class="navbar navbar-default" role="navigation" id="subnav"><div><ul class="nav navbar-nav crux_browse"><li id="crux_nav_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_example" class="crux_resource"><a href="../examples.html?category=developing-custom-ui-component-classes&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=developing-custom-ui-component-classes&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=developing-custom-ui-component-classes&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></nav></div><div class="d-sm-none"><div class="container-fluid"><div class="row"><div class="col-9"><div class="mobile_crux_nav_trigger"><div class="btn-group"><button type="button" class="btn btn-default dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Resources</button><ul class="dropdown-menu"><li id="crux_nav_mobile_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_mobile_example" class="crux_resource"><a href="../examples.html?category=developing-custom-ui-component-classes&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_mobile_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=developing-custom-ui-component-classes&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_mobile_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=developing-custom-ui-component-classes&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></div></div><div class="col-3"><div class="translate_placeholder"></div></div></div></div></div></div></div></div></div></div></div><div class="content_container" id="content_container" itemprop="content">
<div class="container-fluid">
<div class="row">
<div class="col-12">

<main id="skip_link_anchor" tabindex="-1">
<div xmlns="http://www.w3.org/1999/xhtml" id="product_info_alert"></div><section xmlns="http://www.w3.org/1999/xhtml" id="doc_center_content" lang="en" data-language="en"><div id="pgtype-topic">
<section><h2 class="title r2025b" itemprop="title content" id="mw_6342e663-0f24-4f8a-bc6e-c371b07eedca">Develop Custom UI Components Programmatically</h2><p>To create custom UIs and visualizations, you can combine multiple graphics and UI
            objects, change their properties, or call additional functions. In R2020a and earlier
            releases, a common way to store your customization code and share it with others is to
            write a script or a function.</p><p>Starting in R2020b, instead of a script or function, you can create a class
            implementation for your UI components by defining a subclass of the
                <code class="literal">ComponentContainer</code> base class. Creating a class has these benefits:</p>
<div class="itemizedlist"><ul><li><p>Easy customization &#8212; When users want to customize an aspect of your UI
                        component, they can set a property rather than having to modify and rerun
                        your code. Users can modify properties at the command line or inspect them
                        in the Property Inspector.</p></li><li><p>Encapsulation &#8212; Organizing your code in this way allows you to hide
                        implementation details from your users. You implement methods that perform
                        calculations and manage the underlying graphics objects. </p></li></ul></div><p>
</p><p>This topic gives an overview of the steps to create a custom UI component by defining
            a class programmatically. Alternatively, starting in R2022a, you can create a custom UI
            component interactively using App Designer. For more information about the interactive
            approach, see <a href="create-a-custom-ui-component-in-app-designer.html" class="a">Create a Simple Custom UI Component in App Designer</a>.</p><section><h3 class="title" id="mw_7177bcae-892b-496f-a1ac-5cc7234b164f">Structure of a UI Component Class</h3><p>A UI component class has several required parts, and several more that are
                optional.</p><p>In the first line of a UI component class, specify the <a href="../ref/matlab.ui.componentcontainer.componentcontainer-class.html"><code class="class">matlab.ui.componentcontainer.ComponentContainer</code></a> class as the
                superclass. For example, the first line of a class called
                    <code class="literal">ColorSelector</code> looks like
                this:<div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#0000FF">classdef</span> ColorSelector &lt; matlab.ui.componentcontainer.ComponentContainer</pre></div></div></div></p><p>In addition to specifying the superclass, include the following components in your
                class definition. Some components are required, while other components are either
                recommended or optional.</p>
<div class="table-responsive"><table class="table table-condensed"><colgroup><col class="tcol1" width="25%"><col class="tcol2" width="75%"></colgroup><thead><tr><th>Component</th><th>Description</th></tr></thead><tbody><tr><td><p><a href="develop-classes-of-ui-component-objects.html#mw_fa73d2ae-3cd1-4380-a582-68c14deb32fe" class="intrnllnk">Public property block</a><br/>

                                        (recommended)</p></td><td><p>This block defines all the properties that users have
                                        access to. Together, these properties make up the user
                                        interface of your UI component.</p></td></tr><tr><td><p><a href="develop-classes-of-ui-component-objects.html#mw_fa73d2ae-3cd1-4380-a582-68c14deb32fe" class="intrnllnk">Private property block</a><br/>

                                        (recommended)</p></td><td><p>This block defines the underlying graphics objects and
                                        other implementation details that users cannot
                                        access.</p><p>In this block, set these attribute
                                        values:</p><p>
                                        </p>
<div class="itemizedlist"><ul><li><p><code class="literal">Access = private</code></p></li><li><p><code class="literal">Transient</code></p></li><li><p><code class="literal">NonCopyable</code></p></li></ul></div><p>

                                    </p></td></tr><tr><td><p><a href="develop-classes-of-ui-component-objects.html#mw_ade41d9d-d8f4-404f-8ab8-c8c855d256a8" class="intrnllnk">Events block</a><br/>

                                    (optional)</p></td><td><p>This block defines the events that this UI component
                                        will trigger.</p><p>In this block, set these attribute
                                        values: </p><p>
                                        </p>
<div class="itemizedlist"><ul><li><p><code class="literal">HasCallbackProperty</code></p></li><li><p><code class="literal">NotifyAccess =
                                                  protected</code></p></li></ul></div><p>

                                    </p><p>When you set the
                                            <code class="literal">HasCallbackProperty</code> attribute,
                                            MATLAB<sup>&#x00AE;</sup> creates a public property for each event in
                                        the block. The public property stores the user-provided
                                        callback to execute when the event fires.</p></td></tr><tr><td><p><a href="develop-classes-of-ui-component-objects.html#mw_49eef667-6a7a-4a8f-80a3-e80ab5b4274e" class="intrnllnk"><code class="literal">setup</code>
                                        method</a><br/>
 (required)</p></td><td><p>This method sets the initial state of the UI component.
                                        It executes once when MATLAB constructs the object.</p><p>Define this
                                        method in a protected <code class="literal">methods</code>
                                        block.</p></td></tr><tr><td><p><a href="develop-classes-of-ui-component-objects.html#mw_8804931f-ae3d-4fc6-a3ad-25836310d8df" class="intrnllnk"><code class="literal">update</code>
                                        method</a><br/>
 (required)</p></td><td><p>This method updates the underlying objects in your UI
                                        component. It executes under the following
                                        conditions:</p><p>
                                        </p>
<div class="itemizedlist"><ul><li><p>During the next <code class="function">drawnow</code>
                                                  execution after the user changes one or more
                                                  property values</p></li><li><p>When an aspect of the user's graphics
                                                  environment changes (such as the size)</p></li></ul></div><p>

                                    </p><p>Define this method in the same protected block as
                                        the <code class="literal">setup</code> method.</p></td></tr></tbody></table></div><p>
</p></section><section><h3 class="title" id="mw_82c1e01a-c512-43b2-ab5c-8b5f4a7ca3d2">Constructor Method</h3><p>You do not have to write a constructor method for your class, because it inherits
                one from the <code class="literal">ComponentContainer</code> base class. The inherited
                constructor accepts optional input arguments: a parent container and any number of
                name-value pair arguments for setting properties on the UI component. For example,
                if you define a class called <code class="literal">ColorSelector</code> that has the public
                properties <code class="literal">Value</code> and <code class="literal">ValueChangedFcn</code>, you can
                create an instance of your class using this
                code:<div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>f = uifigure; 
c = ColorSelector(f,<span style="color:#A020F0">'Value'</span>,[1 1 0],<span style="color:#A020F0">'ValueChangedFcn'</span>,@(o,e)disp(<span style="color:#A020F0">'Changed'</span>))</pre></div></div></div></p><p>If you want to provide a constructor that has a different syntax or different
                behavior, you can define a custom constructor method. For an example of a custom
                constructor, see <a href="../creating_plots/writing-constructors-for-chart-classes.html" class="a">Write Constructors for Chart Classes</a>.</p></section><section><h3 class="title" id="mw_fa73d2ae-3cd1-4380-a582-68c14deb32fe">Public and Private Property Blocks</h3><p>Divide your class properties between at least two blocks: </p>
<div class="itemizedlist"><ul><li><p>A public block for storing the components of the user-facing
                            interface</p></li><li><p>A private block for storing the implementation details that you want
                            to hide</p></li></ul></div><p>
</p><p>The properties that go in the public block store the input values provided by the
                user. For example, a UI component that allows a user to pick a color value might
                store the color value in a public property. Since the property name-value pair
                arguments are optional inputs to the implicit constructor method, the recommended
                approach is to initialize the public properties to default values.</p><p>The properties that go in the private block store the underlying graphics objects
                that make up your UI component, in addition to any calculated values that you want
                to store. Eventually, your class will use the data in the public properties to
                configure the underlying objects. Set the <code class="literal">Transient</code> and
                    <code class="literal">NonCopyable</code> attributes for the private block to avoid storing
                redundant information if the user copies or saves an instance of the UI
                component.</p><p>For example, here are the property blocks for a UI component that allows a user to
                pick a color value. The public property block stores the value that the user can
                control: the color value. The private property block stores the grid layout manager,
                button, and edit field
                objects.<div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>
<span style="color:#0000FF">properties</span>
&nbsp;&nbsp;&nbsp; Value <span style="color:#A0522D">{validateattributes(Value, </span><span style="color:#0000FF">...</span>
        <span style="color:#A0522D">{'double'},{'&lt;=',1,'&gt;=',0,'size',[1 3]})}</span> = [1 0 0];   
<span style="color:#0000FF">end</span>

<span style="color:#0000FF">properties</span> (Access = private,Transient,NonCopyable)
&nbsp;&nbsp;&nbsp; Grid <span style="color:#A0522D">matlab.ui.container.GridLayout </span>
&nbsp;&nbsp;&nbsp; Button <span style="color:#A0522D">matlab.ui.control.Button </span>
&nbsp;&nbsp;&nbsp; EditField <span style="color:#A0522D">matlab.ui.control.EditField</span>
<span style="color:#0000FF">end</span>   </pre></div></div></div></p></section><section><h3 class="title" id="mw_ade41d9d-d8f4-404f-8ab8-c8c855d256a8">Event Block</h3><p>You optionally can add a third block for events that the UI component
                fires.</p><p>Create a public property for each event in the block by specifying the
                    <code class="literal">HasCallbackProperty</code> attribute. The public property stores the
                user-provided callback to execute when the event fires. The name of the public
                property is the name of the event appended with the letters <code class="literal">Fcn</code>.
                For example, a UI component that allows a user to pick a color value might define
                the event <code class="event">ValueChanged</code>, which generates the corresponding public
                property <code class="property">ValueChangedFcn</code>. Use the <code class="method">notify</code>
                method to fire the event and execute the callback in the property.</p><p>For example, here is the event block for a UI component that allows a user to pick
                a color
                value.<div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>
<span style="color:#0000FF">events</span> (HasCallbackProperty, NotifyAccess = protected) 
&nbsp;&nbsp;&nbsp; ValueChanged 
<span style="color:#0000FF">end</span> </pre></div></div></div>When
                the user picks a color value, call the <code class="method">notify</code> method to fire the
                    <code class="event">ValueChanged</code> event and execute the callback in the
                    <code class="property">ValueChangedFcn</code>
                property.<div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#0000FF">function</span> getColorFromUser(comp)
    c = uisetcolor(comp.Value);
    <span style="color:#0000FF">if</span> (isscalar(c) &amp;&amp; (c == 0))
        <span style="color:#0000FF">return</span>;
    <span style="color:#0000FF">end</span>
    
    <span style="color:#228B22">% Update the Value property</span>
    oldValue = comp.Value;
    comp.Value = c;

    <span style="color:#228B22">% Execute user callbacks and listeners</span>
    notify(comp,<span style="color:#A020F0">'ValueChanged'</span>);
<span style="color:#0000FF">end</span></pre></div></div></div>When
                a user creates an instance of the UI component, they can specify a callback to
                execute when the color value changes using the generated public
                property.<div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>f = uifigure; 
c = ColorSelector(f,<span style="color:#A020F0">'ValueChangedFcn'</span>,@(o,e)disp(<span style="color:#A020F0">'Changed'</span>))</pre></div></div></div>For
                more information about specifying callbacks to properties, see <a href="write-callbacks-for-apps-created-programmatically.html" class="a">Create Callbacks for Apps Created Programmatically</a>.</p></section><section><h3 class="title" id="mw_49eef667-6a7a-4a8f-80a3-e80ab5b4274e">Setup Method</h3><p>Define a <a href="../ref/matlab.ui.componentcontainer.componentcontainer.setup.html"><code class="method">setup</code></a>
                method for your class. A <code class="method">setup</code> method executes once when
                    MATLAB constructs the UI component object. Any property values passed as
                name-value arguments to the constructor method are assigned after this method
                executes. </p><p>Use the <code class="method">setup</code> method to:</p>
<div class="itemizedlist"><ul><li><p>Create graphics and UI objects that make up the component. </p></li><li><p>Store the objects as private properties on the component object.
                        </p></li><li><p>Lay out and configure the objects. </p></li><li><p>Wire up the objects to do something useful within the
                            component.</p></li></ul></div><p>
</p><p>Define the <code class="method">setup</code> method in a protected block.</p><p>Most UI object creation functions have an optional input argument for specifying
                the parent. When you call these functions from within a class method, you must
                specify the target parent. Specify the target parent as the UI component object
                being set up by using the class instance argument passed to the method.</p><p>For example, consider a UI component that has these properties:</p>
<div class="itemizedlist"><ul><li><p>One public property called <code class="literal">Value</code></p></li><li><p>Three private properties called <code class="literal">Grid</code>,
                                <code class="literal">Button</code>, and <code class="literal">EditField</code></p></li></ul></div><p>
 The <code class="method">setup</code> method calls the
                    <code class="function">uigridlayout</code>, <code class="function">uieditfield</code>, and
                    <code class="function">uibutton</code> functions to create the underlying graphics object
                for each private property, specifying the instance of the UI component
                    (<code class="literal">comp</code>) as the target parent.
                <div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#0000FF">function</span> setup(comp) 
    <span style="color:#228B22">% Create grid layout to manage building blocks </span>
    comp.Grid = uigridlayout(comp,[1 2],<span style="color:#A020F0">'ColumnWidth'</span>,{<span style="color:#A020F0">'1x'</span>,22},<span style="color:#0000FF">...</span><span style="color:#228B22"> </span>
    &nbsp;&nbsp;&nbsp; <span style="color:#A020F0">'RowHeight'</span>,{<span style="color:#A020F0">'fit'</span>},<span style="color:#A020F0">'ColumnSpacing'</span>,2,<span style="color:#A020F0">'Padding'</span>,2); 

    <span style="color:#228B22">% Create edit field for entering color value</span>
    comp.EditField = uieditfield(comp.Grid,<span style="color:#A020F0">'Editable'</span>,false,<span style="color:#0000FF">...</span><span style="color:#228B22"> </span>
    &nbsp;&nbsp;&nbsp; <span style="color:#A020F0">'HorizontalAlignment'</span>,<span style="color:#A020F0">'center'</span>); 

    <span style="color:#228B22">% Create button to confirm color change</span>
    comp.Button = uibutton(comp.Grid,<span style="color:#A020F0">'Text'</span>,char(9998), <span style="color:#0000FF">...</span><span style="color:#228B22"> </span>
    &nbsp;&nbsp;&nbsp; <span style="color:#A020F0">'ButtonPushedFcn'</span>,@(o,e) comp.getColorFromUser()); 
<span style="color:#0000FF">end</span> </pre></div></div></div></p></section><section><h3 class="title" id="mw_8804931f-ae3d-4fc6-a3ad-25836310d8df">Update Method</h3><p>Define an <a href="../ref/matlab.ui.componentcontainer.componentcontainer.update.html"><code class="method">update</code></a>
                method for your class. This method executes when your UI component object needs to
                change its appearance in response to a change in values.</p><p>Use the <code class="literal">update</code> method to reconfigure the underlying graphics
                objects in your UI component based on the new values of the properties. Typically,
                this method does not determine which of the  properties changed. It reconfigures all
                aspects of the underlying graphics objects that depend on the properties.</p><p>For example, consider a UI component that has these properties:</p>
<div class="itemizedlist"><ul><li><p>One public property called <code class="literal">Value</code></p></li><li><p>Three private properties called <code class="literal">Grid</code>,
                                <code class="literal">Button</code>, and <code class="literal">EditField</code></p></li></ul></div><p>
The <code class="function">update</code> method updates the
                    <code class="literal">BackgroundColor</code> of the <code class="literal">EditField</code> and
                    <code class="literal">Button</code> objects with the color stored in
                    <code class="literal">Value</code>. The <code class="function">update</code> method also updates
                the <code class="literal">EditField</code> object with a numeric representation of the color.
                This way, however <code class="literal">Value</code> is changed, the change becomes equally
                visible
                everywhere.<div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#0000FF">function</span> update(comp)      
    <span style="color:#228B22">% Update edit field and button colors </span>
    set([comp.EditField comp.Button],<span style="color:#A020F0">'BackgroundColor'</span>,comp.Value, <span style="color:#0000FF">...</span><span style="color:#228B22"> </span>
    &nbsp;&nbsp;&nbsp; <span style="color:#A020F0">'FontColor'</span>,comp.getContrastingColor(comp.Value));  

    <span style="color:#228B22">% Update edit field display text </span>
    comp.EditField.Value = num2str(comp.Value,<span style="color:#A020F0">'%0.2g '</span>);            

<span style="color:#0000FF">end</span></pre></div></div></div></p><p>There might be a delay between changing property values and seeing the results of
                those changes. The <code class="method">update</code> method runs for the first time after the
                    <code class="literal">setup</code> method runs and then it runs every time <a href="../ref/drawnow.html"><code class="function">drawnow</code></a> executes. The
                    <code class="function">drawnow</code> function automatically executes periodically, based
                on the state of the graphics environment in the user's MATLAB session. This periodic execution can lead to the potential
                delay.</p></section><section><h3 class="title" id="mw_20af2b7a-6d46-4ba7-bc40-597646f0e3e0">Example: Color Selector UI Component</h3><p>This example shows how to create a UI component for selecting a color, using the
                code discussed in other sections of this page. Create a class definition file named
                    <code class="literal">ColorSelectorComponent.m</code> in a folder that is on the
                    MATLAB path. Define the class by following these steps.</p><div class="table-responsive"><table class="table table-condensed"><colgroup><col class="tcol1" width="25%"><col class="tcol2" width="75%"></colgroup><thead><tr><th>Step</th><th>Implementation</th></tr></thead><tbody><tr><td><p>Derive from the <code class="literal">ComponentContainer</code> base
                                    class.</p></td><td><p>
                                    <div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#0000FF">classdef</span> ColorSelector &lt; matlab.ui.componentcontainer.ComponentContainer</pre></div></div></div>
                                </p></td></tr><tr><td><p>Define public properties.</p></td><td><p>
                                    <div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>    <span style="color:#0000FF">properties</span>
        Value <span style="color:#A0522D">{validateattributes(Value, </span><span style="color:#0000FF">...</span>
            <span style="color:#A0522D">{'double'},{'&lt;=',1,'&gt;=',0,'size',[1 3]})}</span> = [1 0 0]; 
    <span style="color:#0000FF">end</span></pre></div></div></div>
                                </p></td></tr><tr><td><p>Define public events.</p></td><td><p>
                                    <div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>    <span style="color:#0000FF">events</span> (HasCallbackProperty, NotifyAccess = protected) 
        ValueChanged <span style="color:#228B22">% ValueChangedFcn will be the generated callback property </span>
    <span style="color:#0000FF">end</span></pre></div></div></div>
                                </p></td></tr><tr><td><p>Define private properties.</p></td><td><p>
                                    <div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>    <span style="color:#0000FF">properties</span> (Access = private, Transient, NonCopyable) 
        Grid <span style="color:#A0522D">matlab.ui.container.GridLayout </span>
        Button <span style="color:#A0522D">matlab.ui.control.Button </span>
        EditField <span style="color:#A0522D">matlab.ui.control.EditField </span>
    <span style="color:#0000FF">end</span></pre></div></div></div>
                                </p></td></tr><tr><td><p>Implement the <code class="literal">setup</code> method. In this
                                    case, call the <code class="function">uigridlayout</code>,
                                        <code class="function">uieditfield</code>, and
                                        <code class="function">uibutton</code> functions to create
                                        <code class="literal">GridLayout</code>, <code class="literal">EditField</code>,
                                    and <code class="literal">Button</code> objects. Store those objects in
                                    the corresponding private properties.</p><p>Specify the
                                        <code class="function">getColorFromUser</code> method as the
                                        <code class="function">ButtonPushedFcn</code> callback that is called
                                    when the button is pressed.</p></td><td><p>
                                    <div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>    <span style="color:#0000FF">methods</span> (Access = protected) 
        <span style="color:#0000FF">function</span> setup(comp) 
            <span style="color:#228B22">% Grid layout to manage building blocks </span>
            comp.Grid = uigridlayout(comp,[1,2],<span style="color:#A020F0">'ColumnWidth'</span>,{<span style="color:#A020F0">'1x'</span>,22}, <span style="color:#0000FF">...</span><span style="color:#228B22"> </span>
                <span style="color:#A020F0">'RowHeight'</span>,{<span style="color:#A020F0">'fit'</span>},<span style="color:#A020F0">'ColumnSpacing'</span>,2,<span style="color:#A020F0">'Padding'</span>,2);              

            <span style="color:#228B22">% Edit field for value display and button to launch uisetcolor </span>
            comp.EditField = uieditfield(comp.Grid,<span style="color:#A020F0">'Editable'</span>,false, <span style="color:#0000FF">...</span><span style="color:#228B22"> </span>
                <span style="color:#A020F0">'HorizontalAlignment'</span>,<span style="color:#A020F0">'center'</span>); 
            comp.Button = uibutton(comp.Grid,<span style="color:#A020F0">'Text'</span>,char(9998), <span style="color:#0000FF">...</span><span style="color:#228B22"> </span>
                <span style="color:#A020F0">'ButtonPushedFcn'</span>,@(o,e) comp.getColorFromUser()); 

        <span style="color:#0000FF">end</span></pre></div></div></div>
                                </p></td></tr><tr><td><p>Implement the <code class="literal">update</code> method. In this
                                    case, update the background color of the underlying objects and
                                    the text in the edit field to show the color
                                value.</p></td><td><p>
                                    <div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>        <span style="color:#0000FF">function</span> update(comp)     
            <span style="color:#228B22">% Update edit field and button colors </span>
            set([comp.EditField comp.Button],<span style="color:#A020F0">'BackgroundColor'</span>,comp.Value, <span style="color:#0000FF">...</span><span style="color:#228B22"> </span>
                <span style="color:#A020F0">'FontColor'</span>,comp.getContrastingColor(comp.Value));  

            <span style="color:#228B22">% Update the display text </span>
            comp.EditField.Value = num2str(comp.Value,<span style="color:#A020F0">'%0.2g '</span>);            
        <span style="color:#0000FF">end</span> 
    <span style="color:#0000FF">end</span></pre></div></div></div>
                                </p></td></tr><tr><td><p>Wire the callbacks and other pieces together using private
                                    methods.</p><p>When the
                                        <code class="literal">getColorFromUser</code> method is triggered by a
                                    button press, call the <code class="function">uisetcolor</code> function
                                    to open the color picker and then call the
                                        <code class="function">notify</code> function to execute the user
                                    callback and listener functions.</p><p>When the
                                        <code class="method">getContrastingColor</code> method is called by the
                                        <code class="method">update</code> method, calculate whether black or
                                    white text is more readable on the new background
                                color.</p></td><td><p>
                                    <div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>
    <span style="color:#0000FF">methods</span> (Access = private) 
        <span style="color:#0000FF">function</span> getColorFromUser(comp) 
            c = uisetcolor(comp.Value); 
            <span style="color:#0000FF">if</span> (isscalar(c) &amp;&amp; (c == 0)) 
                <span style="color:#0000FF">return</span>; 
            <span style="color:#0000FF">end</span> 
            
            <span style="color:#228B22">% Update the Value property </span>
            comp.Value = c;              

            <span style="color:#228B22">% Execute user callbacks and listeners</span>
            notify(comp,<span style="color:#A020F0">'ValueChanged'</span>); 
        <span style="color:#0000FF">end</span>         
        <span style="color:#0000FF">function</span> contrastColor = getContrastingColor(~,color) 
            <span style="color:#228B22">% Calculate opposite color </span>
            c = color * 255; 
            contrastColor = [1 1 1]; 
            <span style="color:#0000FF">if</span> (c(1)*.299 + c(2)*.587 + c(3)*.114) &gt; 186 
                contrastColor = [0 0 0]; 
            <span style="color:#0000FF">end</span> 
        <span style="color:#0000FF">end</span> 
    <span style="color:#0000FF">end</span> 
<span style="color:#0000FF">end</span></pre></div></div></div>
                                </p></td></tr></tbody></table></div><p>Next, create an instance of the UI component by calling the implicit constructor
                method with a few of the public properties. Specify a callback to display the words
                    <code class="literal">Color changed</code> when the color value changes.</p><p>
                <div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>h = ColorSelector(<span style="color:#A020F0">'Value'</span>, [1 1 0]); 
h.ValueChangedFcn = @(o,e) disp(<span style="color:#A020F0">'Color changed'</span>);</pre></div></div></div>
            </p><div class="informalfigure"><div id="d126e13751" class="mediaobject"><p><img src="componentauthor_colorselector.png" alt="Instance of the color selector UI component displaying the color yellow." height="100" width="562"></p></div></div><p>Click the button and select a color using the color picker. The component changes
                appearance and MATLAB displays the words <code class="literal">Color changed</code> in the Command
                Window.</p><div class="informalfigure"><div id="d126e13763" class="mediaobject"><p><img src="componentauthor_colorselectorupdated.png" alt="Instance of the color selector UI component displaying the color blue." height="100" width="562"></p></div></div></section>
            <h2 id="d126e13769">See Also</h2><h3>Classes</h3><ul class="list-unstyled margined_10"><li><span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/matlab.ui.componentcontainer.componentcontainer-class.html"><span itemprop="name"><code class="class">matlab.ui.componentcontainer.ComponentContainer</code></span></a></span></li></ul><h3>Functions</h3><ul class="list-unstyled margined_10"><li><span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/uibutton.html"><span itemprop="name"><code class="function">uibutton</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/uieditfield.html"><span itemprop="name"><code class="function">uieditfield</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/uigridlayout.html"><span itemprop="name"><code class="function">uigridlayout</code></span></a></span></li></ul>
            <h3 id="d126e13790">Topics</h3><ul class="list-unstyled"><li><a href="../matlab_oop/class-components.html" class="a">Components of a Class</a></li><li><a href="custom-ui-component-classes-in-app-designer.html" class="a">Configure Custom UI Components for App Designer</a></li></ul>
            
        </section>
    </div></section><div xmlns="http://www.w3.org/1999/xhtml" class="clearfix"></div>
<div xmlns="http://www.w3.org/1999/xhtml" align="center" class="feedbackblock" id="mw_docsurvey"><script src="https://www.mathworks.com/help/docsurvey/docfeedback.js"></script>
<script>loadSurveyHidden();</script>
<link rel="stylesheet" href="https://www.mathworks.com/help/docsurvey/release/index-css.css" type="text/css">
<script src="https://www.mathworks.com/help/docsurvey/release/bundle.index.js"></script>

<script>initDocSurvey();</script></div></main>


</div>
</div>
</div>
</div><!--close_0960-->
<footer xmlns="http://www.w3.org/1999/xhtml" id="footer" class="bs-footer">
<div class="container-fluid">
<div class="footer">
<div class="row">
<div class="col-12">
<p class="copyright">Â© 1994-2025 The MathWorks, Inc.</p>
<ul class="footernav"><li class="footernav_help"><a href="matlab:web(matlab.internal.licenseAgreement)">Terms of Use</a></li><li class="footernav_patents"><a href="matlab:web([matlabroot '/patents.txt'])">Patents</a></li><li class="footernav_trademarks"><a href="matlab:web([matlabroot '/trademarks.txt'])">Trademarks</a></li><li class="footernav_piracy"><a href="matlab:web([docroot '/acknowledgments.html'])">Acknowledgments</a></li></ul></div>
</div>
</div>
</div>
</footer>
</div><!--close row-offcanvas-->
</div><!--close_0970-->
</body>
</html>
