<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage">
<head>
<meta xmlns="http://www.w3.org/1999/xhtml" charset="utf-8">
<meta xmlns="http://www.w3.org/1999/xhtml" name="viewport" content="width=device-width, initial-scale=1.0">
<meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="X-UA-Compatible" content="IE=edge">
<title>Perform Calculations by Group in Table</title>
<script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
      {
      "@context": "http://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement":
      [{
          "@type": "ListItem",
          "position": 1,

          "item": {
          "@id": "../index.html",
          "name": "MATLAB"
}

          } 
        ,
        {
          "@type": "ListItem",
          "position": 2,

          "item": {
          "@id": "../language-fundamentals.html",
          "name": "Language Fundamentals"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 3,

          "item": {
          "@id": "../data-types.html",
          "name": "Data Types"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 4,

          "item": {
          "@id": "../tables.html",
          "name": "Tables"
}

          }]
      }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
      {
      "@context": "http://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement":
      [{
          "@type": "ListItem",
          "position": 1,

          "item": {
          "@id": "../index.html",
          "name": "MATLAB"
}

          } 
        ,
        {
          "@type": "ListItem",
          "position": 2,

          "item": {
          "@id": "../data-import-and-analysis.html",
          "name": "Data Import and Analysis"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 3,

          "item": {
          "@id": "../preprocessing-data.html",
          "name": "Data Preprocessing"
}

          }]
      }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "VisibleBreadcrumbs",

        "itemListElement":
        [
        "tables",
        "preprocessing-data"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "DigitalDocument",
          "headline": "Perform Calculations by Group in Table",
          "description": "Specify groups of data in tables and timetables, and perform calculations by group. Choose a function for group calculations using these recommendations.",
          "thumbnailURL": "../../examples/matlab/win64/SplitTableDataVariablesAndApplyFunctionsExample_01.png",
          "genre": "Live Script",
          "isBasedOn": {
          "@type": "Product",
          "name": "MATLAB"

        },
          "identifier": "matlab.SplitTableDataVariablesAndApplyFunctionsExample",
          "name": "SplitTableDataVariablesAndApplyFunctionsExample",
          "url": "perform-calculations-by-group-in-table.html"

        }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "PropertyValue",
          "name": "open_command",
          "value": "matlab:openExample('matlab/SplitTableDataVariablesAndApplyFunctionsExample')"

        }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "ExampleSourceFiles",

        "itemListElement":
        [
        "SplitTableDataVariablesAndApplyFunctionsExample.mlx"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/bootstrap.min.css" rel="stylesheet" type="text/css">


  <meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="Content-Script-Type" content="text/javascript">
<meta xmlns="http://www.w3.org/1999/xhtml" name="toctype" itemprop="pagetype" content="ug">
<meta xmlns="http://www.w3.org/1999/xhtml" name="infotype" itemprop="infotype" content="ex">

<meta xmlns="http://www.w3.org/1999/xhtml" name="description" itemprop="description" content="Specify groups of data in tables and timetables, and perform calculations by group."><meta xmlns="http://www.w3.org/1999/xhtml" content="../../examples/matlab/win64/SplitTableDataVariablesAndApplyFunctionsExample_01.png" itemprop="thumbnailUrl">
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-3.6.0.min.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-migrate.min.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_lg.css" rel="stylesheet" media="screen and (min-width: 1200px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_md.css" rel="stylesheet" media="screen and (min-width: 992px) and (max-width: 1199px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm+xs.css" rel="stylesheet" media="screen and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm.css" rel="stylesheet" media="screen and (min-width: 768px) and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_xs.css" rel="stylesheet" media="screen and (max-width: 767px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_offcanvas_v2.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/shared/highlight/styles/mwdochighlight.min.css" rel="stylesheet" type="text/css">

<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/l10n.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/f1help.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/mw.imageanimation.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/jquery.highlight.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/underscore-min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/use_platform_screenshots.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/suggest.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/overload.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/helpservices.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/productfilter.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/matlab_dialog_shared.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/highlight/highlight.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/localstorage.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/product_group.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/saxonjs/SaxonJS2.rt.js"></script><script xmlns="http://www.w3.org/1999/xhtml">
            window.history.replaceState(window.location.href, null, ""); // Initialize
            window.onload = function() {    
            mystylesheetLocation = "../../includes/shared/scripts/product_group-sef.json";
            mysourceLocation = "../../docset/docset.xml";
            product_help_location = "matlab";
            pagetype = "section";
            doccentertype = "product";
            langcode = "";
            getProductFilteredList(mystylesheetLocation, mysourceLocation, product_help_location, pagetype, doccentertype, langcode);  
            }
          </script>




<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery.mobile.custom.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/bootstrap.bundle.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/global.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_base.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_installed.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_print.css" rel="stylesheet" type="text/css" media="print">
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/equationrenderer/release/MathRenderer.js"></script>
</head>
<body id="responsive_offcanvas">
<div xmlns="http://www.w3.org/1999/xhtml" id="doc_header_spacer" class="header"></div>
<div xmlns="http://www.w3.org/1999/xhtml" class="section_header level_3"><div class="container-fluid"><div class="row" id="mobile_search_row"><div class="col-sm-6 col-md-7 has_horizontal_local_nav" id="section_header_title"><div class="section_header_content"><div class="section_header_title"><h1><a href="../../documentation-center.html">Help Center</a></h1></div></div></div><div class="col-12 col-sm-6 col-md-5" id="mobile_search"><div class="search_nested_content_container"><form id="docsearch_form" name="docsearch_form" method="get" data-release="R2025b" data-language="en" action="../../templates/searchresults.html"><div class="input-group tokenized_search_field"><label class="visually-hidden form-label">Search Help</label><input type="text" class="form-control conjoined_search" autocomplete="off" name="qdoc" placeholder="Search Help" id="docsearch"> <div><button type="submit" name="submitsearch" id="submitsearch" class="btn icon-search btn_search_adjacent btn_search icon_16" tabindex="-1"></button></div></div></form></div><button class="btn icon-remove btn_search float-end icon_32 d-sm-none" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div><div class="d-sm-none" id="search_actuator"><button class="btn icon-search btn_search float-end icon_16" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div></div></div></div><div class="row-offcanvas row-offcanvas-left">
<div xmlns="http://www.w3.org/1999/xhtml" class="sidebar-offcanvas" id="sidebar">
<nav class="offcanvas_nav" role="navigation">
<div class="offcanvas_actuator" data-bs-toggle="offcanvas" data-bs-target="#sidebar" id="nav_toggle"><button type="button" class="btn"><span class="visually-hidden">Off-Canvas Navigation Menu Toggle
                  Off-Canvas Navigation Menu Toggle</span><span class="icon-menu"></span></button><span class="offcanvas_actuator_label" id="translation_icon-menu" tabindex="-1" aria-hidden="true"></span></div><div class="nav_list_wrapper" id="nav_list_wrapper"><nav class="offcanvas_nav" role="navigation"><ul class="nav_breadcrumb" id="ul_left_nav_ancestors"><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../../documentation-center.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Documentation Home</span></a></li></ul>
<ul class="nav_disambiguation"><li><a href="../index.html?s_tid=CRUX_lftnav" id="index">MATLAB</a>
</li>
<li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../language-fundamentals.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Language Fundamentals</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../data-types.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Data Types</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../tables.html?s_tid=CRUX_lftnav" itemprop="url" id="btzmn1p"><span itemprop="title">Tables</span></a></li></ul><ul class="nav_disambiguation"><li><a href="../index.html?s_tid=CRUX_lftnav" id="index">MATLAB</a>
</li>
<li><a href="../data-import-and-analysis.html?s_tid=CRUX_lftnav">Data Import and Analysis</a></li><li><a href="../preprocessing-data.html?s_tid=CRUX_lftnav" id="bvfkbas-1">Data Preprocessing</a></li></ul><div class="search_refine_v4"><div id="facets_area"><ul class="nav_scrollspy nav list-unstyled" id="pnav">
<li class="nav_scrollspy_function nav-item"><a href="#responsive_offcanvas">Perform Calculations by Group in Table</a></li>
<li class="nav_scrollspy_title nav-item" id="SSPY810-section">On this page</li>
<!--ADD_REFENTRY_TITLE_HERE 11--><li class="nav-item"><a href="#SplitTableDataVariablesAndApplyFunctionsExample-1" class="nav-link intrnllnk">Create Table from File</a></li><li class="nav-item"><a href="#SplitTableDataVariablesAndApplyFunctionsExample-2" class="nav-link intrnllnk">Create categorical Grouping Variables</a></li><li class="nav-item"><a href="#SplitTableDataVariablesAndApplyFunctionsExample-3" class="nav-link intrnllnk">Calculate Statistics by Group in Table</a></li><li class="nav-item"><a href="#SplitTableDataVariablesAndApplyFunctionsExample-4" class="nav-link intrnllnk">Use Alternative Functions for Grouped Calculations</a></li><li class="nav-item"><a href="#SplitTableDataVariablesAndApplyFunctionsExample-8" class="nav-link intrnllnk">Append New Calculation to Existing Table</a></li><li class="nav-item"><a href="#SplitTableDataVariablesAndApplyFunctionsExample-9" class="nav-link intrnllnk">Specify Groups as Bins</a></li><li class="nav-item"><a href="#SplitTableDataVariablesAndApplyFunctionsExample-10" class="nav-link intrnllnk">Summary of Behavior and Recommendations</a></li><li class="nav-item"><a href="#d126e29804" class="nav-link intrnllnk">See Also</a></li></ul></div></div>
</nav></div></nav>
<script src="../../includes/product/scripts/offcanvas_v2.js"></script></div><!--END.CLASS sidebar-offcanvas-->
<div class="offcanvas_content_container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sticky_header_container"><div class="horizontal_nav"><div class="horizontal_nav_container"><div class="offcanvas_horizontal_nav"><div class="container-fluid"><div class="row"><div class="col-sm-12 d-none d-sm-block"><nav class="navbar navbar-default" role="navigation" id="subnav"><div><ul class="nav navbar-nav crux_browse"><li id="crux_nav_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_example" class="crux_resource"><a href="../examples.html?category=tables&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=tables&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=tables&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></nav></div><div class="d-sm-none"><div class="container-fluid"><div class="row"><div class="col-9"><div class="mobile_crux_nav_trigger"><div class="btn-group"><button type="button" class="btn btn-default dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Resources</button><ul class="dropdown-menu"><li id="crux_nav_mobile_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_mobile_example" class="crux_resource"><a href="../examples.html?category=tables&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_mobile_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=tables&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_mobile_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=tables&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></div></div><div class="col-3"><div class="translate_placeholder"></div></div></div></div></div></div></div></div></div></div></div><div class="content_container" id="content_container" itemprop="content">
<div class="container-fluid">
<div class="row">
<div class="col-12">

<main id="skip_link_anchor" tabindex="-1">
<div xmlns="http://www.w3.org/1999/xhtml" id="product_info_alert"></div><section xmlns="http://www.w3.org/1999/xhtml" id="doc_center_content" lang="en" data-language="en"><div id="pgtype-topic">
<section><h1 class="r2025b" itemprop="title content" id="buy5l07">Perform Calculations by Group in Table</h1><div class="examples_short_list hidden_ios_android" data-products="ML"><div data-pane="metadata" class="card metadata_container"><div class="card-body metadata_content"><div class="d-grid"><a class="btn btn_color_blue" href="matlab:openExample('matlab/SplitTableDataVariablesAndApplyFunctionsExample')" data-ex-genre="Live Script">Open Live Script</a></div></div></div></div><div itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/Example" itemprop="example" class="em_example"><meta itemprop="exampleid" content="matlab-SplitTableDataVariablesAndApplyFunctionsExample"><meta itemprop="exampletitle" content="Perform Calculations by Group in Table"></div><span id="SplitTableDataVariablesAndApplyFunctionsExample" class="anchor_target"></span><p class="shortdesc">You can perform calculations on groups of data within table variables. In such calculations, you split one or more table variables into groups of data, perform a calculation on each group, and combine the results into one or more output variables. MATLAB&#174; provides several functions that split data into groups and combine the results for you. You need only specify which table variables contain data, which variables define groups, and the function to apply to the groups of data.</p><p>For example, this diagram shows a simple grouped calculation that splits a numeric table variable into two groups of data, calculates the mean of each group, and then combines the mean values into an output variable.</p><div class="informalfigure"><div id="d126e29167" class="mediaobject"><p><img src="../../examples/matlab/win64/SplitTableDataVariablesAndApplyFunctionsExample_01.png" alt="The data variable and grouping variable are both 6-by-1 variables. The grouping variable has two unique values that define two groups. The mean values are in a 2-by-1 output variable." height="247" width="571"></p></div></div><p>You can perform grouped calculations on table variables by using any of methods in this list:</p><div class="itemizedlist"><ul><li><p><code class="literal">groupsummary</code>, <code class="literal">groupcounts</code>, <code class="literal">groupfilter</code>, and <code class="literal">grouptransform</code></p></li><li><p><code class="literal">varfun</code> and <code class="literal">rowfun</code></p></li><li><p><code class="literal">findgroups</code> and <code class="literal">splitapply</code></p></li><li><p><a href="../ref/computebygroup.html" data-docid="matlab_ref#mw_354e4ac3-6271-47e6-a886-135a6305ae62" class="a">Compute by Group</a> task in the Live Editor</p></li></ul></div><p>In most cases, <code class="literal">groupsummary</code> is the recommended function for grouped calculations. It is simple to use and returns a table with labels that describe results. The other listed functions, however, also offer capabilities that can be useful in some situations.</p><p>This topic has examples that use each of these functions. It ends with a summary of their behaviors and recommended usages.</p><div class="procedure"><h3 class="title" id="SplitTableDataVariablesAndApplyFunctionsExample-1">Create Table from File</h3><p>The sample spreadsheet <code class="literal">outages.csv</code> contains data values that represent electric utility power outages in the United States. To create a table from the file, use the <code class="literal">readtable</code> function. To read text data from the file into table variables that are string arrays, specify the <code class="literal">TextType</code> name-value argument as <code class="literal">"string"</code>.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>outages = readtable(<span style="color:#A020F0">"outages.csv"</span>,<span style="color:#A020F0">"TextType"</span>,<span style="color:#A020F0">"string"</span>)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>outages=<span class="emphasis"><em>1468×6 table</em></span>
      Region          OutageTime        Loss     Customers     RestorationTime           Cause      
    ___________    ________________    ______    __________    ________________    _________________

    "SouthWest"    2002-02-01 12:18    458.98    1.8202e+06    2002-02-07 16:50    "winter storm"   
    "SouthEast"    2003-01-23 00:49    530.14    2.1204e+05                 NaT    "winter storm"   
    "SouthEast"    2003-02-07 21:15     289.4    1.4294e+05    2003-02-17 08:14    "winter storm"   
    "West"         2004-04-06 05:44    434.81    3.4037e+05    2004-04-06 06:10    "equipment fault"
    "MidWest"      2002-03-16 06:18    186.44    2.1275e+05    2002-03-18 23:23    "severe storm"   
    "West"         2003-06-18 02:49         0             0    2003-06-18 10:54    "attack"         
    "West"         2004-06-20 14:39    231.29           NaN    2004-06-20 19:16    "equipment fault"
    "West"         2002-06-06 19:28    311.86           NaN    2002-06-07 00:51    "equipment fault"
    "NorthEast"    2003-07-16 16:23    239.93         49434    2003-07-17 01:12    "fire"           
    "MidWest"      2004-09-27 11:09    286.72         66104    2004-09-27 16:37    "equipment fault"
    "SouthEast"    2004-09-05 17:48    73.387         36073    2004-09-05 20:46    "equipment fault"
    "West"         2004-05-21 21:45    159.99           NaN    2004-05-22 04:23    "equipment fault"
    "SouthEast"    2002-09-01 18:22    95.917         36759    2002-09-01 19:12    "severe storm"   
    "SouthEast"    2003-09-27 07:32       NaN    3.5517e+05    2003-10-04 07:02    "severe storm"   
    "West"         2003-11-12 06:12    254.09    9.2429e+05    2003-11-17 02:04    "winter storm"   
    "NorthEast"    2004-09-18 05:54         0             0                 NaT    "equipment fault"
      &#x22EE;

</pre></div></div></div><h3 class="title" id="SplitTableDataVariablesAndApplyFunctionsExample-2">Create <code class="literal">categorical</code> Grouping Variables</h3><p>Table variables can have any data type. But conceptually, you can also think of tables as having two general kinds of variables: <span class="emphasis"><em>data variables</em></span> and <span class="emphasis"><em>grouping variables</em></span>.</p><div class="itemizedlist"><ul><li><p>Data variables enable you to describe individual events or observations. For example, in <code class="literal">outages</code> you can think of the <code class="literal">OutageTime</code>, <code class="literal">Loss</code>, <code class="literal">Customers</code>, and <code class="literal">RestorationTime</code> variables as data variables.</p></li><li><p>Grouping variables enable you to group together events or observations that have something in common. For example, in <code class="literal">outages</code> you can think of the <code class="literal">Region</code> and <code class="literal">Cause</code> variables as grouping variables. You can group together and analyze the power outages that occur in the same region or share the same cause.</p></li></ul></div><p>Often, grouping variables contain a discrete set of fixed values that specify <span class="emphasis"><em>categories</em></span>. The categories specify groups that data values can belong to. The <code class="literal">categorical</code> data type can be a convenient type for working with categories.</p><p>To convert <code class="literal">Region</code> and <code class="literal">Cause</code> to <code class="literal">categorical</code> variables, use the <code class="literal">convertvars</code> function.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>outages = convertvars(outages,[<span style="color:#A020F0">"Region"</span>,<span style="color:#A020F0">"Cause"</span>],<span style="color:#A020F0">"categorical"</span>)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>outages=<span class="emphasis"><em>1468×6 table</em></span>
     Region         OutageTime        Loss     Customers     RestorationTime          Cause     
    _________    ________________    ______    __________    ________________    _______________

    SouthWest    2002-02-01 12:18    458.98    1.8202e+06    2002-02-07 16:50    winter storm   
    SouthEast    2003-01-23 00:49    530.14    2.1204e+05                 NaT    winter storm   
    SouthEast    2003-02-07 21:15     289.4    1.4294e+05    2003-02-17 08:14    winter storm   
    West         2004-04-06 05:44    434.81    3.4037e+05    2004-04-06 06:10    equipment fault
    MidWest      2002-03-16 06:18    186.44    2.1275e+05    2002-03-18 23:23    severe storm   
    West         2003-06-18 02:49         0             0    2003-06-18 10:54    attack         
    West         2004-06-20 14:39    231.29           NaN    2004-06-20 19:16    equipment fault
    West         2002-06-06 19:28    311.86           NaN    2002-06-07 00:51    equipment fault
    NorthEast    2003-07-16 16:23    239.93         49434    2003-07-17 01:12    fire           
    MidWest      2004-09-27 11:09    286.72         66104    2004-09-27 16:37    equipment fault
    SouthEast    2004-09-05 17:48    73.387         36073    2004-09-05 20:46    equipment fault
    West         2004-05-21 21:45    159.99           NaN    2004-05-22 04:23    equipment fault
    SouthEast    2002-09-01 18:22    95.917         36759    2002-09-01 19:12    severe storm   
    SouthEast    2003-09-27 07:32       NaN    3.5517e+05    2003-10-04 07:02    severe storm   
    West         2003-11-12 06:12    254.09    9.2429e+05    2003-11-17 02:04    winter storm   
    NorthEast    2004-09-18 05:54         0             0                 NaT    equipment fault
      &#x22EE;

</pre></div></div></div><h3 class="title" id="SplitTableDataVariablesAndApplyFunctionsExample-3">Calculate Statistics by Group in Table</h3><p>You can calculate statistics by group in a table using functions such as <code class="literal">groupsummary</code>, <code class="literal">varfun</code>, and <code class="literal">splitapply</code>. These functions enable you to specify groups of data within a table and methods that perform calculations on each group. You can store the results in another table or in output arrays.</p><p>For example, determine the mean power loss and customers affected due to the outages in each region in the <code class="literal">outages</code> table. The recommended way to perform this calculation is to use the <code class="literal">groupsummary</code> function. Specify <code class="literal">Region</code> as the grouping variable, <code class="literal">mean</code> as the method to apply to each group, and <code class="literal">Loss</code> and <code class="literal">Customers</code> as the data variables. The output lists the regions (in the <code class="literal">Region</code> variable), the number of power outages per region (in the <code class="literal">GroupCount</code> variable), and the mean power loss and customers affected in each region (in the <code class="literal">mean_Loss</code> and <code class="literal">mean_Customers</code> variables, respectively).</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>meanLossByRegion = groupsummary(outages,<span style="color:#A020F0">"Region"</span>,<span style="color:#A020F0">"mean"</span>,[<span style="color:#A020F0">"Loss"</span>,<span style="color:#A020F0">"Customers"</span>])</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>meanLossByRegion=<span class="emphasis"><em>5×4 table</em></span>
     Region      GroupCount    mean_Loss    mean_Customers
    _________    __________    _________    ______________

    MidWest         142         1137.7        2.4015e+05  
    NorthEast       557         551.65        1.4917e+05  
    SouthEast       389         495.35        1.6776e+05  
    SouthWest        26         493.88        2.6975e+05  
    West            354         433.37        1.5201e+05  

</pre></div></div></div><p>The <code class="literal">groupsummary</code> function is recommended for several reasons:</p><div class="itemizedlist"><ul><li><p>You can specify many common methods (such as <code class="literal">max</code>, <code class="literal">min</code>, and <code class="literal">mean</code>) by name, without using function handles.</p></li><li><p>You can specify multiple methods in one call.</p></li><li><p><code class="literal">NaN</code>s, <code class="literal">NaT</code>s, and other missing values in the data variables are automatically <span class="emphasis"><em>omitted</em></span> when calculating results.</p></li></ul></div><p>The third point explains why the <code class="literal">mean_Loss</code> and <code class="literal">mean_Customers</code> variables do not have <code class="literal">NaN</code>s in the <code class="literal">meanLossByRegion</code> output table.</p><p>To specify multiple methods in one call to <code class="literal">groupsummary</code>, list them in an array. For example, calculate the maximum, mean, and minimum power loss by region.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>lossStatsByRegion = groupsummary(outages,<span style="color:#A020F0">"Region"</span>,[<span style="color:#A020F0">"max"</span>,<span style="color:#A020F0">"mean"</span>,<span style="color:#A020F0">"min"</span>],<span style="color:#A020F0">"Loss"</span>)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>lossStatsByRegion=<span class="emphasis"><em>5×5 table</em></span>
     Region      GroupCount    max_Loss    mean_Loss    min_Loss
    _________    __________    ________    _________    ________

    MidWest         142          23141      1137.7         0    
    NorthEast       557          23418      551.65         0    
    SouthEast       389         8767.3      495.35         0    
    SouthWest        26           2796      493.88         0    
    West            354          16659      433.37         0    

</pre></div></div></div><p>The minimum loss in every region is zero. To analyze only those outages that resulted in losses greater than zero, exclude the rows in <code class="literal">outages</code> where the loss is zero. First create a vector of logical indices whose values are logical <code class="literal">1</code> (<code class="literal">true</code>) for rows where <code class="literal">outages.Loss</code> is greater than zero. Then index into <code class="literal">outages</code> to return a table that includes only those rows. Again, calculate the maximum, mean, and minimum power loss by region.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>nonZeroLossIndices = outages.Loss &gt; 0;
nonZeroLossOutages = outages(nonZeroLossIndices,:);
nonZeroLossStats = groupsummary(nonZeroLossOutages,<span style="color:#A020F0">"Region"</span>,[<span style="color:#A020F0">"max"</span>,<span style="color:#A020F0">"mean"</span>,<span style="color:#A020F0">"min"</span>],<span style="color:#A020F0">"Loss"</span>)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>nonZeroLossStats=<span class="emphasis"><em>5×5 table</em></span>
     Region      GroupCount    max_Loss    mean_Loss    min_Loss
    _________    __________    ________    _________    ________

    MidWest          81          23141      1264.1       8.9214 
    NorthEast       180          23418      827.47      0.74042 
    SouthEast       234         8767.3      546.16       2.3096 
    SouthWest        23           2796      515.35       27.882 
    West            175          16659      549.76      0.71847 

</pre></div></div></div><h3 class="title" id="SplitTableDataVariablesAndApplyFunctionsExample-4">Use Alternative Functions for Grouped Calculations</h3><p>There are alternative functions that perform grouped calculations in tables. While <code class="literal">groupsummary</code> is recommended, the alternative functions are also useful in some situations.</p><div class="itemizedlist"><ul><li><p>The <code class="literal">varfun</code> function performs calculations on variables. It is similar to <code class="literal">groupsummary</code>, but <code class="literal">varfun</code> can perform both grouped and ungrouped calculations.</p></li><li><p>The <code class="literal">rowfun</code> function performs calculations along rows. You can specify methods that take multiple inputs or that return multiple outputs.</p></li><li><p>The <code class="literal">findgroups</code> and <code class="literal">splitapply</code> functions can perform calculations on variables or along rows. You can specify methods that take multiple inputs or that return multiple outputs. The outputs of <code class="literal">splitapply</code> are arrays, not tables.</p></li></ul></div><h4 class="title" id="SplitTableDataVariablesAndApplyFunctionsExample-5">Call <code class="literal">varfun</code> on Variables</h4><p>For example, calculate the maximum power loss by region using <code class="literal">varfun</code>. The output table has a similar format to the output of <code class="literal">groupsummary</code>.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>maxLossByVarfun = varfun(@max, <span style="color:#0000FF">...</span>
                         outages, <span style="color:#0000FF">...</span>
                         <span style="color:#A020F0">"InputVariables"</span>,<span style="color:#A020F0">"Loss"</span>, <span style="color:#0000FF">...</span>
                         <span style="color:#A020F0">"GroupingVariables"</span>,<span style="color:#A020F0">"Region"</span>)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>maxLossByVarfun=<span class="emphasis"><em>5×3 table</em></span>
     Region      GroupCount    max_Loss
    _________    __________    ________

    MidWest         142          23141 
    NorthEast       557          23418 
    SouthEast       389         8767.3 
    SouthWest        26           2796 
    West            354          16659 

</pre></div></div></div><p>However, there are significant differences when you use <code class="literal">varfun</code>:</p><div class="itemizedlist"><ul><li><p>You must always specify the method by using a function handle.</p></li><li><p>You can specify only one method.</p></li><li><p>You can perform grouped <span class="emphasis"><em>or</em></span> ungrouped calculations.</p></li><li><p><code class="literal">NaN</code>s, <code class="literal">NaT</code>s, and other missing values in the data variables are automatically <span class="emphasis"><em>included</em></span> when calculating results.</p></li></ul></div><p>The last point is a significant difference in behavior between <code class="literal">groupsummary</code> and <code class="literal">varfun</code>. For example, the <code class="literal">Loss</code> variable has <code class="literal">NaN</code>s. If you use <code class="literal">varfun</code> to calculate the mean losses, then by default the results are <code class="literal">NaN</code>s, unlike the default <code class="literal">groupsummary</code> results.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>meanLossByVarfun = varfun(@mean, <span style="color:#0000FF">...</span>
                          outages, <span style="color:#0000FF">...</span>
                          <span style="color:#A020F0">"InputVariables"</span>,<span style="color:#A020F0">"Loss"</span>, <span style="color:#0000FF">...</span>
                          <span style="color:#A020F0">"GroupingVariables"</span>,<span style="color:#A020F0">"Region"</span>)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>meanLossByVarfun=<span class="emphasis"><em>5×3 table</em></span>
     Region      GroupCount    mean_Loss
    _________    __________    _________

    MidWest         142           NaN   
    NorthEast       557           NaN   
    SouthEast       389           NaN   
    SouthWest        26           NaN   
    West            354           NaN   

</pre></div></div></div><p>To omit missing values when using <code class="literal">varfun</code>, wrap the method in an anonymous function so that you can specify the <code class="literal">"omitnan"</code> option.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>omitnanMean = @(x)(mean(x,<span style="color:#A020F0">"omitnan"</span>));

meanLossOmitNaNs = varfun(omitnanMean, <span style="color:#0000FF">...</span>
                          outages, <span style="color:#0000FF">...</span>
                          <span style="color:#A020F0">"InputVariables"</span>,<span style="color:#A020F0">"Loss"</span>, <span style="color:#0000FF">...</span>
                          <span style="color:#A020F0">"GroupingVariables"</span>,<span style="color:#A020F0">"Region"</span>)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>meanLossOmitNaNs=<span class="emphasis"><em>5×3 table</em></span>
     Region      GroupCount    Fun_Loss
    _________    __________    ________

    MidWest         142         1137.7 
    NorthEast       557         551.65 
    SouthEast       389         495.35 
    SouthWest        26         493.88 
    West            354         433.37 

</pre></div></div></div><p>Another point refers to a different but related use case, which is to perform ungrouped calculations on table variables. To apply a method to all table variables without grouping, use <code class="literal">varfun</code>. For example, calculate the maximum power loss and the maximum number of customers affected in the entire table.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>maxValuesInOutages = varfun(@max, <span style="color:#0000FF">...</span>
                            outages, <span style="color:#0000FF">...</span>
                            <span style="color:#A020F0">"InputVariables"</span>,[<span style="color:#A020F0">"Loss"</span>,<span style="color:#A020F0">"Customers"</span>])</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>maxValuesInOutages=<span class="emphasis"><em>1×2 table</em></span>
    max_Loss    max_Customers
    ________    _____________

     23418       5.9689e+06  

</pre></div></div></div><h4 class="title" id="SplitTableDataVariablesAndApplyFunctionsExample-6">Call <code class="literal">rowfun</code> on Rows</h4><p>The <code class="literal">rowfun</code> function applies a method along the rows of a table. Where <code class="literal">varfun</code> applies a method to each specified variable, one by one, <code class="literal">rowfun</code> takes all specified table variables as input arguments to the method and applies the method once.</p><p>For example, calculate the median loss per customer in each region. To perform this calculation, first specify a function that takes two input arguments (<code class="literal">loss</code> and <code class="literal">customers</code>), divides the loss by the number of customers, and then returns the median.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>medianLossCustFcn = @(loss,customers)(median(loss ./ customers,<span style="color:#A020F0">"omitnan"</span>));</pre></div></div></div><p>Then call <code class="literal">rowfun</code>. You can specify a meaningful output variable name by using the <code class="literal">OutputVariablesNames</code> name-value argument.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>meanLossPerCustomer = rowfun(medianLossCustFcn, <span style="color:#0000FF">...</span>
                             outages, <span style="color:#0000FF">...</span>
                             <span style="color:#A020F0">"InputVariables"</span>,[<span style="color:#A020F0">"Loss"</span>,<span style="color:#A020F0">"Customers"</span>], <span style="color:#0000FF">...</span>
                             <span style="color:#A020F0">"GroupingVariables"</span>,<span style="color:#A020F0">"Region"</span>, <span style="color:#0000FF">...</span>
                             <span style="color:#A020F0">"OutputVariableNames"</span>,<span style="color:#A020F0">"MedianLossPerCustomer"</span>)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>meanLossPerCustomer=<span class="emphasis"><em>5×3 table</em></span>
     Region      GroupCount    MedianLossPerCustomer
    _________    __________    _____________________

    MidWest         142              0.0042139      
    NorthEast       557              0.0028512      
    SouthEast       389              0.0032057      
    SouthWest        26              0.0026353      
    West            354               0.002527      

</pre></div></div></div><p>You can also use <code class="literal">rowfun</code> when the method returns multiple outputs. For example, use <code class="literal">bounds</code> to calculate the minimum and maximum loss per region in one call to <code class="literal">rowfun</code>. The <code class="literal">bounds</code> function returns two output arguments.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>boundsLossPerRegion = rowfun(@bounds, <span style="color:#0000FF">...</span>
                             outages, <span style="color:#0000FF">...</span>
                             <span style="color:#A020F0">"InputVariables"</span>,<span style="color:#A020F0">"Loss"</span>, <span style="color:#0000FF">...</span>
                             <span style="color:#A020F0">"GroupingVariables"</span>,<span style="color:#A020F0">"Region"</span>, <span style="color:#0000FF">...</span>
                             <span style="color:#A020F0">"OutputVariableNames"</span>,[<span style="color:#A020F0">"MinLoss"</span>,<span style="color:#A020F0">"MaxLoss"</span>])</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>boundsLossPerRegion=<span class="emphasis"><em>5×4 table</em></span>
     Region      GroupCount    MinLoss    MaxLoss
    _________    __________    _______    _______

    MidWest         142           0        23141 
    NorthEast       557           0        23418 
    SouthEast       389           0       8767.3 
    SouthWest        26           0         2796 
    West            354           0        16659 

</pre></div></div></div><h4 class="title" id="SplitTableDataVariablesAndApplyFunctionsExample-7">Call <code class="literal">findgroups</code> and <code class="literal">splitapply</code> on Variables or Rows</h4><p>You can use the <code class="literal">findgroups</code> function to define groups and then use <code class="literal">splitapply</code> to apply a method to each group. The <code class="literal">findgroups</code> function returns a vector of group numbers that identifies which group a row of data is part of. The <code class="literal">splitapply</code> function returns a numeric array of the outputs of the method applied to the groups.</p><p>For example, calculate the maximum power loss by region using <code class="literal">findgroups</code> and <code class="literal">splitapply</code>.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>G = findgroups(outages.Region)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>G = <span class="emphasis"><em>1468×1</em></span>

     4
     3
     3
     5
     1
     5
     5
     5
     2
     1
     3
     5
     3
     3
     5
      &#x22EE;

</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>maxLossArray = splitapply(@max,outages.Loss,G)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>maxLossArray = <span class="emphasis"><em>5×1</em></span>
10<sup>4</sup> ×

    2.3141
    2.3418
    0.8767
    0.2796
    1.6659

</pre></div></div></div><p>Like <code class="literal">rowfun</code>, <code class="literal">splitapply</code> enables you to specify methods that return multiple outputs. Calculate both minima and maxima by using <code class="literal">bounds</code>.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>[minLossArray,maxLossArray] = splitapply(@bounds,outages.Loss,G)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>minLossArray = <span class="emphasis"><em>5×1</em></span>

     0
     0
     0
     0
     0

</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>maxLossArray = <span class="emphasis"><em>5×1</em></span>
10<sup>4</sup> ×

    2.3141
    2.3418
    0.8767
    0.2796
    1.6659

</pre></div></div></div><p>You can also specify methods that take multiple inputs. For example, use the <code class="literal">medianLossCustFcn</code> function again to calculate the median loss per customer. But this time, return the median loss per customer in each region as an array.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>medianLossCustFcn = @(loss,customers)(median(loss ./ customers,<span style="color:#A020F0">"omitnan"</span>));

medianLossArray = splitapply(medianLossCustFcn,outages.Loss,outages.Customers,G)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>medianLossArray = <span class="emphasis"><em>5×1</em></span>

    0.0042
    0.0029
    0.0032
    0.0026
    0.0025

</pre></div></div></div><p>The numeric outputs of <code class="literal">findgroups</code> and <code class="literal">splitapply</code> are not annotated like the output of <code class="literal">groupsummary</code>. However, returning numeric outputs can have other benefits:</p><div class="itemizedlist"><ul><li><p>You can use the output of <code class="literal">findgroups</code> in multiple calls to <code class="literal">splitapply</code>. You might want to use <code class="literal">findgroups</code> and <code class="literal">splitapply</code> for efficiency when you make many grouped calculations on a large table.</p></li><li><p>You can create a results table with a different format by building it from the outputs of <code class="literal">findgroups</code> and <code class="literal">splitapply</code>.</p></li><li><p>You can call methods that return multiple outputs.</p></li><li><p>You can append the outputs of <code class="literal">splitapply</code> to an existing table.</p></li></ul></div><h3 class="title" id="SplitTableDataVariablesAndApplyFunctionsExample-8">Append New Calculation to Existing Table</h3><p>If you already have a table of results, you can append the results of another calculation to that table. For example, calculate the mean duration of power outages in each region in hours. Append the mean durations as a new variable to the <code class="literal">lossStatsByRegion</code> table.</p><p>First subtract the outage times from the restoration times to return the durations of the power outages. Convert these durations to hours by using the <code class="literal">hours</code> function.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>D = outages.RestorationTime - outages.OutageTime;
H = hours(D)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>H = <span class="emphasis"><em>1468×1</em></span>
10<sup>5</sup> ×

    0.0015
       NaN
    0.0023
    0.0000
    0.0007
    0.0001
    0.0000
    0.0001
    0.0001
    0.0001
    0.0000
    0.0001
    0.0000
    0.0017
    0.0012
      &#x22EE;

</pre></div></div></div><p>Next use <code class="literal">mean</code> to calculate the mean durations. The outage durations have some <code class="literal">NaN</code> values because the outage and restoration times have some missing values. As before, wrap the method in an anonymous function to specify the <code class="literal">"omitnan"</code> option.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>omitnanMean = @(x)(mean(x,<span style="color:#A020F0">"omitnan"</span>));</pre></div></div></div><p>Calculate the mean duration of power outages by region. Append it to <code class="literal">lossStatsByRegion</code> as a new table variable.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>G = findgroups(outages.Region);
lossStatsByRegion.mean_Outage = splitapply(omitnanMean,H,G)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>lossStatsByRegion=<span class="emphasis"><em>5×6 table</em></span>
     Region      GroupCount    max_Loss    mean_Loss    min_Loss    mean_Outage
    _________    __________    ________    _________    ________    ___________

    MidWest         142          23141      1137.7         0          819.25   
    NorthEast       557          23418      551.65         0          581.04   
    SouthEast       389         8767.3      495.35         0           40.83   
    SouthWest        26           2796      493.88         0          59.519   
    West            354          16659      433.37         0          673.45   

</pre></div></div></div><h3 class="title" id="SplitTableDataVariablesAndApplyFunctionsExample-9">Specify Groups as Bins</h3><p>There is another way to specify groups. Instead of specifying categories as unique values in a grouping variable, you can bin values in a variable where values are distributed continuously. Then you can use those bins to specify groups.</p><p>For example, bin the power outages by year. To count the number of power outages per year, use the <code class="literal">groupcounts</code> function.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>outagesByYear = groupcounts(outages,<span style="color:#A020F0">"OutageTime"</span>,<span style="color:#A020F0">"year"</span>)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>outagesByYear=<span class="emphasis"><em>13×3 table</em></span>
    year_OutageTime    GroupCount    Percent
    _______________    __________    _______

         2002              36         2.4523
         2003              62         4.2234
         2004              79         5.3815
         2005              74         5.0409
         2006             108         7.3569
         2007              91         6.1989
         2008             115         7.8338
         2009             142          9.673
         2010             177         12.057
         2011             190         12.943
         2012             207         14.101
         2013             186          12.67
         2014               1        0.06812

</pre></div></div></div><p>Visualize the number of outages per year. The number per year increases over time in this data set.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>bar(outagesByYear.year_OutageTime,outagesByYear.GroupCount)</pre></div></div></div><div class="informalfigure"><div id="d126e29699" class="mediaobject"><p><img src="../../examples/matlab/win64/SplitTableDataVariablesAndApplyFunctionsExample_02.png" alt="Figure contains an axes object. The axes object contains an object of type bar." width="560"></p></div></div><p>You can use <code class="literal">groupsummary</code> with bins as groups. For example, calculate the median values for customers affected and power losses by year.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>medianLossesByYear = groupsummary(outages,<span style="color:#A020F0">"OutageTime"</span>,<span style="color:#A020F0">"year"</span>,<span style="color:#A020F0">"median"</span>,[<span style="color:#A020F0">"Customers"</span>,<span style="color:#A020F0">"Loss"</span>])</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>medianLossesByYear=<span class="emphasis"><em>13×4 table</em></span>
    year_OutageTime    GroupCount    median_Customers    median_Loss
    _______________    __________    ________________    ___________

         2002              36           1.7101e+05         277.02   
         2003              62           1.0204e+05          295.6   
         2004              79           1.0108e+05         252.44   
         2005              74                91536         265.16   
         2006             108                86020         210.08   
         2007              91           1.0529e+05         232.12   
         2008             115                86356         205.77   
         2009             142                63119         83.491   
         2010             177                66212         155.76   
         2011             190                48200         75.286   
         2012             207                66994         78.289   
         2013             186                55669         69.596   
         2014               1                  NaN            NaN   

</pre></div></div></div><p>Visualize the median number of customers affected by outages per year. Although the number of outages increased over time, the median number of affected customers decreased.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>plot(medianLossesByYear,<span style="color:#A020F0">"year_OutageTime"</span>,<span style="color:#A020F0">"median_Customers"</span>)</pre></div></div></div><div class="informalfigure"><div id="d126e29718" class="mediaobject"><p><img src="../../examples/matlab/win64/SplitTableDataVariablesAndApplyFunctionsExample_03.png" alt="Figure contains an axes object. The axes object with xlabel year_OutageTime, ylabel median_Customers contains an object of type line." width="560"></p></div></div><p>Return the rows of <code class="literal">outages</code> for years with more than 75 outages. To index into <code class="literal">outages</code> by those years, use the <code class="literal">groupfilter</code> function. To find the bins with more than 75 rows, specify an anonymous function that returns a logical <code class="literal">1</code> if the number of rows in a bin is greater than 75.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>outages75 = groupfilter(outages,<span style="color:#A020F0">"OutageTime"</span>,<span style="color:#A020F0">"year"</span>,@(x) numel(x) &gt; 75)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>outages75=<span class="emphasis"><em>1295×7 table</em></span>
     Region         OutageTime        Loss     Customers     RestorationTime          Cause         year_OutageTime
    _________    ________________    ______    __________    ________________    _______________    _______________

    West         2004-04-06 05:44    434.81    3.4037e+05    2004-04-06 06:10    equipment fault         2004      
    West         2004-06-20 14:39    231.29           NaN    2004-06-20 19:16    equipment fault         2004      
    MidWest      2004-09-27 11:09    286.72         66104    2004-09-27 16:37    equipment fault         2004      
    SouthEast    2004-09-05 17:48    73.387         36073    2004-09-05 20:46    equipment fault         2004      
    West         2004-05-21 21:45    159.99           NaN    2004-05-22 04:23    equipment fault         2004      
    NorthEast    2004-09-18 05:54         0             0                 NaT    equipment fault         2004      
    NorthEast    2004-11-13 10:42       NaN    1.4227e+05    2004-11-19 02:31    winter storm            2004      
    SouthEast    2004-12-06 23:18       NaN         37136    2004-12-14 03:21    winter storm            2004      
    West         2004-12-21 18:50    112.05     7.985e+05    2004-12-29 03:46    winter storm            2004      
    NorthEast    2004-12-26 22:18    255.45    1.0444e+05    2004-12-27 14:11    winter storm            2004      
    SouthWest    2004-06-06 05:27    559.41      2.19e+05    2004-06-06 05:55    equipment fault         2004      
    MidWest      2004-07-02 09:16     15128    2.0104e+05    2004-07-06 14:11    thunder storm           2004      
    SouthWest    2004-07-18 14:40    340.35    1.4963e+05    2004-07-26 23:34    severe storm            2004      
    NorthEast    2004-09-16 19:42      4718           NaN                 NaT    unknown                 2004      
    SouthEast    2004-09-20 12:37    8767.3    2.2249e+06    2004-10-02 06:00    severe storm            2004      
    MidWest      2004-11-09 18:44    470.83         67587    2004-11-09 21:24    wind                    2004      
      &#x22EE;

</pre></div></div></div><h3 class="title" id="SplitTableDataVariablesAndApplyFunctionsExample-10">Summary of Behavior and Recommendations</h3><p>Use these tips and recommendations to decide which functions to use to perform group calculations.</p><div class="itemizedlist"><ul><li><p>Specify groups using either grouping variables or bins created from numeric, <code class="literal">datetime</code>, or <code class="literal">duration</code> variables.</p></li><li><p>To perform calculations by group on data in tables or timetables, use the recommended function <code class="literal">groupsummary</code>. The related functions <code class="literal">groupcounts</code>, <code class="literal">groupfilter</code>, and <code class="literal">grouptransform</code> also are useful.</p></li><li><p>Consider using <code class="literal">varfun</code> to automatically include missing values (such as <code class="literal">NaN</code>s and <code class="literal">NaT</code>s) when applying methods to groups of data. Also, <code class="literal">varfun</code> can perform both grouped and ungrouped calculations.</p></li><li><p>Consider using <code class="literal">findgroups</code> and <code class="literal">splitapply</code> for efficiency when you make many consecutive grouped calculations on a large table.</p></li><li><p>Consider using <code class="literal">findgroups</code> and <code class="literal">splitapply</code> to append new arrays to an existing table of results.</p></li><li><p>To perform calculations using a method that returns multiple outputs, such as <code class="literal">bounds</code>, use either <code class="literal">rowfun</code> or <code class="literal">splitapply</code>.</p></li><li><p>To perform calculations along rows using a method that requires multiple input arguments, use either <code class="literal">rowfun</code> or <code class="literal">splitapply</code>.</p></li></ul></div></div>
        <h2 id="d126e29804">See Also</h2><p><span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/double.groupsummary.html"><span itemprop="name"><code class="function">groupsummary</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/double.groupcounts.html"><span itemprop="name"><code class="function">groupcounts</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/double.groupfilter.html"><span itemprop="name"><code class="function">groupfilter</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/double.grouptransform.html"><span itemprop="name"><code class="function">grouptransform</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/table.varfun.html"><span itemprop="name"><code class="function">varfun</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/table.rowfun.html"><span itemprop="name"><code class="function">rowfun</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/findgroups.html"><span itemprop="name"><code class="function">findgroups</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/splitapply.html"><span itemprop="name"><code class="function">splitapply</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/table.html"><span itemprop="name"><code class="object">table</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/categorical.html"><span itemprop="name"><code class="object">categorical</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/datetime.html"><span itemprop="name"><code class="object">datetime</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/duration.html"><span itemprop="name"><code class="object">duration</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/readtable.html"><span itemprop="name"><code class="function">readtable</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/table.convertvars.html"><span itemprop="name"><code class="function">convertvars</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/bounds.html"><span itemprop="name"><code class="function">bounds</code></span></a></span></p>
        <h3 id="d126e29854">Topics</h3><ul class="list-unstyled"><li><a href="access-data-in-a-table.html" class="a">Access Data in Tables</a></li><li><a href="calculations-when-tables-have-both-numeric-and-nonnumeric-data.html" class="a">Calculations When Tables Have Both Numeric and Nonnumeric Data</a></li><li><a href="access-data-using-categorical-arrays.html" class="a">Access Data Using Categorical Arrays</a></li><li><a href="computations-with-numeric-data-in-table-or-timetable.html" class="a">Data Cleaning and Calculations in Tables</a></li><li><a href="grouped-calculations-in-tables-and-timetables.html" class="a">Grouped Calculations in Tables and Timetables</a></li><li><a href="../data_analysis/summarize-or-pivot.html" class="a">Summarize or Pivot Data in Tables Using Groups</a></li></ul>
        
        
      </section>
    </div></section><div xmlns="http://www.w3.org/1999/xhtml" class="clearfix"></div>
<div xmlns="http://www.w3.org/1999/xhtml" align="center" class="feedbackblock" id="mw_docsurvey"><script src="https://www.mathworks.com/help/docsurvey/docfeedback.js"></script>
<script>loadSurveyHidden();</script>
<link rel="stylesheet" href="https://www.mathworks.com/help/docsurvey/release/index-css.css" type="text/css">
<script src="https://www.mathworks.com/help/docsurvey/release/bundle.index.js"></script>

<script>initDocSurvey();</script></div></main>


</div>
</div>
</div>
</div><!--close_0960-->
<footer xmlns="http://www.w3.org/1999/xhtml" id="footer" class="bs-footer">
<div class="container-fluid">
<div class="footer">
<div class="row">
<div class="col-12">
<p class="copyright">© 1994-2025 The MathWorks, Inc.</p>
<ul class="footernav"><li class="footernav_help"><a href="matlab:web(matlab.internal.licenseAgreement)">Terms of Use</a></li><li class="footernav_patents"><a href="matlab:web([matlabroot '/patents.txt'])">Patents</a></li><li class="footernav_trademarks"><a href="matlab:web([matlabroot '/trademarks.txt'])">Trademarks</a></li><li class="footernav_piracy"><a href="matlab:web([docroot '/acknowledgments.html'])">Acknowledgments</a></li></ul></div>
</div>
</div>
</div>
</footer>
</div><!--close row-offcanvas-->
</div><!--close_0970-->
</body>
</html>
