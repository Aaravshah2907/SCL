<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage">
<head>
<meta xmlns="http://www.w3.org/1999/xhtml" charset="utf-8">
<meta xmlns="http://www.w3.org/1999/xhtml" name="viewport" content="width=device-width, initial-scale=1.0">
<meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="X-UA-Compatible" content="IE=edge">
<title>Timer Callback Functions</title>
<script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
      {
      "@context": "http://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement":
      [{
          "@type": "ListItem",
          "position": 1,

          "item": {
          "@id": "../index.html",
          "name": "MATLAB"
}

          } 
        ,
        {
          "@type": "ListItem",
          "position": 2,

          "item": {
          "@id": "../programming-and-data-types.html",
          "name": "Programming"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 3,

          "item": {
          "@id": "../code-execution.html",
          "name": "Code Execution"
}

          }]
      }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "VisibleBreadcrumbs",

        "itemListElement":
        [
        "code-execution"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "PropertyValue",
          "name": "UISupport",
          "value": "Desktop"

        }</script><link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/bootstrap.min.css" rel="stylesheet" type="text/css">


  <meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="Content-Script-Type" content="text/javascript">
<meta xmlns="http://www.w3.org/1999/xhtml" name="toctype" itemprop="pagetype" content="con">
<meta xmlns="http://www.w3.org/1999/xhtml" name="infotype" itemprop="infotype" content="con">

<meta xmlns="http://www.w3.org/1999/xhtml" name="description" itemprop="description" content="Use a callback function to specify commands to execute during timer object events."><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-3.6.0.min.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-migrate.min.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_lg.css" rel="stylesheet" media="screen and (min-width: 1200px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_md.css" rel="stylesheet" media="screen and (min-width: 992px) and (max-width: 1199px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm+xs.css" rel="stylesheet" media="screen and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm.css" rel="stylesheet" media="screen and (min-width: 768px) and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_xs.css" rel="stylesheet" media="screen and (max-width: 767px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_offcanvas_v2.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/shared/highlight/styles/mwdochighlight.min.css" rel="stylesheet" type="text/css">

<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/l10n.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/f1help.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/mw.imageanimation.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/jquery.highlight.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/underscore-min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/use_platform_screenshots.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/suggest.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/overload.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/helpservices.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/productfilter.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/matlab_dialog_shared.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/highlight/highlight.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/localstorage.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/product_group.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/saxonjs/SaxonJS2.rt.js"></script><script xmlns="http://www.w3.org/1999/xhtml">
            window.history.replaceState(window.location.href, null, ""); // Initialize
            window.onload = function() {    
            mystylesheetLocation = "../../includes/shared/scripts/product_group-sef.json";
            mysourceLocation = "../../docset/docset.xml";
            product_help_location = "matlab";
            pagetype = "section";
            doccentertype = "product";
            langcode = "";
            getProductFilteredList(mystylesheetLocation, mysourceLocation, product_help_location, pagetype, doccentertype, langcode);  
            }
          </script>




<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery.mobile.custom.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/bootstrap.bundle.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/global.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_base.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_installed.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_print.css" rel="stylesheet" type="text/css" media="print">
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/equationrenderer/release/MathRenderer.js"></script>
</head>
<body id="responsive_offcanvas">
<div xmlns="http://www.w3.org/1999/xhtml" id="doc_header_spacer" class="header"></div>
<div xmlns="http://www.w3.org/1999/xhtml" class="section_header level_3"><div class="container-fluid"><div class="row" id="mobile_search_row"><div class="col-sm-6 col-md-7 has_horizontal_local_nav" id="section_header_title"><div class="section_header_content"><div class="section_header_title"><h1><a href="../../documentation-center.html">Help Center</a></h1></div></div></div><div class="col-12 col-sm-6 col-md-5" id="mobile_search"><div class="search_nested_content_container"><form id="docsearch_form" name="docsearch_form" method="get" data-release="R2025b" data-language="en" action="../../templates/searchresults.html"><div class="input-group tokenized_search_field"><label class="visually-hidden form-label">Search Help</label><input type="text" class="form-control conjoined_search" autocomplete="off" name="qdoc" placeholder="Search Help" id="docsearch"> <div><button type="submit" name="submitsearch" id="submitsearch" class="btn icon-search btn_search_adjacent btn_search icon_16" tabindex="-1"></button></div></div></form></div><button class="btn icon-remove btn_search float-end icon_32 d-sm-none" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div><div class="d-sm-none" id="search_actuator"><button class="btn icon-search btn_search float-end icon_16" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div></div></div></div><div class="row-offcanvas row-offcanvas-left">
<div xmlns="http://www.w3.org/1999/xhtml" class="sidebar-offcanvas" id="sidebar">
<nav class="offcanvas_nav" role="navigation">
<div class="offcanvas_actuator" data-bs-toggle="offcanvas" data-bs-target="#sidebar" id="nav_toggle"><button type="button" class="btn"><span class="visually-hidden">Off-Canvas Navigation Menu Toggle
                  Off-Canvas Navigation Menu Toggle</span><span class="icon-menu"></span></button><span class="offcanvas_actuator_label" id="translation_icon-menu" tabindex="-1" aria-hidden="true"></span></div><div class="nav_list_wrapper" id="nav_list_wrapper"><nav class="offcanvas_nav" role="navigation"><ul class="nav_breadcrumb" id="ul_left_nav_ancestors"><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../../documentation-center.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Documentation Home</span></a></li></ul>
<ul class="nav_disambiguation"><li><a href="../index.html?s_tid=CRUX_lftnav" id="index">MATLAB</a>
</li>
<li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../programming-and-data-types.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Programming</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../code-execution.html?s_tid=CRUX_lftnav" itemprop="url" id="function-execution"><span itemprop="title">Code Execution</span></a></li></ul><div class="search_refine_v4"><div id="facets_area"><ul class="nav_scrollspy nav list-unstyled" id="pnav">
<li class="nav_scrollspy_function nav-item"><a href="#responsive_offcanvas">Timer Callback Functions</a></li>
<li class="nav_scrollspy_title nav-item" id="SSPY810-section">On this page</li>
<!--ADD_REFENTRY_TITLE_HERE 11--><li class="nav-item"><a href="#f9-42377" class="nav-link intrnllnk">Associating Commands with Timer Object Events</a></li><li class="nav-item"><a href="#f9-42494" class="nav-link intrnllnk">Creating Callback Functions</a><ul class="nav"><li class="nav-item"><a href="#f9-42129" class="nav-link intrnllnk">Specifying Callback Functions Directly</a></li><li class="nav-item"><a href="#f9-40138" class="nav-link intrnllnk">Putting Commands in a Callback Function</a></li><li class="nav-item"><a href="#f9-39575" class="nav-link intrnllnk">Example: Writing a Callback Function</a></li></ul></li><li class="nav-item"><a href="#f9-39598" class="nav-link intrnllnk">Specifying the Value of Callback Function Properties</a></li><li class="nav-item"><a href="#d126e66348" class="nav-link intrnllnk">See Also</a></li></ul></div></div>
</nav></div></nav>
<script src="../../includes/product/scripts/offcanvas_v2.js"></script></div><!--END.CLASS sidebar-offcanvas-->
<div class="offcanvas_content_container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sticky_header_container"><div class="horizontal_nav"><div class="horizontal_nav_container"><div class="offcanvas_horizontal_nav"><div class="container-fluid"><div class="row"><div class="col-sm-12 d-none d-sm-block"><nav class="navbar navbar-default" role="navigation" id="subnav"><div><ul class="nav navbar-nav crux_browse"><li id="crux_nav_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_example" class="crux_resource"><a href="../examples.html?category=code-execution&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=code-execution&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=code-execution&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></nav></div><div class="d-sm-none"><div class="container-fluid"><div class="row"><div class="col-9"><div class="mobile_crux_nav_trigger"><div class="btn-group"><button type="button" class="btn btn-default dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Resources</button><ul class="dropdown-menu"><li id="crux_nav_mobile_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_mobile_example" class="crux_resource"><a href="../examples.html?category=code-execution&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_mobile_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=code-execution&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_mobile_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=code-execution&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></div></div><div class="col-3"><div class="translate_placeholder"></div></div></div></div></div></div></div></div></div></div></div><div class="content_container" id="content_container" itemprop="content">
<div class="container-fluid">
<div class="row">
<div class="col-12">

<main id="skip_link_anchor" tabindex="-1">
<div xmlns="http://www.w3.org/1999/xhtml" id="product_info_alert"></div><section xmlns="http://www.w3.org/1999/xhtml" id="doc_center_content" lang="en" data-language="en"><div id="pgtype-topic">
<section><h2 class="title r2025b" itemprop="title content" id="f9-39541">Timer Callback Functions</h2><a class="indexterm" name="d126e66168"></a><div class="alert alert-info d-inline-block"><span class="alert_icon icon-alert-info-reverse"></span><p class="alert_heading"><strong>Note</strong></p><p>Callback function execution might be delayed if the callback involves a
                CPU-intensive task such as updating a figure.</p></div><section><h3 class="title" id="f9-42377">Associating Commands with Timer Object Events</h3><p>The timer object supports properties that let you specify the MATLAB<sup>&#x00AE;</sup> commands that execute when a timer fires, and for other timer object
                events, such as starting, stopping, or when an error occurs. These are called
                    <span class="emphasis"><em>callbacks</em></span>. To associate MATLAB commands with a timer object event, set the value of the associated
                timer object callback property.</p><p>The following diagram shows when the events occur during execution of a timer
                object and give the names of the timer object properties associated with each event.
                For example, to associate MATLAB commands with a start event, assign a value to the
                    <code class="literal">StartFcn</code> callback property. Error callbacks can occur at any
                time.</p><div itemprop="content" id="d126e66194" class="figure"><p class="title"><strong>Timer Object Events and Related Callback Function</strong></p><div class="figure"><div id="d126e66197" class="mediaobject"><p><img src="timer_overview.png" height="290" width="358"></p></div></div></div></section><section><h3 class="title" id="f9-42494">Creating Callback Functions</h3><a class="indexterm" name="d126e66202"></a><span id="creating_timer_callback_functions" class="anchor_target"></span><p>When the time period specified by a timer object elapses, the timer object
                executes one or more MATLAB functions of your choosing. You can specify the functions directly as
                the value of the callback property. You can also put the commands in a function file
                and specify the function as the value of the callback property. </p><section><h4 class="title" id="f9-42129">Specifying Callback Functions Directly</h4><p>This example creates a timer object that displays a greeting after 5 seconds.
                    The example specifies the value of the <code class="literal">TimerFcn</code> callback
                    property directly, putting the commands in a character vector.</p><div class="code_responsive"><pre class="programlisting">t = timer('TimerFcn',@(x,y)disp('Hello World!'),'StartDelay',5);</pre></div><div class="alert alert-info d-inline-block"><span class="alert_icon icon-alert-info-reverse"></span><p class="alert_heading"><strong>Note</strong></p><p>When you specify the callback commands directly as the value of the
                        callback function property, the commands are evaluated in the MATLAB workspace. </p></div></section><section><h4 class="title" id="f9-40138">Putting Commands in a Callback Function</h4><p>Instead of specifying MATLAB commands directly as the value of a callback property, you can put
                    the commands in a MATLAB program file and specify the file as the value of the callback
                    property. </p><p>When you create a callback function, the first two arguments must be a handle
                    to the timer object and an event structure. An event structure contains two
                    fields: <code class="literal">Type</code> and <code class="literal">Data</code>. The
                        <code class="literal">Type</code> field contains a character vector that identifies
                    the type of event that caused the callback. The value of this field can be any
                    of the following: <code class="literal">'StartFcn'</code>, <code class="literal">'StopFcn'</code>,
                        <code class="literal">'TimerFcn'</code>, or <code class="literal">'ErrorFcn'</code>. The
                        <code class="literal">Data</code> field contains the time the event occurred.</p><p>In addition to these two required input arguments, your callback function can
                    accept application-specific arguments. To receive these input arguments, you
                    must use a cell array when specifying the name of the function as the value of a
                    callback property. For more information, see <a href="timer-callback-functions.html#f9-39598" class="intrnllnk">Specifying the Value of Callback Function Properties</a>.</p></section><section><h4 class="title" id="f9-39575">Example: Writing a Callback Function</h4><p>This example implements a simple callback function that displays the type of
                    event that triggered the callback and the time the callback occurred. To
                    illustrate passing application-specific arguments, the example callback function
                    accepts as an additional argument a character vector and includes this text in
                    the display output. To see this function used with a callback property, see
                        <a href="timer-callback-functions.html#f9-39598" class="intrnllnk">Specifying the Value of Callback Function Properties</a>.</p><div class="code_responsive"><pre class="programlisting">function my_callback_fcn(obj, event, text_arg)

txt1 = ' event occurred at ';
txt2 = text_arg;

event_type = event.Type;
event_time = datestr(event.Data.time);

msg = [event_type txt1 event_time];
disp(msg)
disp(txt2)</pre></div></section></section><section><h3 class="title" id="f9-39598">Specifying the Value of Callback Function Properties</h3><a class="indexterm" name="d126e66267"></a><span id="spec_callback_function_prop" class="anchor_target"></span><p>You associate a callback function with a specific event by setting the value of
                the appropriate callback property. You can specify the callback function as a cell
                array or function handle. If your callback function accepts additional arguments,
                you must use a cell array. </p><p>The following table shows the syntax for several sample callback functions and
                describes how you call them.</p><div class="table-responsive"><table class="table table-condensed"><colgroup><col class="tcol1" width="50%"><col class="tcol2" width="50%"></colgroup><thead><tr><th><p>Callback Function Syntax</p></th><th><p>How to Specify as a Property Value for Object
                                        <code class="literal">t</code></p></th></tr></thead><tbody><tr><td><p><code class="literal">function myfile(obj,
                                event)</code></p></td><td><code class="literal">t.StartFcn = @myfile</code></td></tr><tr><td><p><code class="literal">function myfile</code></p></td><td><code class="literal">t.StartFcn = @(~,~)myfile</code></td></tr><tr><td><p><code class="literal">function myfile(obj, event, arg1,
                                    arg2)</code></p></td><td><code class="literal">t.StartFcn = {@myfile, 5, 6}</code></td></tr></tbody></table></div><p>This example illustrates several ways you can specify the value of timer object
                callback function properties, some with arguments and some without. To see the code
                of the callback function, <code class="literal">my_callback_fcn</code>, see <a href="timer-callback-functions.html#f9-39575" class="intrnllnk">Example: Writing a Callback Function</a>:</p><div class="procedure"><span id="bqjrdb1" class="anchor_target"></span><ol type="1"><li><p id="f9-40360">Create a timer object.</p><div class="code_responsive"><pre class="programlisting">t = timer('StartDelay', 4, 'Period', 4, 'TasksToExecute', 2, ...
          'ExecutionMode', 'fixedRate');</pre></div></li><li><p id="f9-42239">Specify the value of the <code class="literal">StartFcn</code>
                        callback. Note that the example specifies the value in a cell array because
                        the callback function needs to access arguments passed to it:</p><div class="code_responsive"><pre class="programlisting">t.StartFcn = {@my_callback_fcn, 'My start message'};</pre></div></li><li><p id="f9-42245">Specify the value of the <code class="literal">StopFcn</code>
                        callback. Again, the value is specified in a cell array because the callback
                        function needs to access the arguments passed to it:</p><div class="code_responsive"><pre class="programlisting">t.StopFcn = { @my_callback_fcn, 'My stop message'};</pre></div></li><li><p id="f9-42252">Specify the value of the <code class="literal">TimerFcn</code>
                        callback. The example specifies the MATLAB commands in a character vector:</p><div class="code_responsive"><pre class="programlisting">t.TimerFcn = @(x,y)disp('Hello World!');</pre></div></li><li><p id="f9-43426">Start the timer object:</p><div class="code_responsive"><pre class="programlisting">start(t)
</pre></div><p>The example outputs the following.</p><div class="code_responsive"><pre class="programlisting">StartFcn event occurred at 10-Mar-2004 17:16:59
My start message
Hello World!
Hello World!
StopFcn event occurred at 10-Mar-2004 17:16:59
My stop message</pre></div></li><li><p id="f9-43430">Delete the timer object after you are finished with
                        it.</p><div class="code_responsive"><pre class="programlisting">delete(t)</pre></div></li></ol></div></section>
            <h2 id="d126e66348">See Also</h2><p><span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/timer.html"><span itemprop="name"><code class="class">timer</code></span></a></span></p>
            <h3 id="d126e66354">Topics</h3><ul class="list-unstyled"><li><a href="handling-timer-queuing-conflicts.html" class="a">Handling Timer Queuing Conflicts</a></li></ul>
        </section>
    </div></section><div xmlns="http://www.w3.org/1999/xhtml" class="clearfix"></div>
<div xmlns="http://www.w3.org/1999/xhtml" align="center" class="feedbackblock" id="mw_docsurvey"><script src="https://www.mathworks.com/help/docsurvey/docfeedback.js"></script>
<script>loadSurveyHidden();</script>
<link rel="stylesheet" href="https://www.mathworks.com/help/docsurvey/release/index-css.css" type="text/css">
<script src="https://www.mathworks.com/help/docsurvey/release/bundle.index.js"></script>

<script>initDocSurvey();</script></div></main>


</div>
</div>
</div>
</div><!--close_0960-->
<footer xmlns="http://www.w3.org/1999/xhtml" id="footer" class="bs-footer">
<div class="container-fluid">
<div class="footer">
<div class="row">
<div class="col-12">
<p class="copyright">Â© 1994-2025 The MathWorks, Inc.</p>
<ul class="footernav"><li class="footernav_help"><a href="matlab:web(matlab.internal.licenseAgreement)">Terms of Use</a></li><li class="footernav_patents"><a href="matlab:web([matlabroot '/patents.txt'])">Patents</a></li><li class="footernav_trademarks"><a href="matlab:web([matlabroot '/trademarks.txt'])">Trademarks</a></li><li class="footernav_piracy"><a href="matlab:web([docroot '/acknowledgments.html'])">Acknowledgments</a></li></ul></div>
</div>
</div>
</div>
</footer>
</div><!--close row-offcanvas-->
</div><!--close_0970-->
</body>
</html>
