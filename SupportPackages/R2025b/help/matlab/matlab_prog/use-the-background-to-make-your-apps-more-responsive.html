<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage">
<head>
<meta xmlns="http://www.w3.org/1999/xhtml" charset="utf-8">
<meta xmlns="http://www.w3.org/1999/xhtml" name="viewport" content="width=device-width, initial-scale=1.0">
<meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="X-UA-Compatible" content="IE=edge">
<title>Create Responsive Apps by Running Calculations in the Background</title>
<script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
      {
      "@context": "http://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement":
      [{
          "@type": "ListItem",
          "position": 1,

          "item": {
          "@id": "../index.html",
          "name": "MATLAB"
}

          } 
        ,
        {
          "@type": "ListItem",
          "position": 2,

          "item": {
          "@id": "../gui-development.html",
          "name": "App Building"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 3,

          "item": {
          "@id": "../app-designer.html",
          "name": "Develop Apps Using App Designer"
}

          }]
      }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
      {
      "@context": "http://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement":
      [{
          "@type": "ListItem",
          "position": 1,

          "item": {
          "@id": "../index.html",
          "name": "MATLAB"
}

          } 
        ,
        {
          "@type": "ListItem",
          "position": 2,

          "item": {
          "@id": "../software-development.html",
          "name": "Software Development Tools"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 3,

          "item": {
          "@id": "../background-processing.html",
          "name": "Background Processing"
}

          }]
      }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "VisibleBreadcrumbs",

        "itemListElement":
        [
        "app-designer",
        "background-processing"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/bootstrap.min.css" rel="stylesheet" type="text/css">


  <meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="Content-Script-Type" content="text/javascript">
<meta xmlns="http://www.w3.org/1999/xhtml" name="toctype" itemprop="pagetype" content="ug">
<meta xmlns="http://www.w3.org/1999/xhtml" name="infotype" itemprop="infotype" content="ex">

<meta xmlns="http://www.w3.org/1999/xhtml" name="description" itemprop="description" content="Improve the responsiveness of apps you create with MATLAB App Designer by using the background pool."><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-3.6.0.min.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-migrate.min.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_lg.css" rel="stylesheet" media="screen and (min-width: 1200px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_md.css" rel="stylesheet" media="screen and (min-width: 992px) and (max-width: 1199px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm+xs.css" rel="stylesheet" media="screen and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm.css" rel="stylesheet" media="screen and (min-width: 768px) and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_xs.css" rel="stylesheet" media="screen and (max-width: 767px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_offcanvas_v2.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/shared/highlight/styles/mwdochighlight.min.css" rel="stylesheet" type="text/css">

<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/l10n.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/f1help.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/mw.imageanimation.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/jquery.highlight.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/underscore-min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/use_platform_screenshots.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/suggest.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/overload.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/helpservices.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/productfilter.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/matlab_dialog_shared.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/highlight/highlight.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/localstorage.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/product_group.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/saxonjs/SaxonJS2.rt.js"></script><script xmlns="http://www.w3.org/1999/xhtml">
            window.history.replaceState(window.location.href, null, ""); // Initialize
            window.onload = function() {    
            mystylesheetLocation = "../../includes/shared/scripts/product_group-sef.json";
            mysourceLocation = "../../docset/docset.xml";
            product_help_location = "matlab";
            pagetype = "section";
            doccentertype = "product";
            langcode = "";
            getProductFilteredList(mystylesheetLocation, mysourceLocation, product_help_location, pagetype, doccentertype, langcode);  
            }
          </script>




<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery.mobile.custom.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/bootstrap.bundle.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/global.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_base.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_installed.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_print.css" rel="stylesheet" type="text/css" media="print">
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/equationrenderer/release/MathRenderer.js"></script>
</head>
<body id="responsive_offcanvas">
<div xmlns="http://www.w3.org/1999/xhtml" id="doc_header_spacer" class="header"></div>
<div xmlns="http://www.w3.org/1999/xhtml" class="section_header level_3"><div class="container-fluid"><div class="row" id="mobile_search_row"><div class="col-sm-6 col-md-7 has_horizontal_local_nav" id="section_header_title"><div class="section_header_content"><div class="section_header_title"><h1><a href="../../documentation-center.html">Help Center</a></h1></div></div></div><div class="col-12 col-sm-6 col-md-5" id="mobile_search"><div class="search_nested_content_container"><form id="docsearch_form" name="docsearch_form" method="get" data-release="R2025b" data-language="en" action="../../templates/searchresults.html"><div class="input-group tokenized_search_field"><label class="visually-hidden form-label">Search Help</label><input type="text" class="form-control conjoined_search" autocomplete="off" name="qdoc" placeholder="Search Help" id="docsearch"> <div><button type="submit" name="submitsearch" id="submitsearch" class="btn icon-search btn_search_adjacent btn_search icon_16" tabindex="-1"></button></div></div></form></div><button class="btn icon-remove btn_search float-end icon_32 d-sm-none" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div><div class="d-sm-none" id="search_actuator"><button class="btn icon-search btn_search float-end icon_16" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div></div></div></div><div class="row-offcanvas row-offcanvas-left">
<div xmlns="http://www.w3.org/1999/xhtml" class="sidebar-offcanvas" id="sidebar">
<nav class="offcanvas_nav" role="navigation">
<div class="offcanvas_actuator" data-bs-toggle="offcanvas" data-bs-target="#sidebar" id="nav_toggle"><button type="button" class="btn"><span class="visually-hidden">Off-Canvas Navigation Menu Toggle
                  Off-Canvas Navigation Menu Toggle</span><span class="icon-menu"></span></button><span class="offcanvas_actuator_label" id="translation_icon-menu" tabindex="-1" aria-hidden="true"></span></div><div class="nav_list_wrapper" id="nav_list_wrapper"><nav class="offcanvas_nav" role="navigation"><ul class="nav_breadcrumb" id="ul_left_nav_ancestors"><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../../documentation-center.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Documentation Home</span></a></li></ul>
<ul class="nav_disambiguation"><li><a href="../index.html?s_tid=CRUX_lftnav" id="index">MATLAB</a>
</li>
<li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../gui-development.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">App Building</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../app-designer.html?s_tid=CRUX_lftnav" itemprop="url" id="bu6q9n8"><span itemprop="title">Develop Apps Using App Designer</span></a></li></ul><ul class="nav_disambiguation"><li><a href="../index.html?s_tid=CRUX_lftnav" id="index">MATLAB</a>
</li>
<li><a href="../software-development.html?s_tid=CRUX_lftnav">Software Development Tools</a></li><li><a href="../background-processing.html?s_tid=CRUX_lftnav" id="mw_db528404-966e-4b21-9c5b-29fd81d57b1b">Background Processing</a></li></ul><div class="search_refine_v4"><div id="facets_area"><ul class="nav_scrollspy nav list-unstyled" id="pnav">
<li class="nav_scrollspy_function nav-item"><a href="#responsive_offcanvas">Create Responsive Apps by Running Calculations in the Background</a></li>
<li class="nav_scrollspy_title nav-item" id="SSPY810-section">On this page</li>
<!--ADD_REFENTRY_TITLE_HERE 11--><li class="nav-item"><a href="#mw_e5ac4f89-0482-42c3-8107-a7873114f2e2" class="nav-link intrnllnk">Open App Designer App</a></li><li class="nav-item"><a href="#mw_6a99e6bb-3d23-43c9-b0a3-20351169afe3" class="nav-link intrnllnk">Add a Future Array to the Properties</a></li><li class="nav-item"><a href="#mw_0407831b-cd20-47a2-9f48-bb6ea30d0ae3" class="nav-link intrnllnk">Create y-axis Data in the Background</a></li><li class="nav-item"><a href="#mw_492ae2b5-b4b7-41c5-bb62-f55998bddc3e" class="nav-link intrnllnk">Automatically Update Plot After Data Is Calculated in the Background</a></li><li class="nav-item"><a href="#mw_08826fed-6adf-4e5d-a550-f70cd8404235" class="nav-link intrnllnk">Make Your App More Responsive by Canceling the Future Array</a></li><li class="nav-item"><a href="#mw_8e63c519-ec60-4744-ad0e-d7c467cfcfff" class="nav-link intrnllnk">Responsive App That Calculates and Plots Simple Curves</a></li><li class="nav-item"><a href="#d126e69174" class="nav-link intrnllnk">See Also</a></li></ul></div></div>
</nav></div></nav>
<script src="../../includes/product/scripts/offcanvas_v2.js"></script></div><!--END.CLASS sidebar-offcanvas-->
<div class="offcanvas_content_container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sticky_header_container"><div class="horizontal_nav"><div class="horizontal_nav_container"><div class="offcanvas_horizontal_nav"><div class="container-fluid"><div class="row"><div class="col-sm-12 d-none d-sm-block"><nav class="navbar navbar-default" role="navigation" id="subnav"><div><ul class="nav navbar-nav crux_browse"><li id="crux_nav_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_example" class="crux_resource"><a href="../examples.html?category=app-designer&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=app-designer&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=app-designer&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></nav></div><div class="d-sm-none"><div class="container-fluid"><div class="row"><div class="col-9"><div class="mobile_crux_nav_trigger"><div class="btn-group"><button type="button" class="btn btn-default dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Resources</button><ul class="dropdown-menu"><li id="crux_nav_mobile_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_mobile_example" class="crux_resource"><a href="../examples.html?category=app-designer&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_mobile_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=app-designer&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_mobile_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=app-designer&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></div></div><div class="col-3"><div class="translate_placeholder"></div></div></div></div></div></div></div></div></div></div></div><div class="content_container" id="content_container" itemprop="content">
<div class="container-fluid">
<div class="row">
<div class="col-12">

<main id="skip_link_anchor" tabindex="-1">
<div xmlns="http://www.w3.org/1999/xhtml" id="product_info_alert"></div><section xmlns="http://www.w3.org/1999/xhtml" id="doc_center_content" lang="en" data-language="en"><div id="pgtype-topic">
<section><h2 class="title r2025b" itemprop="title content" id="mw_441254ba-73c7-4e5b-8e4b-03eba06e11a1">Create Responsive Apps by Running Calculations in the Background</h2><p>This topic shows how to make an app more responsive by using the background pool. Usually,
        MATLAB<sup>&#x00AE;</sup> suspends execution while running calculations. While MATLAB is suspended, you are unable to interrupt the app. To make your apps more
      responsive, use the background pool to run calculations in the background. When MATLAB runs calculations in the background, your app can immediately respond to user
      interface interactions.</p><p>If you want to modify an existing app that runs code in the background, see <a href="use-the-background-to-make-your-apps-more-responsive.html#mw_8e63c519-ec60-4744-ad0e-d7c467cfcfff" class="intrnllnk">Responsive App That Calculates and Plots Simple Curves</a>.</p><p>In this topic, you:</p>
<div class="itemizedlist"><ul><li><p>Open an existing app that does not run any code in the background.</p></li><li><p>Modify a function to allow the app to run code in the background.</p></li><li><p>Write a function to automatically update a plot after code finishes running in the
            background.</p></li><li><p>Modify existing callbacks to allow your app to immediately respond to user interface
            interactions and interrupt calculations.</p></li></ul></div><p>
</p><section><h3 class="title" id="mw_e5ac4f89-0482-42c3-8107-a7873114f2e2">Open App Designer App</h3><p>The app you use in this example allows you to select a function, then calculate and plot
          <code class="literal">y</code>-axis data depending on built-in <code class="literal">x</code>-axis
        data.</p><p>Run this command to open a working copy of the <code class="literal">PlotCurve</code> app.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>openExample(<span style="color:#A020F0">'matlab/PlotCurveAppExample'</span>)</pre></div></div></div><p>Use this app as a starting point as you modify and reorganize the app code. The app has
        five functions:</p>
<div class="itemizedlist"><ul><li><p><code class="literal">getFunction</code> &#8212; Use the value from the drop-down
                <code class="literal">fcnDropDown</code> to select a function <code class="literal">fcn</code>. The
              custom functions available as supporting files use <code class="literal">pause(rand)</code> to
              simulate a nontrivial calculation.</p></li><li><p><code class="literal">createData</code> &#8212; Use <code class="literal">getFunction</code> to get a
              function <code class="literal">fcn</code>, then use that function to compute <code class="literal">y =
                fcn(x)</code> in iterations of a <code class="literal">for</code>-loop. The
                <code class="literal">for</code>-loop suspends MATLAB execution until it is finished.</p></li><li><p><code class="literal">updatePlot</code> &#8212; Update the plot represented by
                <code class="literal">app.UIAxes</code> with each <code class="literal">y</code>-axis data point after
              it is calculated.</p></li><li><p><code class="literal">clearPlot</code> &#8212; Clear the plot.</p></li><li><p><code class="literal">toggleButtons</code> &#8212; Switch between enabling the
                <strong class="guibutton">Start</strong> button or <strong class="guibutton">Stop</strong> button.</p></li></ul></div><p>
</p><p>Edit code by selecting <strong class="guilabel">Code View</strong> in the App Designer window.</p></section><section><h3 class="title" id="mw_6a99e6bb-3d23-43c9-b0a3-20351169afe3">Add a <code class="literal">Future</code> Array to the Properties</h3><p>When you run a function in the background, you create a <code class="object">Future</code> object.
        You can fetch outputs from the <code class="object">Future</code> object using <a href="../ref/parallel.future.fetchoutputs.html"><code class="function">fetchOutputs</code></a>.</p><p>To make your app responsive, you need to store all of the <code class="object">Future</code>
        objects the app creates. Then, you can use <a href="../ref/parallel.future.cancel.html"><code class="function">cancel</code></a> to stop
        the calculations running in the background when the user of the app clicks the
          <strong class="guibutton">Stop</strong> button or uses the drop down
        <code class="literal">fcnDropDown</code>.</p><p>To store the <code class="object">Future</code> objects the app creates, you must add a private
        property to your app. In the App Designer toolstrip, click <strong class="guimenuitem">Property</strong> &gt; <strong class="guimenuitem">Private Property</strong>, then name the property
        <code class="property">F</code>.<div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#0000FF">properties</span> (Access = private)
    h <span style="color:#228B22">% Line object</span>
    X <span style="color:#228B22">% x-axis data</span>
    F <span style="color:#228B22">% Futures for calculation</span>
<span style="color:#0000FF">end</span></pre></div></div></div></p></section><section><h3 class="title" id="mw_0407831b-cd20-47a2-9f48-bb6ea30d0ae3">Create <code class="literal">y</code>-axis Data in the Background</h3><p>The <code class="function">createData</code> function creates the <code class="literal">y</code>-axis data
        when the user of the app clicks the <strong class="guibutton">Start</strong> button. Edit the function
        to calculate the <code class="literal">y</code>-axis data in the background.</p><div class="orderedlist"><ol style="list-style: decimal;"><li><p>Use <a href="../ref/parfeval.html"><code class="function">parfeval</code></a>
            and <code class="function">backgroundPool</code> to run the function <code class="function">fcn</code> in
            the background. In each iteration of the <code class="literal">for</code>-loop, store each
              <code class="object">Future</code> in an array <code class="literal">f</code>.</p></li><li><p>Store the future array as the <code class="property">F</code> property of the app.</p></li><li><p>Use <code class="function">afterEach</code> to run a function
              <code class="function">onFutureDone</code> that updates a plot after each element of
              <code class="literal">app.F</code> completes. Specify <code class="literal">PassFuture</code> as
              <code class="literal">true</code> to run the function using each <code class="literal">Future</code>
            element.</p></li><li><p>Use <code class="function">afterAll</code> to toggle between the <strong class="guibutton">Start</strong>
            and <strong class="guibutton">Stop</strong> buttons after MATLAB finishes calculating all of the <code class="literal">y</code>-axis data.</p></li></ol></div><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#0000FF">function</span> createData(app)
    <span style="color:#228B22">% Create data for the x-axis and y-axis.</span>
    <span style="color:#228B22">% Update a plot while the data is being created.</span>

    <span style="color:#228B22">% Get function</span>
    fcn = app.getFunction;

    <span style="color:#228B22">% x-axis data</span>
    app.X = 5 * 1:100;

    <span style="color:#228B22">% y-axis data</span>
    <span style="color:#0000FF">for</span> i = 1:numel(app.X)
        <span style="color:#228B22">% Run fcn(x) in the background</span>
        f(i) = parfeval(backgroundPool,fcn,1,app.X(i));
    <span style="color:#0000FF">end</span>

    <span style="color:#228B22">% Store the Future array</span>
    app.F = f;

    <span style="color:#228B22">% Update the plot after each Future finishes</span>
    afterEach(app.F,@app.onFutureDone,0,PassFuture=true);

    <span style="color:#228B22">% Toggle the buttons after all Future objects finish</span>
    afterAll(app.F,@(~)app.toggleButtons,0);
<span style="color:#0000FF">end</span></pre></div></div></div></section><section><h3 class="title" id="mw_492ae2b5-b4b7-41c5-bb62-f55998bddc3e">Automatically Update Plot After Data Is Calculated in the Background</h3><p>Create a new function to automatically update the plot after each
          <code class="object">Future</code> finishes.</p><div class="orderedlist"><ol style="list-style: decimal;"><li><p>In the App Designer toolstrip, click <strong class="guimenuitem">Function</strong> &gt; <strong class="guimenuitem">Private Function</strong>, then name the function <code class="function">onFutureDone</code>.</p></li><li><p>If the <code class="literal">Future</code> object finished with an error, immediately return
            from the function.</p></li><li><p>If the <code class="literal">Future</code> object did not finish with an error, use the
              <code class="property">ID</code> property of <code class="literal">f</code> to find the index of the
            element <code class="literal">f</code> in the array <code class="literal">app.F</code>. The index of the
              <code class="literal">Future</code> object <code class="literal">f</code> must match the index of the
              <code class="literal">x</code>-axis data point.</p></li><li><p>Update the plot with the result from <code class="literal">f</code> and the matching
              <code class="literal">x</code>-axis data point by, using the index
            <code class="literal">idx</code>.</p></li></ol></div><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#0000FF">function</span> onFutureDone(app,f)
    <span style="color:#228B22">% Do not update the plot if there was an error</span>
    <span style="color:#0000FF">if</span> ~isempty(f.Error)
        <span style="color:#0000FF">return</span>
    <span style="color:#0000FF">end</span>

    <span style="color:#228B22">% Find the index of this future</span>
    idx = ([app.F.ID] == f.ID); 
    
    <span style="color:#228B22">% Update the plot using the result</span>
    app.updatePlot(fetchOutputs(f),idx);
<span style="color:#0000FF">end</span></pre></div></div></div></section><section><h3 class="title" id="mw_08826fed-6adf-4e5d-a550-f70cd8404235">Make Your App More Responsive by Canceling the <code class="literal">Future</code> Array</h3><p>To make your app more responsive, edit callbacks cancel the <code class="literal">Future</code>
        array <code class="literal">app.F</code> after you:</p>
<div class="itemizedlist"><ul><li><p>Change the value using the drop-down <code class="literal">fcnDropDown</code>.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#0000FF">function</span> fcnDropDownValueChanged(app, event)
    <span style="color:#228B22">% Stop futures</span>
    <span style="color:#0000FF">if</span> ~isempty(app.F)
        cancel(app.F)
    <span style="color:#0000FF">end</span>
    
    app.clearPlot
    
    <span style="color:#0000FF">if</span> app.StartButton.Enable == false
        app.createData
    <span style="color:#0000FF">end</span>
<span style="color:#0000FF">end</span></pre></div></div></div></li><li><p>Push the <strong class="guibutton">Stop</strong> button.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#0000FF">function</span> StopButtonPushed(app, event)
    <span style="color:#228B22">% Stop futures</span>
    <span style="color:#0000FF">if</span> ~isempty(app.F)
        cancel(app.F)
    <span style="color:#0000FF">end</span>
    
    app.toggleButtons
<span style="color:#0000FF">end</span></pre></div></div></div></li><li><p>Request the app to close.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#0000FF">function</span> UIFigureCloseRequest(app, event)
    <span style="color:#228B22">% Stop futures</span>
    <span style="color:#0000FF">if</span> ~isempty(app.F)
        cancel(app.F)
    <span style="color:#0000FF">end</span>
    
    delete(app)
<span style="color:#0000FF">end</span></pre></div></div></div></li></ul></div><p>
</p></section><section><h3 class="title" id="mw_8e63c519-ec60-4744-ad0e-d7c467cfcfff">Responsive App That Calculates and Plots Simple Curves</h3><div class="examples_short_list hidden_ios_android" data-products="ML"><div data-pane="metadata" class="card metadata_container"><div class="card-body metadata_content"><div class="d-grid"><a class="btn btn_color_blue" href="matlab:openExample('matlab/PlotCurveBackgroundAppExample')" data-ex-genre="App">Open App</a></div></div></div></div><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "DigitalDocument",
          "headline": "Responsive App That Calculates and Plots Simple Curves",
          "description": "An app that calculates and plots simple curves. You can select a function to plot, then plot that function. The app uses a for-loop to calculate the y-axis data in the background. MATLAB does not suspend execution while calculating the data, and therefore you are able to stop the app or update the type of plot while the data is being calculated.",
          "thumbnailURL": "../../examples/matlab/win64/xxplotcurvebackground_screenshot.png",
          "genre": "App",
          "isBasedOn": {
          "@type": "Product",
          "name": "MATLAB"

        },
          "isPartOf": {
          "@type": "CreativeWork",
          "url": "use-the-background-to-make-your-apps-more-responsive.html"

        },
          "identifier": "matlab.PlotCurveBackgroundAppExample",
          "name": "PlotCurveBackgroundAppExample",
          "url": "use-the-background-to-make-your-apps-more-responsive.html#mw_8e63c519-ec60-4744-ad0e-d7c467cfcfff"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "PropertyValue",
          "name": "open_command",
          "value": "matlab:openExample('matlab/PlotCurveBackgroundAppExample')"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "ExampleSourceFiles",

        "itemListElement":
        [
        "PlotCurveBackgroundAppExample.m",
        "PlotCurveBackground.mlapp",
        "parabola.m",
        "straightLine.m",
        "plotcurvebackground_screenshot.png"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><div itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/Example" itemprop="example" class="em_example"><meta itemprop="exampleid" content="matlab-PlotCurveBackgroundAppExample"><meta itemprop="exampletitle" content="Responsive App That Calculates and Plots Simple Curves"></div><span id="PlotCurveBackgroundAppExample" class="anchor_target"></span><div class="procedure"><p class="shortdesc">This example shows an app that calculates and plots simple curves. You can select a function to plot, then plot that function. The app uses a <code class="literal">for</code>-loop to calculate the <code class="literal">y</code>-axis data in the background. MATLAB does not suspend execution while calculating the data, and therefore you are able to stop the app or update the type of plot while the data is being calculated.</p><p>Run the <code class="literal">PlotCurveBackground</code> app by clicking the <strong class="emphasis bold">Run</strong> button in App Designer.</p><p></p>
<div class="informalfigure"><div id="d126e69166" class="mediaobject"><p><img src="../../examples/matlab/win64/xxplotcurvebackground_screenshot.png"></p></div></div><p>
 </p></div></section>
      <h2 id="d126e69174">See Also</h2><p><span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/parfeval.html"><span itemprop="name"><code class="function">parfeval</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/parallel.backgroundpool.html"><span itemprop="name"><code class="function">backgroundPool</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/appdesigner.html"><span itemprop="name"><code class="function">appdesigner</code></span></a></span></p>
      <h3 id="d126e69186">Topics</h3><ul class="list-unstyled"><li><a href="run-functions-in-the-background.html" class="a">Run Functions in Background</a></li><li><a href="background-waitbar.html" class="a">Update Wait Bar While Functions Run in the Background</a></li></ul>
      
      
    </section>
    </div></section><div xmlns="http://www.w3.org/1999/xhtml" class="clearfix"></div>
<div xmlns="http://www.w3.org/1999/xhtml" align="center" class="feedbackblock" id="mw_docsurvey"><script src="https://www.mathworks.com/help/docsurvey/docfeedback.js"></script>
<script>loadSurveyHidden();</script>
<link rel="stylesheet" href="https://www.mathworks.com/help/docsurvey/release/index-css.css" type="text/css">
<script src="https://www.mathworks.com/help/docsurvey/release/bundle.index.js"></script>

<script>initDocSurvey();</script></div></main>


</div>
</div>
</div>
</div><!--close_0960-->
<footer xmlns="http://www.w3.org/1999/xhtml" id="footer" class="bs-footer">
<div class="container-fluid">
<div class="footer">
<div class="row">
<div class="col-12">
<p class="copyright">Â© 1994-2025 The MathWorks, Inc.</p>
<ul class="footernav"><li class="footernav_help"><a href="matlab:web(matlab.internal.licenseAgreement)">Terms of Use</a></li><li class="footernav_patents"><a href="matlab:web([matlabroot '/patents.txt'])">Patents</a></li><li class="footernav_trademarks"><a href="matlab:web([matlabroot '/trademarks.txt'])">Trademarks</a></li><li class="footernav_piracy"><a href="matlab:web([docroot '/acknowledgments.html'])">Acknowledgments</a></li></ul></div>
</div>
</div>
</div>
</footer>
</div><!--close row-offcanvas-->
</div><!--close_0970-->
</body>
</html>
