<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage">
<head>
<meta xmlns="http://www.w3.org/1999/xhtml" charset="utf-8">
<meta xmlns="http://www.w3.org/1999/xhtml" name="viewport" content="width=device-width, initial-scale=1.0">
<meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="X-UA-Compatible" content="IE=edge">
<title>Loma Prieta Earthquake Analysis</title>
<script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
      {
      "@context": "http://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement":
      [{
          "@type": "ListItem",
          "position": 1,

          "item": {
          "@id": "../index.html",
          "name": "MATLAB"
}

          } 
        ,
        {
          "@type": "ListItem",
          "position": 2,

          "item": {
          "@id": "../language-fundamentals.html",
          "name": "Language Fundamentals"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 3,

          "item": {
          "@id": "../data-types.html",
          "name": "Data Types"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 4,

          "item": {
          "@id": "../timetables.html",
          "name": "Timetables"
}

          }]
      }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "VisibleBreadcrumbs",

        "itemListElement":
        [
        "timetables"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "DigitalDocument",
          "headline": "Loma Prieta Earthquake Analysis",
          "description": "Analyze and visualize data contained in a timetable. Calculate and plot earthquake shock wave speed and acceleration over time.",
          "thumbnailURL": "../../examples/matlab/win64/quake_01.png",
          "genre": "Live Script",
          "isBasedOn": {
          "@type": "Product",
          "name": "MATLAB"

        },
          "identifier": "matlab.quake",
          "name": "quake",
          "url": "loma-prieta-earthquake.html"

        }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "PropertyValue",
          "name": "open_command",
          "value": "matlab:openExample('matlab/quake')"

        }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "ExampleSourceFiles",

        "itemListElement":
        [
        "quake.mlx",
        "velFun.m"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/bootstrap.min.css" rel="stylesheet" type="text/css">


  <meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="Content-Script-Type" content="text/javascript">
<meta xmlns="http://www.w3.org/1999/xhtml" name="toctype" itemprop="pagetype" content="fe">
<meta xmlns="http://www.w3.org/1999/xhtml" name="infotype" itemprop="infotype" content="ex">

<meta xmlns="http://www.w3.org/1999/xhtml" name="description" itemprop="description" content="Analyze and visualize data contained in a timetable."><meta xmlns="http://www.w3.org/1999/xhtml" content="../../examples/matlab/win64/quake_01.png" itemprop="thumbnailUrl">
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-3.6.0.min.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-migrate.min.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_lg.css" rel="stylesheet" media="screen and (min-width: 1200px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_md.css" rel="stylesheet" media="screen and (min-width: 992px) and (max-width: 1199px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm+xs.css" rel="stylesheet" media="screen and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm.css" rel="stylesheet" media="screen and (min-width: 768px) and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_xs.css" rel="stylesheet" media="screen and (max-width: 767px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_offcanvas_v2.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/shared/highlight/styles/mwdochighlight.min.css" rel="stylesheet" type="text/css">

<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/l10n.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/f1help.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/mw.imageanimation.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/jquery.highlight.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/underscore-min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/use_platform_screenshots.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/suggest.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/overload.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/helpservices.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/productfilter.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/matlab_dialog_shared.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/highlight/highlight.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/localstorage.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/product_group.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/saxonjs/SaxonJS2.rt.js"></script><script xmlns="http://www.w3.org/1999/xhtml">
            window.history.replaceState(window.location.href, null, ""); // Initialize
            window.onload = function() {    
            mystylesheetLocation = "../../includes/shared/scripts/product_group-sef.json";
            mysourceLocation = "../../docset/docset.xml";
            product_help_location = "matlab";
            pagetype = "section";
            doccentertype = "product";
            langcode = "";
            getProductFilteredList(mystylesheetLocation, mysourceLocation, product_help_location, pagetype, doccentertype, langcode);  
            }
          </script>




<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery.mobile.custom.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/bootstrap.bundle.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/global.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_base.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_installed.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_print.css" rel="stylesheet" type="text/css" media="print">
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/equationrenderer/release/MathRenderer.js"></script>
</head>
<body id="responsive_offcanvas">
<div xmlns="http://www.w3.org/1999/xhtml" id="doc_header_spacer" class="header"></div>
<div xmlns="http://www.w3.org/1999/xhtml" class="section_header level_3"><div class="container-fluid"><div class="row" id="mobile_search_row"><div class="col-sm-6 col-md-7 has_horizontal_local_nav" id="section_header_title"><div class="section_header_content"><div class="section_header_title"><h1><a href="../../documentation-center.html">Help Center</a></h1></div></div></div><div class="col-12 col-sm-6 col-md-5" id="mobile_search"><div class="search_nested_content_container"><form id="docsearch_form" name="docsearch_form" method="get" data-release="R2025b" data-language="en" action="../../templates/searchresults.html"><div class="input-group tokenized_search_field"><label class="visually-hidden form-label">Search Help</label><input type="text" class="form-control conjoined_search" autocomplete="off" name="qdoc" placeholder="Search Help" id="docsearch"> <div><button type="submit" name="submitsearch" id="submitsearch" class="btn icon-search btn_search_adjacent btn_search icon_16" tabindex="-1"></button></div></div></form></div><button class="btn icon-remove btn_search float-end icon_32 d-sm-none" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div><div class="d-sm-none" id="search_actuator"><button class="btn icon-search btn_search float-end icon_16" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div></div></div></div><div class="row-offcanvas row-offcanvas-left">
<div xmlns="http://www.w3.org/1999/xhtml" class="sidebar-offcanvas" id="sidebar">
<nav class="offcanvas_nav" role="navigation">
<div class="offcanvas_actuator" data-bs-toggle="offcanvas" data-bs-target="#sidebar" id="nav_toggle"><button type="button" class="btn"><span class="visually-hidden">Off-Canvas Navigation Menu Toggle
                  Off-Canvas Navigation Menu Toggle</span><span class="icon-menu"></span></button><span class="offcanvas_actuator_label" id="translation_icon-menu" tabindex="-1" aria-hidden="true"></span></div><div class="nav_list_wrapper" id="nav_list_wrapper"><nav class="offcanvas_nav" role="navigation"><ul class="nav_breadcrumb" id="ul_left_nav_ancestors"><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../../documentation-center.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Documentation Home</span></a></li></ul>
<ul class="nav_disambiguation"><li><a href="../index.html?s_tid=CRUX_lftnav" id="index">MATLAB</a>
</li>
<li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../language-fundamentals.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Language Fundamentals</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../data-types.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Data Types</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../timetables.html?s_tid=CRUX_lftnav" itemprop="url" id="bvdhhum-1"><span itemprop="title">Timetables</span></a></li></ul><div class="search_refine_v4"><div id="facets_area"><ul class="nav_scrollspy nav list-unstyled" id="pnav">
<li class="nav_scrollspy_function nav-item"><a href="#responsive_offcanvas">Loma Prieta Earthquake Analysis</a></li>
<li class="nav_scrollspy_title nav-item" id="SSPY810-section">On this page</li>
<!--ADD_REFENTRY_TITLE_HERE 11--><li class="nav-item"><a href="#quake-1" class="nav-link intrnllnk">Load Earthquake Data</a></li><li class="nav-item"><a href="#quake-2" class="nav-link intrnllnk">Organize Data in Timetable</a></li><li class="nav-item"><a href="#quake-3" class="nav-link intrnllnk">Scale Data</a></li><li class="nav-item"><a href="#quake-4" class="nav-link intrnllnk">Select Subset of Data for Exploration</a></li><li class="nav-item"><a href="#quake-5" class="nav-link intrnllnk">Store Data of Interest</a></li><li class="nav-item"><a href="#quake-6" class="nav-link intrnllnk">Calculate Summary Statistics</a></li><li class="nav-item"><a href="#quake-7" class="nav-link intrnllnk">Calculate Velocity and Position</a></li><li class="nav-item"><a href="#quake-8" class="nav-link intrnllnk">Visualize Trajectories</a></li><li class="nav-item"><a href="#quake-9" class="nav-link intrnllnk">Supporting Functions</a></li><li class="nav-item"><a href="#d126e34331" class="nav-link intrnllnk">See Also</a></li></ul></div></div>
</nav></div></nav>
<script src="../../includes/product/scripts/offcanvas_v2.js"></script></div><!--END.CLASS sidebar-offcanvas-->
<div class="offcanvas_content_container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sticky_header_container"><div class="horizontal_nav"><div class="horizontal_nav_container"><div class="offcanvas_horizontal_nav"><div class="container-fluid"><div class="row"><div class="col-sm-12 d-none d-sm-block"><nav class="navbar navbar-default" role="navigation" id="subnav"><div><ul class="nav navbar-nav crux_browse"><li id="crux_nav_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_example" class="crux_resource"><a href="../examples.html?category=timetables&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=timetables&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=timetables&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></nav></div><div class="d-sm-none"><div class="container-fluid"><div class="row"><div class="col-9"><div class="mobile_crux_nav_trigger"><div class="btn-group"><button type="button" class="btn btn-default dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Resources</button><ul class="dropdown-menu"><li id="crux_nav_mobile_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_mobile_example" class="crux_resource"><a href="../examples.html?category=timetables&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_mobile_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=timetables&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_mobile_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=timetables&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></div></div><div class="col-3"><div class="translate_placeholder"></div></div></div></div></div></div></div></div></div></div></div><div class="content_container" id="content_container" itemprop="content">
<div class="container-fluid">
<div class="row">
<div class="col-12">

<main id="skip_link_anchor" tabindex="-1">
<div xmlns="http://www.w3.org/1999/xhtml" id="product_info_alert"></div><section xmlns="http://www.w3.org/1999/xhtml" id="doc_center_content" lang="en" data-language="en"><div id="pgtype-example">
<section><div class="example_icon"></div><h1 class="r2025b" itemprop="title content" id="example-ex42640246">Loma Prieta Earthquake Analysis</h1><div class="examples_short_list hidden_ios_android" data-products="ML"><div data-pane="metadata" class="card metadata_container"><div class="card-body metadata_content"><div class="d-grid"><a class="btn btn_color_blue" href="matlab:openExample('matlab/quake')" data-ex-genre="Live Script">Open Live Script</a></div></div></div></div><div itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/Example" itemprop="example" class="em_example"><meta itemprop="exampleid" content="matlab-quake"><meta itemprop="exampletitle" content="Loma Prieta Earthquake Analysis"></div><span id="quake" class="anchor_target"></span><p class="shortdesc">This example shows how to store timestamped earthquake data in a timetable and how to use timetable functions to analyze and visualize the data.</p><div class="procedure"><h3 class="title" id="quake-1">Load Earthquake Data</h3><p>The example file <code class="literal">quake.mat</code> contains 200 Hz data from the October 17, 1989, Loma Prieta earthquake in the Santa Cruz Mountains. The data are courtesy of Joel Yellin at the Charles F. Richter Seismological Laboratory, University of California, Santa Cruz. </p><p>Start by loading the data. </p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>load <span style="color:#A020F0">quake</span> 
whos <span style="color:#A020F0">e</span> <span style="color:#A020F0">n</span> <span style="color:#A020F0">v</span></pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>  Name          Size            Bytes  Class     Attributes

  e         10001x1             80008  double              
  n         10001x1             80008  double              
  v         10001x1             80008  double              
</pre></div></div></div><p>In the workspace there are three variables, containing time traces from an accelerometer located in the Natural Sciences building at UC Santa Cruz. The accelerometer recorded the main shock amplitude of the earthquake wave. The variables <code class="literal">n</code>, <code class="literal">e</code>, <code class="literal">v</code> refer to the three directional components measured by the instrument, which was aligned parallel to the fault, with its N direction pointing in the direction of Sacramento. The data are uncorrected for the response of the instrument.</p><p>Create a variable, <code class="literal">Time</code>, containing the timestamps sampled at 200Hz with the same length as the other vectors. Represent the correct units with the <code class="literal">seconds</code> function and multiplication to achieve the Hz (<span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="inline"><mrow><msup><mrow><mi mathvariant="italic">s</mi></mrow><mrow><mo>−</mo><mn>1</mn></mrow></msup></mrow></math></span>) sampling rate. This results in a <a href="../ref/duration.html" data-docid="matlab_ref#buefm3t-1" class="a"><code class="olink">duration</code></a> variable which is useful for representing elapsed time. </p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>Time = (1/200)*seconds(1:length(e))';
whos <span style="color:#A020F0">Time</span></pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>  Name          Size            Bytes  Class       Attributes

  Time      10001x1             80010  duration              
</pre></div></div></div><h3 class="title" id="quake-2">Organize Data in Timetable</h3><p>Separate variables can be organized in a <a href="../ref/table.html" data-docid="matlab_ref#btw1ta8-1" class="a"><code class="olink">table</code></a> or <a href="../ref/timetable.html" data-docid="matlab_ref#bvdhiqg" class="a"><code class="olink">timetable</code></a> for more convenience. A <code class="literal">timetable</code> provides flexibility and functionality for working with time-stamped data. Create a <code class="literal">timetable</code> with the time and three acceleration variables and supply more meaningful variable names. Display the first eight rows using the <code class="literal">head</code> function.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>varNames = [<span style="color:#A020F0">"EastWest"</span>,<span style="color:#A020F0">"NorthSouth"</span>,<span style="color:#A020F0">"Vertical"</span>];
quakeData = timetable(Time,e,n,v,VariableNames=varNames)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>quakeData=<span class="emphasis"><em>10001×3 timetable</em></span>
      Time       EastWest    NorthSouth    Vertical
    _________    ________    __________    ________

    0.005 sec       5            3            0    
    0.01 sec        5            3            0    
    0.015 sec       5            2            0    
    0.02 sec        5            2            0    
    0.025 sec       5            2            0    
    0.03 sec        5            2            0    
    0.035 sec       5            1            0    
    0.04 sec        5            1            0    
    0.045 sec       5            1            0    
    0.05 sec        5            0            0    
    0.055 sec       5            0            0    
    0.06 sec        5            0            0    
    0.065 sec       5            0            0    
    0.07 sec        5            0            0    
    0.075 sec       5            0            0    
    0.08 sec        5            0            0    
      &#x22EE;

</pre></div></div></div><p>Explore the data by accessing the variables in the <code class="literal">timetable</code> with dot notation. (For more information on dot notation, see <a href="access-data-in-a-table.html" data-docid="matlab_prog#bt0ysyl-1" class="a">Access Data in Tables</a>.) Choose the <code class="literal">East-West</code> amplitude and <a href="../ref/plot.html" data-docid="matlab_ref#btzitot" class="a"><code class="olink">plot</code></a> it as function of the duration. </p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>plot(quakeData.Time,quakeData.EastWest)
title(<span style="color:#A020F0">"East-West Acceleration"</span>)</pre></div></div></div><div class="informalfigure"><div id="d126e34167" class="mediaobject"><p><img src="../../examples/matlab/win64/quake_01.png" alt="Figure contains an axes object. The axes object with title East-West Acceleration contains an object of type line." width="560"></p></div></div><h3 class="title" id="quake-3">Scale Data</h3><p>Scale the data by the gravitational acceleration, or multiply each variable in the table by the constant. Since the variables are all of the same type (<code class="literal">double</code>), you can access all variables using the dimension name, <code class="literal">Variables</code>. Note that <code class="literal">quakeData.Variables</code> provides a direct way to modify the numerical values within the timetable.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>quakeData.Variables = 0.098*quakeData.Variables;</pre></div></div></div><h3 class="title" id="quake-4">Select Subset of Data for Exploration</h3><p>Examine the time region where the amplitude of the shockwave starts to increase from near zero to maximum levels. Visual inspection of the above plot shows that the time interval from 8 to 15 seconds is of interest. For better visualization draw black lines at the selected time spots to draw attention to that interval. All subsequent calculations involve this interval.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>t1 = seconds(8);
t2 = seconds(15);
xline(t1,LineWidth=2)
xline(t2,LineWidth=2)</pre></div></div></div><div class="informalfigure"><div id="d126e34189" class="mediaobject"><p><img src="../../examples/matlab/win64/quake_02.png" alt="Figure contains an axes object. The axes object with title East-West Acceleration contains 3 objects of type line, constantline." width="560"></p></div></div><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre></pre></div></div></div><h3 class="title" id="quake-5">Store Data of Interest</h3><p>Create another <code class="literal">timetable</code> with data in this interval. Use <a href="../ref/timerange.html" data-docid="matlab_ref#bvdk6vh" class="a"><code class="olink">timerange</code></a> to select the rows of interest.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>tr = timerange(t1,t2);
quakeData8to15 = quakeData(tr,:)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>quakeData8to15=<span class="emphasis"><em>1400×3 timetable</em></span>
      Time       EastWest    NorthSouth    Vertical
    _________    ________    __________    ________

    8 sec         -0.098       2.254          5.88 
    8.005 sec          0       2.254         3.332 
    8.01 sec      -2.058       2.352        -0.392 
    8.015 sec     -4.018       2.352        -4.116 
    8.02 sec      -6.076        2.45        -7.742 
    8.025 sec     -8.036       2.548       -11.466 
    8.03 sec     -10.094       2.548          -9.8 
    8.035 sec     -8.232       2.646        -8.134 
    8.04 sec       -6.37       2.646        -6.566 
    8.045 sec     -4.508       2.744          -4.9 
    8.05 sec      -2.646       2.842        -3.234 
    8.055 sec     -0.784       2.842        -1.568 
    8.06 sec       1.078       2.548         0.098 
    8.065 sec       2.94       2.254         1.764 
    8.07 sec       4.802        1.96          3.43 
    8.075 sec      6.664       1.666         4.998 
      &#x22EE;

</pre></div></div></div><p>Visualize the three acceleration variables on three separate axes. To create a tiled layout with the three plots in a 3-by-1 tile arrangement, use the <a href="../ref/tiledlayout.html" data-docid="matlab_ref#mw_ba9024be-079d-43a6-975d-11138517fddb" class="a"><code class="olink">tiledlayout</code></a> function.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>tiledlayout(3,1)
<span style="color:#228B22">% Tile 1</span>
nexttile
plot(quakeData8to15.Time,quakeData8to15.EastWest)
ylabel(<span style="color:#A020F0">"East-West"</span>)
title(<span style="color:#A020F0">"Acceleration"</span>)

<span style="color:#228B22">% tile 2</span>
nexttile
plot(quakeData8to15.Time,quakeData8to15.NorthSouth)
ylabel(<span style="color:#A020F0">"North-South"</span>)

<span style="color:#228B22">% Tile 3</span>
nexttile
plot(quakeData8to15.Time,quakeData8to15.Vertical)
ylabel(<span style="color:#A020F0">"Vertical"</span>)</pre></div></div></div><div class="informalfigure"><div id="d126e34215" class="mediaobject"><p><img src="../../examples/matlab/win64/quake_03.png" alt="Figure contains 3 axes objects. Axes object 1 with title Acceleration, ylabel East-West contains an object of type line. Axes object 2 with ylabel North-South contains an object of type line. Axes object 3 with ylabel Vertical contains an object of type line." width="560"></p></div></div><h3 class="title" id="quake-6">Calculate Summary Statistics</h3><p>To display statistical information about the data use the <a href="../ref/double.summary.html" data-docid="matlab_ref#btxc6c8-1" class="a"><code class="olink">summary</code></a> function. </p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>summary(quakeData8to15)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>quakeData8to15: 1400×3 timetable

Row Times:

    Time: duration

Variables:

    EastWest: double
    NorthSouth: double
    Vertical: double

Statistics for applicable variables and row times:

                  NumMissing         Min             Median             Max               Mean              Std      

    Time              0           8 sec            11.498 sec        14.995 sec        11.498 sec        2.0214 sec  
    EastWest          0           -255.0940           -0.0980          244.5100            0.9338           66.1188  
    NorthSouth        0           -198.5480            1.0780          204.3300           -0.1028           42.7980  
    Vertical          0           -157.8780            0.9800          134.4560           -0.5254           35.8554  
</pre></div></div></div><p>Additional statistical information about the data can be calculated using <a href="../ref/table.varfun.html" data-docid="matlab_ref#btyj4vl-1" class="a"><code class="olink">varfun</code></a>. This is useful for applying functions to each variable in a table or timetable. The function to apply is passed to <code class="literal">varfun</code> as a function handle. Apply the <code class="literal">mean</code> function to all three variables and output the result in format of a table, because the time is not meaningful after computing the temporal means. </p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>mn = varfun(@mean,quakeData8to15,OutputFormat=<span style="color:#A020F0">"table"</span>)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>mn=<span class="emphasis"><em>1×3 table</em></span>
    mean_EastWest    mean_NorthSouth    mean_Vertical
    _____________    _______________    _____________

       0.9338           -0.10276          -0.52542   

</pre></div></div></div><h3 class="title" id="quake-7">Calculate Velocity and Position</h3><p>To identify the speed of propagation of the shockwave, integrate the accelerations once. Use cumulative sums along the time variable to calculate the velocity of the wave front.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>edot = (1/200)*cumsum(quakeData8to15.EastWest);
edot = edot - mean(edot);</pre></div></div></div><p>Next perform the integration on all three variables to calculate the velocity. It is convenient to create a function and apply it to the variables in the <code class="literal">timetable</code> with <code class="literal">varfun</code>. In this example, the function is included at the end of this example and is named <code class="literal">velFun</code>.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>vel = varfun(@velFun,quakeData8to15)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>vel=<span class="emphasis"><em>1400×3 timetable</em></span>
      Time       velFun_EastWest    velFun_NorthSouth    velFun_Vertical
    _________    _______________    _________________    _______________

    8 sec           -0.56831             0.44642             1.8173     
    8.005 sec       -0.56831             0.45769              1.834     
    8.01 sec         -0.5786             0.46945              1.832     
    8.015 sec       -0.59869             0.48121             1.8114     
    8.02 sec        -0.62907             0.49346             1.7727     
    8.025 sec       -0.66925              0.5062             1.7154     
    8.03 sec        -0.71972             0.51894             1.6664     
    8.035 sec       -0.76088             0.53217             1.6257     
    8.04 sec        -0.79273              0.5454             1.5929     
    8.045 sec       -0.81527             0.55912             1.5684     
    8.05 sec         -0.8285             0.57333             1.5522     
    8.055 sec       -0.83242             0.58754             1.5444     
    8.06 sec        -0.82703             0.60028             1.5449     
    8.065 sec       -0.81233             0.61155             1.5537     
    8.07 sec        -0.78832             0.62135             1.5708     
    8.075 sec         -0.755             0.62968             1.5958     
      &#x22EE;

</pre></div></div></div><p>Apply the same function <code class="literal">velFun</code> to the velocities to determine the position.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>pos = varfun(@velFun,vel)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>pos=<span class="emphasis"><em>1400×3 timetable</em></span>
      Time       velFun_velFun_EastWest    velFun_velFun_NorthSouth    velFun_velFun_Vertical
    _________    ______________________    ________________________    ______________________

    8 sec                2.1189                    -2.1793                    -3.0821        
    8.005 sec            2.1161                     -2.177                    -3.0729        
    8.01 sec             2.1132                    -2.1746                    -3.0638        
    8.015 sec            2.1102                    -2.1722                    -3.0547        
    8.02 sec              2.107                    -2.1698                    -3.0458        
    8.025 sec            2.1037                    -2.1672                    -3.0373        
    8.03 sec             2.1001                    -2.1646                    -3.0289        
    8.035 sec            2.0963                     -2.162                    -3.0208        
    8.04 sec             2.0923                    -2.1592                    -3.0128        
    8.045 sec            2.0883                    -2.1564                     -3.005        
    8.05 sec             2.0841                    -2.1536                    -2.9972        
    8.055 sec              2.08                    -2.1506                    -2.9895        
    8.06 sec             2.0758                    -2.1476                    -2.9818        
    8.065 sec            2.0718                    -2.1446                     -2.974        
    8.07 sec             2.0678                    -2.1415                    -2.9662        
    8.075 sec             2.064                    -2.1383                    -2.9582        
      &#x22EE;

</pre></div></div></div><p>Notice how the variable names in the timetable created by <code class="literal">varfun</code> include the name of the function used. It is useful to track the operations that have been performed on the original data. Adjust the variable names back to their original values using dot notation. </p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>pos.Properties.VariableNames = varNames;
vel.Properties.VariableNames = varNames;</pre></div></div></div><p>Plot the three components of the velocity and position for the time interval of interest. Plot velocity and position in a 2-by-1 tile arrangement.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>tiledlayout(2,1)

<span style="color:#228B22">% Tile 1</span>
nexttile
plot(vel.Time,vel.Variables)
legend(vel.Properties.VariableNames,Location=<span style="color:#A020F0">"bestoutside"</span>)
title(<span style="color:#A020F0">"Velocity"</span>)

<span style="color:#228B22">% Tile 2</span>
nexttile
plot(pos.Time,pos.Variables)
title(<span style="color:#A020F0">"Position"</span>)</pre></div></div></div><div class="informalfigure"><div id="d126e34283" class="mediaobject"><p><img src="../../examples/matlab/win64/quake_04.png" alt="Figure contains 2 axes objects. Axes object 1 with title Velocity contains 3 objects of type line. These objects represent EastWest, NorthSouth, Vertical. Axes object 2 with title Position contains 3 objects of type line." width="560"></p></div></div><h3 class="title" id="quake-8">Visualize Trajectories</h3><p>The trajectories can be plotted in 2D or 3D by using the component value. This plot shows different ways of visualizing this data.</p><p>Begin with 2-dimensional projections. Here is the first with a few values of time annotated. </p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>figure
plot(pos.NorthSouth,pos.Vertical)
xlabel(<span style="color:#A020F0">"North-South"</span>)
ylabel(<span style="color:#A020F0">"Vertical"</span>)
<span style="color:#228B22">% Select locations and label</span>
nt = ceil((max(pos.Time) - min(pos.Time))/6);
idx = find(fix(pos.Time/nt) == (pos.Time/nt))';
text(pos.NorthSouth(idx),pos.Vertical(idx),char(pos.Time(idx)))</pre></div></div></div><div class="informalfigure"><div id="d126e34294" class="mediaobject"><p><img src="../../examples/matlab/win64/quake_05.png" alt="Figure contains an axes object. The axes object with xlabel North-South, ylabel Vertical contains 5 objects of type line, text." width="560"></p></div></div><p>Use <a href="../ref/plotmatrix.html" data-docid="matlab_ref#btrxumd-1" class="a"><code class="olink">plotmatrix</code></a> to visualize a grid of scatter plots of all variables against one another and histograms of each variable on the diagonal. The output variable <code class="literal">Ax</code>, represents each axes in the grid and can be used to identify which axes to label using <code class="literal">xlabel</code> and <code class="literal">ylabel</code>. </p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>figure
[S,Ax] = plotmatrix(pos.Variables);

<span style="color:#0000FF">for</span> ii = 1:length(varNames)
    xlabel(Ax(end,ii),varNames{ii})
    ylabel(Ax(ii,1),varNames{ii})
<span style="color:#0000FF">end</span></pre></div></div></div><div class="informalfigure"><div id="d126e34311" class="mediaobject"><p><img src="../../examples/matlab/win64/quake_06.png" alt="MATLAB figure" width="560"></p></div></div><p>Plot a 3-D view of the trajectory and plot a vertical line at every tenth position point. The spacing between vertical lines indicates the velocity.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>step = 10;
figure
plot3(pos.NorthSouth,pos.EastWest,pos.Vertical,<span style="color:#A020F0">"r"</span>)
hold <span style="color:#A020F0">on</span>
plot3(pos.NorthSouth(1:step:end),pos.EastWest(1:step:end),pos.Vertical(1:step:end),<span style="color:#A020F0">"|"</span>)
hold <span style="color:#A020F0">off</span>
box
axis <span style="color:#A020F0">tight</span>
xlabel(<span style="color:#A020F0">"North-South"</span>)
ylabel(<span style="color:#A020F0">"East-West"</span>)
zlabel(<span style="color:#A020F0">"Vertical"</span>)
title(<span style="color:#A020F0">"Position"</span>)</pre></div></div></div><div class="informalfigure"><div id="d126e34319" class="mediaobject"><p><img src="../../examples/matlab/win64/quake_07.png" alt="Figure contains an axes object. The axes object with title Position, xlabel North-South, ylabel East-West contains 2 objects of type line. One or more of the lines displays its values using only markers" width="560"></p></div></div><h3 class="title" id="quake-9">Supporting Functions</h3><p>Functions are defined below. </p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#0000FF">function</span> y = velFun(x)
    y = (1/200)*cumsum(x);
    y = y - mean(y);
<span style="color:#0000FF">end</span></pre></div></div></div></div>
        <h2 id="d126e34331">See Also</h2><p><span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/timetable.html"><span itemprop="name"><code class="function">timetable</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/double.head.html"><span itemprop="name"><code class="function">head</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/double.summary.html"><span itemprop="name"><code class="function">summary</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/table.varfun.html"><span itemprop="name"><code class="function">varfun</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/duration.html"><span itemprop="name"><code class="function">duration</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/duration.seconds.html"><span itemprop="name"><code class="function">seconds</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/timerange.html"><span itemprop="name"><code class="function">timerange</code></span></a></span></p>
        <h3 id="d126e34356">Topics</h3><ul class="list-unstyled"><li><a href="represent-date-and-times-in-MATLAB.html" class="a">Represent Dates and Times in MATLAB</a></li><li><a href="create-timetables.html" class="a">Create Timetables</a></li><li><a href="clean-timetable-with-missing-duplicate-or-irregular-times.html" class="a">Clean Timetable with Missing, Duplicate, or Nonuniform Times</a></li><li><a href="computations-with-numeric-data-in-table-or-timetable.html" class="a">Data Cleaning and Calculations in Tables</a></li><li><a href="grouped-calculations-in-tables-and-timetables.html" class="a">Grouped Calculations in Tables and Timetables</a></li><li><a href="subscript-into-times-of-timetable.html" class="a">Select Times in Timetable</a></li><li><a href="access-data-in-a-table.html" class="a">Access Data in Tables</a></li></ul>
        
      </section>
    </div></section><div xmlns="http://www.w3.org/1999/xhtml" class="clearfix"></div>
<div xmlns="http://www.w3.org/1999/xhtml" align="center" class="feedbackblock" id="mw_docsurvey"><script src="https://www.mathworks.com/help/docsurvey/docfeedback.js"></script>
<script>loadSurveyHidden();</script>
<link rel="stylesheet" href="https://www.mathworks.com/help/docsurvey/release/index-css.css" type="text/css">
<script src="https://www.mathworks.com/help/docsurvey/release/bundle.index.js"></script>

<script>initDocSurvey();</script></div></main>


</div>
</div>
</div>
</div><!--close_0960-->
<footer xmlns="http://www.w3.org/1999/xhtml" id="footer" class="bs-footer">
<div class="container-fluid">
<div class="footer">
<div class="row">
<div class="col-12">
<p class="copyright">© 1994-2025 The MathWorks, Inc.</p>
<ul class="footernav"><li class="footernav_help"><a href="matlab:web(matlab.internal.licenseAgreement)">Terms of Use</a></li><li class="footernav_patents"><a href="matlab:web([matlabroot '/patents.txt'])">Patents</a></li><li class="footernav_trademarks"><a href="matlab:web([matlabroot '/trademarks.txt'])">Trademarks</a></li><li class="footernav_piracy"><a href="matlab:web([docroot '/acknowledgments.html'])">Acknowledgments</a></li></ul></div>
</div>
</div>
</div>
</footer>
</div><!--close row-offcanvas-->
</div><!--close_0970-->
</body>
</html>
