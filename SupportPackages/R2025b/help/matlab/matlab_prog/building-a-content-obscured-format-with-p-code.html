<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage">
<head>
<meta xmlns="http://www.w3.org/1999/xhtml" charset="utf-8">
<meta xmlns="http://www.w3.org/1999/xhtml" name="viewport" content="width=device-width, initial-scale=1.0">
<meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="X-UA-Compatible" content="IE=edge">
<title>Create a Content-Obscured File with P-Code</title>
<script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
      {
      "@context": "http://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement":
      [{
          "@type": "ListItem",
          "position": 1,

          "item": {
          "@id": "../index.html",
          "name": "MATLAB"
}

          } 
        ,
        {
          "@type": "ListItem",
          "position": 2,

          "item": {
          "@id": "../programming-and-data-types.html",
          "name": "Programming"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 3,

          "item": {
          "@id": "../security-in-MATLAB-code.html",
          "name": "Security in MATLAB Code"
}

          }]
      }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "VisibleBreadcrumbs",

        "itemListElement":
        [
        "security-in-MATLAB-code"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/bootstrap.min.css" rel="stylesheet" type="text/css">


  <meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="Content-Script-Type" content="text/javascript">
<meta xmlns="http://www.w3.org/1999/xhtml" name="toctype" itemprop="pagetype" content="con">
<meta xmlns="http://www.w3.org/1999/xhtml" name="infotype" itemprop="infotype" content="con">

<meta xmlns="http://www.w3.org/1999/xhtml" name="description" itemprop="description" content="A P-code file behaves the same as the MATLAB source from which it was produced."><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-3.6.0.min.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-migrate.min.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_lg.css" rel="stylesheet" media="screen and (min-width: 1200px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_md.css" rel="stylesheet" media="screen and (min-width: 992px) and (max-width: 1199px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm+xs.css" rel="stylesheet" media="screen and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm.css" rel="stylesheet" media="screen and (min-width: 768px) and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_xs.css" rel="stylesheet" media="screen and (max-width: 767px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_offcanvas_v2.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/shared/highlight/styles/mwdochighlight.min.css" rel="stylesheet" type="text/css">

<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/l10n.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/f1help.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/mw.imageanimation.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/jquery.highlight.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/underscore-min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/use_platform_screenshots.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/suggest.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/overload.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/helpservices.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/productfilter.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/matlab_dialog_shared.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/highlight/highlight.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/localstorage.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/product_group.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/saxonjs/SaxonJS2.rt.js"></script><script xmlns="http://www.w3.org/1999/xhtml">
            window.history.replaceState(window.location.href, null, ""); // Initialize
            window.onload = function() {    
            mystylesheetLocation = "../../includes/shared/scripts/product_group-sef.json";
            mysourceLocation = "../../docset/docset.xml";
            product_help_location = "matlab";
            pagetype = "section";
            doccentertype = "product";
            langcode = "";
            getProductFilteredList(mystylesheetLocation, mysourceLocation, product_help_location, pagetype, doccentertype, langcode);  
            }
          </script>




<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery.mobile.custom.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/bootstrap.bundle.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/global.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_base.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_installed.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_print.css" rel="stylesheet" type="text/css" media="print">
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/equationrenderer/release/MathRenderer.js"></script>
</head>
<body id="responsive_offcanvas">
<div xmlns="http://www.w3.org/1999/xhtml" id="doc_header_spacer" class="header"></div>
<div xmlns="http://www.w3.org/1999/xhtml" class="section_header level_3"><div class="container-fluid"><div class="row" id="mobile_search_row"><div class="col-sm-6 col-md-7 has_horizontal_local_nav" id="section_header_title"><div class="section_header_content"><div class="section_header_title"><h1><a href="../../documentation-center.html">Help Center</a></h1></div></div></div><div class="col-12 col-sm-6 col-md-5" id="mobile_search"><div class="search_nested_content_container"><form id="docsearch_form" name="docsearch_form" method="get" data-release="R2025b" data-language="en" action="../../templates/searchresults.html"><div class="input-group tokenized_search_field"><label class="visually-hidden form-label">Search Help</label><input type="text" class="form-control conjoined_search" autocomplete="off" name="qdoc" placeholder="Search Help" id="docsearch"> <div><button type="submit" name="submitsearch" id="submitsearch" class="btn icon-search btn_search_adjacent btn_search icon_16" tabindex="-1"></button></div></div></form></div><button class="btn icon-remove btn_search float-end icon_32 d-sm-none" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div><div class="d-sm-none" id="search_actuator"><button class="btn icon-search btn_search float-end icon_16" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div></div></div></div><div class="row-offcanvas row-offcanvas-left">
<div xmlns="http://www.w3.org/1999/xhtml" class="sidebar-offcanvas" id="sidebar">
<nav class="offcanvas_nav" role="navigation">
<div class="offcanvas_actuator" data-bs-toggle="offcanvas" data-bs-target="#sidebar" id="nav_toggle"><button type="button" class="btn"><span class="visually-hidden">Off-Canvas Navigation Menu Toggle
                  Off-Canvas Navigation Menu Toggle</span><span class="icon-menu"></span></button><span class="offcanvas_actuator_label" id="translation_icon-menu" tabindex="-1" aria-hidden="true"></span></div><div class="nav_list_wrapper" id="nav_list_wrapper"><nav class="offcanvas_nav" role="navigation"><ul class="nav_breadcrumb" id="ul_left_nav_ancestors"><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../../documentation-center.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Documentation Home</span></a></li></ul>
<ul class="nav_disambiguation"><li><a href="../index.html?s_tid=CRUX_lftnav" id="index">MATLAB</a>
</li>
<li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../programming-and-data-types.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Programming</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../security-in-MATLAB-code.html?s_tid=CRUX_lftnav" itemprop="url" id="mw_09bd6f0b-5990-44a1-a0db-2051694a52b4"><span itemprop="title">Security in MATLAB Code</span></a></li></ul><div class="search_refine_v4"><div id="facets_area"><ul class="nav_scrollspy nav list-unstyled" id="pnav">
<li class="nav_scrollspy_function nav-item"><a href="#responsive_offcanvas">Create a Content-Obscured File with P-Code</a></li>
<li class="nav_scrollspy_title nav-item" id="SSPY810-section">On this page</li>
<!--ADD_REFENTRY_TITLE_HERE 11--><li class="nav-item"><a href="#mw_ece421aa-5adb-4810-8b02-4ac4e9471738" class="nav-link intrnllnk">Create P-Code Files</a></li><li class="nav-item"><a href="#mw_9a32ae33-1781-4e5a-a2b1-31a52e35cc43" class="nav-link intrnllnk">Obfuscate Local Identifiers</a></li><li class="nav-item"><a href="#mw_30eecf31-900c-45c2-ab6f-52e033c30333" class="nav-link intrnllnk">Invoke P-Code Files</a></li><li class="nav-item"><a href="#mw_9b72f20e-da42-43c8-87ee-f7db078e50b4" class="nav-link intrnllnk">Run Older P-Code Files on Later Versions of MATLAB</a></li><li class="nav-item"><a href="#d126e60874" class="nav-link intrnllnk">See Also</a></li></ul></div></div>
</nav></div></nav>
<script src="../../includes/product/scripts/offcanvas_v2.js"></script></div><!--END.CLASS sidebar-offcanvas-->
<div class="offcanvas_content_container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sticky_header_container"><div class="horizontal_nav"><div class="horizontal_nav_container"><div class="offcanvas_horizontal_nav"><div class="container-fluid"><div class="row"><div class="col-sm-12 d-none d-sm-block"><nav class="navbar navbar-default" role="navigation" id="subnav"><div><ul class="nav navbar-nav crux_browse"><li id="crux_nav_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_example" class="crux_resource"><a href="../examples.html?category=security-in-MATLAB-code&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=security-in-MATLAB-code&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=security-in-MATLAB-code&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></nav></div><div class="d-sm-none"><div class="container-fluid"><div class="row"><div class="col-9"><div class="mobile_crux_nav_trigger"><div class="btn-group"><button type="button" class="btn btn-default dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Resources</button><ul class="dropdown-menu"><li id="crux_nav_mobile_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_mobile_example" class="crux_resource"><a href="../examples.html?category=security-in-MATLAB-code&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_mobile_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=security-in-MATLAB-code&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_mobile_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=security-in-MATLAB-code&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></div></div><div class="col-3"><div class="translate_placeholder"></div></div></div></div></div></div></div></div></div></div></div><div class="content_container" id="content_container" itemprop="content">
<div class="container-fluid">
<div class="row">
<div class="col-12">

<main id="skip_link_anchor" tabindex="-1">
<div xmlns="http://www.w3.org/1999/xhtml" id="product_info_alert"></div><section xmlns="http://www.w3.org/1999/xhtml" id="doc_center_content" lang="en" data-language="en"><div id="pgtype-topic">
<section><h2 class="title r2025b" itemprop="title content" id="mw_9470ef38-eec3-4966-b56c-ace526e90c6a">Create a Content-Obscured File with P-Code</h2><a class="indexterm" name="d126e60686"></a><a class="indexterm" name="d126e60693"></a><a class="indexterm" name="d126e60695"></a><p>A P-code file behaves the same as the MATLAB<sup>&#x00AE;</sup> source from which it was produced. The P-code file also runs at the same
            speed as the source file. P-code files are purposely obfuscated.</p><div class="alert alert-info d-inline-block"><span class="alert_icon icon-alert-info-reverse"></span><p class="alert_heading"><strong>Note</strong></p><p><strong class="emphasis bold">Security Considerations:</strong> The
                    <code class="literal">pcode</code> function produces MATLAB program files in a proprietary, obfuscated code format. Consider
                combining multiple approaches to protect sensitive code or data. For more
                information, see <a href="protect-your-source-code.html" class="a">Security Considerations to Protect Your Source Code</a>.</p></div><section><h3 class="title" id="mw_ece421aa-5adb-4810-8b02-4ac4e9471738">Create P-Code Files</h3><p>To generate a P-code file, enter the following command in the MATLAB Command Window:</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>pcode <span style="color:#A020F0">file1.m</span> <span style="color:#A020F0">file2.m</span>
</pre></div></div></div><p>The command produces the files <code class="literal">file1.p</code>,
                    <code class="literal">file2.p</code>, and so on. To convert all <code class="literal">.m</code>
                source files residing in your current folder to P-code files, use the
                command:</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>pcode <span style="color:#A020F0">*.m</span></pre></div></div></div><p>See the <a href="../ref/pcode.html"><code class="function">pcode</code></a> function reference page for a
                description of all syntaxes for generating P-code files.</p></section><section><h3 class="title" id="mw_9a32ae33-1781-4e5a-a2b1-31a52e35cc43">Obfuscate Local Identifiers</h3><p>Use <a href="../ref/matlab.lang.obfuscatenames.html"><code class="function">matlab.lang.obfuscateNames</code></a> in conjunction with <code class="literal"><a href="../ref/pcode.html"><code class="function">pcode</code></a> -R2022a</code> to
                further obfuscate source-code by replacing names of local variables, local
                functions, and nested functions with generic names.</p><p>
                </p>
<div class="alert alert-info d-inline-block"><span class="alert_icon icon-alert-info-reverse"></span><p class="alert_heading"><strong>Note</strong></p><p>Code with obfuscated names may behave differently from source code.
                            <code class="literal">matlab.lang.obfuscateNames</code> only obfuscates direct
                        occurrences of names in code, such as <code class="literal">x</code> in <code class="literal">x =
                            1</code>, <code class="literal">if x &lt; 5</code>, and
                            <code class="literal">f(x+y)</code>. Occurrences in strings, character vectors,
                        and command-syntax arguments are not obfuscated, such as
                            <code class="literal">eval("f(x+y)")</code> or <code class="literal">clear x</code>. </p></div><p>

            </p><p>For example, you have the source-code for the function
                <code class="literal">myfunc</code>:</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#0000FF">function</span> outputArg = myfunc(inputArg1,inputArg2)
    sumVar = inputArg1 + inputArg2;
    prodVar = inputArg1*inputArg2;

    outputArg = sumVar/prodVar;
<span style="color:#0000FF">end</span>
</pre></div></div></div><p>Use <a href="../ref/matlab.lang.obfuscatenames.html"><code class="function">matlab.lang.obfuscateNames</code></a> to write <code class="literal">myfunc</code> to a
                new file with local names obfuscated.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>matlab.lang.obfuscateNames(<span style="color:#A020F0">"SourceCode\myfunc.m"</span>,<span style="color:#A020F0">"ObfuscatedCode\myfunc.m"</span>)</pre></div></div></div><p>The new file has the names of local identifiers changed to generic names:</p><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>function outputArg = myfunc(inputArg1,inputArg2)
    id242487092 = inputArg1 + inputArg2;
    id40037619 = inputArg1*inputArg2;

    outputArg = id242487092/id40037619;
end
</pre></div></div></div><p>Note that the names of the input and output arguments are not changed. The names
                    <code class="literal">ans</code>, <code class="literal">varargin</code>,
                    <code class="literal">varargout</code>, and names that are used as literal arguments for
                the <code class="literal">load</code> function are never obfuscated.</p><p>Thoroughly test obfuscated code to ensure it is functioning as intended. Consider
                making use of MATLAB <a href="../matlab-unit-test-framework.html" class="a">Testing Frameworks</a> to write automated tests to verify the
                behavior of obfuscated code. If the code does not behave as desired, use
                    <code class="literal">PreserveNames</code> and other name-value arguments to control the
                obfuscation process.</p><p>Source code written to <code class="argument">outputFile</code> is encoded using UTF-8.
            </p></section><section><h3 class="title" id="mw_30eecf31-900c-45c2-ab6f-52e033c30333">Invoke P-Code Files</h3><p>You can invoke the resulting P-code files in the same way you invoke the
                    MATLAB
                <code class="literal">.m</code> source files from which they were produced. For example, to
                invoke file <code class="literal">myfun.p</code>, type:</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>[out1,out2] = myfun(in1,in2);</pre></div></div></div><p>To invoke script <code class="function">myscript.p</code>, type:</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>myscript;</pre></div></div></div><p>When you call a P-code file, MATLAB gives it execution precedence over its corresponding
                    <code class="literal">.m</code> source file. This is true even if you change the source
                code at generating the P-code file. Remember to remove the <code class="literal">.m</code>
                source file before distributing your code.</p></section><section><h3 class="title" id="mw_9b72f20e-da42-43c8-87ee-f7db078e50b4">Run Older P-Code Files on Later Versions of <span class="trademark entity">MATLAB</span></h3><p>P-code files are designed to be independent of the release in which they were
                created and the release in which they are used (backward and forward compatibility).
                New and deprecated MATLAB features can cause errors, but these errors would also appear if you
                used the original MATLAB source file. To fix errors of this kind in a P-code file, fix the
                corresponding MATLAB source file and create a new P-code file.</p><p>P-code files built using MATLAB Version 7.4 (R2007a) and earlier have a different format than those
                built with more recent versions of MATLAB. These older P-code files do not run in MATLAB V8.6 (R2015b) or later. Rebuild any P-code files that were built with
                    MATLAB V7.4 or earlier using a more recent version of MATLAB, and then redistribute them as necessary.</p></section>
            <h2 id="d126e60874">See Also</h2><p><span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/pcode.html"><span itemprop="name"><code class="function">pcode</code></span></a></span></p>
            <h3 id="d126e60880">Topics</h3><ul class="list-unstyled"><li><a href="protect-your-source-code.html" class="a">Security Considerations to Protect Your Source Code</a></li></ul>
            
        </section>
    </div></section><div xmlns="http://www.w3.org/1999/xhtml" class="clearfix"></div>
<div xmlns="http://www.w3.org/1999/xhtml" align="center" class="feedbackblock" id="mw_docsurvey"><script src="https://www.mathworks.com/help/docsurvey/docfeedback.js"></script>
<script>loadSurveyHidden();</script>
<link rel="stylesheet" href="https://www.mathworks.com/help/docsurvey/release/index-css.css" type="text/css">
<script src="https://www.mathworks.com/help/docsurvey/release/bundle.index.js"></script>

<script>initDocSurvey();</script></div></main>


</div>
</div>
</div>
</div><!--close_0960-->
<footer xmlns="http://www.w3.org/1999/xhtml" id="footer" class="bs-footer">
<div class="container-fluid">
<div class="footer">
<div class="row">
<div class="col-12">
<p class="copyright">Â© 1994-2025 The MathWorks, Inc.</p>
<ul class="footernav"><li class="footernav_help"><a href="matlab:web(matlab.internal.licenseAgreement)">Terms of Use</a></li><li class="footernav_patents"><a href="matlab:web([matlabroot '/patents.txt'])">Patents</a></li><li class="footernav_trademarks"><a href="matlab:web([matlabroot '/trademarks.txt'])">Trademarks</a></li><li class="footernav_piracy"><a href="matlab:web([docroot '/acknowledgments.html'])">Acknowledgments</a></li></ul></div>
</div>
</div>
</div>
</footer>
</div><!--close row-offcanvas-->
</div><!--close_0970-->
</body>
</html>
