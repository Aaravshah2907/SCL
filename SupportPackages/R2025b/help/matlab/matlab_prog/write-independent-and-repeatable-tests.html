<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage">
<head>
<meta xmlns="http://www.w3.org/1999/xhtml" charset="utf-8">
<meta xmlns="http://www.w3.org/1999/xhtml" name="viewport" content="width=device-width, initial-scale=1.0">
<meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="X-UA-Compatible" content="IE=edge">
<title>Write Independent and Repeatable Tests</title>
<script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
      {
      "@context": "http://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement":
      [{
          "@type": "ListItem",
          "position": 1,

          "item": {
          "@id": "../index.html",
          "name": "MATLAB"
}

          } 
        ,
        {
          "@type": "ListItem",
          "position": 2,

          "item": {
          "@id": "../software-development.html",
          "name": "Software Development Tools"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 3,

          "item": {
          "@id": "../matlab-unit-test-framework.html",
          "name": "Testing Frameworks"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 4,

          "item": {
          "@id": "../write-unit-tests.html",
          "name": "Write Unit Tests"
}

          }]
      }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "VisibleBreadcrumbs",

        "itemListElement":
        [
        "write-unit-tests"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/bootstrap.min.css" rel="stylesheet" type="text/css">


  <meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="Content-Script-Type" content="text/javascript">
<meta xmlns="http://www.w3.org/1999/xhtml" name="toctype" itemprop="pagetype" content="con">
<meta xmlns="http://www.w3.org/1999/xhtml" name="infotype" itemprop="infotype" content="con">

<meta xmlns="http://www.w3.org/1999/xhtml" name="description" itemprop="description" content="Write class-based tests following best practices for test independence and repeatability."><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-3.6.0.min.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-migrate.min.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_lg.css" rel="stylesheet" media="screen and (min-width: 1200px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_md.css" rel="stylesheet" media="screen and (min-width: 992px) and (max-width: 1199px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm+xs.css" rel="stylesheet" media="screen and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm.css" rel="stylesheet" media="screen and (min-width: 768px) and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_xs.css" rel="stylesheet" media="screen and (max-width: 767px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_offcanvas_v2.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/shared/highlight/styles/mwdochighlight.min.css" rel="stylesheet" type="text/css">

<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/l10n.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/f1help.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/mw.imageanimation.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/jquery.highlight.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/underscore-min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/use_platform_screenshots.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/suggest.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/overload.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/helpservices.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/productfilter.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/matlab_dialog_shared.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/highlight/highlight.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/localstorage.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/product_group.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/saxonjs/SaxonJS2.rt.js"></script><script xmlns="http://www.w3.org/1999/xhtml">
            window.history.replaceState(window.location.href, null, ""); // Initialize
            window.onload = function() {    
            mystylesheetLocation = "../../includes/shared/scripts/product_group-sef.json";
            mysourceLocation = "../../docset/docset.xml";
            product_help_location = "matlab";
            pagetype = "section";
            doccentertype = "product";
            langcode = "";
            getProductFilteredList(mystylesheetLocation, mysourceLocation, product_help_location, pagetype, doccentertype, langcode);  
            }
          </script>




<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery.mobile.custom.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/bootstrap.bundle.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/global.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_base.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_installed.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_print.css" rel="stylesheet" type="text/css" media="print">
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/equationrenderer/release/MathRenderer.js"></script>
</head>
<body id="responsive_offcanvas">
<div xmlns="http://www.w3.org/1999/xhtml" id="doc_header_spacer" class="header"></div>
<div xmlns="http://www.w3.org/1999/xhtml" class="section_header level_3"><div class="container-fluid"><div class="row" id="mobile_search_row"><div class="col-sm-6 col-md-7 has_horizontal_local_nav" id="section_header_title"><div class="section_header_content"><div class="section_header_title"><h1><a href="../../documentation-center.html">Help Center</a></h1></div></div></div><div class="col-12 col-sm-6 col-md-5" id="mobile_search"><div class="search_nested_content_container"><form id="docsearch_form" name="docsearch_form" method="get" data-release="R2025b" data-language="en" action="../../templates/searchresults.html"><div class="input-group tokenized_search_field"><label class="visually-hidden form-label">Search Help</label><input type="text" class="form-control conjoined_search" autocomplete="off" name="qdoc" placeholder="Search Help" id="docsearch"> <div><button type="submit" name="submitsearch" id="submitsearch" class="btn icon-search btn_search_adjacent btn_search icon_16" tabindex="-1"></button></div></div></form></div><button class="btn icon-remove btn_search float-end icon_32 d-sm-none" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div><div class="d-sm-none" id="search_actuator"><button class="btn icon-search btn_search float-end icon_16" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div></div></div></div><div class="row-offcanvas row-offcanvas-left">
<div xmlns="http://www.w3.org/1999/xhtml" class="sidebar-offcanvas" id="sidebar">
<nav class="offcanvas_nav" role="navigation">
<div class="offcanvas_actuator" data-bs-toggle="offcanvas" data-bs-target="#sidebar" id="nav_toggle"><button type="button" class="btn"><span class="visually-hidden">Off-Canvas Navigation Menu Toggle
                  Off-Canvas Navigation Menu Toggle</span><span class="icon-menu"></span></button><span class="offcanvas_actuator_label" id="translation_icon-menu" tabindex="-1" aria-hidden="true"></span></div><div class="nav_list_wrapper" id="nav_list_wrapper"><nav class="offcanvas_nav" role="navigation"><ul class="nav_breadcrumb" id="ul_left_nav_ancestors"><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../../documentation-center.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Documentation Home</span></a></li></ul>
<ul class="nav_disambiguation"><li><a href="../index.html?s_tid=CRUX_lftnav" id="index">MATLAB</a>
</li>
<li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../software-development.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Software Development Tools</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../matlab-unit-test-framework.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Testing Frameworks</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../write-unit-tests.html?s_tid=CRUX_lftnav" itemprop="url" id="mw_da8ee3e3-f207-4fba-a957-34116645b7e8"><span itemprop="title">Write Unit Tests</span></a></li></ul><div class="search_refine_v4"><div id="facets_area"><ul class="nav_scrollspy nav list-unstyled" id="pnav">
<li class="nav_scrollspy_function nav-item"><a href="#responsive_offcanvas">Write Independent and Repeatable
            Tests</a></li>
<li class="nav_scrollspy_title nav-item" id="SSPY810-section">On this page</li>
<!--ADD_REFENTRY_TITLE_HERE 11--><li class="nav-item"><a href="#mw_8da05308-ae58-4632-b580-14f17db6ee59" class="nav-link intrnllnk">Specify Symmetric Setup and Teardown Actions</a></li><li class="nav-item"><a href="#mw_4385428a-69d0-4e2a-9945-7025c62c8941" class="nav-link intrnllnk">Access Global State Using Methods</a></li><li class="nav-item"><a href="#mw_83a9e415-bb82-4361-9f47-1ca418476487" class="nav-link intrnllnk">Use Value Objects as Test Parameter Values</a></li><li class="nav-item"><a href="#d126e90606" class="nav-link intrnllnk">See Also</a></li></ul></div></div>
</nav></div></nav>
<script src="../../includes/product/scripts/offcanvas_v2.js"></script></div><!--END.CLASS sidebar-offcanvas-->
<div class="offcanvas_content_container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sticky_header_container"><div class="horizontal_nav"><div class="horizontal_nav_container"><div class="offcanvas_horizontal_nav"><div class="container-fluid"><div class="row"><div class="col-sm-12 d-none d-sm-block"><nav class="navbar navbar-default" role="navigation" id="subnav"><div><ul class="nav navbar-nav crux_browse"><li id="crux_nav_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_example" class="crux_resource"><a href="../examples.html?category=write-unit-tests&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=write-unit-tests&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=write-unit-tests&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></nav></div><div class="d-sm-none"><div class="container-fluid"><div class="row"><div class="col-9"><div class="mobile_crux_nav_trigger"><div class="btn-group"><button type="button" class="btn btn-default dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Resources</button><ul class="dropdown-menu"><li id="crux_nav_mobile_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_mobile_example" class="crux_resource"><a href="../examples.html?category=write-unit-tests&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_mobile_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=write-unit-tests&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_mobile_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=write-unit-tests&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></div></div><div class="col-3"><div class="translate_placeholder"></div></div></div></div></div></div></div></div></div></div></div><div class="content_container" id="content_container" itemprop="content">
<div class="container-fluid">
<div class="row">
<div class="col-12">

<main id="skip_link_anchor" tabindex="-1">
<div xmlns="http://www.w3.org/1999/xhtml" id="product_info_alert"></div><section xmlns="http://www.w3.org/1999/xhtml" id="doc_center_content" lang="en" data-language="en"><div id="pgtype-topic">
<section><h2 class="title r2025b" itemprop="title content" id="mw_4cf39877-1b01-482f-b295-9153e4ea4606">Write Independent and Repeatable
            Tests</h2><p>Unit tests must run independently, without unintentionally affecting one another. In
            addition, unit tests must be repeatable, which means that a running test must not affect
            subsequent reruns of the same test. When you create class-based tests by subclassing the
                <a href="../ref/matlab.unittest.testcase-class.html"><code class="class">matlab.unittest.TestCase</code></a> class, use
            the following best practices for test independence and repeatability.</p><section><h3 class="title" id="mw_8da05308-ae58-4632-b580-14f17db6ee59">Specify Symmetric Setup and Teardown Actions</h3><p>If your test class includes code for setting up the test environment, it must also
                include code to restore the environment to its original state by performing teardown
                actions symmetrically in the reverse order of their corresponding setup actions:</p>
<div class="itemizedlist"><ul><li><p>For setup code specified in a <code class="literal">TestClassSetup</code>
                            <code class="literal">methods</code> block, specify the corresponding teardown
                            code by using the <a href="../ref/matlab.unittest.testcase.addteardown.html"><code class="method">addTeardown</code></a> method
                            in the same block or by specifying a
                                <code class="literal">TestClassTeardown</code>
                            <code class="literal">methods</code> block.</p></li><li><p>For setup code specified in a <code class="literal">TestMethodSetup</code>
                            <code class="literal">methods</code> block, specify the corresponding teardown
                            code by using the <code class="method">addTeardown</code> method in the same block
                            or by specifying a <code class="literal">TestMethodTeardown</code>
                            <code class="literal">methods</code> block.</p></li><li><p>For setup code specified using a shared test fixture, do not add
                            separate teardown code to your test class. The fixture automatically
                            restores the environment when the testing framework tears it down.
                            Shared test fixtures are specified using the
                                <code class="literal">SharedTestFixtures</code> attribute of
                                <code class="class">TestCase</code> subclasses.</p></li></ul></div><p>
</p><p>For example, in the <code class="class">AsymmetryExampleTest</code> class, the
                    <code class="method">setFormat</code> method runs a single time before the tests because it
                is defined in a <code class="literal">TestClassSetup</code>
                <code class="literal">methods</code> block. However, the <code class="method">restoreFormat</code> method
                runs after each test in the test class because it is defined in a
                    <code class="literal">TestMethodTeardown</code>
                <code class="literal">methods</code> block. If you set the line spacing format to its default
                value (<code class="literal">format loose</code>) and then run the
                    <code class="class">AsymmetryExampleTest</code> class, one of the tests in the test class
                fails because the <code class="method">restoreFormat</code> method restores the format to its
                original state after running the first test. In other words, the teardown code runs
                earlier than expected. In contrast, the tests in the
                    <code class="class">SymmetryExampleTest</code> class pass because the
                    <code class="method">addTeardown</code> method call runs the teardown code only after both
                the tests in the class run. Therefore, the format remains the same during
                testing.</p><div class="table-responsive"><table class="table table-condensed"><colgroup><col class="tcol1" width="50%"><col class="tcol2" width="50%"></colgroup><thead><tr><th>Not Recommended</th><th>Recommended</th></tr></thead><tbody><tr><td>
                                <div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#0000FF">classdef</span> AsymmetryExampleTest &lt; matlab.unittest.TestCase
    <span style="color:#0000FF">properties</span>
        OriginalFormat
    <span style="color:#0000FF">end</span>

    <span style="color:#0000FF">methods</span> (TestClassSetup)
        <span style="color:#0000FF">function</span> setFormat(testCase)
            testCase.OriginalFormat = format;
            format(<span style="color:#A020F0">"compact"</span>)
        <span style="color:#0000FF">end</span>
    <span style="color:#0000FF">end</span>

    <span style="color:#0000FF">methods</span> (TestMethodTeardown)
        <span style="color:#0000FF">function</span> restoreFormat(testCase)
            format(testCase.OriginalFormat)
        <span style="color:#0000FF">end</span>
    <span style="color:#0000FF">end</span>

    <span style="color:#0000FF">methods</span> (Test)
        <span style="color:#0000FF">function</span> formatTest1(testCase)
            testCase.verifyEqual(format().LineSpacing,<span style="color:#A020F0">"compact"</span>)
        <span style="color:#0000FF">end</span>

        <span style="color:#0000FF">function</span> formatTest2(testCase)
            testCase.verifyEqual(format().LineSpacing,<span style="color:#A020F0">"compact"</span>)
        <span style="color:#0000FF">end</span>
    <span style="color:#0000FF">end</span>
<span style="color:#0000FF">end</span></pre></div></div></div>
                            </td><td>
                                <div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#0000FF">classdef</span> SymmetryExampleTest &lt; matlab.unittest.TestCase
    <span style="color:#0000FF">methods</span> (TestClassSetup)
        <span style="color:#0000FF">function</span> setFormat(testCase)
            originalFormat = format;
            testCase.addTeardown(@format,originalFormat)
            format(<span style="color:#A020F0">"compact"</span>)
        <span style="color:#0000FF">end</span>
    <span style="color:#0000FF">end</span>

    <span style="color:#0000FF">methods</span> (Test)
        <span style="color:#0000FF">function</span> formatTest1(testCase)
            testCase.verifyEqual(format().LineSpacing,<span style="color:#A020F0">"compact"</span>)
        <span style="color:#0000FF">end</span>

        <span style="color:#0000FF">function</span> formatTest2(testCase)
            testCase.verifyEqual(format().LineSpacing,<span style="color:#A020F0">"compact"</span>)
        <span style="color:#0000FF">end</span>
    <span style="color:#0000FF">end</span>
<span style="color:#0000FF">end</span></pre></div></div></div>
                            </td></tr></tbody></table></div><p>It is recommended that you perform all teardown actions from
    within the <code class="literal">TestMethodSetup</code> and <code class="literal">TestClassSetup</code>
    <code class="literal">methods</code> blocks using the <code class="method">addTeardown</code> method instead of
    implementing corresponding teardown methods in the <code class="literal">TestMethodTeardown</code> and
        <code class="literal">TestClassTeardown</code>
    <code class="literal">methods</code> blocks. Call <code class="method">addTeardown</code> immediately before or after
    the original state change, without any other code in between that can throw an exception. Using
        <code class="method">addTeardown</code> allows the testing framework to execute the teardown code in
    the reverse order of the setup code and also creates exception-safe test content.</p><p>For more information about setup and teardown code in test classes, see <a href="write-setup-and-teardown-code-using-classes.html" class="a">Write Setup and Teardown Code Using Classes</a> and <a href="write-test-using-shared-fixtures.html" class="a">Write Tests Using Shared Fixtures</a>.</p></section><section><h3 class="title" id="mw_4385428a-69d0-4e2a-9945-7025c62c8941">Access Global State Using Methods</h3><p>To access a global state, such as the MATLAB<sup>&#x00AE;</sup> search path or output display format, use a method instead of a
                property. Specifying the state as a default property value is not recommended
                because accessing the property value at different points might not reflect changes
                to the state. MATLAB evaluates default property values a single time, when parsing the
                class.</p><p>For example, in the <code class="class">PropertyExampleTest</code> class, the
                    <code class="property">OriginalFormat</code> property is set to the display format at
                class parse time, and its value remains the same in different runs of the test
                class. If you change the line spacing format after the first run, the property still
                points to the original line spacing format from class parse time. As a result, a
                second run of the test class corrupts the display format because the
                    <code class="method">addTeardown</code> method call always restores the format to its value
                at class parse time and not the value prior to the test run. In contrast, in the
                    <code class="class">MethodExampleTest</code> class, the current display format is correctly
                captured because the <code class="method">formatTest</code> method runs every time the test
                class runs. Therefore, the <code class="method">addTeardown</code> method call in the
                    <code class="class">MethodExampleTest</code> class can restore the display format to its
                value prior to the test run, and the test does not corrupt the display
                format.</p><div class="table-responsive"><table class="table table-condensed"><colgroup><col class="tcol1" width="50%"><col class="tcol2" width="50%"></colgroup><thead><tr><th>Not Recommended</th><th>Recommended</th></tr></thead><tbody><tr><td>
                                <div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#0000FF">classdef</span> PropertyExampleTest &lt; matlab.unittest.TestCase
    <span style="color:#0000FF">properties</span>
        OriginalFormat = format
    <span style="color:#0000FF">end</span>

    <span style="color:#0000FF">methods</span> (Test)
        <span style="color:#0000FF">function</span> formatTest(testCase)
            testCase.addTeardown(@format,testCase.OriginalFormat)
            format(<span style="color:#A020F0">"compact"</span>)
            <span style="color:#228B22">% Test code</span>
        <span style="color:#0000FF">end</span>
    <span style="color:#0000FF">end</span>
<span style="color:#0000FF">end</span></pre></div></div></div>
                            </td><td>
                                <div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#0000FF">classdef</span> MethodExampleTest &lt; matlab.unittest.TestCase
    <span style="color:#0000FF">methods</span> (Test)
        <span style="color:#0000FF">function</span> formatTest(testCase)
            originalFormat = format;
            testCase.addTeardown(@format,originalFormat)
            format(<span style="color:#A020F0">"compact"</span>)
            <span style="color:#228B22">% Test code</span>
        <span style="color:#0000FF">end</span>
    <span style="color:#0000FF">end</span>
<span style="color:#0000FF">end</span></pre></div></div></div>
                            </td></tr></tbody></table></div></section><section><h3 class="title" id="mw_83a9e415-bb82-4361-9f47-1ca418476487">Use Value Objects as Test Parameter Values</h3><p>Initialize your parameterization properties with value objects. Using handle
                objects, such as MATLAB graphics objects, as parameter values is not recommended. If you need
                to test handle objects in your parameterized test, consider constructing them
                indirectly by using function handles as parameter values and invoking those function
                handles in tests.</p><p>For example, the first time you run the <code class="class">HandleExampleTest</code> class,
                the parameterized tests successfully run using the figures created in the
                    <code class="literal">properties</code> block. After testing, each test closes the figure
                passed to it as a parameter value using a call to the <code class="method">addTeardown</code>
                method. If you run the test class again, the tests fail because MATLAB evaluates default property values a single time, when parsing the
                class. In other words, there are no figures to test with in subsequent runs of the
                    <code class="class">HandleExampleTest</code> class. In contrast, the tests in the
                    <code class="class">ValueExampleTest</code> class are repeatable because each parameterized
                test creates its own figure by invoking a function handle and then closes the figure
                after testing.</p><div class="table-responsive"><table class="table table-condensed"><colgroup><col class="tcol1" width="50%"><col class="tcol2" width="50%"></colgroup><thead><tr><th>Not Recommended</th><th>Recommended</th></tr></thead><tbody><tr><td>
                                <div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#0000FF">classdef</span> HandleExampleTest &lt; matlab.unittest.TestCase
    <span style="color:#0000FF">properties</span> (TestParameter)
        fig = {figure,uifigure}
    <span style="color:#0000FF">end</span>

    <span style="color:#0000FF">methods</span> (Test)
        <span style="color:#0000FF">function</span> figureTest(testCase,fig)
            testCase.addTeardown(@close,fig)
            cp = fig.CurrentPoint;
            testCase.verifyEqual(cp,[0 0])
        <span style="color:#0000FF">end</span>
    <span style="color:#0000FF">end</span>
<span style="color:#0000FF">end</span></pre></div></div></div>
                            </td><td>
                                <div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#0000FF">classdef</span> ValueExampleTest &lt; matlab.unittest.TestCase
    <span style="color:#0000FF">properties</span> (TestParameter)
        fig = {@figure,@uifigure}
    <span style="color:#0000FF">end</span>

    <span style="color:#0000FF">methods</span> (Test)
        <span style="color:#0000FF">function</span> figureTest(testCase,fig)
            f = fig();
            testCase.addTeardown(@close,f)
            cp = f.CurrentPoint;
            testCase.verifyEqual(cp,[0 0])
        <span style="color:#0000FF">end</span>
    <span style="color:#0000FF">end</span>
<span style="color:#0000FF">end</span></pre></div></div></div>
                            </td></tr></tbody></table></div><p>For more information about test parameters, see <a href="use-parameters-in-class-based-tests.html" class="a">Use Parameters in Class-Based Tests</a>.</p></section>
            <h2 id="d126e90606">See Also</h2><h3>Classes</h3><ul class="list-unstyled margined_10"><li><span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/matlab.unittest.testcase-class.html"><span itemprop="name"><code class="class">matlab.unittest.TestCase</code></span></a></span></li></ul>
            <h3 id="d126e90615">Topics</h3><ul class="list-unstyled"><li><a href="class-based-unit-tests.html" class="a">Class-Based Unit Tests</a></li></ul>
            
        </section>
    </div></section><div xmlns="http://www.w3.org/1999/xhtml" class="clearfix"></div>
<div xmlns="http://www.w3.org/1999/xhtml" align="center" class="feedbackblock" id="mw_docsurvey"><script src="https://www.mathworks.com/help/docsurvey/docfeedback.js"></script>
<script>loadSurveyHidden();</script>
<link rel="stylesheet" href="https://www.mathworks.com/help/docsurvey/release/index-css.css" type="text/css">
<script src="https://www.mathworks.com/help/docsurvey/release/bundle.index.js"></script>

<script>initDocSurvey();</script></div></main>


</div>
</div>
</div>
</div><!--close_0960-->
<footer xmlns="http://www.w3.org/1999/xhtml" id="footer" class="bs-footer">
<div class="container-fluid">
<div class="footer">
<div class="row">
<div class="col-12">
<p class="copyright">Â© 1994-2025 The MathWorks, Inc.</p>
<ul class="footernav"><li class="footernav_help"><a href="matlab:web(matlab.internal.licenseAgreement)">Terms of Use</a></li><li class="footernav_patents"><a href="matlab:web([matlabroot '/patents.txt'])">Patents</a></li><li class="footernav_trademarks"><a href="matlab:web([matlabroot '/trademarks.txt'])">Trademarks</a></li><li class="footernav_piracy"><a href="matlab:web([docroot '/acknowledgments.html'])">Acknowledgments</a></li></ul></div>
</div>
</div>
</div>
</footer>
</div><!--close row-offcanvas-->
</div><!--close_0970-->
</body>
</html>
