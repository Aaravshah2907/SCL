<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage">
<head>
<meta xmlns="http://www.w3.org/1999/xhtml" charset="utf-8">
<meta xmlns="http://www.w3.org/1999/xhtml" name="viewport" content="width=device-width, initial-scale=1.0">
<meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="X-UA-Compatible" content="IE=edge">
<title>Run Tests in Parallel with Custom Plugin</title>
<script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
      {
      "@context": "http://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement":
      [{
          "@type": "ListItem",
          "position": 1,

          "item": {
          "@id": "../index.html",
          "name": "MATLAB"
}

          } 
        ,
        {
          "@type": "ListItem",
          "position": 2,

          "item": {
          "@id": "../software-development.html",
          "name": "Software Development Tools"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 3,

          "item": {
          "@id": "../matlab-unit-test-framework.html",
          "name": "Testing Frameworks"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 4,

          "item": {
          "@id": "../extend-testing-frameworks.html",
          "name": "Extend Testing Frameworks"
}

          }]
      }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "VisibleBreadcrumbs",

        "itemListElement":
        [
        "extend-testing-frameworks"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/bootstrap.min.css" rel="stylesheet" type="text/css">


  <meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="Content-Script-Type" content="text/javascript">
<meta xmlns="http://www.w3.org/1999/xhtml" name="toctype" itemprop="pagetype" content="ug">
<meta xmlns="http://www.w3.org/1999/xhtml" name="infotype" itemprop="infotype" content="ex">

<meta xmlns="http://www.w3.org/1999/xhtml" name="description" itemprop="description" content="Create a custom plugin that counts the number of passing and failing assertions when tests run in parallel."><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-3.6.0.min.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-migrate.min.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_lg.css" rel="stylesheet" media="screen and (min-width: 1200px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_md.css" rel="stylesheet" media="screen and (min-width: 992px) and (max-width: 1199px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm+xs.css" rel="stylesheet" media="screen and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm.css" rel="stylesheet" media="screen and (min-width: 768px) and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_xs.css" rel="stylesheet" media="screen and (max-width: 767px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_offcanvas_v2.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/shared/highlight/styles/mwdochighlight.min.css" rel="stylesheet" type="text/css">

<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/l10n.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/f1help.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/mw.imageanimation.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/jquery.highlight.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/underscore-min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/use_platform_screenshots.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/suggest.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/overload.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/helpservices.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/productfilter.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/matlab_dialog_shared.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/highlight/highlight.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/localstorage.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/product_group.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/saxonjs/SaxonJS2.rt.js"></script><script xmlns="http://www.w3.org/1999/xhtml">
            window.history.replaceState(window.location.href, null, ""); // Initialize
            window.onload = function() {    
            mystylesheetLocation = "../../includes/shared/scripts/product_group-sef.json";
            mysourceLocation = "../../docset/docset.xml";
            product_help_location = "matlab";
            pagetype = "section";
            doccentertype = "product";
            langcode = "";
            getProductFilteredList(mystylesheetLocation, mysourceLocation, product_help_location, pagetype, doccentertype, langcode);  
            }
          </script>




<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery.mobile.custom.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/bootstrap.bundle.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/global.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_base.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_installed.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_print.css" rel="stylesheet" type="text/css" media="print">
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/equationrenderer/release/MathRenderer.js"></script>
</head>
<body id="responsive_offcanvas">
<div xmlns="http://www.w3.org/1999/xhtml" id="doc_header_spacer" class="header"></div>
<div xmlns="http://www.w3.org/1999/xhtml" class="section_header level_3"><div class="container-fluid"><div class="row" id="mobile_search_row"><div class="col-sm-6 col-md-7 has_horizontal_local_nav" id="section_header_title"><div class="section_header_content"><div class="section_header_title"><h1><a href="../../documentation-center.html">Help Center</a></h1></div></div></div><div class="col-12 col-sm-6 col-md-5" id="mobile_search"><div class="search_nested_content_container"><form id="docsearch_form" name="docsearch_form" method="get" data-release="R2025b" data-language="en" action="../../templates/searchresults.html"><div class="input-group tokenized_search_field"><label class="visually-hidden form-label">Search Help</label><input type="text" class="form-control conjoined_search" autocomplete="off" name="qdoc" placeholder="Search Help" id="docsearch"> <div><button type="submit" name="submitsearch" id="submitsearch" class="btn icon-search btn_search_adjacent btn_search icon_16" tabindex="-1"></button></div></div></form></div><button class="btn icon-remove btn_search float-end icon_32 d-sm-none" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div><div class="d-sm-none" id="search_actuator"><button class="btn icon-search btn_search float-end icon_16" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div></div></div></div><div class="row-offcanvas row-offcanvas-left">
<div xmlns="http://www.w3.org/1999/xhtml" class="sidebar-offcanvas" id="sidebar">
<nav class="offcanvas_nav" role="navigation">
<div class="offcanvas_actuator" data-bs-toggle="offcanvas" data-bs-target="#sidebar" id="nav_toggle"><button type="button" class="btn"><span class="visually-hidden">Off-Canvas Navigation Menu Toggle
                  Off-Canvas Navigation Menu Toggle</span><span class="icon-menu"></span></button><span class="offcanvas_actuator_label" id="translation_icon-menu" tabindex="-1" aria-hidden="true"></span></div><div class="nav_list_wrapper" id="nav_list_wrapper"><nav class="offcanvas_nav" role="navigation"><ul class="nav_breadcrumb" id="ul_left_nav_ancestors"><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../../documentation-center.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Documentation Home</span></a></li></ul>
<ul class="nav_disambiguation"><li><a href="../index.html?s_tid=CRUX_lftnav" id="index">MATLAB</a>
</li>
<li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../software-development.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Software Development Tools</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../matlab-unit-test-framework.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Testing Frameworks</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../extend-testing-frameworks.html?s_tid=CRUX_lftnav" itemprop="url" id="butj3cg-8"><span itemprop="title">Extend Testing Frameworks</span></a></li></ul><div class="search_refine_v4"><div id="facets_area"><ul class="nav_scrollspy nav list-unstyled" id="pnav">
<li class="nav_scrollspy_function nav-item"><a href="#responsive_offcanvas">Run Tests in Parallel with Custom Plugin</a></li>
<li class="nav_scrollspy_title nav-item" id="SSPY810-section">On this page</li>
<!--ADD_REFENTRY_TITLE_HERE 11--><li class="nav-item"><a href="#mw_e6e5911e-f879-49ba-a7d8-8a0bf31957bc" class="nav-link intrnllnk">Create Plugin Class</a></li><li class="nav-item"><a href="#mw_7abf73bd-037b-4951-82ef-4ad0be1b3c56" class="nav-link intrnllnk">Extend Running of Test Session</a></li><li class="nav-item"><a href="#mw_80f6c3f5-357c-41b9-bf48-6eb0b817904b" class="nav-link intrnllnk">Extend Creation of Shared Test Fixtures and Test Cases</a></li><li class="nav-item"><a href="#mw_f8b0fcc0-f562-474d-b678-c3094f2bcaaa" class="nav-link intrnllnk">Extend Running of Test Suite Portion</a></li><li class="nav-item"><a href="#mw_7c7036ba-159b-4789-a094-2d3ea00437c2" class="nav-link intrnllnk">Extend Reporting of Finalized Test Suite Portion</a></li><li class="nav-item"><a href="#mw_dfed9f9a-9488-4703-97e9-8e2e473667f9" class="nav-link intrnllnk">Define Helper Methods</a></li><li class="nav-item"><a href="#mw_6ae8b647-3f49-4406-8209-4cc83a5e1b4b" class="nav-link intrnllnk">Plugin Class Definition</a></li><li class="nav-item"><a href="#mw_0cfa4d53-c16f-47f3-97c7-3480f9eebe7f" class="nav-link intrnllnk">Create Test Class</a></li><li class="nav-item"><a href="#mw_64b2c068-4616-4a39-8f0b-4c13074f28ff" class="nav-link intrnllnk">Add Plugin to Test Runner and Run Tests</a></li><li class="nav-item"><a href="#d126e94729" class="nav-link intrnllnk">See Also</a></li></ul></div></div>
</nav></div></nav>
<script src="../../includes/product/scripts/offcanvas_v2.js"></script></div><!--END.CLASS sidebar-offcanvas-->
<div class="offcanvas_content_container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sticky_header_container"><div class="horizontal_nav"><div class="horizontal_nav_container"><div class="offcanvas_horizontal_nav"><div class="container-fluid"><div class="row"><div class="col-sm-12 d-none d-sm-block"><nav class="navbar navbar-default" role="navigation" id="subnav"><div><ul class="nav navbar-nav crux_browse"><li id="crux_nav_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_example" class="crux_resource"><a href="../examples.html?category=extend-testing-frameworks&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=extend-testing-frameworks&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=extend-testing-frameworks&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></nav></div><div class="d-sm-none"><div class="container-fluid"><div class="row"><div class="col-9"><div class="mobile_crux_nav_trigger"><div class="btn-group"><button type="button" class="btn btn-default dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Resources</button><ul class="dropdown-menu"><li id="crux_nav_mobile_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_mobile_example" class="crux_resource"><a href="../examples.html?category=extend-testing-frameworks&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_mobile_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=extend-testing-frameworks&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_mobile_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=extend-testing-frameworks&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></div></div><div class="col-3"><div class="translate_placeholder"></div></div></div></div></div></div></div></div></div></div></div><div class="content_container" id="content_container" itemprop="content">
<div class="container-fluid">
<div class="row">
<div class="col-12">

<main id="skip_link_anchor" tabindex="-1">
<div xmlns="http://www.w3.org/1999/xhtml" id="product_info_alert"></div><section xmlns="http://www.w3.org/1999/xhtml" id="doc_center_content" lang="en" data-language="en"><div id="pgtype-topic">
<section><h2 class="title r2025b" itemprop="title content" id="mw_764c6202-9353-4861-9fa6-11be4b140344">Run Tests in Parallel with Custom Plugin</h2>
            <p class="shortdesc">This example shows how to create a custom plugin that supports
                running tests in parallel. The custom plugin counts the number of passing and
                failing assertions for a test suite. To extend a <a href="../ref/matlab.unittest.testrunner-class.html"><code class="class">TestRunner</code></a> instance, the plugin
                overrides select methods of the <a href="../ref/matlab.unittest.plugins.testrunnerplugin-class.html"><code class="class">matlab.unittest.plugins.TestRunnerPlugin</code></a> class. Additionally, to
                support running tests in parallel, the plugin subclasses the <a href="../ref/matlab.unittest.plugins.parallelizable-class.html"><code class="class">matlab.unittest.plugins.Parallelizable</code></a> interface. To run tests in
                parallel, you need Parallel Computing Toolbox&#x2122;.</p>
        <section><h3 class="title" id="mw_e6e5911e-f879-49ba-a7d8-8a0bf31957bc">Create Plugin Class</h3><p>In a file named <code class="literal">AssertionCountingPlugin.m</code> in your current
                folder, create the parallelizable plugin class
                    <code class="class">AssertionCountingPlugin</code>, which inherits from both the
                    <code class="class">TestRunnerPlugin</code> and <code class="class">Parallelizable</code> classes. For
                the complete code of <code class="class">AssertionCountingPlugin</code>, see <a href="run-tests-in-parallel-with-custom-plugin.html#mw_6ae8b647-3f49-4406-8209-4cc83a5e1b4b" class="intrnllnk">Plugin Class Definition</a>.</p><p>To keep track of the number of passing and failing assertions, define four
                read-only properties within a <code class="literal">properties</code> block. Each MATLAB<sup>&#x00AE;</sup> worker on the current parallel pool uses
                    <code class="property">NumPassingAssertions</code> and
                    <code class="property">NumFailingAssertions</code> to track the number of passing and
                failing assertions when running a portion of the <a href="../ref/matlab.unittest.testsuite-class.html"><code class="class">TestSuite</code></a> array. The MATLAB client uses <code class="property">FinalizedNumPassingAssertions</code> and
                    <code class="property">FinalizedNumFailingAssertions</code> to aggregate the results from
                different workers and to report the total number of passing and failing assertions
                at the end of the test session.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>    <span style="color:#0000FF">properties</span> (SetAccess = private)
        NumPassingAssertions
        NumFailingAssertions
        FinalizedNumPassingAssertions
        FinalizedNumFailingAssertions
    <span style="color:#0000FF">end</span></pre></div></div></div></section><section><h3 class="title" id="mw_7abf73bd-037b-4951-82ef-4ad0be1b3c56">Extend Running of Test Session</h3><p>To extend the running of the entire <code class="class">TestSuite</code> array, override the
                    <a href="../ref/matlab.unittest.plugins.testrunnerplugin.runsession.html"><code class="method">runSession</code></a> method in a <code class="literal">methods</code> block with
                    <code class="literal">protected</code> access. <code class="method">runSession</code> displays
                information about the total number of <a href="../ref/matlab.unittest.test-class.html"><code class="class">Test</code></a> elements, initializes the
                properties that the plugin uses to generate text output, and invokes the superclass
                method to trigger the entire test run. After the testing framework completes
                evaluating the superclass method, <code class="method">runSession</code> displays the assertion
                count summary by calling the helper method <code class="method">printAssertionSummary</code>
                (see <a href="run-tests-in-parallel-with-custom-plugin.html#mw_dfed9f9a-9488-4703-97e9-8e2e473667f9" class="intrnllnk">Define Helper Methods</a>). The
                framework evaluates this method one time on the client.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>    <span style="color:#0000FF">methods</span> (Access = protected)
        <span style="color:#0000FF">function</span> runSession(plugin,pluginData)
            suiteSize = numel(pluginData.TestSuite);
            fprintf(<span style="color:#A020F0">"## Running a total of %d tests\n\n"</span>,suiteSize)
            plugin.FinalizedNumPassingAssertions = 0;
            plugin.FinalizedNumFailingAssertions = 0;

            runSession@ <span style="color:#0000FF">...</span>
                matlab.unittest.plugins.TestRunnerPlugin(plugin,pluginData)

            fprintf(<span style="color:#A020F0">"## Done running tests\n"</span>)
            plugin.printAssertionSummary
        <span style="color:#0000FF">end</span>
    <span style="color:#0000FF">end</span></pre></div></div></div></section><section><h3 class="title" id="mw_80f6c3f5-357c-41b9-bf48-6eb0b817904b">Extend Creation of Shared Test Fixtures and Test Cases</h3><p>Add listeners to <code class="event">AssertionPassed</code> and <code class="event">AssertionFailed</code>
                events to count the assertions. To add these listeners, extend the methods that the
                testing framework uses to create the test content. The test content includes <a href="../ref/matlab.unittest.testcase-class.html"><code class="class">TestCase</code></a> instances for each
                    <code class="class">Test</code> element, class-level <code class="class">TestCase</code> instances for
                the <code class="literal">TestClassSetup</code> and <code class="literal">TestClassTeardown</code>
                <code class="literal">methods</code> blocks, and <a href="../ref/matlab.unittest.fixtures.fixture-class.html"><code class="class">Fixture</code></a> instances used when a
                    <code class="class">TestCase</code> class has the <code class="literal">SharedTestFixtures</code>
                attribute. Add these creation methods to a <code class="literal">methods</code> block with
                    <code class="literal">protected</code> access.</p><p>Invoke the corresponding superclass method when you override the creation methods.
                The creation methods return the content that the testing framework creates for each
                of their respective contexts. When implementing each of these methods using the
                    <code class="method">incrementPassingAssertionsCount</code> and
                    <code class="method">incrementFailingAssertionsCount</code>
                <a href="run-tests-in-parallel-with-custom-plugin.html#mw_dfed9f9a-9488-4703-97e9-8e2e473667f9" class="intrnllnk">helper
                    methods</a>, add the listeners required by the plugin to the returned
                    <code class="class">Fixture</code> or <code class="class">TestCase</code> instance.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>    <span style="color:#0000FF">methods</span> (Access = protected)
        <span style="color:#0000FF">function</span> fixture = createSharedTestFixture(plugin,pluginData)
            fixture = createSharedTestFixture@ <span style="color:#0000FF">...</span>
                matlab.unittest.plugins.TestRunnerPlugin(plugin,pluginData);

            fixture.addlistener(<span style="color:#A020F0">"AssertionPassed"</span>, <span style="color:#0000FF">...</span>
                @(~,~)plugin.incrementPassingAssertionsCount);
            fixture.addlistener(<span style="color:#A020F0">"AssertionFailed"</span>, <span style="color:#0000FF">...</span>
                @(~,~)plugin.incrementFailingAssertionsCount);
        <span style="color:#0000FF">end</span>

        <span style="color:#0000FF">function</span> testCase = createTestClassInstance(plugin,pluginData)
            testCase = createTestClassInstance@ <span style="color:#0000FF">...</span>
                matlab.unittest.plugins.TestRunnerPlugin(plugin,pluginData);

            testCase.addlistener(<span style="color:#A020F0">"AssertionPassed"</span>, <span style="color:#0000FF">...</span>
                @(~,~)plugin.incrementPassingAssertionsCount);
            testCase.addlistener(<span style="color:#A020F0">"AssertionFailed"</span>, <span style="color:#0000FF">...</span>
                @(~,~)plugin.incrementFailingAssertionsCount);
        <span style="color:#0000FF">end</span>

        <span style="color:#0000FF">function</span> testCase = createTestMethodInstance(plugin,pluginData)
            testCase = createTestMethodInstance@ <span style="color:#0000FF">...</span>
                matlab.unittest.plugins.TestRunnerPlugin(plugin,pluginData);

            testCase.addlistener(<span style="color:#A020F0">"AssertionPassed"</span>, <span style="color:#0000FF">...</span>
                @(~,~)plugin.incrementPassingAssertionsCount);
            testCase.addlistener(<span style="color:#A020F0">"AssertionFailed"</span>, <span style="color:#0000FF">...</span>
                @(~,~)plugin.incrementFailingAssertionsCount);
        <span style="color:#0000FF">end</span>
    <span style="color:#0000FF">end</span></pre></div></div></div></section><section><h3 class="title" id="mw_f8b0fcc0-f562-474d-b678-c3094f2bcaaa">Extend Running of Test Suite Portion</h3><p>The testing framework divides the entire <code class="literal">TestSuite</code> array into
                groups and assigns them to workers for processing. Each worker can run one or more
                test suite portions. To customize the behavior of workers, override the <a href="../ref/matlab.unittest.plugins.testrunnerplugin.runtestsuite.html"><code class="method">runTestSuite</code></a> method in a <code class="literal">methods</code> block with
                    <code class="literal">protected</code> access.</p><p>Extend the test runner to display the identifier of each test group that a worker
                runs along with the number of <code class="literal">Test</code> elements within the group.
                Additionally, store the number of passing and failing assertions in a communication
                buffer so that the client can retrieve these values to produce the finalized
                results. Like all plugin methods, the <code class="method">runTestSuite</code> method requires
                you to invoke the corresponding superclass method at an appropriate point. In this
                case, invoke the superclass method after initializing the properties and before
                storing the worker data. The testing framework evaluates
                    <code class="method">runTestSuite</code> on the workers as many times as the number of test
                suite portions.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>    <span style="color:#0000FF">methods</span> (Access = protected)
        <span style="color:#0000FF">function</span> runTestSuite(plugin,pluginData)
            suiteSize = numel(pluginData.TestSuite);
            groupNumber = pluginData.Group;
            fprintf(<span style="color:#A020F0">"### Running a total of %d tests in group %d\n"</span>, <span style="color:#0000FF">...</span>
                suiteSize,groupNumber)
            plugin.NumPassingAssertions = 0;
            plugin.NumFailingAssertions = 0;

            runTestSuite@ <span style="color:#0000FF">...</span>
                matlab.unittest.plugins.TestRunnerPlugin(plugin,pluginData)

            assertionStruct = struct( <span style="color:#0000FF">...</span>
                <span style="color:#A020F0">"Passing"</span>,plugin.NumPassingAssertions, <span style="color:#0000FF">...</span>
                <span style="color:#A020F0">"Failing"</span>,plugin.NumFailingAssertions);
            plugin.storeIn(pluginData.CommunicationBuffer,assertionStruct)
        <span style="color:#0000FF">end</span>
    <span style="color:#0000FF">end</span></pre></div></div></div><p>To store test-specific data, the implementation of <code class="method">runTestSuite</code>
                contains a call to the <a href="../ref/matlab.unittest.plugins.parallelizable.storein.html"><code class="method">storeIn</code></a>
                method of the <code class="class">Parallelizable</code> interface. Use <code class="method">storeIn</code>
                along with <a href="../ref/matlab.unittest.plugins.parallelizable.retrievefrom.html"><code class="method">retrieveFrom</code></a> when workers must report to the client. In this example,
                after returning from the superclass method,
                    <code class="property">NumPassingAssertions</code> and
                    <code class="property">NumFailingAssertions</code> contain the number of passing and
                failing assertions corresponding to a group of tests. Because
                    <code class="method">storeIn</code> accepts the worker data as only one input argument, the
                structure <code class="literal">assertionStruct</code> groups the assertion counts using two
                fields.</p></section><section><h3 class="title" id="mw_7c7036ba-159b-4789-a094-2d3ea00437c2">Extend Reporting of Finalized                 Test Suite Portion</h3><p>Extend <a href="../ref/matlab.unittest.plugins.testrunnerplugin.reportfinalizedsuite.html"><code class="method">reportFinalizedSuite</code></a> to aggregate the assertion counts by retrieving
                test data for each finalized test suite portion. To retrieve the stored structure
                for a test suite portion, invoke the <code class="method">retrieveFrom</code> method within the
                scope of <code class="method">reportFinalizedSuite</code>. <span>To
                    return default data in case the buffer is empty<em> (since R2024a)</em></span>, such as when a fatal
                assertion failure prevents all workers from writing to the buffer, specify
                    <code class="argument">DefaultData</code> when invoking the <code class="method">retrieveFrom</code>
                method. Add the field values to the corresponding class properties, and invoke the
                superclass method. The testing framework evaluates this method on the client as many
                times as the number of test suite portions.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>    <span style="color:#0000FF">methods</span> (Access = protected)
        <span style="color:#0000FF">function</span> reportFinalizedSuite(plugin,pluginData)
            assertionStruct = plugin.retrieveFrom( <span style="color:#0000FF">...</span>
                pluginData.CommunicationBuffer, <span style="color:#0000FF">...</span>
                DefaultData=struct(<span style="color:#A020F0">"Passing"</span>,0,<span style="color:#A020F0">"Failing"</span>,0));
            plugin.FinalizedNumPassingAssertions = <span style="color:#0000FF">...</span>
                plugin.FinalizedNumPassingAssertions + assertionStruct.Passing;
            plugin.FinalizedNumFailingAssertions = <span style="color:#0000FF">...</span>
                plugin.FinalizedNumFailingAssertions + assertionStruct.Failing;

            reportFinalizedSuite@ <span style="color:#0000FF">...</span>
                matlab.unittest.plugins.TestRunnerPlugin(plugin,pluginData)
        <span style="color:#0000FF">end</span>
    <span style="color:#0000FF">end</span></pre></div></div></div></section><section><h3 class="title" id="mw_dfed9f9a-9488-4703-97e9-8e2e473667f9">Define Helper Methods</h3><p>In a <code class="literal">methods</code> block with <code class="literal">private</code> access,
                define three helper methods. These methods increment the number of passing or
                failing assertions within each running test suite portion and print the assertion
                count summary.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>    <span style="color:#0000FF">methods</span> (Access = private)
        <span style="color:#0000FF">function</span> incrementPassingAssertionsCount(plugin)
            plugin.NumPassingAssertions = plugin.NumPassingAssertions + 1;
        <span style="color:#0000FF">end</span>

        <span style="color:#0000FF">function</span> incrementFailingAssertionsCount(plugin)
            plugin.NumFailingAssertions = plugin.NumFailingAssertions + 1;
        <span style="color:#0000FF">end</span>

        <span style="color:#0000FF">function</span> printAssertionSummary(plugin)
            fprintf(<span style="color:#A020F0">"%s\n"</span>,repmat(<span style="color:#A020F0">'_'</span>,1,30))
            fprintf(<span style="color:#A020F0">"Total Assertions: %d\n"</span>, <span style="color:#0000FF">...</span>
                plugin.FinalizedNumPassingAssertions + <span style="color:#0000FF">...</span>
                plugin.FinalizedNumFailingAssertions)
            fprintf(<span style="color:#A020F0">"\t%d Passed, %d Failed\n"</span>, <span style="color:#0000FF">...</span>
                plugin.FinalizedNumPassingAssertions, <span style="color:#0000FF">...</span>
                plugin.FinalizedNumFailingAssertions)
        <span style="color:#0000FF">end</span>
    <span style="color:#0000FF">end</span></pre></div></div></div></section><section><h3 class="title" id="mw_6ae8b647-3f49-4406-8209-4cc83a5e1b4b">Plugin Class Definition</h3><p>This code provides the complete contents of the
                    <code class="class">AssertionCountingPlugin</code> class.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#0000FF">classdef</span> AssertionCountingPlugin &lt; <span style="color:#0000FF">...</span>
        matlab.unittest.plugins.TestRunnerPlugin &amp; <span style="color:#0000FF">...</span>
        matlab.unittest.plugins.Parallelizable

    <span style="color:#0000FF">properties</span> (SetAccess = private)
        NumPassingAssertions
        NumFailingAssertions
        FinalizedNumPassingAssertions
        FinalizedNumFailingAssertions
    <span style="color:#0000FF">end</span>

    <span style="color:#0000FF">methods</span> (Access = protected)
        <span style="color:#0000FF">function</span> runSession(plugin,pluginData)
            suiteSize = numel(pluginData.TestSuite);
            fprintf(<span style="color:#A020F0">"## Running a total of %d tests\n\n"</span>,suiteSize)
            plugin.FinalizedNumPassingAssertions = 0;
            plugin.FinalizedNumFailingAssertions = 0;

            runSession@ <span style="color:#0000FF">...</span>
                matlab.unittest.plugins.TestRunnerPlugin(plugin,pluginData)

            fprintf(<span style="color:#A020F0">"## Done running tests\n"</span>)
            plugin.printAssertionSummary
        <span style="color:#0000FF">end</span>

        <span style="color:#0000FF">function</span> fixture = createSharedTestFixture(plugin,pluginData)
            fixture = createSharedTestFixture@ <span style="color:#0000FF">...</span>
                matlab.unittest.plugins.TestRunnerPlugin(plugin,pluginData);

            fixture.addlistener(<span style="color:#A020F0">"AssertionPassed"</span>, <span style="color:#0000FF">...</span>
                @(~,~)plugin.incrementPassingAssertionsCount);
            fixture.addlistener(<span style="color:#A020F0">"AssertionFailed"</span>, <span style="color:#0000FF">...</span>
                @(~,~)plugin.incrementFailingAssertionsCount);
        <span style="color:#0000FF">end</span>

        <span style="color:#0000FF">function</span> testCase = createTestClassInstance(plugin,pluginData)
            testCase = createTestClassInstance@ <span style="color:#0000FF">...</span>
                matlab.unittest.plugins.TestRunnerPlugin(plugin,pluginData);

            testCase.addlistener(<span style="color:#A020F0">"AssertionPassed"</span>, <span style="color:#0000FF">...</span>
                @(~,~)plugin.incrementPassingAssertionsCount);
            testCase.addlistener(<span style="color:#A020F0">"AssertionFailed"</span>, <span style="color:#0000FF">...</span>
                @(~,~)plugin.incrementFailingAssertionsCount);
        <span style="color:#0000FF">end</span>

        <span style="color:#0000FF">function</span> testCase = createTestMethodInstance(plugin,pluginData)
            testCase = createTestMethodInstance@ <span style="color:#0000FF">...</span>
                matlab.unittest.plugins.TestRunnerPlugin(plugin,pluginData);

            testCase.addlistener(<span style="color:#A020F0">"AssertionPassed"</span>, <span style="color:#0000FF">...</span>
                @(~,~)plugin.incrementPassingAssertionsCount);
            testCase.addlistener(<span style="color:#A020F0">"AssertionFailed"</span>, <span style="color:#0000FF">...</span>
                @(~,~)plugin.incrementFailingAssertionsCount);
        <span style="color:#0000FF">end</span>

        <span style="color:#0000FF">function</span> runTestSuite(plugin,pluginData)
            suiteSize = numel(pluginData.TestSuite);
            groupNumber = pluginData.Group;
            fprintf(<span style="color:#A020F0">"### Running a total of %d tests in group %d\n"</span>, <span style="color:#0000FF">...</span>
                suiteSize,groupNumber)
            plugin.NumPassingAssertions = 0;
            plugin.NumFailingAssertions = 0;

            runTestSuite@ <span style="color:#0000FF">...</span>
                matlab.unittest.plugins.TestRunnerPlugin(plugin,pluginData)

            assertionStruct = struct( <span style="color:#0000FF">...</span>
                <span style="color:#A020F0">"Passing"</span>,plugin.NumPassingAssertions, <span style="color:#0000FF">...</span>
                <span style="color:#A020F0">"Failing"</span>,plugin.NumFailingAssertions);
            plugin.storeIn(pluginData.CommunicationBuffer,assertionStruct)
        <span style="color:#0000FF">end</span>

        <span style="color:#0000FF">function</span> reportFinalizedSuite(plugin,pluginData)
            assertionStruct = plugin.retrieveFrom( <span style="color:#0000FF">...</span>
                pluginData.CommunicationBuffer, <span style="color:#0000FF">...</span>
                DefaultData=struct(<span style="color:#A020F0">"Passing"</span>,0,<span style="color:#A020F0">"Failing"</span>,0));
            plugin.FinalizedNumPassingAssertions = <span style="color:#0000FF">...</span>
                plugin.FinalizedNumPassingAssertions + assertionStruct.Passing;
            plugin.FinalizedNumFailingAssertions = <span style="color:#0000FF">...</span>
                plugin.FinalizedNumFailingAssertions + assertionStruct.Failing;

            reportFinalizedSuite@ <span style="color:#0000FF">...</span>
                matlab.unittest.plugins.TestRunnerPlugin(plugin,pluginData)
        <span style="color:#0000FF">end</span>
    <span style="color:#0000FF">end</span>

    <span style="color:#0000FF">methods</span> (Access = private)
        <span style="color:#0000FF">function</span> incrementPassingAssertionsCount(plugin)
            plugin.NumPassingAssertions = plugin.NumPassingAssertions + 1;
        <span style="color:#0000FF">end</span>

        <span style="color:#0000FF">function</span> incrementFailingAssertionsCount(plugin)
            plugin.NumFailingAssertions = plugin.NumFailingAssertions + 1;
        <span style="color:#0000FF">end</span>

        <span style="color:#0000FF">function</span> printAssertionSummary(plugin)
            fprintf(<span style="color:#A020F0">"%s\n"</span>,repmat(<span style="color:#A020F0">'_'</span>,1,30))
            fprintf(<span style="color:#A020F0">"Total Assertions: %d\n"</span>, <span style="color:#0000FF">...</span>
                plugin.FinalizedNumPassingAssertions + <span style="color:#0000FF">...</span>
                plugin.FinalizedNumFailingAssertions)
            fprintf(<span style="color:#A020F0">"\t%d Passed, %d Failed\n"</span>, <span style="color:#0000FF">...</span>
                plugin.FinalizedNumPassingAssertions, <span style="color:#0000FF">...</span>
                plugin.FinalizedNumFailingAssertions)
        <span style="color:#0000FF">end</span>
    <span style="color:#0000FF">end</span>
<span style="color:#0000FF">end</span></pre></div></div></div></section><section><h3 class="title" id="mw_0cfa4d53-c16f-47f3-97c7-3480f9eebe7f">Create Test Class</h3><p>In a file named <code class="literal">ExampleTest.m</code> in your current folder, create
                the <code class="class">ExampleTest</code> parameterized test class. This class results in 300
                tests, 100 of which are assertions to compare pseudorandom integers between 1 and
                10.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#0000FF">classdef</span> ExampleTest &lt; matlab.unittest.TestCase
    <span style="color:#0000FF">properties</span> (TestParameter)
        num1 = repmat({@()randi(10)},1,10)
        num2 = repmat({@()randi(10)},1,10)
    <span style="color:#0000FF">end</span>

    <span style="color:#0000FF">methods</span> (Test)
        <span style="color:#0000FF">function</span> testAssert(testCase,num1,num2)
            testCase.assertNotEqual(num1(),num2())
        <span style="color:#0000FF">end</span>
        <span style="color:#0000FF">function</span> testVerify(testCase,num1,num2)
            testCase.verifyNotEqual(num1(),num2())
        <span style="color:#0000FF">end</span>
        <span style="color:#0000FF">function</span> testAssume(testCase,num1,num2)
            testCase.assumeNotEqual(num1(),num2())
        <span style="color:#0000FF">end</span>
    <span style="color:#0000FF">end</span>
<span style="color:#0000FF">end</span></pre></div></div></div></section><section><h3 class="title" id="mw_64b2c068-4616-4a39-8f0b-4c13074f28ff">Add Plugin to Test Runner and Run Tests</h3><p>Create a test suite from the <code class="class">ExampleTest</code> class.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>suite = testsuite(<span style="color:#A020F0">"ExampleTest"</span>);</pre></div></div></div><p>Create a test runner with no plugins. This code creates a silent runner that
                produces no output.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>runner = testrunner(<span style="color:#A020F0">"minimal"</span>);</pre></div></div></div><p>You can now add any plugins you choose. Add an instance of the
                    <code class="class">AssertionCountingPlugin</code> class to the runner, and run the tests in
                parallel. (You can also run the same tests in serial mode if you invoke the
                    <code class="method">run</code> method on the runner.)</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>runner.addPlugin(AssertionCountingPlugin)
runner.runInParallel(suite);</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>## Running a total of 300 tests

Split tests into 18 groups and running them on 6 workers.
----------------
Finished Group 1
----------------
### Running a total of 20 tests in group 1

----------------
Finished Group 2
----------------
### Running a total of 20 tests in group 2

----------------
Finished Group 3
----------------
### Running a total of 19 tests in group 3

----------------
Finished Group 4
----------------
### Running a total of 19 tests in group 4

----------------
Finished Group 5
----------------
### Running a total of 18 tests in group 5

----------------
Finished Group 6
----------------
### Running a total of 18 tests in group 6

----------------
Finished Group 7
----------------
### Running a total of 18 tests in group 7

----------------
Finished Group 8
----------------
### Running a total of 17 tests in group 8

----------------
Finished Group 9
----------------
### Running a total of 17 tests in group 9

-----------------
Finished Group 10
-----------------
### Running a total of 17 tests in group 10

-----------------
Finished Group 11
-----------------
### Running a total of 16 tests in group 11

-----------------
Finished Group 12
-----------------
### Running a total of 16 tests in group 12

-----------------
Finished Group 13
-----------------
### Running a total of 15 tests in group 13

-----------------
Finished Group 14
-----------------
### Running a total of 15 tests in group 14

-----------------
Finished Group 16
-----------------
### Running a total of 14 tests in group 16

-----------------
Finished Group 15
-----------------
### Running a total of 15 tests in group 15

-----------------
Finished Group 17
-----------------
### Running a total of 14 tests in group 17

-----------------
Finished Group 18
-----------------
### Running a total of 12 tests in group 18

## Done running tests
______________________________
Total Assertions: 100
	88 Passed, 12 Failed</pre></div></div></div></section>
            <h2 id="d126e94729">See Also</h2><h3>Functions</h3><ul class="list-unstyled margined_10"><li><span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/testrunner.html"><span itemprop="name"><code class="function">testrunner</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/matlab.unittest.testrunner.runinparallel.html"><span itemprop="name"><code class="method">runInParallel</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/handle.addlistener.html"><span itemprop="name"><code class="method">addlistener</code></span></a></span></li></ul><h3>Classes</h3><ul class="list-unstyled margined_10"><li><span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/matlab.unittest.plugins.testrunnerplugin-class.html"><span itemprop="name"><code class="class">matlab.unittest.plugins.TestRunnerPlugin</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/matlab.unittest.plugins.parallelizable-class.html"><span itemprop="name"><code class="class">matlab.unittest.plugins.Parallelizable</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/matlab.unittest.testrunner-class.html"><span itemprop="name"><code class="class">matlab.unittest.TestRunner</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/matlab.unittest.testsuite-class.html"><span itemprop="name"><code class="class">matlab.unittest.TestSuite</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/matlab.unittest.testcase-class.html"><span itemprop="name"><code class="class">matlab.unittest.TestCase</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/matlab.unittest.fixtures.fixture-class.html"><span itemprop="name"><code class="class">matlab.unittest.fixtures.Fixture</code></span></a></span></li></ul>
            <h3 id="d126e94766">Topics</h3><ul class="list-unstyled"><li><a href="write-plugins-to-extend-testrunner.html" class="a">Write Plugins to Extend TestRunner</a></li><li><a href="create-custom-plugin.html" class="a">Create Custom Plugin</a></li></ul>
            
            
        </section>
    </div></section><div xmlns="http://www.w3.org/1999/xhtml" class="clearfix"></div>
<div xmlns="http://www.w3.org/1999/xhtml" align="center" class="feedbackblock" id="mw_docsurvey"><script src="https://www.mathworks.com/help/docsurvey/docfeedback.js"></script>
<script>loadSurveyHidden();</script>
<link rel="stylesheet" href="https://www.mathworks.com/help/docsurvey/release/index-css.css" type="text/css">
<script src="https://www.mathworks.com/help/docsurvey/release/bundle.index.js"></script>

<script>initDocSurvey();</script></div></main>


</div>
</div>
</div>
</div><!--close_0960-->
<footer xmlns="http://www.w3.org/1999/xhtml" id="footer" class="bs-footer">
<div class="container-fluid">
<div class="footer">
<div class="row">
<div class="col-12">
<p class="copyright">Â© 1994-2025 The MathWorks, Inc.</p>
<ul class="footernav"><li class="footernav_help"><a href="matlab:web(matlab.internal.licenseAgreement)">Terms of Use</a></li><li class="footernav_patents"><a href="matlab:web([matlabroot '/patents.txt'])">Patents</a></li><li class="footernav_trademarks"><a href="matlab:web([matlabroot '/trademarks.txt'])">Trademarks</a></li><li class="footernav_piracy"><a href="matlab:web([docroot '/acknowledgments.html'])">Acknowledgments</a></li></ul></div>
</div>
</div>
</div>
</footer>
</div><!--close row-offcanvas-->
</div><!--close_0970-->
</body>
</html>
