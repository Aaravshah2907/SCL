<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage">
<head>
<meta xmlns="http://www.w3.org/1999/xhtml" charset="utf-8">
<meta xmlns="http://www.w3.org/1999/xhtml" name="viewport" content="width=device-width, initial-scale=1.0">
<meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="X-UA-Compatible" content="IE=edge">
<title>Tips for Defining System Objects</title>
<script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
      {
      "@context": "http://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement":
      [{
          "@type": "ListItem",
          "position": 1,

          "item": {
          "@id": "../index.html",
          "name": "MATLAB"
}

          } 
        ,
        {
          "@type": "ListItem",
          "position": 2,

          "item": {
          "@id": "../programming-and-data-types.html",
          "name": "Programming"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 3,

          "item": {
          "@id": "../object-oriented-programming.html",
          "name": "Classes"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 4,

          "item": {
          "@id": "../system-objects.html",
          "name": "System Objects"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 5,

          "item": {
          "@id": "../create-system-objects.html",
          "name": "Create System Objects"
}

          }]
      }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "VisibleBreadcrumbs",

        "itemListElement":
        [
        "create-system-objects"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/bootstrap.min.css" rel="stylesheet" type="text/css">


  <meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="Content-Script-Type" content="text/javascript">
<meta xmlns="http://www.w3.org/1999/xhtml" name="toctype" itemprop="pagetype" content="ug">
<meta xmlns="http://www.w3.org/1999/xhtml" name="infotype" itemprop="infotype" content="ex">

<meta xmlns="http://www.w3.org/1999/xhtml" name="description" itemprop="description" content="Tips to speed up slow System objects."><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-3.6.0.min.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-migrate.min.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_lg.css" rel="stylesheet" media="screen and (min-width: 1200px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_md.css" rel="stylesheet" media="screen and (min-width: 992px) and (max-width: 1199px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm+xs.css" rel="stylesheet" media="screen and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm.css" rel="stylesheet" media="screen and (min-width: 768px) and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_xs.css" rel="stylesheet" media="screen and (max-width: 767px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_offcanvas_v2.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/shared/highlight/styles/mwdochighlight.min.css" rel="stylesheet" type="text/css">

<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/l10n.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/f1help.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/mw.imageanimation.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/jquery.highlight.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/underscore-min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/use_platform_screenshots.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/suggest.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/overload.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/helpservices.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/productfilter.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/matlab_dialog_shared.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/highlight/highlight.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/localstorage.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/product_group.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/saxonjs/SaxonJS2.rt.js"></script><script xmlns="http://www.w3.org/1999/xhtml">
            window.history.replaceState(window.location.href, null, ""); // Initialize
            window.onload = function() {    
            mystylesheetLocation = "../../includes/shared/scripts/product_group-sef.json";
            mysourceLocation = "../../docset/docset.xml";
            product_help_location = "matlab";
            pagetype = "section";
            doccentertype = "product";
            langcode = "";
            getProductFilteredList(mystylesheetLocation, mysourceLocation, product_help_location, pagetype, doccentertype, langcode);  
            }
          </script>




<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery.mobile.custom.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/bootstrap.bundle.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/global.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_base.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_installed.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_print.css" rel="stylesheet" type="text/css" media="print">
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/equationrenderer/release/MathRenderer.js"></script>
</head>
<body id="responsive_offcanvas">
<div xmlns="http://www.w3.org/1999/xhtml" id="doc_header_spacer" class="header"></div>
<div xmlns="http://www.w3.org/1999/xhtml" class="section_header level_3"><div class="container-fluid"><div class="row" id="mobile_search_row"><div class="col-sm-6 col-md-7 has_horizontal_local_nav" id="section_header_title"><div class="section_header_content"><div class="section_header_title"><h1><a href="../../documentation-center.html">Help Center</a></h1></div></div></div><div class="col-12 col-sm-6 col-md-5" id="mobile_search"><div class="search_nested_content_container"><form id="docsearch_form" name="docsearch_form" method="get" data-release="R2025b" data-language="en" action="../../templates/searchresults.html"><div class="input-group tokenized_search_field"><label class="visually-hidden form-label">Search Help</label><input type="text" class="form-control conjoined_search" autocomplete="off" name="qdoc" placeholder="Search Help" id="docsearch"> <div><button type="submit" name="submitsearch" id="submitsearch" class="btn icon-search btn_search_adjacent btn_search icon_16" tabindex="-1"></button></div></div></form></div><button class="btn icon-remove btn_search float-end icon_32 d-sm-none" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div><div class="d-sm-none" id="search_actuator"><button class="btn icon-search btn_search float-end icon_16" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div></div></div></div><div class="row-offcanvas row-offcanvas-left">
<div xmlns="http://www.w3.org/1999/xhtml" class="sidebar-offcanvas" id="sidebar">
<nav class="offcanvas_nav" role="navigation">
<div class="offcanvas_actuator" data-bs-toggle="offcanvas" data-bs-target="#sidebar" id="nav_toggle"><button type="button" class="btn"><span class="visually-hidden">Off-Canvas Navigation Menu Toggle
                  Off-Canvas Navigation Menu Toggle</span><span class="icon-menu"></span></button><span class="offcanvas_actuator_label" id="translation_icon-menu" tabindex="-1" aria-hidden="true"></span></div><div class="nav_list_wrapper" id="nav_list_wrapper"><nav class="offcanvas_nav" role="navigation"><ul class="nav_breadcrumb" id="ul_left_nav_ancestors"><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../../documentation-center.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Documentation Home</span></a></li></ul>
<ul class="nav_disambiguation"><li><a href="../index.html?s_tid=CRUX_lftnav" id="index">MATLAB</a>
</li>
<li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../programming-and-data-types.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Programming</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../object-oriented-programming.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Classes</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../system-objects.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">System Objects</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../create-system-objects.html?s_tid=CRUX_lftnav" itemprop="url" id="bvla9m7-1"><span itemprop="title">Create System Objects</span></a></li></ul><div class="search_refine_v4"><div id="facets_area"><ul class="nav_scrollspy nav list-unstyled" id="pnav">
<li class="nav_scrollspy_function nav-item"><a href="#responsive_offcanvas">Tips for Defining System Objects</a></li>
<li class="nav_scrollspy_title nav-item" id="SSPY810-section">On this page</li>
<!--ADD_REFENTRY_TITLE_HERE 11--><li class="nav-item"><a href="#mw_f48a9f4d-e279-4b10-82f1-940459bd5fc1" class="nav-link intrnllnk">General</a></li><li class="nav-item"><a href="#mw_fa1db07d-d75e-435b-9cf3-30895942ee2f" class="nav-link intrnllnk">Inputs and Outputs</a></li><li class="nav-item"><a href="#bt23cs9-1" class="nav-link intrnllnk">Using ~ as an Input Argument in Method Definitions</a></li><li class="nav-item"><a href="#mw_c52cf9de-c476-4991-9875-5a8792d7a5b1" class="nav-link intrnllnk">Properties</a></li><li class="nav-item"><a href="#mw_ef7b3fb9-8406-4361-a8e3-7fb4a289f201" class="nav-link intrnllnk">Text Comparisons</a></li><li class="nav-item"><a href="#mw_59dc697c-a6e9-4b1a-a040-5efa7a6c904f" class="nav-link intrnllnk">Simulink</a></li><li class="nav-item"><a href="#mw_8a61695c-ddd2-4183-8451-ea02090bf8b0" class="nav-link intrnllnk">Code Generation</a></li></ul></div></div>
</nav></div></nav>
<script src="../../includes/product/scripts/offcanvas_v2.js"></script></div><!--END.CLASS sidebar-offcanvas-->
<div class="offcanvas_content_container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sticky_header_container"><div class="horizontal_nav"><div class="horizontal_nav_container"><div class="offcanvas_horizontal_nav"><div class="container-fluid"><div class="row"><div class="col-sm-12 d-none d-sm-block"><nav class="navbar navbar-default" role="navigation" id="subnav"><div><ul class="nav navbar-nav crux_browse"><li id="crux_nav_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_example" class="crux_resource"><a href="../examples.html?category=create-system-objects&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=create-system-objects&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=create-system-objects&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></nav></div><div class="d-sm-none"><div class="container-fluid"><div class="row"><div class="col-9"><div class="mobile_crux_nav_trigger"><div class="btn-group"><button type="button" class="btn btn-default dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Resources</button><ul class="dropdown-menu"><li id="crux_nav_mobile_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_mobile_example" class="crux_resource"><a href="../examples.html?category=create-system-objects&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_mobile_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=create-system-objects&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_mobile_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=create-system-objects&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></div></div><div class="col-3"><div class="translate_placeholder"></div></div></div></div></div></div></div></div></div></div></div><div class="content_container" id="content_container" itemprop="content">
<div class="container-fluid">
<div class="row">
<div class="col-12">

<main id="skip_link_anchor" tabindex="-1">
<div xmlns="http://www.w3.org/1999/xhtml" id="product_info_alert"></div><section xmlns="http://www.w3.org/1999/xhtml" id="doc_center_content" lang="en" data-language="en"><div id="pgtype-topic">
<section><h2 class="title r2025b" itemprop="title content" id="buabqee-1">Tips for Defining System Objects</h2><p>A System object&#x2122; is a specialized MATLAB<sup>&#x00AE;</sup> object that is optimized for iterative processing. Use System objects when you
      need to run an object multiple times or process data in a loop. When defining your own
        System object, use the following suggestions to help your System object run more quickly.</p><section><h3 class="title" id="mw_f48a9f4d-e279-4b10-82f1-940459bd5fc1">General</h3><div class="itemizedlist"><ul><li><p>Define all one-time calculations in the <code class="method">setupImpl</code> method and cache
            the results in a private property. Use the <code class="method">stepImpl</code> method for repeated
            calculations.</p></li><li><p>Specify Boolean values using <code class="literal">true</code> or <code class="literal">false</code>
            instead of <code class="literal">1</code> or <code class="literal">0</code>, respectively.</p></li><li><p>If the variables in a method do not need to retain their values between calls, use
            local scope for those variables in that method.</p></li></ul></div></section><section><h3 class="title" id="mw_fa1db07d-d75e-435b-9cf3-30895942ee2f">Inputs and Outputs</h3><div class="itemizedlist"><ul><li><p>Some methods use the <code class="method">stepImpl</code> algorithm inputs as their inputs,
            such as <code class="method">setupImpl</code>, <code class="method">updateImpl</code>,
              <code class="method">validateInputsImpl</code>, <code class="method">isInputDirectFeedThroughImpl</code>,
            and <code class="method">processInputSpecificationChangeImpl</code>. The inputs must match the
            order of inputs to <code class="method">stepImpl</code>, but do not need to match the number of
            inputs. If your implementation does not require any of the inputs to the System object,
            you can leave them all off.</p></li><li><p>For the <code class="method">getNumInputsImpl</code> and <code class="method">getNumOutputsImpl</code>
            methods, if you set the return argument from an object property, that object property
            must have the <code class="literal">Nontunable</code> attribute.</p></li></ul></div></section><section><h3 class="title" id="bt23cs9-1">Using ~ as an Input Argument in Method Definitions</h3><p>All methods, except static methods, expect the System object handle as the first input argument. You can use any name for your System object handle. The code inserted by the MATLAB Editor menu uses
          <code class="literal">obj</code>. </p><p>In many examples, instead of passing in the object handle, <code class="literal">~</code> is used
        to indicate that the object handle is not used in the function. Using ~ instead of an object
        handle prevents warnings about unused variables.</p></section><section><h3 class="title" id="mw_c52cf9de-c476-4991-9875-5a8792d7a5b1">Properties</h3><div class="itemizedlist"><ul><li><p>For properties that do not change, define them in as <code class="literal">Nontunable</code>
            properties. <code class="literal">Tunable</code> properties have slower access times than
              <code class="literal">Nontunable</code> properties</p></li><li><p>Whenever possible, use the <code class="literal">protected</code> or
              <code class="literal">private</code> attribute instead of the <code class="literal">public</code>
            attribute for a property. Some <code class="literal">public</code> properties have slower access
            times than <code class="literal">protected</code> and <code class="literal">private</code>
            properties.</p></li><li><p>If properties are accessed more than once in the <code class="method">stepImpl</code> method,
            cache those properties as local variables inside the method. A typical example of
            multiple property access is a loop. Iterative calculations using cached local variables
            run faster than calculations that must access the properties of an object. When the
            calculations for the method complete, you can save the local cached results back to the
            properties of that System object. Copy frequently used tunable properties into private properties. This
            best practice also applies to the <code class="method">updateImpl</code> and
              <code class="method">outputImpl</code> methods. </p><p>For example, in this code <code class="literal">k</code> is accessed multiple times in each
            loop iteration, but is saved to the object property only once.
            <div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#0000FF">function</span> y = stepImpl(obj,x) 
  k = obj.MyProp; 
  <span style="color:#0000FF">for</span> p=1:100 
    y = k * x; 
    k = k + 0.1; 
  <span style="color:#0000FF">end</span> 
  obj.MyProp = k; 
<span style="color:#0000FF">end</span></pre></div></div></div></p></li><li><p>Default values of properties are shared across all instances of an object. Two
            instances of a class can access the same default value if that property has not been
            overwritten by either instance.</p></li></ul></div></section><section><h3 class="title" id="mw_ef7b3fb9-8406-4361-a8e3-7fb4a289f201">Text Comparisons</h3><p> Do not use character vector comparisons or character vector-based switch statements in
        the <code class="method">stepImpl</code> method. Instead, create a method handle in
          <code class="method">setupImpl</code>. This handle points to a method in the same class definition
        file. Use that handle in a loop in <code class="method">stepImpl</code>. </p><p>This example shows how to use method handles and cached local variables in a loop to
        implement an efficient object. In <code class="method">setupImpl</code>, choose
          <code class="literal">myMethod1</code> or <code class="literal">myMethod2</code> based on a character vector
        comparison and assign the method handle to the <code class="property">pMethodHandle</code> property.
        Because there is a loop in <code class="method">stepImpl</code>, assign the
          <code class="property">pMethodHandle</code> property to a local method handle,
          <code class="literal">myFun</code>, and then use <code class="literal">myFun</code> inside the loop.
        <div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#0000FF">classdef</span> MyClass &lt; matlab.System
  <span style="color:#0000FF">function</span> setupImpl(obj)
    <span style="color:#0000FF">if</span> strcmp(obj.Method, <span style="color:#A020F0">'Method1'</span>)
      obj.pMethodHandle = @myMethod1;
    <span style="color:#0000FF">else</span>
      obj.pMethodHandle = @myMethod2;
    <span style="color:#0000FF">end</span>
  <span style="color:#0000FF">end</span>
  <span style="color:#0000FF">function</span> y = stepImpl(obj,x)
    myFun = obj.pMethodHandle;
      <span style="color:#0000FF">for</span> p=1:1000
        y = myFun(obj,x)
      <span style="color:#0000FF">end</span>
    <span style="color:#0000FF">end</span>
  <span style="color:#0000FF">end</span>
  <span style="color:#0000FF">function</span> y = myMethod1(x)
    y = x+1;
  <span style="color:#0000FF">end</span>
  <span style="color:#0000FF">function</span> y = myMethod2(x)
    y = x-1;
  <span style="color:#0000FF">end</span>
<span style="color:#0000FF">end</span></pre></div></div></div></p></section><section><h3 class="title" id="mw_59dc697c-a6e9-4b1a-a040-5efa7a6c904f">Simulink</h3><p>For System objects being included in Simulink, add the <code class="literal">StrictDefaults</code>
        attribute. This attribute sets all the <code class="literal">MutableImpl</code> methods to return
        false by default.</p></section><section><h3 class="title" id="mw_8a61695c-ddd2-4183-8451-ea02090bf8b0">Code Generation</h3><p>For information about System objects and code generation, see <a href="../../coder/ug/use-system-objects-in-matlab-code-generation.html" class="a">System Objects in MATLAB Code Generation</a><span role="cross_prod"> (MATLAB Coder)</span>.</p></section></section>
    </div></section><div xmlns="http://www.w3.org/1999/xhtml" class="clearfix"></div>
<div xmlns="http://www.w3.org/1999/xhtml" align="center" class="feedbackblock" id="mw_docsurvey"><script src="https://www.mathworks.com/help/docsurvey/docfeedback.js"></script>
<script>loadSurveyHidden();</script>
<link rel="stylesheet" href="https://www.mathworks.com/help/docsurvey/release/index-css.css" type="text/css">
<script src="https://www.mathworks.com/help/docsurvey/release/bundle.index.js"></script>

<script>initDocSurvey();</script></div></main>


</div>
</div>
</div>
</div><!--close_0960-->
<footer xmlns="http://www.w3.org/1999/xhtml" id="footer" class="bs-footer">
<div class="container-fluid">
<div class="footer">
<div class="row">
<div class="col-12">
<p class="copyright">Â© 1994-2025 The MathWorks, Inc.</p>
<ul class="footernav"><li class="footernav_help"><a href="matlab:web(matlab.internal.licenseAgreement)">Terms of Use</a></li><li class="footernav_patents"><a href="matlab:web([matlabroot '/patents.txt'])">Patents</a></li><li class="footernav_trademarks"><a href="matlab:web([matlabroot '/trademarks.txt'])">Trademarks</a></li><li class="footernav_piracy"><a href="matlab:web([docroot '/acknowledgments.html'])">Acknowledgments</a></li></ul></div>
</div>
</div>
</div>
</footer>
</div><!--close row-offcanvas-->
</div><!--close_0970-->
</body>
</html>
