<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage">
<head>
<meta xmlns="http://www.w3.org/1999/xhtml" charset="utf-8">
<meta xmlns="http://www.w3.org/1999/xhtml" name="viewport" content="width=device-width, initial-scale=1.0">
<meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="X-UA-Compatible" content="IE=edge">
<title>Improve Performance with Incremental Builds</title>
<script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
      {
      "@context": "http://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement":
      [{
          "@type": "ListItem",
          "position": 1,

          "item": {
          "@id": "../index.html",
          "name": "MATLAB"
}

          } 
        ,
        {
          "@type": "ListItem",
          "position": 2,

          "item": {
          "@id": "../software-development.html",
          "name": "Software Development Tools"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 3,

          "item": {
          "@id": "../build-automation.html",
          "name": "Build Automation"
}

          }]
      }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "VisibleBreadcrumbs",

        "itemListElement":
        [
        "build-automation"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/bootstrap.min.css" rel="stylesheet" type="text/css">


  <meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="Content-Script-Type" content="text/javascript">
<meta xmlns="http://www.w3.org/1999/xhtml" name="toctype" itemprop="pagetype" content="con">
<meta xmlns="http://www.w3.org/1999/xhtml" name="infotype" itemprop="infotype" content="fe">

<meta xmlns="http://www.w3.org/1999/xhtml" name="description" itemprop="description" content="Run builds more efficiently by specifying task inputs and outputs."><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-3.6.0.min.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-migrate.min.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_lg.css" rel="stylesheet" media="screen and (min-width: 1200px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_md.css" rel="stylesheet" media="screen and (min-width: 992px) and (max-width: 1199px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm+xs.css" rel="stylesheet" media="screen and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm.css" rel="stylesheet" media="screen and (min-width: 768px) and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_xs.css" rel="stylesheet" media="screen and (max-width: 767px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_offcanvas_v2.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/shared/highlight/styles/mwdochighlight.min.css" rel="stylesheet" type="text/css">

<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/l10n.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/f1help.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/mw.imageanimation.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/jquery.highlight.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/underscore-min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/use_platform_screenshots.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/suggest.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/overload.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/helpservices.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/productfilter.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/matlab_dialog_shared.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/highlight/highlight.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/localstorage.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/product_group.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/saxonjs/SaxonJS2.rt.js"></script><script xmlns="http://www.w3.org/1999/xhtml">
            window.history.replaceState(window.location.href, null, ""); // Initialize
            window.onload = function() {    
            mystylesheetLocation = "../../includes/shared/scripts/product_group-sef.json";
            mysourceLocation = "../../docset/docset.xml";
            product_help_location = "matlab";
            pagetype = "section";
            doccentertype = "product";
            langcode = "";
            getProductFilteredList(mystylesheetLocation, mysourceLocation, product_help_location, pagetype, doccentertype, langcode);  
            }
          </script>




<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery.mobile.custom.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/bootstrap.bundle.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/global.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_base.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_installed.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_print.css" rel="stylesheet" type="text/css" media="print">
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/equationrenderer/release/MathRenderer.js"></script>
</head>
<body id="responsive_offcanvas">
<div xmlns="http://www.w3.org/1999/xhtml" id="doc_header_spacer" class="header"></div>
<div xmlns="http://www.w3.org/1999/xhtml" class="section_header level_3"><div class="container-fluid"><div class="row" id="mobile_search_row"><div class="col-sm-6 col-md-7 has_horizontal_local_nav" id="section_header_title"><div class="section_header_content"><div class="section_header_title"><h1><a href="../../documentation-center.html">Help Center</a></h1></div></div></div><div class="col-12 col-sm-6 col-md-5" id="mobile_search"><div class="search_nested_content_container"><form id="docsearch_form" name="docsearch_form" method="get" data-release="R2025b" data-language="en" action="../../templates/searchresults.html"><div class="input-group tokenized_search_field"><label class="visually-hidden form-label">Search Help</label><input type="text" class="form-control conjoined_search" autocomplete="off" name="qdoc" placeholder="Search Help" id="docsearch"> <div><button type="submit" name="submitsearch" id="submitsearch" class="btn icon-search btn_search_adjacent btn_search icon_16" tabindex="-1"></button></div></div></form></div><button class="btn icon-remove btn_search float-end icon_32 d-sm-none" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div><div class="d-sm-none" id="search_actuator"><button class="btn icon-search btn_search float-end icon_16" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div></div></div></div><div class="row-offcanvas row-offcanvas-left">
<div xmlns="http://www.w3.org/1999/xhtml" class="sidebar-offcanvas" id="sidebar">
<nav class="offcanvas_nav" role="navigation">
<div class="offcanvas_actuator" data-bs-toggle="offcanvas" data-bs-target="#sidebar" id="nav_toggle"><button type="button" class="btn"><span class="visually-hidden">Off-Canvas Navigation Menu Toggle
                  Off-Canvas Navigation Menu Toggle</span><span class="icon-menu"></span></button><span class="offcanvas_actuator_label" id="translation_icon-menu" tabindex="-1" aria-hidden="true"></span></div><div class="nav_list_wrapper" id="nav_list_wrapper"><nav class="offcanvas_nav" role="navigation"><ul class="nav_breadcrumb" id="ul_left_nav_ancestors"><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../../documentation-center.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Documentation Home</span></a></li></ul>
<ul class="nav_disambiguation"><li><a href="../index.html?s_tid=CRUX_lftnav" id="index">MATLAB</a>
</li>
<li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../software-development.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Software Development Tools</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../build-automation.html?s_tid=CRUX_lftnav" itemprop="url" id="mw_ffa65eba-3ea4-4023-8cda-f17c6894f34b"><span itemprop="title">Build Automation</span></a></li></ul><div class="search_refine_v4"><div id="facets_area"><ul class="nav_scrollspy nav list-unstyled" id="pnav">
<li class="nav_scrollspy_function nav-item"><a href="#responsive_offcanvas">Improve Performance with Incremental Builds</a></li>
<li class="nav_scrollspy_title nav-item" id="SSPY810-section">On this page</li>
<!--ADD_REFENTRY_TITLE_HERE 11--><li class="nav-item"><a href="#mw_e0f8e740-eae6-44e3-8906-67469381a037" class="nav-link intrnllnk">Create and Run Tasks That Support Incremental Builds</a><ul class="nav"><li class="nav-item"><a href="#mw_07119d12-a880-4a50-9838-c6b8158d7d7f" class="nav-link intrnllnk">Create Build File</a></li><li class="nav-item"><a href="#mw_128db22d-23ba-4f77-9f17-cd2a47e0c315" class="nav-link intrnllnk">Summary of Build File</a></li><li class="nav-item"><a href="#mw_0dfcb125-577e-4668-96b6-5a962073eb4c" class="nav-link intrnllnk">Visualize the Inferred Dependency</a></li><li class="nav-item"><a href="#mw_95cfa143-9add-4f72-8d6a-4517a640c09e" class="nav-link intrnllnk">Run Incremental Builds</a></li></ul></li><li class="nav-item"><a href="#mw_724fba39-07df-4388-b58d-e6bae2997e40" class="nav-link intrnllnk">MATLAB Incremental Builds</a><ul class="nav"><li class="nav-item"><a href="#mw_3e4695a9-d289-4483-bb17-11e94769213d" class="nav-link intrnllnk">Inputs and Outputs</a></li><li class="nav-item"><a href="#mw_55e5581e-57fd-4abb-9b38-a3de482e713f" class="nav-link intrnllnk">Cache Folder</a></li><li class="nav-item"><a href="#mw_adf9bebd-a7fe-4fb2-833a-e6e42ecd7bb5" class="nav-link intrnllnk">Up-To-Date Check</a></li></ul></li><li class="nav-item"><a href="#d126e102578" class="nav-link intrnllnk">See Also</a></li></ul></div></div>
</nav></div></nav>
<script src="../../includes/product/scripts/offcanvas_v2.js"></script></div><!--END.CLASS sidebar-offcanvas-->
<div class="offcanvas_content_container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sticky_header_container"><div class="horizontal_nav"><div class="horizontal_nav_container"><div class="offcanvas_horizontal_nav"><div class="container-fluid"><div class="row"><div class="col-sm-12 d-none d-sm-block"><nav class="navbar navbar-default" role="navigation" id="subnav"><div><ul class="nav navbar-nav crux_browse"><li id="crux_nav_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_example" class="crux_resource"><a href="../examples.html?category=build-automation&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=build-automation&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=build-automation&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></nav></div><div class="d-sm-none"><div class="container-fluid"><div class="row"><div class="col-9"><div class="mobile_crux_nav_trigger"><div class="btn-group"><button type="button" class="btn btn-default dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Resources</button><ul class="dropdown-menu"><li id="crux_nav_mobile_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_mobile_example" class="crux_resource"><a href="../examples.html?category=build-automation&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_mobile_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=build-automation&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_mobile_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=build-automation&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></div></div><div class="col-3"><div class="translate_placeholder"></div></div></div></div></div></div></div></div></div></div></div><div class="content_container" id="content_container" itemprop="content">
<div class="container-fluid">
<div class="row">
<div class="col-12">

<main id="skip_link_anchor" tabindex="-1">
<div xmlns="http://www.w3.org/1999/xhtml" id="product_info_alert"></div><section xmlns="http://www.w3.org/1999/xhtml" id="doc_center_content" lang="en" data-language="en"><div id="pgtype-topic">
<section><h2 class="title r2025b" itemprop="title content" id="mw_eda79319-f7a6-4123-97dd-4a8047896cbb">Improve Performance with Incremental Builds</h2><div class="doc_topic_desc"><div class="purpose_container"><em>Since R2023a</em></div></div>
            <p class="shortdesc">Incremental builds avoid redundant work by skipping tasks that
                are up to date. A task is up to date if its inputs, outputs, actions, and arguments
                have not changed since the last time it ran successfully. Skipping up-to-date tasks
                can reduce the time it takes to run a build.</p>
            <p>This topic shows how to create tasks that have inputs and outputs and then run
                these tasks as part of incremental builds. For an overview of incremental builds,
                see <a href="improve-performance-with-incremental-builds.html#mw_724fba39-07df-4388-b58d-e6bae2997e40" class="intrnllnk">MATLAB Incremental Builds</a>.</p>
            <p>
                </p>
<div class="alert alert-info d-inline-block"><span class="alert_icon icon-alert-info-reverse"></span><p class="alert_heading"><strong>Note</strong></p><p>The following two types of tasks define their own inputs and outputs as
                        part of their implementation. You do not need to explicitly specify inputs
                        and outputs for these tasks to take advantage of incremental builds:</p>
<div class="itemizedlist"><ul><li><p>Tasks created from
                                    built-in task classes in the <a href="../ref/matlab.buildtool.tasks-package.html"><code class="package">matlab.buildtool.tasks</code></a> namespace<em> (since R2023b)</em></p></li><li><p>Tasks created from
                                    custom task classes that include the
                                        <code class="literal">TaskInput</code> and
                                        <code class="literal">TaskOutput</code> property attributes<em> (since R2025a)</em></p></li></ul></div><p>
</p></div><p>

            </p>
        <section><h3 class="title" id="mw_e0f8e740-eae6-44e3-8906-67469381a037">Create and Run Tasks That Support Incremental Builds</h3><p>In this example, you first create a build file containing two tasks with specified
                inputs and outputs. Then, you use the build tool to run the tasks several times. The
                example assumes that a <code class="literal">source</code> folder exists in your current
                folder.</p><section><h4 class="title" id="mw_07119d12-a880-4a50-9838-c6b8158d7d7f">Create Build File</h4><p>In your current folder, create a build file named
                        <code class="literal">buildfile.m</code> that contains a main function and two local
                    task functions, named <code class="function">pcodeTask</code> and
                        <code class="function">archiveTask</code>, corresponding to the
                        <code class="literal">"pcode"</code> and <code class="literal">"archive"</code> tasks. (For
                    illustrative purposes, the <code class="literal">"pcode"</code> task in this example is
                    created using a task function. The recommended practice is to create the task
                    using the <a href="../ref/matlab.buildtool.tasks.pcodetask-class.html"><code class="class">matlab.buildtool.tasks.PcodeTask</code></a> class.) For the complete code in
                    the build file used in this example, see <a href="improve-performance-with-incremental-builds.html#mw_128db22d-23ba-4f77-9f17-cd2a47e0c315" class="intrnllnk">Summary of Build File</a>.</p><p><strong id="mw_4c7ec5ff-777b-4a98-8d2c-ace7228b4e8e">Add Main Function.&nbsp;&nbsp;</strong>In the build file, define a main function that:</p>
<div class="itemizedlist"><ul><li><p>Creates a plan from the task functions</p></li><li><p>Specifies the inputs and outputs of the
                                        <code class="literal">"pcode"</code> and <code class="literal">"archive"</code>
                                    tasks</p></li></ul></div><p>
</p><p>Specify the inputs and outputs of the tasks by setting their
                            <code class="property">Inputs</code> and <code class="property">Outputs</code> properties: </p>
<div class="itemizedlist"><ul><li><p><code class="literal">"pcode"</code> task &#8212; Set the
                                        <code class="property">Inputs</code> and <code class="property">Outputs</code>
                                    properties, respectively, to <code class="class">FileCollection</code>
                                    objects that represent all the <code class="literal">.m</code> and
                                        <code class="literal">.p</code> files in the <code class="literal">source</code>
                                    folder and any of its subfolders. You can create
                                        <code class="class">FileCollection</code> objects by assigning strings
                                    to the properties. You can also use the <a href="../ref/matlab.buildtool.io.filecollection.frompaths.html"><code class="method">matlab.buildtool.io.FileCollection.fromPaths</code></a> or
                                        <a href="../ref/matlab.buildtool.plan.files.html"><code class="method">files</code></a> method to explicitly create
                                        <code class="class">FileCollection</code> objects (for instance,
                                        <code class="literal">plan("pcode").Inputs =
                                        files(plan,"source/**/*.m");</code>).</p></li><li><p><code class="literal">"archive"</code> task &#8212; Set the
                                        <code class="property">Inputs</code> property to the
                                        <code class="property">Outputs</code> property of the
                                        <code class="literal">"pcode"</code> task. (This assignment results in
                                    an inferred dependency by making the
                                        <code class="literal">"archive"</code> task dependent on the
                                        <code class="literal">"pcode"</code> task.) Set the
                                        <code class="property">Outputs</code> property to a
                                        <code class="class">FileCollection</code> object that represents a file
                                    named <code class="literal">source.zip</code> in your current
                                    folder.</p></li></ul></div><p>
</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#0000FF">function</span> plan = buildfile
plan = buildplan(localfunctions);

plan(<span style="color:#A020F0">"pcode"</span>).Inputs = <span style="color:#A020F0">"source/**/*.m"</span>;
plan(<span style="color:#A020F0">"pcode"</span>).Outputs = plan(<span style="color:#A020F0">"pcode"</span>).Inputs.replace(<span style="color:#A020F0">".m"</span>,<span style="color:#A020F0">".p"</span>);

plan(<span style="color:#A020F0">"archive"</span>).Inputs = plan(<span style="color:#A020F0">"pcode"</span>).Outputs;
plan(<span style="color:#A020F0">"archive"</span>).Outputs = <span style="color:#A020F0">"source.zip"</span>;
<span style="color:#0000FF">end</span></pre></div></div></div><p><strong id="mw_0edbb7df-4ebd-46a7-a46b-4f0e278c2fec">Add Task Functions.&nbsp;&nbsp;</strong>Specify the tasks in the plan by adding local task functions to the build
                        file. Add the <code class="function">pcodeTask</code> task function to obfuscate the
                        inputs of the <code class="literal">"pcode"</code> task and create the P-code files in
                        the same folders as the inputs. Because the <code class="property">Inputs</code>
                        property of the <code class="literal">"pcode"</code> task holds a
                            <code class="class">FileCollection</code> object, use the <code class="method">paths</code>
                        method of the <code class="class">FileCollection</code> class to return the paths of the
                        file collection as a string vector. Then, call the <a href="../ref/pcode.html"><code class="function">pcode</code></a> function using a
                        comma-separated list of the paths.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#0000FF">function</span> pcodeTask(context)
<span style="color:#228B22">% Create P-code files</span>
filePaths = context.Task.Inputs.paths;
pcode(filePaths{:},<span style="color:#A020F0">"-inplace"</span>)
<span style="color:#0000FF">end</span></pre></div></div></div><p>Add the <code class="function">archiveTask</code> task function to create an
                        archive of its inputs.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#0000FF">function</span> archiveTask(context)
<span style="color:#228B22">% Create ZIP file</span>
task = context.Task;
zip(task.Outputs.paths,task.Inputs.paths)
<span style="color:#0000FF">end</span></pre></div></div></div></section><section><h4 class="title" id="mw_128db22d-23ba-4f77-9f17-cd2a47e0c315">Summary of Build File</h4><p>This code shows the complete contents of the file
                        <code class="literal">buildfile.m</code> in your current folder.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#0000FF">function</span> plan = buildfile
plan = buildplan(localfunctions);

plan(<span style="color:#A020F0">"pcode"</span>).Inputs = <span style="color:#A020F0">"source/**/*.m"</span>;
plan(<span style="color:#A020F0">"pcode"</span>).Outputs = plan(<span style="color:#A020F0">"pcode"</span>).Inputs.replace(<span style="color:#A020F0">".m"</span>,<span style="color:#A020F0">".p"</span>);

plan(<span style="color:#A020F0">"archive"</span>).Inputs = plan(<span style="color:#A020F0">"pcode"</span>).Outputs;
plan(<span style="color:#A020F0">"archive"</span>).Outputs = <span style="color:#A020F0">"source.zip"</span>;
<span style="color:#0000FF">end</span>

<span style="color:#0000FF">function</span> pcodeTask(context)
<span style="color:#228B22">% Create P-code files</span>
filePaths = context.Task.Inputs.paths;
pcode(filePaths{:},<span style="color:#A020F0">"-inplace"</span>)
<span style="color:#0000FF">end</span>

<span style="color:#0000FF">function</span> archiveTask(context)
<span style="color:#228B22">% Create ZIP file</span>
task = context.Task;
zip(task.Outputs.paths,task.Inputs.paths)
<span style="color:#0000FF">end</span></pre></div></div></div></section><section><h4 class="title" id="mw_0dfcb125-577e-4668-96b6-5a962073eb4c">Visualize the Inferred Dependency</h4><p>Create a dependency graph of the build plan using the <a href="../ref/matlab.buildtool.plan.plot.html"><code class="method">plot</code></a> method. Even though you did not specify an explicit
                    dependency in the build file, the graph displays a dependency. The
                        <code class="literal">"archive"</code> task has an inferred dependency on the
                        <code class="literal">"pcode"</code> task because you specified the inputs of the
                        <code class="literal">"archive"</code> task by using the outputs of the
                        <code class="literal">"pcode"</code> task. Like explicit dependencies that you specify
                    by setting the <code class="property">Dependencies</code> property of a task, inferred
                    dependencies of a task must run before the task runs.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>plan = buildfile;
plot(plan)</pre></div></div></div><div class="informalfigure"><div id="d126e102466" class="mediaobject"><p><img src="build_tool_inferred_dependency.png" alt="Graph representing the inferred dependency of the &#34;archive&#34; task on the &#34;pcode&#34; task" height="420" width="560"></p></div></div></section><section><h4 class="title" id="mw_95cfa143-9add-4f72-8d6a-4517a640c09e">Run Incremental Builds</h4><p>Because the tasks in this example have specified inputs and outputs, the tasks
                    can run as part of incremental builds. If the inputs and outputs of a task to
                    run have not changed since the last time it ran, the build tool skips the task.
                    Otherwise, the build tool runs it.</p><p>Trigger the initial build by running the <code class="literal">"archive"</code> task.
                    Because the <code class="literal">"archive"</code> task depends on the
                        <code class="literal">"pcode"</code> task, the build tool runs the
                        <code class="literal">"pcode"</code> task before running the
                        <code class="literal">"archive"</code> task.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>buildtool <span style="color:#A020F0">archive</span></pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>** Starting pcode
** Finished pcode

** Starting archive
** Finished archive</pre></div></div></div><p>Run the <code class="literal">"archive"</code> task again. The build tool skips both of
                    the tasks because none of the inputs or outputs of the tasks have changed since
                    the last run.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>buildtool <span style="color:#A020F0">archive</span></pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>** Skipped pcode (up-to-date)

** Skipped archive (up-to-date)</pre></div></div></div><p>Add a file to the <code class="literal">source</code> folder, and then rerun the
                        <code class="literal">"archive"</code> task. The build tool first runs the
                        <code class="literal">"pcode"</code> task because its inputs have changed between
                    consecutive builds. The build tool then runs the <code class="literal">"archive"</code>
                    task because its inputs are the outputs of the <code class="literal">"pcode"</code> task,
                    which have changed.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>fclose(fopen(fullfile(<span style="color:#A020F0">"source"</span>,<span style="color:#A020F0">"newFile.m"</span>),<span style="color:#A020F0">"w"</span>));
buildtool <span style="color:#A020F0">archive</span></pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>** Starting pcode
** Finished pcode

** Starting archive
** Finished archive</pre></div></div></div><p>Delete the ZIP file created by the <code class="literal">"archive"</code> task, and then
                    run the task. The build tool skips the <code class="literal">"pcode"</code> task because
                    none of its inputs or outputs have changed. However, the build tool runs the
                        <code class="literal">"archive"</code> task because its output has changed since the
                    last time it ran successfully.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>delete(<span style="color:#A020F0">"source.zip"</span>) 
buildtool <span style="color:#A020F0">archive</span></pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>** Skipped pcode (up-to-date)

** Starting archive
** Finished archive</pre></div></div></div></section></section><section><h3 class="title" id="mw_724fba39-07df-4388-b58d-e6bae2997e40"><span class="trademark entity">MATLAB</span> Incremental Builds</h3><p>Build tasks typically operate on inputs and generate outputs. For example, a task
                might build a binary MEX file from a C++ source file. In this case, the source file
                is the task input and the MEX file is the task output. If you want the build tool to
                skip a task when it is up to date, specify the inputs or outputs of the task. If the
                    <code class="property">DisableIncremental</code> property of the task is
                    <code class="literal">false</code>, the build tool keeps track of the inputs and outputs
                every time the task runs and skips the task if they have not changed. If a task does
                not specify inputs or outputs, the build tool does not skip it.</p><section><h4 class="title" id="mw_3e4695a9-d289-4483-bb17-11e94769213d">Inputs and Outputs</h4><p>To specify the inputs and outputs of a task, set its
                        <code class="property">Inputs</code> and <code class="property">Outputs</code> properties. For
                    example, you can set the properties to a vector of <a href="../ref/matlab.buildtool.io.filecollection-class.html"><code class="class">matlab.buildtool.io.FileCollection</code></a> objects.</p><p>The build tool validates that specified inputs of a task exist before running
                    the task and that specified outputs of a task exist after running the task. If
                    validation of task inputs or outputs fails, the build tool fails the
                    task.</p></section><section><h4 class="title" id="mw_55e5581e-57fd-4abb-9b38-a3de482e713f">Cache Folder</h4><p>When you run a build, the build tool creates a cache folder named
                        <code class="literal">.buildtool</code> in the plan root folder if it does not exist.
                    The cache folder includes information, such as task traces, that enables
                    incremental builds. A <em class="firstterm">task trace</em> is a record of the
                    inputs, outputs, actions, and arguments of a task from its last successful run.
                    If you create a task with the <code class="property">DisableIncremental</code> property
                    set to <code class="literal">true</code>, then the build tool does not create a trace for
                    it.</p><p>Do not put the cache folder under source control. To exclude the cache folder
                    from source control, add its name to your source control ignore list. For
                    example, append the cache folder name to the <code class="literal">.gitignore</code> file
                    in the plan root
                    folder.<div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>writelines(<span style="color:#A020F0">".buildtool"</span>,<span style="color:#A020F0">".gitignore"</span>,WriteMode=<span style="color:#A020F0">"append"</span>)</pre></div></div></div></p></section><section><h4 class="title" id="mw_adf9bebd-a7fe-4fb2-833a-e6e42ecd7bb5">Up-To-Date Check</h4><p>Before running a task that has inputs or outputs and that has a
                        <code class="property">DisableIncremental</code> property value of
                        <code class="literal">false</code>, the build tool references the cache folder to
                    check whether the task is up to date. If the check passes, the build tool skips
                    the task. Otherwise, the build tool runs the task.</p><p>For the check to pass, the inputs, outputs, actions, and arguments of the task
                    must be the same as the last time the task ran successfully. To determine
                    whether a file has changed, the build tool examines the contents of the file
                    (not its timestamp).</p></section></section>
            <h2 id="d126e102578">See Also</h2><h3>Functions</h3><ul class="list-unstyled margined_10"><li><span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/matlab.buildtool.plan.files.html"><span itemprop="name"><code class="method">files</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/matlab.buildtool.io.filecollection.frompaths.html"><span itemprop="name"><code class="method">matlab.buildtool.io.FileCollection.fromPaths</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/matlab.buildtool.io.filecollection.paths.html"><span itemprop="name"><code class="method">paths</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/buildplan.html"><span itemprop="name"><code class="function">buildplan</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/buildtool.html"><span itemprop="name"><code class="function">buildtool</code></span></a></span></li></ul><h3>Classes</h3><ul class="list-unstyled margined_10"><li><span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/matlab.buildtool.io.filecollection-class.html"><span itemprop="name"><code class="class">matlab.buildtool.io.FileCollection</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/matlab.buildtool.taskinputs-class.html"><span itemprop="name"><code class="class">matlab.buildtool.TaskInputs</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/matlab.buildtool.taskoutputs-class.html"><span itemprop="name"><code class="class">matlab.buildtool.TaskOutputs</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/matlab.buildtool.task-class.html"><span itemprop="name"><code class="class">matlab.buildtool.Task</code></span></a></span></li></ul><h3>Namespaces</h3><ul class="list-unstyled margined_10"><li><span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/matlab.buildtool.tasks-package.html"><span itemprop="name"><code class="package">matlab.buildtool.tasks</code></span></a></span></li></ul>
            <h3 id="d126e102620">Topics</h3><ul class="list-unstyled"><li><a href="overview-of-matlab-build-tool.html" class="a">Overview of MATLAB Build Tool</a></li><li><a href="create-and-run-tasks-using-build-tool.html" class="a">Create and Run Tasks Using Build Tool</a></li><li><a href="run-build-from-toolstrip.html" class="a">Run Build from Toolstrip</a></li></ul>
            
        </section>
    </div></section><div xmlns="http://www.w3.org/1999/xhtml" class="clearfix"></div>
<div xmlns="http://www.w3.org/1999/xhtml" align="center" class="feedbackblock" id="mw_docsurvey"><script src="https://www.mathworks.com/help/docsurvey/docfeedback.js"></script>
<script>loadSurveyHidden();</script>
<link rel="stylesheet" href="https://www.mathworks.com/help/docsurvey/release/index-css.css" type="text/css">
<script src="https://www.mathworks.com/help/docsurvey/release/bundle.index.js"></script>

<script>initDocSurvey();</script></div></main>


</div>
</div>
</div>
</div><!--close_0960-->
<footer xmlns="http://www.w3.org/1999/xhtml" id="footer" class="bs-footer">
<div class="container-fluid">
<div class="footer">
<div class="row">
<div class="col-12">
<p class="copyright">Â© 1994-2025 The MathWorks, Inc.</p>
<ul class="footernav"><li class="footernav_help"><a href="matlab:web(matlab.internal.licenseAgreement)">Terms of Use</a></li><li class="footernav_patents"><a href="matlab:web([matlabroot '/patents.txt'])">Patents</a></li><li class="footernav_trademarks"><a href="matlab:web([matlabroot '/trademarks.txt'])">Trademarks</a></li><li class="footernav_piracy"><a href="matlab:web([docroot '/acknowledgments.html'])">Acknowledgments</a></li></ul></div>
</div>
</div>
</div>
</footer>
</div><!--close row-offcanvas-->
</div><!--close_0970-->
</body>
</html>
