<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage">
<head>
<meta xmlns="http://www.w3.org/1999/xhtml" charset="utf-8">
<meta xmlns="http://www.w3.org/1999/xhtml" name="viewport" content="width=device-width, initial-scale=1.0">
<meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="X-UA-Compatible" content="IE=edge">
<title>Solve PDE and Compute Partial Derivatives</title>
<script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
      {
      "@context": "http://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement":
      [{
          "@type": "ListItem",
          "position": 1,

          "item": {
          "@id": "../index.html",
          "name": "MATLAB"
}

          } 
        ,
        {
          "@type": "ListItem",
          "position": 2,

          "item": {
          "@id": "../mathematics.html",
          "name": "Mathematics"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 3,

          "item": {
          "@id": "../numerical-integration-and-differential-equations.html",
          "name": "Numerical Integration and Differential Equations"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 4,

          "item": {
          "@id": "../partial-differential-equations.html",
          "name": "1-D Partial Differential Equations"
}

          }]
      }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "VisibleBreadcrumbs",

        "itemListElement":
        [
        "partial-differential-equations"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "DigitalDocument",
          "headline": "Solve PDE and Compute Partial Derivatives",
          "description": "Solve a transistor partial differential equation (PDE) and use the results to obtain partial derivatives that are part of solving a larger problem.",
          "thumbnailURL": "../../examples/matlab/win64/SolveTransistorPDEExample_01.png",
          "genre": "Live Script",
          "isBasedOn": {
          "@type": "Product",
          "name": "MATLAB"

        },
          "identifier": "matlab.SolveTransistorPDEExample",
          "name": "SolveTransistorPDEExample",
          "url": "solve-transistor-pde.html"

        }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "PropertyValue",
          "name": "open_command",
          "value": "matlab:openExample('matlab/SolveTransistorPDEExample')"

        }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "ExampleSourceFiles",

        "itemListElement":
        [
        "SolveTransistorPDEExample.mlx"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/bootstrap.min.css" rel="stylesheet" type="text/css">


  <meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="Content-Script-Type" content="text/javascript">
<meta xmlns="http://www.w3.org/1999/xhtml" name="toctype" itemprop="pagetype" content="ug">
<meta xmlns="http://www.w3.org/1999/xhtml" name="infotype" itemprop="infotype" content="other">

<meta xmlns="http://www.w3.org/1999/xhtml" name="description" itemprop="description" content="This example shows how to solve a transistor partial differential equation (PDE) and use the results to obtain partial derivatives that are part of solving a larger problem."><meta xmlns="http://www.w3.org/1999/xhtml" content="../../examples/matlab/win64/SolveTransistorPDEExample_01.png" itemprop="thumbnailUrl">
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-3.6.0.min.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-migrate.min.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_lg.css" rel="stylesheet" media="screen and (min-width: 1200px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_md.css" rel="stylesheet" media="screen and (min-width: 992px) and (max-width: 1199px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm+xs.css" rel="stylesheet" media="screen and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm.css" rel="stylesheet" media="screen and (min-width: 768px) and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_xs.css" rel="stylesheet" media="screen and (max-width: 767px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_offcanvas_v2.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/shared/highlight/styles/mwdochighlight.min.css" rel="stylesheet" type="text/css">

<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/l10n.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/f1help.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/mw.imageanimation.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/jquery.highlight.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/underscore-min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/use_platform_screenshots.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/suggest.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/overload.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/helpservices.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/productfilter.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/matlab_dialog_shared.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/highlight/highlight.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/localstorage.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/product_group.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/saxonjs/SaxonJS2.rt.js"></script><script xmlns="http://www.w3.org/1999/xhtml">
            window.history.replaceState(window.location.href, null, ""); // Initialize
            window.onload = function() {    
            mystylesheetLocation = "../../includes/shared/scripts/product_group-sef.json";
            mysourceLocation = "../../docset/docset.xml";
            product_help_location = "matlab";
            pagetype = "section";
            doccentertype = "product";
            langcode = "";
            getProductFilteredList(mystylesheetLocation, mysourceLocation, product_help_location, pagetype, doccentertype, langcode);  
            }
          </script>




<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery.mobile.custom.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/bootstrap.bundle.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/global.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_base.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_installed.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_print.css" rel="stylesheet" type="text/css" media="print">
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/equationrenderer/release/MathRenderer.js"></script>
</head>
<body id="responsive_offcanvas">
<div xmlns="http://www.w3.org/1999/xhtml" id="doc_header_spacer" class="header"></div>
<div xmlns="http://www.w3.org/1999/xhtml" class="section_header level_3"><div class="container-fluid"><div class="row" id="mobile_search_row"><div class="col-sm-6 col-md-7 has_horizontal_local_nav" id="section_header_title"><div class="section_header_content"><div class="section_header_title"><h1><a href="../../documentation-center.html">Help Center</a></h1></div></div></div><div class="col-12 col-sm-6 col-md-5" id="mobile_search"><div class="search_nested_content_container"><form id="docsearch_form" name="docsearch_form" method="get" data-release="R2025b" data-language="en" action="../../templates/searchresults.html"><div class="input-group tokenized_search_field"><label class="visually-hidden form-label">Search Help</label><input type="text" class="form-control conjoined_search" autocomplete="off" name="qdoc" placeholder="Search Help" id="docsearch"> <div><button type="submit" name="submitsearch" id="submitsearch" class="btn icon-search btn_search_adjacent btn_search icon_16" tabindex="-1"></button></div></div></form></div><button class="btn icon-remove btn_search float-end icon_32 d-sm-none" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div><div class="d-sm-none" id="search_actuator"><button class="btn icon-search btn_search float-end icon_16" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div></div></div></div><div class="row-offcanvas row-offcanvas-left">
<div xmlns="http://www.w3.org/1999/xhtml" class="sidebar-offcanvas" id="sidebar">
<nav class="offcanvas_nav" role="navigation">
<div class="offcanvas_actuator" data-bs-toggle="offcanvas" data-bs-target="#sidebar" id="nav_toggle"><button type="button" class="btn"><span class="visually-hidden">Off-Canvas Navigation Menu Toggle
                  Off-Canvas Navigation Menu Toggle</span><span class="icon-menu"></span></button><span class="offcanvas_actuator_label" id="translation_icon-menu" tabindex="-1" aria-hidden="true"></span></div><div class="nav_list_wrapper" id="nav_list_wrapper"><nav class="offcanvas_nav" role="navigation"><ul class="nav_breadcrumb" id="ul_left_nav_ancestors"><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../../documentation-center.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Documentation Home</span></a></li></ul>
<ul class="nav_disambiguation"><li><a href="../index.html?s_tid=CRUX_lftnav" id="index">MATLAB</a>
</li>
<li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../mathematics.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Mathematics</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../numerical-integration-and-differential-equations.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Numerical Integration and Differential Equations</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../partial-differential-equations.html?s_tid=CRUX_lftnav" itemprop="url" id="partial-differential-equations"><span itemprop="title">1-D Partial Differential Equations</span></a></li></ul><div class="search_refine_v4"><div id="facets_area"><ul class="nav_scrollspy nav list-unstyled" id="pnav">
<li class="nav_scrollspy_function nav-item"><a href="#responsive_offcanvas">Solve PDE and Compute Partial Derivatives</a></li>
<li class="nav_scrollspy_title nav-item" id="SSPY810-section">On this page</li>
<!--ADD_REFENTRY_TITLE_HERE 11--><li class="nav-item"><a href="#SolveTransistorPDEExample-1" class="nav-link intrnllnk">Define Physical Constants</a></li><li class="nav-item"><a href="#SolveTransistorPDEExample-2" class="nav-link intrnllnk">Code Equation</a></li><li class="nav-item"><a href="#SolveTransistorPDEExample-3" class="nav-link intrnllnk">Code Initial Condition</a></li><li class="nav-item"><a href="#SolveTransistorPDEExample-4" class="nav-link intrnllnk">Code Boundary Conditions</a></li><li class="nav-item"><a href="#SolveTransistorPDEExample-5" class="nav-link intrnllnk">Select Solution Mesh</a></li><li class="nav-item"><a href="#SolveTransistorPDEExample-6" class="nav-link intrnllnk">Solve Equation</a></li><li class="nav-item"><a href="#SolveTransistorPDEExample-7" class="nav-link intrnllnk">Plot Solution</a></li><li class="nav-item"><a href="#SolveTransistorPDEExample-8" class="nav-link intrnllnk">Compute Emitter Discharge Current</a></li><li class="nav-item"><a href="#SolveTransistorPDEExample-9" class="nav-link intrnllnk">Local Functions</a></li><li class="nav-item"><a href="#SolveTransistorPDEExample-10" class="nav-link intrnllnk">References</a></li><li class="nav-item"><a href="#d126e51722" class="nav-link intrnllnk">See Also</a></li></ul></div></div>
</nav></div></nav>
<script src="../../includes/product/scripts/offcanvas_v2.js"></script></div><!--END.CLASS sidebar-offcanvas-->
<div class="offcanvas_content_container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sticky_header_container"><div class="horizontal_nav"><div class="horizontal_nav_container"><div class="offcanvas_horizontal_nav"><div class="container-fluid"><div class="row"><div class="col-sm-12 d-none d-sm-block"><nav class="navbar navbar-default" role="navigation" id="subnav"><div><ul class="nav navbar-nav crux_browse"><li id="crux_nav_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_example" class="crux_resource"><a href="../examples.html?category=partial-differential-equations&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=partial-differential-equations&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=partial-differential-equations&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></nav></div><div class="d-sm-none"><div class="container-fluid"><div class="row"><div class="col-9"><div class="mobile_crux_nav_trigger"><div class="btn-group"><button type="button" class="btn btn-default dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Resources</button><ul class="dropdown-menu"><li id="crux_nav_mobile_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_mobile_example" class="crux_resource"><a href="../examples.html?category=partial-differential-equations&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_mobile_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=partial-differential-equations&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_mobile_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=partial-differential-equations&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></div></div><div class="col-3"><div class="translate_placeholder"></div></div></div></div></div></div></div></div></div></div></div><div class="content_container" id="content_container" itemprop="content">
<div class="container-fluid">
<div class="row">
<div class="col-12">

<main id="skip_link_anchor" tabindex="-1">
<div xmlns="http://www.w3.org/1999/xhtml" id="product_info_alert"></div><section xmlns="http://www.w3.org/1999/xhtml" id="doc_center_content" lang="en" data-language="en"><div id="pgtype-topic">
<section><h1 class="r2025b" itemprop="title content" id="mw_5c742f17-8410-4c65-bbb7-1a8783891bd5">Solve PDE and Compute Partial Derivatives</h1><div class="examples_short_list hidden_ios_android" data-products="ML"><div data-pane="metadata" class="card metadata_container"><div class="card-body metadata_content"><div class="d-grid"><a class="btn btn_color_blue" href="matlab:openExample('matlab/SolveTransistorPDEExample')" data-ex-genre="Live Script">Open Live Script</a></div></div></div></div><div itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/Example" itemprop="example" class="em_example"><meta itemprop="exampleid" content="matlab-SolveTransistorPDEExample"><meta itemprop="exampletitle" content="Solve PDE and Compute Partial Derivatives"></div><span id="SolveTransistorPDEExample" class="anchor_target"></span><p class="shortdesc">This example shows how to solve a transistor partial differential equation (PDE) and use the results to obtain partial derivatives that are part of solving a larger problem.</p><p>Consider the PDE</p><p></p>
<div class="code_responsive"><p class="programlistingindent"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="block"><mrow><mfrac><mrow><mo>∂</mo><mi mathvariant="italic">u</mi></mrow><mrow><mo>∂</mo><mi mathvariant="italic">t</mi></mrow></mfrac><mo>=</mo><mi mathvariant="italic">D</mi><mfrac><mrow><msup><mrow><mo>∂</mo></mrow><mrow><mn>2</mn></mrow></msup><mi mathvariant="italic">u</mi></mrow><mrow><mo>∂</mo><msup><mrow><mi mathvariant="italic">x</mi></mrow><mrow><mn>2</mn></mrow></msup></mrow></mfrac><mo>-</mo><mfrac><mrow><mi mathvariant="italic">D</mi><mi>η</mi></mrow><mrow><mi mathvariant="italic">L</mi></mrow></mfrac><mfrac><mrow><mo>∂</mo><mi mathvariant="italic">u</mi></mrow><mrow><mo>∂</mo><mi mathvariant="italic">x</mi></mrow></mfrac><mo>.</mo></mrow></math></p></div><p></p><p>This equation arises in transistor theory [1], and <span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="inline"><mrow><mi mathvariant="italic">u</mi><mrow><mo>(</mo><mrow><mi mathvariant="italic">x</mi><mo>,</mo><mi mathvariant="italic">t</mi></mrow><mo>)</mo></mrow></mrow></math></span> is a function describing the concentration of excess charge carriers (or <span class="emphasis"><em>holes</em></span>) in the base of a PNP transistor. <span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="inline"><mrow><mi mathvariant="italic">D</mi></mrow></math></span> and <span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="inline"><mrow><mi>η</mi></mrow></math></span> are physical constants. The equation holds on the interval <span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="inline"><mrow><mn>0</mn><mo>≤</mo><mi mathvariant="italic">x</mi><mo>≤</mo><mi mathvariant="italic">L</mi></mrow></math></span> for times <span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="inline"><mrow><mi mathvariant="italic">t</mi><mo>≥</mo><mn>0</mn></mrow></math></span>.</p><p>The initial condition includes a constant <span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="inline"><mrow><mi mathvariant="italic">K</mi></mrow></math></span> and is given by</p><p></p>
<div class="code_responsive"><p class="programlistingindent"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="block"><mrow><mi mathvariant="italic">u</mi><mrow><mo>(</mo><mrow><mi mathvariant="italic">x</mi><mo>,</mo><mn>0</mn></mrow><mo>)</mo></mrow><mo>=</mo><mfrac><mrow><mi mathvariant="italic">K</mi><mtext> </mtext><mi mathvariant="italic">L</mi></mrow><mrow><mi mathvariant="italic">D</mi></mrow></mfrac><mrow><mo>(</mo><mrow><mfrac><mrow><mn>1</mn><mo>-</mo><msup><mrow><mi mathvariant="italic">e</mi></mrow><mrow><mo>-</mo><mi>η</mi><mrow><mo>(</mo><mrow><mn>1</mn><mo>-</mo><mi mathvariant="italic">x</mi><mo>/</mo><mi mathvariant="italic">L</mi></mrow><mo>)</mo></mrow></mrow></msup></mrow><mrow><mi>η</mi></mrow></mfrac></mrow><mo>)</mo></mrow><mo>.</mo></mrow></math></p></div><p></p><p>The problem has boundary conditions given by</p><p></p>
<div class="code_responsive"><p class="programlistingindent"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="block"><mrow><mi mathvariant="italic">u</mi><mrow><mo>(</mo><mrow><mn>0</mn><mo>,</mo><mi mathvariant="italic">t</mi></mrow><mo>)</mo></mrow><mo>=</mo><mi mathvariant="italic">u</mi><mrow><mo>(</mo><mrow><mi mathvariant="italic">L</mi><mo>,</mo><mi mathvariant="italic">t</mi></mrow><mo>)</mo></mrow><mo>=</mo><mn>0</mn><mo>.</mo></mrow></math></p></div><p></p><p>For fixed <span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="inline"><mrow><mi mathvariant="italic">x</mi></mrow></math></span>, the solution to the equation <span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="inline"><mrow><mi mathvariant="italic">u</mi><mrow><mo>(</mo><mrow><mi mathvariant="italic">x</mi><mo>,</mo><mi mathvariant="italic">t</mi></mrow><mo>)</mo></mrow></mrow></math></span> describes the collapse of excess charge as <span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="inline"><mrow><mi mathvariant="italic">t</mi><mo>→</mo><mo>&#8734;</mo></mrow></math></span>. This collapse produces a current, called the <span class="emphasis"><em>emitter discharge current</em></span>, which has another constant <span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="inline"><mrow><msub><mrow><mi mathvariant="italic">I</mi></mrow><mrow><mi mathvariant="italic">p</mi></mrow></msub></mrow></math></span><span class="emphasis"><em>:</em></span></p><p></p>
<div class="code_responsive"><p class="programlistingindent"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="block"><mrow><mi mathvariant="italic">I</mi><mrow><mo>(</mo><mrow><mi mathvariant="italic">t</mi></mrow><mo>)</mo></mrow><mo>=</mo><msub><mrow><mrow><mo>[</mo><mrow><mfrac><mrow><msub><mrow><mi mathvariant="italic">I</mi></mrow><mrow><mi mathvariant="italic">p</mi></mrow></msub><mi mathvariant="italic">D</mi></mrow><mrow><mi mathvariant="italic">K</mi></mrow></mfrac><mfrac><mrow><mo>∂</mo></mrow><mrow><mo>∂</mo><mi mathvariant="italic">x</mi></mrow></mfrac><mi mathvariant="italic">u</mi><mrow><mo>(</mo><mrow><mi mathvariant="italic">x</mi><mo>,</mo><mi mathvariant="italic">t</mi></mrow><mo>)</mo></mrow></mrow><mo>]</mo></mrow></mrow><mrow><mi mathvariant="italic">x</mi><mo>=</mo><mn>0</mn></mrow></msub><mo>.</mo></mrow></math></p></div><p></p><p>The equation is valid for <span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="inline"><mrow><mi mathvariant="italic">t</mi><mo>&gt;</mo><mn>0</mn></mrow></math></span> due to the inconsistency in the boundary values at <span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="inline"><mrow><mi mathvariant="italic">x</mi><mo>=</mo><mn>0</mn></mrow></math></span> for <span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="inline"><mrow><mi mathvariant="italic">t</mi><mo>=</mo><mn>0</mn></mrow></math></span> and <span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="inline"><mrow><mi mathvariant="italic">t</mi><mo>&gt;</mo><mn>0</mn></mrow></math></span>. Since the PDE has a closed-form series solution for <span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="inline"><mrow><mi mathvariant="italic">u</mi><mrow><mo>(</mo><mrow><mi mathvariant="italic">x</mi><mo>,</mo><mi mathvariant="italic">t</mi></mrow><mo>)</mo></mrow></mrow></math></span>, you can calculate the emitter discharge current analytically as well as numerically, and compare the results. </p><p>To solve this problem in MATLAB&#174;, you need to code the PDE equation, initial conditions, and boundary conditions, then select a suitable solution mesh before calling the solver <code class="literal">pdepe</code>. You either can include the required functions as local functions at the end of a file (as done here), or save them as separate, named files in a directory on the MATLAB path.</p><div class="procedure"><h3 class="title" id="SolveTransistorPDEExample-1">Define Physical Constants</h3><p>To keep track of the physical constants, create a structure array with fields for each one. When you later define functions for the equations, the initial condition, and the boundary conditions, you can pass in this structure as an extra argument so that the functions have access to the constants.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>C.L = 1;
C.D = 0.1;
C.eta = 10;
C.K = 1;
C.Ip = 1;</pre></div></div></div><h3 class="title" id="SolveTransistorPDEExample-2">Code Equation</h3><p>Before you can code the equation, you need to make sure that it is in the form that the <code class="literal">pdepe</code> solver expects:</p><p></p>
<div class="code_responsive"><p class="programlistingindent"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="block"><mrow><mi mathvariant="italic">c</mi><mrow><mo>(</mo><mrow><mi mathvariant="italic">x</mi><mo>,</mo><mi mathvariant="italic">t</mi><mo>,</mo><mi mathvariant="italic">u</mi><mo>,</mo><mfrac><mrow><mo>∂</mo><mi mathvariant="italic">u</mi></mrow><mrow><mo>∂</mo><mi mathvariant="italic">x</mi></mrow></mfrac></mrow><mo>)</mo></mrow><mfrac><mrow><mo>∂</mo><mi mathvariant="italic">u</mi></mrow><mrow><mo>∂</mo><mi mathvariant="italic">t</mi></mrow></mfrac><mo>=</mo><msup><mrow><mi mathvariant="italic">x</mi></mrow><mrow><mo>-</mo><mi mathvariant="italic">m</mi></mrow></msup><mfrac><mrow><mo>∂</mo></mrow><mrow><mo>∂</mo><mi mathvariant="italic">x</mi></mrow></mfrac><mrow><mo>(</mo><mrow><msup><mrow><mi mathvariant="italic">x</mi></mrow><mrow><mi mathvariant="italic">m</mi></mrow></msup><mi mathvariant="italic">f</mi><mrow><mo>(</mo><mrow><mi mathvariant="italic">x</mi><mo>,</mo><mi mathvariant="italic">t</mi><mo>,</mo><mi mathvariant="italic">u</mi><mo>,</mo><mfrac><mrow><mo>∂</mo><mi mathvariant="italic">u</mi></mrow><mrow><mo>∂</mo><mi mathvariant="italic">x</mi></mrow></mfrac></mrow><mo>)</mo></mrow></mrow><mo>)</mo></mrow><mo>+</mo><mi mathvariant="italic">s</mi><mrow><mo>(</mo><mrow><mi mathvariant="italic">x</mi><mo>,</mo><mi mathvariant="italic">t</mi><mo>,</mo><mi mathvariant="italic">u</mi><mo>,</mo><mfrac><mrow><mo>∂</mo><mi mathvariant="italic">u</mi></mrow><mrow><mo>∂</mo><mi mathvariant="italic">x</mi></mrow></mfrac></mrow><mo>)</mo></mrow><mo>.</mo></mrow></math></p></div><p></p><p>In this form, the PDE is</p><p></p>
<div class="code_responsive"><p class="programlistingindent"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="block"><mrow><mfrac><mrow><mo>∂</mo><mi mathvariant="italic">u</mi></mrow><mrow><mo>∂</mo><mi mathvariant="italic">t</mi></mrow></mfrac><mo>=</mo><msup><mrow><mi mathvariant="italic">x</mi></mrow><mrow><mn>0</mn></mrow></msup><mtext> </mtext><mfrac><mrow><mo>∂</mo></mrow><mrow><mo>∂</mo><mi mathvariant="italic">x</mi></mrow></mfrac><mrow><mo>(</mo><mrow><msup><mrow><mi mathvariant="italic">x</mi></mrow><mrow><mn>0</mn></mrow></msup><mtext> </mtext><mi mathvariant="italic">D</mi><mfrac><mrow><mo>∂</mo><mi mathvariant="italic">u</mi></mrow><mrow><mo>∂</mo><mi mathvariant="italic">x</mi></mrow></mfrac></mrow><mo>)</mo></mrow><mo>-</mo><mfrac><mrow><mi mathvariant="italic">D</mi><mi>η</mi></mrow><mrow><mi mathvariant="italic">L</mi></mrow></mfrac><mfrac><mrow><mo>∂</mo><mi mathvariant="italic">u</mi></mrow><mrow><mo>∂</mo><mi mathvariant="italic">x</mi></mrow></mfrac><mo>.</mo></mrow></math></p></div><p></p><p>So the values of the coefficients in the equation are</p><div class="itemizedlist"><ul><li><p><span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="block"><mrow><mi mathvariant="italic">m</mi><mo>=</mo><mn>0</mn></mrow></math></span> (Cartesian coordinates with no angular symmetry)</p></li><li><p><span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="block"><mrow><mi mathvariant="italic">c</mi><mrow><mo>(</mo><mrow><mi mathvariant="italic">x</mi><mo>,</mo><mi mathvariant="italic">t</mi><mo>,</mo><mi mathvariant="italic">u</mi><mo>,</mo><mfrac><mrow><mo>∂</mo><mi mathvariant="italic">u</mi></mrow><mrow><mo>∂</mo><mi mathvariant="italic">x</mi></mrow></mfrac></mrow><mo>)</mo></mrow><mo>=</mo><mn>1</mn></mrow></math></span></p></li><li><p><span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="block"><mrow><mi mathvariant="italic">f</mi><mrow><mo>(</mo><mrow><mi mathvariant="italic">x</mi><mo>,</mo><mi mathvariant="italic">t</mi><mo>,</mo><mi mathvariant="italic">u</mi><mo>,</mo><mfrac><mrow><mo>∂</mo><mi mathvariant="italic">u</mi></mrow><mrow><mo>∂</mo><mi mathvariant="italic">x</mi></mrow></mfrac></mrow><mo>)</mo></mrow><mo>=</mo><mi mathvariant="italic">D</mi><mfrac><mrow><mo>∂</mo><mi mathvariant="italic">u</mi></mrow><mrow><mo>∂</mo><mi mathvariant="italic">x</mi></mrow></mfrac></mrow></math></span></p></li><li><p><span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="block"><mrow><mi mathvariant="italic">s</mi><mrow><mo>(</mo><mrow><mi mathvariant="italic">x</mi><mo>,</mo><mi mathvariant="italic">t</mi><mo>,</mo><mi mathvariant="italic">u</mi><mo>,</mo><mfrac><mrow><mo>∂</mo><mi mathvariant="italic">u</mi></mrow><mrow><mo>∂</mo><mi mathvariant="italic">x</mi></mrow></mfrac></mrow><mo>)</mo></mrow><mo>=</mo><mo>-</mo><mfrac><mrow><mi mathvariant="italic">D</mi><mi>η</mi></mrow><mrow><mi mathvariant="italic">L</mi></mrow></mfrac><mfrac><mrow><mo>∂</mo><mi mathvariant="italic">u</mi></mrow><mrow><mo>∂</mo><mi mathvariant="italic">x</mi></mrow></mfrac></mrow></math></span></p></li></ul></div><p>Now you can create a function to code the equation. The function should have the signature <code class="literal">[c,f,s] = transistorPDE(x,t,u,dudx,C)</code>:</p><div class="itemizedlist"><ul><li><p><code class="literal">x</code> is the independent spatial variable.</p></li><li><p><code class="literal">t</code> is the independent time variable.</p></li><li><p><code class="literal">u</code> is the dependent variable being differentiated with respect to <code class="literal">x</code> and <code class="literal">t</code>.</p></li><li><p><code class="literal">dudx</code> is the partial spatial derivative <span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="inline"><mrow><mo>∂</mo><mi mathvariant="italic">u</mi><mo>/</mo><mo>∂</mo><mi mathvariant="italic">x</mi></mrow></math></span>.</p></li><li><p><code class="literal">C</code> is an extra input containing the physical constants.</p></li><li><p>The outputs <code class="literal">c</code>, <code class="literal">f</code>, and <code class="literal">s</code> correspond to coefficients in the standard PDE equation form expected by <code class="literal">pdepe</code>. </p></li></ul></div><p>As a result, the equation in this example can be represented by the function:</p><div class="code_responsive"><pre id="d126e50700" class="programlisting"><span style="color:#0000FF">function</span> [c,f,s] = transistorPDE(x,t,u,dudx,C)
D = C.D;
eta = C.eta;
L = C.L;

c = 1;
f = D*dudx;
s = -(D*eta/L)*dudx;
<span style="color:#0000FF">end</span>
</pre></div><p>(Note: All functions are included as local functions at the end of the example.)</p><h3 class="title" id="SolveTransistorPDEExample-3">Code Initial Condition</h3><p>Next, write a function that returns the initial condition. The initial condition is applied at the first time value, and provides the value of <span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="inline"><mrow><mi mathvariant="italic">u</mi><mrow><mo>(</mo><mrow><mi mathvariant="italic">x</mi><mo>,</mo><msub><mrow><mi mathvariant="italic">t</mi></mrow><mrow><mn>0</mn></mrow></msub></mrow><mo>)</mo></mrow></mrow></math></span> for any value of <span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="inline"><mrow><mi mathvariant="italic">x</mi></mrow></math></span>. Use the function signature <code class="literal">u0 = transistorIC(x,C)</code> to write the function.</p><p>The initial condition is</p><p></p>
<div class="code_responsive"><p class="programlistingindent"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true"><mi mathvariant="italic">u</mi><mrow><mo>(</mo><mrow><mi mathvariant="italic">x</mi><mo>,</mo><mn>0</mn></mrow><mo>)</mo></mrow><mo>=</mo><mfrac><mrow><mi mathvariant="italic">K</mi><mtext> </mtext><mi mathvariant="italic">L</mi></mrow><mrow><mi mathvariant="italic">D</mi></mrow></mfrac><mrow><mo>(</mo><mrow><mfrac><mrow><mn>1</mn><mo>-</mo><msup><mrow><mi mathvariant="italic">e</mi></mrow><mrow><mo>-</mo><mi>η</mi><mrow><mo>(</mo><mrow><mn>1</mn><mo>-</mo><mi mathvariant="italic">x</mi><mo>/</mo><mi mathvariant="italic">L</mi></mrow><mo>)</mo></mrow></mrow></msup></mrow><mrow><mi>η</mi></mrow></mfrac></mrow><mo>)</mo></mrow><mo>.</mo></math></p></div><p></p><p>The corresponding function is</p><div class="code_responsive"><pre id="d126e50790" class="programlisting"><span style="color:#0000FF">function</span> u0 = transistorIC(x,C)
K = C.K;
L = C.L;
D = C.D;
eta = C.eta;

u0 = (K*L/D)*(1 - exp(-eta*(1 - x/L)))/eta;
<span style="color:#0000FF">end</span>
</pre></div><h3 class="title" id="SolveTransistorPDEExample-4">Code Boundary Conditions</h3><p>Now, write a function that evaluates the boundary conditions <span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="inline"><mrow><mi mathvariant="italic">u</mi><mrow><mo>(</mo><mrow><mn>0</mn><mo>,</mo><mi mathvariant="italic">t</mi></mrow><mo>)</mo></mrow><mo>=</mo><mi mathvariant="italic">u</mi><mrow><mo>(</mo><mrow><mn>1</mn><mo>,</mo><mi mathvariant="italic">t</mi></mrow><mo>)</mo></mrow><mo>=</mo><mn>0</mn></mrow></math></span>. For problems posed on the interval <span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="inline"><mrow><mi mathvariant="italic">a</mi><mo>≤</mo><mi mathvariant="italic">x</mi><mo>≤</mo><mi mathvariant="italic">b</mi></mrow></math></span>, the boundary conditions apply for all <span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="inline"><mrow><mi mathvariant="italic">t</mi></mrow></math></span> and either <span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="inline"><mrow><mi mathvariant="italic">x</mi><mo>=</mo><mi mathvariant="italic">a</mi></mrow></math></span> or <span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="inline"><mrow><mi mathvariant="italic">x</mi><mo>=</mo><mi mathvariant="italic">b</mi></mrow></math></span>. The standard form for the boundary conditions expected by the solver is</p><p></p>
<div class="code_responsive"><p class="programlistingindent"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="block"><mrow><mi mathvariant="italic">p</mi><mrow><mo>(</mo><mrow><mi mathvariant="italic">x</mi><mo>,</mo><mi mathvariant="italic">t</mi><mo>,</mo><mi mathvariant="italic">u</mi></mrow><mo>)</mo></mrow><mo>+</mo><mi mathvariant="italic">q</mi><mrow><mo>(</mo><mrow><mi mathvariant="italic">x</mi><mo>,</mo><mi mathvariant="italic">t</mi></mrow><mo>)</mo></mrow><mi mathvariant="italic">f</mi><mrow><mo>(</mo><mrow><mi mathvariant="italic">x</mi><mo>,</mo><mi mathvariant="italic">t</mi><mo>,</mo><mi mathvariant="italic">u</mi><mo>,</mo><mfrac><mrow><mo>∂</mo><mi mathvariant="italic">u</mi></mrow><mrow><mo>∂</mo><mi mathvariant="italic">x</mi></mrow></mfrac></mrow><mo>)</mo></mrow><mo>=</mo><mn>0</mn><mo>.</mo></mrow></math></p></div><p></p><p>Written in this form, the boundary conditions for this problem are</p><p>- For <span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="inline"><mrow><mi mathvariant="italic">x</mi><mo>=</mo><mn>0</mn></mrow></math></span>, the equation is  <span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="inline"><mrow><mi mathvariant="italic">u</mi><mo>+</mo><mn>0</mn><mo>⋅</mo><mi mathvariant="italic">d</mi><mfrac><mrow><mo>∂</mo><mi mathvariant="italic">u</mi></mrow><mrow><mo>∂</mo><mi mathvariant="italic">x</mi></mrow></mfrac><mo>=</mo><mn>0</mn><mo>.</mo></mrow></math></span> The coefficients are:</p><div class="itemizedlist"><ul><li><p><span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="block"><mrow><msub><mrow><mi mathvariant="italic">p</mi></mrow><mrow><mi mathvariant="italic">L</mi></mrow></msub><mrow><mo>(</mo><mrow><mi mathvariant="italic">x</mi><mo>,</mo><mi mathvariant="italic">t</mi><mo>,</mo><mi mathvariant="italic">u</mi></mrow><mo>)</mo></mrow><mo>=</mo><mi mathvariant="italic">u</mi><mo>,</mo></mrow></math></span></p></li><li><p><span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="block"><mrow><msub><mrow><mi mathvariant="italic">q</mi></mrow><mrow><mi mathvariant="italic">L</mi></mrow></msub><mrow><mo>(</mo><mrow><mi mathvariant="italic">x</mi><mo>,</mo><mi mathvariant="italic">t</mi></mrow><mo>)</mo></mrow><mo>=</mo><mn>0</mn><mo>.</mo></mrow></math></span></p></li></ul></div><p>- Likewise for <span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="inline"><mrow><mi mathvariant="italic">x</mi><mo>=</mo><mn>1</mn></mrow></math></span>, the equation is <span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="inline"><mrow><mi mathvariant="italic">u</mi><mo>+</mo><mn>0</mn><mo>⋅</mo><mi mathvariant="italic">d</mi><mfrac><mrow><mo>∂</mo><mi mathvariant="italic">u</mi></mrow><mrow><mo>∂</mo><mi mathvariant="italic">x</mi></mrow></mfrac><mo>=</mo><mn>0</mn><mo>.</mo></mrow></math></span> The coefficients are:</p><div class="itemizedlist"><ul><li><p><span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="block"><mrow><msub><mrow><mi mathvariant="italic">p</mi></mrow><mrow><mi mathvariant="italic">R</mi></mrow></msub><mrow><mo>(</mo><mrow><mi mathvariant="italic">x</mi><mo>,</mo><mi mathvariant="italic">t</mi><mo>,</mo><mi mathvariant="italic">u</mi></mrow><mo>)</mo></mrow><mo>=</mo><mi mathvariant="italic">u</mi><mo>,</mo></mrow></math></span></p></li><li><p><span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="block"><mrow><msub><mrow><mi mathvariant="italic">q</mi></mrow><mrow><mi mathvariant="italic">R</mi></mrow></msub><mrow><mo>(</mo><mrow><mi mathvariant="italic">x</mi><mo>,</mo><mi mathvariant="italic">t</mi></mrow><mo>)</mo></mrow><mo>=</mo><mn>0</mn><mo>.</mo></mrow></math></span></p></li></ul></div><p>The boundary function should use the function signature <code class="literal">[pl,ql,pr,qr] = transistorBC(xl,ul,xr,ur,t)</code>:</p><div class="itemizedlist"><ul><li><p>The inputs x<code class="literal">l</code> and u<code class="literal">l</code> correspond to <span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="inline"><mrow><mi mathvariant="italic">x</mi></mrow></math></span> and <span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="inline"><mrow><mi mathvariant="italic">u</mi></mrow></math></span> for the left boundary.</p></li><li><p>The inputs <code class="literal">xr</code> and <code class="literal">ur</code> correspond to <span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="inline"><mrow><mi mathvariant="italic">x</mi></mrow></math></span> and <span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="inline"><mrow><mi mathvariant="italic">u</mi></mrow></math></span> for the right boundary.</p></li><li><p><code class="literal">t</code> is the independent time variable.</p></li><li><p>The outputs <code class="literal">pl</code> and <code class="literal">ql</code> correspond to <span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="inline"><mrow><msub><mrow><mi mathvariant="italic">p</mi></mrow><mrow><mi mathvariant="italic">L</mi></mrow></msub><mrow><mo>(</mo><mrow><mi mathvariant="italic">x</mi><mo>,</mo><mi mathvariant="italic">t</mi><mo>,</mo><mi mathvariant="italic">u</mi></mrow><mo>)</mo></mrow></mrow></math></span> and <span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="inline"><mrow><msub><mrow><mi mathvariant="italic">q</mi></mrow><mrow><mi mathvariant="italic">L</mi></mrow></msub><mrow><mo>(</mo><mrow><mi mathvariant="italic">x</mi><mo>,</mo><mi mathvariant="italic">t</mi></mrow><mo>)</mo></mrow></mrow></math></span> for the left boundary (<span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="inline"><mrow><mi mathvariant="italic">x</mi><mo>=</mo><mn>0</mn></mrow></math></span> for this problem).</p></li><li><p>The outputs <code class="literal">pr</code> and <code class="literal">qr</code> correspond to <span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="inline"><mrow><msub><mrow><mi mathvariant="italic">p</mi></mrow><mrow><mi mathvariant="italic">R</mi></mrow></msub><mrow><mo>(</mo><mrow><mi mathvariant="italic">x</mi><mo>,</mo><mi mathvariant="italic">t</mi><mo>,</mo><mi mathvariant="italic">u</mi></mrow><mo>)</mo></mrow></mrow></math></span> and <span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="inline"><mrow><msub><mrow><mi mathvariant="italic">q</mi></mrow><mrow><mi mathvariant="italic">R</mi></mrow></msub><mrow><mo>(</mo><mrow><mi mathvariant="italic">x</mi><mo>,</mo><mi mathvariant="italic">t</mi></mrow><mo>)</mo></mrow></mrow></math></span> for the right boundary (<span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="inline"><mrow><mi mathvariant="italic">x</mi><mo>=</mo><mn>1</mn></mrow></math></span> for this problem).</p></li></ul></div><p>The boundary conditions in this example are represented by the function:</p><div class="code_responsive"><pre id="d126e51254" class="programlisting"><span style="color:#0000FF">function</span> [pl,ql,pr,qr] = transistorBC(xl,ul,xr,ur,t)
pl = ul;
ql = 0;
pr = ur;
qr = 0;
<span style="color:#0000FF">end</span>
</pre></div><h3 class="title" id="SolveTransistorPDEExample-5">Select Solution Mesh</h3><p>The solution mesh defines the values of <span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="inline"><mrow><mi mathvariant="italic">x</mi></mrow></math></span> and <span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="inline"><mrow><mi mathvariant="italic">t</mi></mrow></math></span> where the solution is evaluated by the solver. Since the solution to this problem changes rapidly, use a relatively fine mesh of 50 spatial points in the interval <span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="inline"><mrow><mn>0</mn><mo>≤</mo><mi mathvariant="italic">x</mi><mo>≤</mo><mi mathvariant="italic">L</mi></mrow></math></span> and 50 time points in the interval <span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="inline"><mrow><mn>0</mn><mo>≤</mo><mi mathvariant="italic">t</mi><mo>≤</mo><mn>1</mn></mrow></math></span>.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>x = linspace(0,C.L,50);
t = linspace(0,1,50);</pre></div></div></div><h3 class="title" id="SolveTransistorPDEExample-6">Solve Equation</h3><p>Finally, solve the equation using the symmetry <span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="inline"><mrow><mi mathvariant="italic">m</mi></mrow></math></span>, the PDE equation, the initial condition, the boundary conditions, and the meshes for <span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="inline"><mrow><mi mathvariant="italic">x</mi></mrow></math></span> and <span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="inline"><mrow><mi mathvariant="italic">t</mi></mrow></math></span>. Since <code class="literal">pdepe</code> expects the PDE function to use four inputs and the initial condition function to use one input, create function handles that pass in the structure of physical constants as an extra input.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>m = 0;
eqn = @(x,t,u,dudx) transistorPDE(x,t,u,dudx,C);
ic = @(x) transistorIC(x,C);
sol = pdepe(m,eqn,ic,@transistorBC,x,t);</pre></div></div></div><p><code class="literal">pdepe</code> returns the solution in a 3-D array <code class="literal">sol</code>, where <code class="literal">sol(i,j,k)</code> approximates the <code class="literal">k</code>th component of the solution <span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="inline"><mrow><msub><mrow><mi mathvariant="italic">u</mi></mrow><mrow><mi mathvariant="italic">k</mi></mrow></msub></mrow></math></span> evaluated at <code class="literal">t(i)</code> and <code class="literal">x(j)</code>. For this problem <code class="literal">u</code> has only one component, but in general you can extract the <code class="literal">k</code>th solution component with the command <code class="literal">u = sol(:,:,k)</code>.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>u = sol(:,:,1);</pre></div></div></div><h3 class="title" id="SolveTransistorPDEExample-7">Plot Solution</h3><p>Create a surface plot of the solution <span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="inline"><mrow><mi mathvariant="italic">u</mi></mrow></math></span> plotted at the selected mesh points for <span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="inline"><mrow><mi mathvariant="italic">x</mi></mrow></math></span> and <span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="inline"><mrow><mi mathvariant="italic">t</mi></mrow></math></span>.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>surf(x,t,u)
title(<span style="color:#A020F0">'Numerical Solution (50 mesh points)'</span>)
xlabel(<span style="color:#A020F0">'Distance x'</span>)
ylabel(<span style="color:#A020F0">'Time t'</span>)
zlabel(<span style="color:#A020F0">'Solution u(x,t)'</span>)</pre></div></div></div><div class="informalfigure"><div id="d126e51379" class="mediaobject"><p><img src="../../examples/matlab/win64/SolveTransistorPDEExample_01.png" alt="Figure contains an axes object. The axes object with title Numerical Solution (50 mesh points), xlabel Distance x, ylabel Time t contains an object of type surface." width="560"></p></div></div><p>Now, plot just <span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="inline"><mrow><mi mathvariant="italic">x</mi></mrow></math></span> and <span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="inline"><mrow><mi mathvariant="italic">u</mi></mrow></math></span> to get a side view of the contours in the surface plot.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>plot(x,u)
xlabel(<span style="color:#A020F0">'Distance x'</span>)
ylabel(<span style="color:#A020F0">'Solution u(x,t)'</span>)
title(<span style="color:#A020F0">'Solution profiles at several times'</span>)</pre></div></div></div><div class="informalfigure"><div id="d126e51400" class="mediaobject"><p><img src="../../examples/matlab/win64/SolveTransistorPDEExample_02.png" alt="Figure contains an axes object. The axes object with title Solution profiles at several times, xlabel Distance x, ylabel Solution u(x,t) contains 50 objects of type line." width="560"></p></div></div><h3 class="title" id="SolveTransistorPDEExample-8">Compute Emitter Discharge Current</h3><p>Using a series solution for <span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="inline"><mrow><mi mathvariant="italic">u</mi><mrow><mo>(</mo><mrow><mi mathvariant="italic">x</mi><mo>,</mo><mi mathvariant="italic">t</mi></mrow><mo>)</mo></mrow></mrow></math></span>, the emitter discharge current can be expressed as the infinite series [1]:</p><p></p>
<div class="code_responsive"><p class="programlistingindent"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="block"><mrow><mi mathvariant="italic">I</mi><mrow><mo>(</mo><mrow><mi mathvariant="italic">t</mi></mrow><mo>)</mo></mrow><mo>=</mo><mn>2</mn><msup><mrow><mi>π</mi></mrow><mrow><mn>2</mn></mrow></msup><msub><mrow><mi mathvariant="italic">I</mi></mrow><mrow><mi mathvariant="italic">p</mi></mrow></msub><mrow><mo>(</mo><mrow><mfrac><mrow><mn>1</mn><mo>-</mo><msup><mrow><mi mathvariant="italic">e</mi></mrow><mrow><mo>-</mo><mi>η</mi></mrow></msup></mrow><mrow><mi>η</mi></mrow></mfrac></mrow><mo>)</mo></mrow><mrow><munderover accent="false" accentunder="false"><mrow><mo>∑</mo></mrow><mrow><mi mathvariant="italic">n</mi><mo>=</mo><mn>1</mn></mrow><mrow><mo>&#8734;</mo></mrow></munderover><mrow><mfrac><mrow><msup><mrow><mi mathvariant="italic">n</mi></mrow><mrow><mn>2</mn></mrow></msup></mrow><mrow><msup><mrow><mi mathvariant="italic">n</mi></mrow><mrow><mn>2</mn></mrow></msup><msup><mrow><mi>π</mi></mrow><mrow><mn>2</mn></mrow></msup><mo>+</mo><msup><mrow><mi>η</mi></mrow><mrow><mn>2</mn></mrow></msup><mo>/</mo><mn>4</mn></mrow></mfrac><msup><mrow><mi mathvariant="italic">e</mi></mrow><mrow><mo>-</mo><mfrac><mrow><mi mathvariant="italic">dt</mi></mrow><mrow><msup><mrow><mi mathvariant="italic">L</mi></mrow><mrow><mn>2</mn></mrow></msup></mrow></mfrac><mrow><mo>(</mo><mrow><msup><mrow><mi mathvariant="italic">n</mi></mrow><mrow><mn>2</mn></mrow></msup><msup><mrow><mi>π</mi></mrow><mrow><mn>2</mn></mrow></msup><mo>+</mo><msup><mrow><mi>η</mi></mrow><mrow><mn>2</mn></mrow></msup><mo>/</mo><mn>4</mn></mrow><mo>)</mo></mrow></mrow></msup><mo>.</mo></mrow></mrow></mrow></math></p></div><p></p><p>Write a function to calculate the analytic solution for <span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="inline"><mrow><mi mathvariant="italic">I</mi><mrow><mo>(</mo><mrow><mi mathvariant="italic">t</mi></mrow><mo>)</mo></mrow></mrow></math></span> using 40 terms in the series. The only variable is time, but specify a second input to the function for the structure of constants.</p><div class="code_responsive"><pre id="d126e51561" class="programlisting"><span style="color:#0000FF">function</span> It = serex3(t,C) <span style="color:#228B22">% Approximate I(t) by series expansion.</span>
Ip = C.Ip;
eta = C.eta;
D = C.D;
L = C.L;

It = 0;
<span style="color:#0000FF">for</span> n = 1:40 <span style="color:#228B22">% Use 40 terms</span>
  m = (n*pi)^2 + 0.25*eta^2;
  It = It + ((n*pi)^2 / m)* exp(-(D/L^2)*m*t);
<span style="color:#0000FF">end</span>
It = 2*Ip*((1 - exp(-eta))/eta)*It;
<span style="color:#0000FF">end</span>
</pre></div><p>Using the numeric solution for <span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="inline"><mrow><mi mathvariant="italic">u</mi><mrow><mo>(</mo><mrow><mi mathvariant="italic">x</mi><mo>,</mo><mi mathvariant="italic">t</mi></mrow><mo>)</mo></mrow></mrow></math></span> as computed by <code class="literal">pdepe</code>, you can also calculate the numeric approximation for <span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="inline"><mrow><mi mathvariant="italic">I</mi><mrow><mo>(</mo><mrow><mi mathvariant="italic">t</mi></mrow><mo>)</mo></mrow></mrow></math></span> at <span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="inline"><mrow><mi mathvariant="italic">x</mi><mo>=</mo><mn>0</mn></mrow></math></span> with</p><p></p>
<div class="code_responsive"><p class="programlistingindent"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="block"><mrow><mi mathvariant="italic">I</mi><mrow><mo>(</mo><mrow><mi mathvariant="italic">t</mi></mrow><mo>)</mo></mrow><mo>=</mo><msub><mrow><mrow><mo>[</mo><mrow><mfrac><mrow><msub><mrow><mi mathvariant="italic">I</mi></mrow><mrow><mi mathvariant="italic">p</mi></mrow></msub><mi mathvariant="italic">D</mi></mrow><mrow><mi mathvariant="italic">K</mi></mrow></mfrac><mfrac><mrow><mo>∂</mo></mrow><mrow><mo>∂</mo><mi mathvariant="italic">x</mi></mrow></mfrac><mi mathvariant="italic">u</mi><mrow><mo>(</mo><mrow><mi mathvariant="italic">x</mi><mo>,</mo><mi mathvariant="italic">t</mi></mrow><mo>)</mo></mrow></mrow><mo>]</mo></mrow></mrow><mrow><mi mathvariant="italic">x</mi><mo>=</mo><mn>0</mn></mrow></msub><mo>.</mo></mrow></math></p></div><p></p><p>Calculate the analytic and numeric solutions for <span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="inline"><mrow><mi mathvariant="italic">I</mi><mrow><mo>(</mo><mrow><mi mathvariant="italic">t</mi></mrow><mo>)</mo></mrow></mrow></math></span> and plot the results. Use <code class="literal">pdeval</code> to compute the value of <span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="inline"><mrow><mo>∂</mo><mi mathvariant="italic">u</mi><mo>/</mo><mo>∂</mo><mi mathvariant="italic">x</mi></mrow></math></span> at <span class="inlineequation"><math xmlns="http://www.w3.org/1998/Math/MathML" xmlns:mwmmlx="https://www.mathworks.com/namespace/MathMLextensions" mwmmlx:extension="true" display="inline"><mrow><mi mathvariant="italic">x</mi><mo>=</mo><mn>0</mn></mrow></math></span>.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>nt = length(t);
I = zeros(1,nt);
seriesI = zeros(1,nt);
iok = 2:nt;
<span style="color:#0000FF">for</span> j = iok
   <span style="color:#228B22">% At time t(j), compute du/dx at x = 0.</span>
   [~,I(j)] = pdeval(m,x,u(j,:),0);
   seriesI(j) = serex3(t(j),C);
<span style="color:#0000FF">end</span>
<span style="color:#228B22">% Numeric solution has form I(t) = (I_p*D/K)*du(0,t)/dx</span>
I = (C.Ip*C.D/C.K)*I;

plot(t(iok),I(iok),<span style="color:#A020F0">'o'</span>,t(iok),seriesI(iok))
legend(<span style="color:#A020F0">'From PDEPE + PDEVAL'</span>,<span style="color:#A020F0">'From series'</span>)
title(<span style="color:#A020F0">'Emitter discharge current I(t)'</span>)
xlabel(<span style="color:#A020F0">'Time t'</span>)</pre></div></div></div><div class="informalfigure"><div id="d126e51697" class="mediaobject"><p><img src="../../examples/matlab/win64/SolveTransistorPDEExample_03.png" alt="Figure contains an axes object. The axes object with title Emitter discharge current I(t), xlabel Time t contains 2 objects of type line. One or more of the lines displays its values using only markers These objects represent From PDEPE + PDEVAL, From series." width="560"></p></div></div><p>The results match reasonably well. You can further improve the numeric result from <code class="literal">pdepe</code> by using a finer solution mesh.</p><h3 class="title" id="SolveTransistorPDEExample-9">Local Functions</h3><p>Listed here are the local helper functions that the PDE solver <code class="literal">pdepe</code> calls to calculate the solution. Alternatively, you can save these functions as their own files in a directory on the MATLAB path.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#0000FF">function</span> [c,f,s] = transistorPDE(x,t,u,dudx,C) <span style="color:#228B22">% Equation to solve</span>
D = C.D;
eta = C.eta;
L = C.L;

c = 1;
f = D*dudx;
s = -(D*eta/L)*dudx;
<span style="color:#0000FF">end</span>
<span style="color:#228B22">% ----------------------------------------------------</span>
<span style="color:#0000FF">function</span> u0 = transistorIC(x,C) <span style="color:#228B22">% Initial condition</span>
K = C.K;
L = C.L;
D = C.D;
eta = C.eta;

u0 = (K*L/D)*(1 - exp(-eta*(1 - x/L)))/eta;
<span style="color:#0000FF">end</span>
<span style="color:#228B22">% ----------------------------------------------------</span>
<span style="color:#0000FF">function</span> [pl,ql,pr,qr] = transistorBC(xl,ul,xr,ur,t) <span style="color:#228B22">% Boundary conditions</span>
pl = ul;
ql = 0;
pr = ur;
qr = 0;
<span style="color:#0000FF">end</span>
<span style="color:#228B22">% ----------------------------------------------------</span>
<span style="color:#0000FF">function</span> It = serex3(t,C) <span style="color:#228B22">% Approximate I(t) by series expansion.</span>
Ip = C.Ip;
eta = C.eta;
D = C.D;
L = C.L;

It = 0;
<span style="color:#0000FF">for</span> n = 1:40 <span style="color:#228B22">% Use 40 terms</span>
  m = (n*pi)^2 + 0.25*eta^2;
  It = It + ((n*pi)^2 / m)* exp(-(D/L^2)*m*t);
<span style="color:#0000FF">end</span>
It = 2*Ip*((1 - exp(-eta))/eta)*It;
<span style="color:#0000FF">end</span>
<span style="color:#228B22">% ----------------------------------------------------</span></pre></div></div></div><h3 class="title" id="SolveTransistorPDEExample-10">References</h3><p>[1] Zachmanoglou, E.C. and D.L. Thoe. <span class="emphasis"><em>Introduction to Partial Differential Equations with Applications.</em></span> Dover, New York, 1986.</p></div>
            <h2 id="d126e51722">See Also</h2><p><span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/pdepe.html"><span itemprop="name"><code class="function">pdepe</code></span></a></span></p>
            <h3 id="d126e51728">Topics</h3><ul class="list-unstyled"><li><a href="partial-differential-equations.html" class="a">Solving Partial Differential Equations</a></li><li><a href="solve-system-of-pdes.html" class="a">Solve System of PDEs</a></li></ul>
            
        </section>
    </div></section><div xmlns="http://www.w3.org/1999/xhtml" class="clearfix"></div>
<div xmlns="http://www.w3.org/1999/xhtml" align="center" class="feedbackblock" id="mw_docsurvey"><script src="https://www.mathworks.com/help/docsurvey/docfeedback.js"></script>
<script>loadSurveyHidden();</script>
<link rel="stylesheet" href="https://www.mathworks.com/help/docsurvey/release/index-css.css" type="text/css">
<script src="https://www.mathworks.com/help/docsurvey/release/bundle.index.js"></script>

<script>initDocSurvey();</script></div></main>


</div>
</div>
</div>
</div><!--close_0960-->
<footer xmlns="http://www.w3.org/1999/xhtml" id="footer" class="bs-footer">
<div class="container-fluid">
<div class="footer">
<div class="row">
<div class="col-12">
<p class="copyright">© 1994-2025 The MathWorks, Inc.</p>
<ul class="footernav"><li class="footernav_help"><a href="matlab:web(matlab.internal.licenseAgreement)">Terms of Use</a></li><li class="footernav_patents"><a href="matlab:web([matlabroot '/patents.txt'])">Patents</a></li><li class="footernav_trademarks"><a href="matlab:web([matlabroot '/trademarks.txt'])">Trademarks</a></li><li class="footernav_piracy"><a href="matlab:web([docroot '/acknowledgments.html'])">Acknowledgments</a></li></ul></div>
</div>
</div>
</div>
</footer>
</div><!--close row-offcanvas-->
</div><!--close_0970-->
</body>
</html>
