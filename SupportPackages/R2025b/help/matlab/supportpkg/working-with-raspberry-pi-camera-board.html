<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage">
<head>
<meta xmlns="http://www.w3.org/1999/xhtml" charset="utf-8">
<meta xmlns="http://www.w3.org/1999/xhtml" name="viewport" content="width=device-width, initial-scale=1.0">
<meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="X-UA-Compatible" content="IE=edge">
<title>Working with Raspberry Pi Camera Board</title>
<script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
      {
      "@context": "http://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement":
      [{
          "@type": "ListItem",
          "position": 1,

          "item": {
          "@id": "../index.html",
          "name": "MATLAB"
}

          } 
        ,
        {
          "@type": "ListItem",
          "position": 2,

          "item": {
          "@id": "../data-import-and-analysis.html",
          "name": "Data Import and Analysis"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 3,

          "item": {
          "@id": "../data-import-and-export.html",
          "name": "Data Import and Export"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 4,

          "item": {
          "@id": "../hardware-network-comm.html",
          "name": "Hardware and Network Communication"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 5,

          "item": {
          "@id": "../hardware-boards-and-kits.html",
          "name": "Hardware Boards and Kits"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 6,

          "item": {
          "@id": "../raspberrypiio.html",
          "name": "Raspberry Pi Hardware"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 7,

          "item": {
          "@id": "../raspberrypiio-camera-board.html",
          "name": "Camera Board"
}

          }]
      }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "VisibleBreadcrumbs",

        "itemListElement":
        [
        "raspberrypiio-camera-board"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "DigitalDocument",
          "headline": "Working with Raspberry Pi Camera Board",
          "description": "Capture and process images from Raspberry Pi&#174; Camera Board module using the MATLAB&#174; Support Package for Raspberry Pi Hardware.",
          "thumbnailURL": "../../examples/raspberrypiio/win64/xxroi_diagram.png",
          "genre": "Script",
          "isBasedOn": {
          "@type": "Product",
          "name": "MATLAB"

        },
          "identifier": "raspberrypiio.WorkingWithRaspberryPiCameraBoardExample",
          "name": "WorkingWithRaspberryPiCameraBoardExample",
          "url": "working-with-raspberry-pi-camera-board.html"

        }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "PropertyValue",
          "name": "open_command",
          "value": "matlab:openExample('raspberrypiio/WorkingWithRaspberryPiCameraBoardExample')"

        }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "ExampleSourceFiles",

        "itemListElement":
        [
        "WorkingWithRaspberryPiCameraBoardExample.m",
        "camera_board_connection.png",
        "roi_diagram.png"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/bootstrap.min.css" rel="stylesheet" type="text/css">


  <meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="Content-Script-Type" content="text/javascript">
<meta xmlns="http://www.w3.org/1999/xhtml" name="toctype" itemprop="pagetype" content="fe">
<meta xmlns="http://www.w3.org/1999/xhtml" name="infotype" itemprop="infotype" content="ex">

<meta xmlns="http://www.w3.org/1999/xhtml" name="description" itemprop="description" content="This example shows you how to capture and process images from Raspberry Pi&#174; Camera Board module using the MATLAB&#174; Support Package for Raspberry Pi Hardware."><meta xmlns="http://www.w3.org/1999/xhtml" content="../../examples/raspberrypiio/win64/xxroi_diagram.png" itemprop="thumbnailUrl">
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-3.6.0.min.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-migrate.min.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_lg.css" rel="stylesheet" media="screen and (min-width: 1200px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_md.css" rel="stylesheet" media="screen and (min-width: 992px) and (max-width: 1199px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm+xs.css" rel="stylesheet" media="screen and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm.css" rel="stylesheet" media="screen and (min-width: 768px) and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_xs.css" rel="stylesheet" media="screen and (max-width: 767px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_offcanvas_v2.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/shared/highlight/styles/mwdochighlight.min.css" rel="stylesheet" type="text/css">

<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/l10n.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/f1help.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/mw.imageanimation.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/jquery.highlight.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/underscore-min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/use_platform_screenshots.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/suggest.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/overload.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/helpservices.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/productfilter.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/matlab_dialog_shared.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/highlight/highlight.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/localstorage.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/product_group.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/saxonjs/SaxonJS2.rt.js"></script><script xmlns="http://www.w3.org/1999/xhtml">
            window.history.replaceState(window.location.href, null, ""); // Initialize
            window.onload = function() {    
            mystylesheetLocation = "../../includes/shared/scripts/product_group-sef.json";
            mysourceLocation = "../../docset/docset.xml";
            product_help_location = "matlab";
            pagetype = "section";
            doccentertype = "product";
            langcode = "";
            getProductFilteredList(mystylesheetLocation, mysourceLocation, product_help_location, pagetype, doccentertype, langcode);  
            }
          </script>




<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery.mobile.custom.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/bootstrap.bundle.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/global.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_base.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_installed.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_print.css" rel="stylesheet" type="text/css" media="print">
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/equationrenderer/release/MathRenderer.js"></script>
</head>
<body id="responsive_offcanvas">
<div xmlns="http://www.w3.org/1999/xhtml" id="doc_header_spacer" class="header"></div>
<div xmlns="http://www.w3.org/1999/xhtml" class="section_header level_3"><div class="container-fluid"><div class="row" id="mobile_search_row"><div class="col-sm-6 col-md-7 has_horizontal_local_nav" id="section_header_title"><div class="section_header_content"><div class="section_header_title"><h1><a href="../../documentation-center.html">Help Center</a></h1></div></div></div><div class="col-12 col-sm-6 col-md-5" id="mobile_search"><div class="search_nested_content_container"><form id="docsearch_form" name="docsearch_form" method="get" data-release="R2025b" data-language="en" action="../../templates/searchresults.html"><div class="input-group tokenized_search_field"><label class="visually-hidden form-label">Search Help</label><input type="text" class="form-control conjoined_search" autocomplete="off" name="qdoc" placeholder="Search Help" id="docsearch"> <div><button type="submit" name="submitsearch" id="submitsearch" class="btn icon-search btn_search_adjacent btn_search icon_16" tabindex="-1"></button></div></div></form></div><button class="btn icon-remove btn_search float-end icon_32 d-sm-none" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div><div class="d-sm-none" id="search_actuator"><button class="btn icon-search btn_search float-end icon_16" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div></div></div></div><div class="row-offcanvas row-offcanvas-left">
<div xmlns="http://www.w3.org/1999/xhtml" class="sidebar-offcanvas" id="sidebar">
<nav class="offcanvas_nav" role="navigation">
<div class="offcanvas_actuator" data-bs-toggle="offcanvas" data-bs-target="#sidebar" id="nav_toggle"><button type="button" class="btn"><span class="visually-hidden">Off-Canvas Navigation Menu Toggle
                  Off-Canvas Navigation Menu Toggle</span><span class="icon-menu"></span></button><span class="offcanvas_actuator_label" id="translation_icon-menu" tabindex="-1" aria-hidden="true"></span></div><div class="nav_list_wrapper" id="nav_list_wrapper"><nav class="offcanvas_nav" role="navigation"><ul class="nav_breadcrumb" id="ul_left_nav_ancestors"><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../../documentation-center.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Documentation Home</span></a></li></ul>
<ul class="nav_disambiguation"><li><a href="../index.html?s_tid=CRUX_lftnav" id="index">MATLAB</a>
</li>
<li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../data-import-and-analysis.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Data Import and Analysis</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../data-import-and-export.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Data Import and Export</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../hardware-network-comm.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Hardware and Network Communication</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../hardware-boards-and-kits.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Hardware Boards and Kits</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../raspberrypiio.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Raspberry Pi Hardware</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../raspberrypiio-camera-board.html?s_tid=CRUX_lftnav" itemprop="url" id="mw_940c9ffb-0b25-422a-a3e3-e0141819ce71"><span itemprop="title">Camera Board</span></a></li></ul><div class="search_refine_v4"><div id="facets_area"><ul class="nav_scrollspy nav list-unstyled" id="pnav">
<li class="nav_scrollspy_function nav-item"><a href="#responsive_offcanvas">Working with Raspberry Pi Camera Board</a></li>
<li class="nav_scrollspy_title nav-item" id="SSPY810-section">On this page</li>
<!--ADD_REFENTRY_TITLE_HERE 11--><li class="nav-item"><a href="#d126e118761" class="nav-link intrnllnk">Introduction</a></li><li class="nav-item"><a href="#d126e118771" class="nav-link intrnllnk">Prerequisites</a></li><li class="nav-item"><a href="#d126e118781" class="nav-link intrnllnk">Required Hardware</a></li><li class="nav-item"><a href="#d126e118793" class="nav-link intrnllnk">Connect Camera Board</a></li><li class="nav-item"><a href="#d126e118805" class="nav-link intrnllnk">Create a Camera Board Object</a></li><li class="nav-item"><a href="#d126e118815" class="nav-link intrnllnk">Inspect Object Properties</a></li><li class="nav-item"><a href="#d126e118828" class="nav-link intrnllnk">Image Effects</a></li><li class="nav-item"><a href="#d126e118841" class="nav-link intrnllnk">Digital Zoom</a></li><li class="nav-item"><a href="#d126e118856" class="nav-link intrnllnk">Record Video</a></li></ul></div></div>
</nav></div></nav>
<script src="../../includes/product/scripts/offcanvas_v2.js"></script></div><!--END.CLASS sidebar-offcanvas-->
<div class="offcanvas_content_container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sticky_header_container"><div class="horizontal_nav"><div class="horizontal_nav_container"><div class="offcanvas_horizontal_nav"><div class="container-fluid"><div class="row"><div class="col-sm-12 d-none d-sm-block"><nav class="navbar navbar-default" role="navigation" id="subnav"><div><ul class="nav navbar-nav crux_browse"><li id="crux_nav_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_example" class="crux_resource"><a href="../examples.html?category=raspberrypiio-camera-board&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=raspberrypiio-camera-board&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=raspberrypiio-camera-board&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></nav></div><div class="d-sm-none"><div class="container-fluid"><div class="row"><div class="col-9"><div class="mobile_crux_nav_trigger"><div class="btn-group"><button type="button" class="btn btn-default dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Resources</button><ul class="dropdown-menu"><li id="crux_nav_mobile_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_mobile_example" class="crux_resource"><a href="../examples.html?category=raspberrypiio-camera-board&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_mobile_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=raspberrypiio-camera-board&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_mobile_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=raspberrypiio-camera-board&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></div></div><div class="col-3"><div class="translate_placeholder"></div></div></div></div></div></div></div></div></div></div></div><div class="content_container" id="content_container" itemprop="content">
<div class="container-fluid">
<div class="row">
<div class="col-12">

<main id="skip_link_anchor" tabindex="-1">
<div xmlns="http://www.w3.org/1999/xhtml" id="product_info_alert"></div><section xmlns="http://www.w3.org/1999/xhtml" id="doc_center_content" lang="en" data-language="en"><div id="pgtype-example">
<section><div class="example_icon"></div><h1 class="r2025b" itemprop="title content" id="example-raspi_working_with_camera_board">Working with Raspberry Pi Camera Board</h1><div class="examples_short_list hidden_ios_android" data-products="ML RASPPIIO"><div data-pane="metadata" class="card metadata_container"><div class="card-body metadata_content"><p class="add_margin_5">This example uses:</p><ul class="list-unstyled add_border_bottom example_product_list" itemprop="requiredprods"><li><a href="matlab:matlab.internal.addons.showAddon('RASPPIIO')">MATLAB Support Package for Raspberry Pi Hardware</a></li></ul><div class="d-grid"><a class="btn btn_color_blue" href="matlab:openExample('raspberrypiio/WorkingWithRaspberryPiCameraBoardExample')" data-ex-genre="Script">Open Script</a></div></div></div></div><div itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/Example" itemprop="example" class="em_example"><meta itemprop="exampleid" content="raspberrypiio-WorkingWithRaspberryPiCameraBoardExample"><meta itemprop="exampletitle" content="Working with Raspberry Pi Camera Board"></div><span id="WorkingWithRaspberryPiCameraBoardExample" class="anchor_target"></span>



<p class="shortdesc">This example shows you how to capture and process images from Raspberry Pi&#174; Camera Board module using the MATLAB&#174; Support Package for Raspberry Pi Hardware.</p>




<div class="procedure"><h3 class="title" id="d126e118761">Introduction<span id="WorkingWithRaspberryPiCameraBoardExample-1" class="anchor_target"></span></h3><p>The Raspberry Pi Camera Board is a custom designed add-on module for Raspberry Pi hardware. It attaches to Raspberry Pi hardware through a custom CSI interface. The sensor has 5 megapixel native resolution in still capture mode. In video mode it supports capture resolutions up to 1080p at 30 frames per second. The camera module is light weight and small making it an ideal choice for mobile projects.</p><p>In this example you will learn how to create a <strong class="emphasis bold">cameraboard</strong> object to connect to the Raspberry Pi Camera Board, capture images from the camera and process them in MATLAB.</p><h3 class="title" id="d126e118771">Prerequisites<span id="WorkingWithRaspberryPiCameraBoardExample-2" class="anchor_target"></span></h3><div class="itemizedlist"><ul><li><p>We recommend completing <a href="getting-started-with-matlab-support-package-for-raspberry-pi-hardware.html" data-docid="mlsupportpkg#example-raspi_gettingstarted" class="a">Getting Started with MATLAB Support Package for Raspberry Pi Hardware</a> example.</p></li></ul></div><h3 class="title" id="d126e118781">Required Hardware<span id="WorkingWithRaspberryPiCameraBoardExample-3" class="anchor_target"></span></h3><p>To run this example you will need the following hardware:</p><div class="itemizedlist"><ul><li><p>Raspberry Pi hardware</p></li><li><p>A power supply with at least 1A output</p></li><li><p>A Camera Board</p></li></ul></div><h3 class="title" id="d126e118793">Connect Camera Board<span id="WorkingWithRaspberryPiCameraBoardExample-4" class="anchor_target"></span></h3><p>The camera board attaches to the Raspberry Pi via a ribbon cable. One end of the ribbon cable goes to the camera PCB and the other end attached to Raspberry Pi hardware itself. You need to get the ribbon cable connections the right way, or the camera will not work. On the camera PCB, the blue backing on the cable should be facing away from the PCB, and on the Raspberry Pi hardware it should be facing towards the Ethernet connection.</p><p>
</p>
<div class="informalfigure"><div id="d126e118801" class="mediaobject"><p><img src="../../examples/raspberrypiio/win64/xxcamera_board_connection.png"></p></div></div><p>
 </p><h3 class="title" id="d126e118805">Create a Camera Board Object<span id="WorkingWithRaspberryPiCameraBoardExample-5" class="anchor_target"></span></h3><p>Create a camera board object by executing the following command on the MATLAB prompt.</p><div class="code_responsive"><pre id="d126e118810" class="programlisting">clear <span style="color:#A020F0">rpi</span>
rpi = raspi();
cam = cameraboard(rpi,<span style="color:#A020F0">'Resolution'</span>,<span style="color:#A020F0">'640x480'</span>);
</pre></div><p>The cam is a handle to a cameraboard object. Let's display the images captured from Raspberry Pi Camera Board in MATLAB.</p><div class="code_responsive"><pre id="d126e118813" class="programlisting">
<span style="color:#0000FF">for</span> i = 1:100
    img = snapshot(cam);
    image(img);
    drawnow;
<span style="color:#0000FF">end</span>
</pre></div><h3 class="title" id="d126e118815">Inspect Object Properties<span id="WorkingWithRaspberryPiCameraBoardExample-6" class="anchor_target"></span></h3><p>The MATLAB command line interface for Camera Board has a number of properties that expose the features of the Camera. To view the properties of the cameraboard class type the following on the MATLAB prompt.</p><div class="code_responsive"><pre id="d126e118820" class="programlisting">cam
</pre></div><p>Using the properties of the cameraboard object, you can flip the images horizontally or vertically, change image quality parameters such as brightness, contrast, saturation and sharpness and access advanced camera features such as image stabilization and image effects. The Resolution and FrameRate properties cannot be changed after instantiation. If you want to change these properties, clear the cameraboard object from MATLAB workspace and create a new object by specifying the new Resolution and FrameRate parameters.</p><div class="code_responsive"><pre id="d126e118823" class="programlisting">clear <span style="color:#A020F0">cam</span>
cam = cameraboard(rpi,<span style="color:#A020F0">'Resolution'</span>,<span style="color:#A020F0">'320x240'</span>,<span style="color:#A020F0">'FrameRate'</span>,30);
</pre></div><p>Other properties of the cameraboard object can be changed at any time. Let's try flipping the image horizontally.</p><div class="code_responsive"><pre id="d126e118826" class="programlisting">figure(1);
image(img);
cam.HorizontalFlip = true;
figure(2);
image(img);
</pre></div><h3 class="title" id="d126e118828">Image Effects<span id="WorkingWithRaspberryPiCameraBoardExample-7" class="anchor_target"></span></h3><p>Let's try a simple image inversion algorithm on the images captured from Raspberry Pi Camera Board.</p><div class="code_responsive"><pre id="d126e118833" class="programlisting">figure(1);
<span style="color:#0000FF">for</span> i = 1:100
   img = snapshot(cam);
   img = 255 - img;
   image(img);
   drawnow;
<span style="color:#0000FF">end</span>
</pre></div><p>The image inversion creates a color negative effect. The Raspberry Pi Camera Board itself can invert the images by setting ImageEffect property to 'negative'.</p><div class="code_responsive"><pre id="d126e118836" class="programlisting">figure(1);
cam.ImageEffect = <span style="color:#A020F0">'negative'</span>;
<span style="color:#0000FF">for</span> i = 1:100
   img = snapshot(cam);
   image(img);
   drawnow;
<span style="color:#0000FF">end</span>
</pre></div><p>Here is a more interesting image effect.</p><div class="code_responsive"><pre id="d126e118839" class="programlisting">figure(1);
cam.ImageEffect = <span style="color:#A020F0">'sketch'</span>;
<span style="color:#0000FF">for</span> i = 1:100
   img = snapshot(cam);
   image(img);
   drawnow;
<span style="color:#0000FF">end</span>
</pre></div><h3 class="title" id="d126e118841">Digital Zoom<span id="WorkingWithRaspberryPiCameraBoardExample-8" class="anchor_target"></span></h3><p>Raspberry Pi Camera Board allows a region of the sensor to be used as the image capture area. This region, called region of interest (ROI), is specified as a normalized vector [x y w h] where x, y defines the top left corner and w and h specifies the width and height.</p><p>
</p>
<div class="informalfigure"><div id="d126e118849" class="mediaobject"><p><img src="../../examples/raspberrypiio/win64/xxroi_diagram.png"></p></div></div><p>
 </p><p>Reducing ROI while holding the output image size constant results in a digital zooming effect. The following MATLAB code varies the x and y parameters of the ROI to zoom into the lower right part of the sensor. The approximate area of the sensor being captured is indicated by a red rectangle.</p><div class="code_responsive"><pre id="d126e118854" class="programlisting">figure(1);
roi = [0 0 1 1];
cam.ROI = [0 0 1 1];
<span style="color:#0000FF">for</span> i = 1:10
    img = snapshot(cam);
<span style="color:#0000FF">end</span>
subplot(211);
image(img);
drawnow;
rect = rectangle(<span style="color:#A020F0">'Position'</span>,[1 1 320 240]);
rect.EdgeColor = <span style="color:#A020F0">'red'</span>;
<span style="color:#0000FF">for</span> i = 1:200
   img = snapshot(cam);
   <span style="color:#0000FF">if</span> i &gt; 20
      fc = (i - 5)*0.0025;
      roi(1:2) = [fc, fc];
      roi(3:end) = [1-fc, 1-fc];
      cam.ROI = roi;
      subplot(211);
      rect.Position = roi.*[320 240 320 240];
      drawnow;
      subplot(212);
      image(img);
      drawnow;
   <span style="color:#0000FF">end</span>
<span style="color:#0000FF">end</span>
</pre></div><h3 class="title" id="d126e118856">Record Video<span id="WorkingWithRaspberryPiCameraBoardExample-9" class="anchor_target"></span></h3><p>You can record video using the MATLAB command line interface for Raspberry Pi Camera Board. You start recording video by executing the record command. The record command returns to the MATLAB command prompt immediately after execution and does not wait for the entire video to be recorded. During video recording, images captured by the Camera Board are saved to a file on the Raspberry Pi hardware in raw H264 format. After video recording is complete, you can bring the video file to your host computer for playback. You cannot take snapshots while video recording is in progress. Since the recorded video is in raw H264 format, most players cannot play the video file directly. The recorded H264 stream must be converted to an appropriate format, such as an MP4, before you can play it back or load it in MATLAB.</p><p>Execute the following on the MATLAB command prompt to record video to a file called 'vid.h264' for 30 seconds.</p><div class="code_responsive"><pre id="d126e118862" class="programlisting">record(cam,<span style="color:#A020F0">'vid.h264'</span>,30)
</pre></div><p>The record command starts video recording. It does not block the MATLAB command prompt. You can perform MATLAB operations while video recording is in progress. However, you cannot take snapshots from the camera. To check if the recording is complete, use the Recording property of the cameraboard object.</p><div class="code_responsive"><pre id="d126e118865" class="programlisting">cam.Recording
</pre></div><p>This property returns false when recording is completed. If you want to stop the video recording at any time, use the stop method of the cameraboard object.</p><p>Bring the recorded raw H264 video stream to your host computer.</p><div class="code_responsive"><pre id="d126e118869" class="programlisting">getFile(rpi,<span style="color:#A020F0">'vid.h264'</span>)
</pre></div><p>The raw H264 stream needs to be converted to a video file format, such as MP4, before you can play it in a media player or load it in MATLAB. You can use FFmpeg&#8482; to convert the raw H264 to an MP4 video file. Install FFmpeg to your host computer using the appropriate download links in the ffmpeg.org web site following appropriate installation instructions. After you install the FFmpeg, define a MATLAB variable storing the install location. For example:</p><div class="code_responsive"><pre id="d126e118872" class="programlisting">ffmpegDir = <span style="color:#A020F0">'C:\ffmpeg-20140218-git-61d5970-win32-static'</span>
</pre></div><p>Replace the path above with the appropriate FFmpeg installation path in your computer. To create an MP4 video file out of the raw H264 stream you captured, execute the following on the MATLAB command prompt.</p><div class="code_responsive"><pre id="d126e118876" class="programlisting">cmd = [<span style="color:#A020F0">'"'</span> fullfile(ffmpegDir, <span style="color:#A020F0">'bin'</span>, <span style="color:#A020F0">'ffmpeg.exe'</span>) <span style="color:#A020F0">'" -r 30 -i vid.h264 -vcodec copy myvid.mp4 &amp;'</span>];
[status, message] = system(cmd)
</pre></div><p>After FFmpeg completes video conversion, you end up with an MP4 video file that you can play in a media player. You can also load the video to MATLAB for processing. To play the captured video in MATLAB, execute the following on the MATLAB command prompt.</p><div class="code_responsive"><pre id="d126e118879" class="programlisting">vid = VideoReader(<span style="color:#A020F0">'myvid.mp4'</span>)
<span style="color:#0000FF">for</span> k = 1:vid.NumberOfFrames
    image(read(vid, k));
    drawnow;
<span style="color:#0000FF">end</span>
</pre></div><p>Note: FFmpeg is a third-party tool and any issues related to it are not associated with MATLAB.</p></div></section>
    </div></section><div xmlns="http://www.w3.org/1999/xhtml" class="clearfix"></div>
<div xmlns="http://www.w3.org/1999/xhtml" align="center" class="feedbackblock" id="mw_docsurvey"><script src="https://www.mathworks.com/help/docsurvey/docfeedback.js"></script>
<script>loadSurveyHidden();</script>
<link rel="stylesheet" href="https://www.mathworks.com/help/docsurvey/release/index-css.css" type="text/css">
<script src="https://www.mathworks.com/help/docsurvey/release/bundle.index.js"></script>

<script>initDocSurvey();</script></div></main>


</div>
</div>
</div>
</div><!--close_0960-->
<footer xmlns="http://www.w3.org/1999/xhtml" id="footer" class="bs-footer">
<div class="container-fluid">
<div class="footer">
<div class="row">
<div class="col-12">
<p class="copyright">Â© 1994-2025 The MathWorks, Inc.</p>
<ul class="footernav"><li class="footernav_help"><a href="matlab:web(matlab.internal.licenseAgreement)">Terms of Use</a></li><li class="footernav_patents"><a href="matlab:web([matlabroot '/patents.txt'])">Patents</a></li><li class="footernav_trademarks"><a href="matlab:web([matlabroot '/trademarks.txt'])">Trademarks</a></li><li class="footernav_piracy"><a href="matlab:web([docroot '/acknowledgments.html'])">Acknowledgments</a></li></ul></div>
</div>
</div>
</div>
</footer>
</div><!--close row-offcanvas-->
</div><!--close_0970-->
</body>
</html>
