<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage">
<head>
<meta xmlns="http://www.w3.org/1999/xhtml" charset="utf-8">
<meta xmlns="http://www.w3.org/1999/xhtml" name="viewport" content="width=device-width, initial-scale=1.0">
<meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="X-UA-Compatible" content="IE=edge">
<title>Deploy an Edge Detection Algorithm on the Raspberry Pi Hardware</title>
<script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
      {
      "@context": "http://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement":
      [{
          "@type": "ListItem",
          "position": 1,

          "item": {
          "@id": "../index.html",
          "name": "MATLAB"
}

          } 
        ,
        {
          "@type": "ListItem",
          "position": 2,

          "item": {
          "@id": "../data-import-and-analysis.html",
          "name": "Data Import and Analysis"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 3,

          "item": {
          "@id": "../data-import-and-export.html",
          "name": "Data Import and Export"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 4,

          "item": {
          "@id": "../hardware-network-comm.html",
          "name": "Hardware and Network Communication"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 5,

          "item": {
          "@id": "../hardware-boards-and-kits.html",
          "name": "Hardware Boards and Kits"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 6,

          "item": {
          "@id": "../raspberrypiio.html",
          "name": "Raspberry Pi Hardware"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 7,

          "item": {
          "@id": "../raspberrypiio-run-on-hardware.html",
          "name": "Run on Target Hardware"
}

          }]
      }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
      {
      "@context": "http://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement":
      [{
          "@type": "ListItem",
          "position": 1,

          "item": {
          "@id": "../index.html",
          "name": "MATLAB"
}

          } 
        ,
        {
          "@type": "ListItem",
          "position": 2,

          "item": {
          "@id": "../data-import-and-analysis.html",
          "name": "Data Import and Analysis"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 3,

          "item": {
          "@id": "../data-import-and-export.html",
          "name": "Data Import and Export"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 4,

          "item": {
          "@id": "../hardware-network-comm.html",
          "name": "Hardware and Network Communication"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 5,

          "item": {
          "@id": "../hardware-boards-and-kits.html",
          "name": "Hardware Boards and Kits"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 6,

          "item": {
          "@id": "../raspberrypiio.html",
          "name": "Raspberry Pi Hardware"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 7,

          "item": {
          "@id": "../raspberrypiio-display.html",
          "name": "Display"
}

          }]
      }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "VisibleBreadcrumbs",

        "itemListElement":
        [
        "raspberrypiio-run-on-hardware",
        "raspberrypiio-display"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "DigitalDocument",
          "headline": "Deploy an Edge Detection Algorithm on the Raspberry Pi Hardware",
          "description": "Deploy an Edge detection function on the Raspberry Pi&#174; hardware as a standalone executable using MATLAB&#174; Support Package for Raspberry Pi Hardware. In this example, you will learn how to acquire live image from a webcam connected to the Raspberry Pi hardware, run the edge detection function on the acquired image, and display the result on the monitor that is connected to the same Raspberry Pi hardware.",
          "thumbnailURL": "../../examples/raspberrypiio/win64/xxcode_generation_report_edgeDetection.png",
          "genre": "Script",
          "isBasedOn": {
          "@type": "Product",
          "name": "MATLAB"

        },
          "identifier": "raspberrypiio.DeployAnEdgeDetectionAlgorithmOnTheRaspberryPiHardwareExample",
          "name": "DeployAnEdgeDetectionAlgorithmOnTheRaspberryPiHardwareExample",
          "url": "deploy-an-edge-detection-algorithm-on-the-raspberry-pi-hardware.html"

        }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "PropertyValue",
          "name": "open_command",
          "value": ""

        }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "ExampleSourceFiles",

        "itemListElement":
        [
        "DeployAnEdgeDetectionAlgorithmOnTheRaspberryPiHardwareExample.m",
        "static_image_capture.png",
        "live_image_capture.png",
        "edge_detection.png",
        "code_generation_report_edgeDetection.png",
        "code_analyzer_edge_errorfree.png"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/bootstrap.min.css" rel="stylesheet" type="text/css">


  <meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="Content-Script-Type" content="text/javascript">
<meta xmlns="http://www.w3.org/1999/xhtml" name="toctype" itemprop="pagetype" content="fe">
<meta xmlns="http://www.w3.org/1999/xhtml" name="infotype" itemprop="infotype" content="ex">

<meta xmlns="http://www.w3.org/1999/xhtml" name="description" itemprop="description" content="This example shows you how to deploy an Edge detection function on the Raspberry Pi&#174; hardware as a standalone executable using MATLAB&#174; Support Package for Raspberry Pi Hardware."><meta xmlns="http://www.w3.org/1999/xhtml" content="../../examples/raspberrypiio/win64/xxcode_generation_report_edgeDetection.png" itemprop="thumbnailUrl">
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-3.6.0.min.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-migrate.min.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_lg.css" rel="stylesheet" media="screen and (min-width: 1200px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_md.css" rel="stylesheet" media="screen and (min-width: 992px) and (max-width: 1199px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm+xs.css" rel="stylesheet" media="screen and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm.css" rel="stylesheet" media="screen and (min-width: 768px) and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_xs.css" rel="stylesheet" media="screen and (max-width: 767px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_offcanvas_v2.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/shared/highlight/styles/mwdochighlight.min.css" rel="stylesheet" type="text/css">

<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/l10n.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/f1help.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/mw.imageanimation.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/jquery.highlight.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/underscore-min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/use_platform_screenshots.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/suggest.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/overload.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/helpservices.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/productfilter.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/matlab_dialog_shared.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/highlight/highlight.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/localstorage.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/product_group.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/saxonjs/SaxonJS2.rt.js"></script><script xmlns="http://www.w3.org/1999/xhtml">
            window.history.replaceState(window.location.href, null, ""); // Initialize
            window.onload = function() {    
            mystylesheetLocation = "../../includes/shared/scripts/product_group-sef.json";
            mysourceLocation = "../../docset/docset.xml";
            product_help_location = "matlab";
            pagetype = "section";
            doccentertype = "product";
            langcode = "";
            getProductFilteredList(mystylesheetLocation, mysourceLocation, product_help_location, pagetype, doccentertype, langcode);  
            }
          </script>




<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery.mobile.custom.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/bootstrap.bundle.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/global.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_base.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_installed.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_print.css" rel="stylesheet" type="text/css" media="print">
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/equationrenderer/release/MathRenderer.js"></script>
</head>
<body id="responsive_offcanvas">
<div xmlns="http://www.w3.org/1999/xhtml" id="doc_header_spacer" class="header"></div>
<div xmlns="http://www.w3.org/1999/xhtml" class="section_header level_3"><div class="container-fluid"><div class="row" id="mobile_search_row"><div class="col-sm-6 col-md-7 has_horizontal_local_nav" id="section_header_title"><div class="section_header_content"><div class="section_header_title"><h1><a href="../../documentation-center.html">Help Center</a></h1></div></div></div><div class="col-12 col-sm-6 col-md-5" id="mobile_search"><div class="search_nested_content_container"><form id="docsearch_form" name="docsearch_form" method="get" data-release="R2025b" data-language="en" action="../../templates/searchresults.html"><div class="input-group tokenized_search_field"><label class="visually-hidden form-label">Search Help</label><input type="text" class="form-control conjoined_search" autocomplete="off" name="qdoc" placeholder="Search Help" id="docsearch"> <div><button type="submit" name="submitsearch" id="submitsearch" class="btn icon-search btn_search_adjacent btn_search icon_16" tabindex="-1"></button></div></div></form></div><button class="btn icon-remove btn_search float-end icon_32 d-sm-none" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div><div class="d-sm-none" id="search_actuator"><button class="btn icon-search btn_search float-end icon_16" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div></div></div></div><div class="row-offcanvas row-offcanvas-left">
<div xmlns="http://www.w3.org/1999/xhtml" class="sidebar-offcanvas" id="sidebar">
<nav class="offcanvas_nav" role="navigation">
<div class="offcanvas_actuator" data-bs-toggle="offcanvas" data-bs-target="#sidebar" id="nav_toggle"><button type="button" class="btn"><span class="visually-hidden">Off-Canvas Navigation Menu Toggle
                  Off-Canvas Navigation Menu Toggle</span><span class="icon-menu"></span></button><span class="offcanvas_actuator_label" id="translation_icon-menu" tabindex="-1" aria-hidden="true"></span></div><div class="nav_list_wrapper" id="nav_list_wrapper"><nav class="offcanvas_nav" role="navigation"><ul class="nav_breadcrumb" id="ul_left_nav_ancestors"><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../../documentation-center.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Documentation Home</span></a></li></ul>
<ul class="nav_disambiguation"><li><a href="../index.html?s_tid=CRUX_lftnav" id="index">MATLAB</a>
</li>
<li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../data-import-and-analysis.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Data Import and Analysis</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../data-import-and-export.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Data Import and Export</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../hardware-network-comm.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Hardware and Network Communication</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../hardware-boards-and-kits.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Hardware Boards and Kits</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../raspberrypiio.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Raspberry Pi Hardware</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../raspberrypiio-run-on-hardware.html?s_tid=CRUX_lftnav" itemprop="url" id="mw_8aa46fa2-1931-45fb-af48-20625a7eaffd"><span itemprop="title">Run on Target Hardware</span></a></li></ul><ul class="nav_disambiguation"><li><a href="../index.html?s_tid=CRUX_lftnav" id="index">MATLAB</a>
</li>
<li><a href="../data-import-and-analysis.html?s_tid=CRUX_lftnav">Data Import and Analysis</a></li><li><a href="../data-import-and-export.html?s_tid=CRUX_lftnav">Data Import and Export</a></li><li><a href="../hardware-network-comm.html?s_tid=CRUX_lftnav">Hardware and Network Communication</a></li><li><a href="../hardware-boards-and-kits.html?s_tid=CRUX_lftnav">Hardware Boards and Kits</a></li><li><a href="../raspberrypiio.html?s_tid=CRUX_lftnav">Raspberry Pi Hardware</a></li><li><a href="../raspberrypiio-display.html?s_tid=CRUX_lftnav" id="mw_f0db95f7-809b-43a0-a572-0f95fca898e0">Display</a></li></ul><div class="search_refine_v4"><div id="facets_area"><ul class="nav_scrollspy nav list-unstyled" id="pnav">
<li class="nav_scrollspy_function nav-item"><a href="#responsive_offcanvas">Deploy an Edge Detection Algorithm on the Raspberry Pi Hardware</a></li>
<li class="nav_scrollspy_title nav-item" id="SSPY810-section">On this page</li>
<!--ADD_REFENTRY_TITLE_HERE 11--><li class="nav-item"><a href="#d126e120262" class="nav-link intrnllnk">Prerequisites</a></li><li class="nav-item"><a href="#d126e120278" class="nav-link intrnllnk">Required Products</a></li><li class="nav-item"><a href="#d126e120298" class="nav-link intrnllnk">Step 1: Create and Run an Edge Detection Algorithm on a Stored Image</a></li><li class="nav-item"><a href="#d126e120329" class="nav-link intrnllnk">Step 2: Modify the Edge Detection Algorithm to Use Live Image from Hardware</a></li><li class="nav-item"><a href="#d126e120361" class="nav-link intrnllnk">Step 3: Add the Compilation Directive to the MATLAB Function</a></li><li class="nav-item"><a href="#d126e120372" class="nav-link intrnllnk">Step 4: Prepare the Edge Detection Function for Deployment</a></li><li class="nav-item"><a href="#d126e120413" class="nav-link intrnllnk">Step 5: Create a Hardware Configuration Object</a></li><li class="nav-item"><a href="#d126e120464" class="nav-link intrnllnk">Step 6: Deploy the MATLAB Function on Hardware</a></li><li class="nav-item"><a href="#d126e120491" class="nav-link intrnllnk">See Also</a></li></ul></div></div>
</nav></div></nav>
<script src="../../includes/product/scripts/offcanvas_v2.js"></script></div><!--END.CLASS sidebar-offcanvas-->
<div class="offcanvas_content_container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sticky_header_container"><div class="horizontal_nav"><div class="horizontal_nav_container"><div class="offcanvas_horizontal_nav"><div class="container-fluid"><div class="row"><div class="col-sm-12 d-none d-sm-block"><nav class="navbar navbar-default" role="navigation" id="subnav"><div><ul class="nav navbar-nav crux_browse"><li id="crux_nav_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_example" class="crux_resource"><a href="../examples.html?category=raspberrypiio-run-on-hardware&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=raspberrypiio-run-on-hardware&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=raspberrypiio-run-on-hardware&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></nav></div><div class="d-sm-none"><div class="container-fluid"><div class="row"><div class="col-9"><div class="mobile_crux_nav_trigger"><div class="btn-group"><button type="button" class="btn btn-default dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Resources</button><ul class="dropdown-menu"><li id="crux_nav_mobile_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_mobile_example" class="crux_resource"><a href="../examples.html?category=raspberrypiio-run-on-hardware&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_mobile_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=raspberrypiio-run-on-hardware&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_mobile_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=raspberrypiio-run-on-hardware&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></div></div><div class="col-3"><div class="translate_placeholder"></div></div></div></div></div></div></div></div></div></div></div><div class="content_container" id="content_container" itemprop="content">
<div class="container-fluid">
<div class="row">
<div class="col-12">

<main id="skip_link_anchor" tabindex="-1">
<div xmlns="http://www.w3.org/1999/xhtml" id="product_info_alert"></div><section xmlns="http://www.w3.org/1999/xhtml" id="doc_center_content" lang="en" data-language="en"><div id="pgtype-example">
<section><div class="example_icon"></div><h1 class="r2025b" itemprop="title content" id="example-edge_detection_deployment">Deploy an Edge Detection Algorithm on the Raspberry Pi Hardware</h1><div class="examples_short_list hidden_ios_android" data-products="ML RASPPIIO"><div data-pane="metadata" class="card metadata_container"><div class="card-body metadata_content"><p class="add_margin_5">This example uses:</p><ul class="list-unstyled add_border_bottom example_product_list" itemprop="requiredprods"><li><a href="matlab:matlab.internal.addons.showAddon('RASPPIIO')">MATLAB Support Package for Raspberry Pi Hardware</a></li></ul></div></div></div><div itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/Example" itemprop="example" class="em_example"><meta itemprop="exampleid" content="raspberrypiio-DeployAnEdgeDetectionAlgorithmOnTheRaspberryPiHardwareExample"><meta itemprop="exampletitle" content="Deploy an Edge Detection Algorithm on the Raspberry Pi Hardware"></div><span id="DeployAnEdgeDetectionAlgorithmOnTheRaspberryPiHardwareExample" class="anchor_target"></span>



<p class="shortdesc">This example shows you how to deploy an Edge detection function on the Raspberry Pi&#174; hardware as a standalone executable using MATLAB&#174; Support Package for Raspberry Pi Hardware. In this example, you will learn how to acquire live image from a webcam connected to the Raspberry Pi hardware, run the edge detection function on the acquired image, and display the result on the monitor that is connected to the same Raspberry Pi hardware.</p>


<p></p>
<div class="informalfigure"><div id="d126e120244" class="mediaobject"><p><img src="../../examples/raspberrypiio/win64/xxedge_detection.png"></p></div></div><p>
 </p>


<p>You can also deploy the Edge detection function from MATLAB&#174; Online&#8482;. See <a href="connect-to-raspberry-pi-hardware-board-in-matlab-online.html" data-docid="mlsupportpkg#mw_37fe1f7c-380a-4205-8f06-8dfdb9683f20" class="a">Connect to Raspberry Pi Hardware Board in MATLAB Online</a> to connect to the Raspberry Pi hardware to MATLAB Online, and deploy the MATLAB function.</p>


<p>For a brief overview on this example, see the <a href="https://www.mathworks.com/videos/deploy-an-edge-detection-algorithm-on-raspberry-pi-1591967219707.html">Deploy an Edge Detection Algorithm on the Raspberry Pi Hardware</a> video.</p>




<div class="procedure"><h3 class="title" id="d126e120262">Prerequisites<span id="DeployAnEdgeDetectionAlgorithmOnTheRaspberryPiHardwareExample-1" class="anchor_target"></span></h3><p>Before you start with this example, we recommend you to complete these examples:</p><div class="itemizedlist"><ul><li><p>
<a href="getting-started-with-matlab-support-package-for-raspberry-pi-hardware.html" data-docid="mlsupportpkg#example-raspi_gettingstarted" class="a">Getting Started with MATLAB Support Package for Raspberry Pi Hardware</a>
</p></li><li><p>
<a href="working-with-raspberry-pi-hardware.html" data-docid="mlsupportpkg#example-raspi_gettingstarted_with_hardware" class="a">Working with Raspberry Pi Hardware</a>
</p></li></ul></div><h3 class="title" id="d126e120278">Required Products<span id="DeployAnEdgeDetectionAlgorithmOnTheRaspberryPiHardwareExample-2" class="anchor_target"></span></h3><div class="itemizedlist"><ul><li><p>Raspberry Pi hardware. Ensure the hardware is connected to the internet, when working on MATLAB&#174; Online&#8482;.</p></li><li><p>A supported <a href="https://elinux.org/RPi_USB_Webcams" target="_blank">USB webcam</a> or a <a href="https://www.raspberrypi.com/products/camera-module-v2/" target="_blank">Raspberry Pi camera module</a>
</p></li><li><p>A monitor connected to the Raspberry Pi hardware</p></li><li><p>MATLAB Coder license</p></li></ul></div><h3 class="title" id="d126e120298">Step 1: Create and Run an Edge Detection Algorithm on a Stored Image<span id="DeployAnEdgeDetectionAlgorithmOnTheRaspberryPiHardwareExample-3" class="anchor_target"></span></h3><p>1. Copy the <code class="literal">edgeDetection</code> function and paste it in the MATLAB Editor. The function implements an algorithm to read the <code class="literal">peppers.png</code> file from the computer, apply edge detection algorithm to <code class="literal">peppers.png</code>, and display the result as a MATLAB figure. The algorithm consists of a 3-by-3 Sobel operator that is applied to the image in horizontal and vertical directions, and then threshold against a constant value.</p><div class="code_responsive"><pre class="programlisting">function edgeDetection()
% Define convolutional kernel to be used for edge detection
 kern = [1 2 1; 0 0 0; -1 -2 -1];
% Read image from file and apply
 img = imread('peppers.png');
 h = conv2(img(:,:,2),kern,'same');
 v = conv2(img(:,:,2),kern','same');
 e = sqrt(h.*h + v.*v);
 edgeImg = uint8((e &gt; 100) * 240);
 imshow(edgeImg);
end</pre></div><p>2. Save the function as <code class="literal">edgeDetection.m</code> to a folder to which you have write access.</p><p>3. Run the <code class="literal">edgeDetection</code> function by using the run command in the MATLAB Command Window. When you run the function, MATLAB starts executing the edge detection algorithm on the <code class="literal">peppers.png</code> file stored in your computer.</p><div class="code_responsive"><pre class="programlisting">run edgeDetection</pre></div><p>
</p>
<div class="informalfigure"><div id="d126e120325" class="mediaobject"><p><img src="../../examples/raspberrypiio/win64/xxstatic_image_capture.png"></p></div></div><p>
 </p><h3 class="title" id="d126e120329">Step 2: Modify the Edge Detection Algorithm to Use Live Image from Hardware<span id="DeployAnEdgeDetectionAlgorithmOnTheRaspberryPiHardwareExample-4" class="anchor_target"></span></h3><p>Before deploying, running the <code class="literal">edgeDetection</code> function by using live input and output (IO) from the hardware is recommended.</p><p>Using live IO enables you to:</p><div class="itemizedlist"><ul><li><p>Verify that the MATLAB function is communicating with the hardware as expected.</p></li><li><p>Detect run-time errors, such as peripheral conflicts, that are much harder to diagnose during deployment.</p></li></ul></div><p>1. To use live IO, you must modify the function to capture live images using the webcam connected to the hardware.</p><div class="code_responsive"><pre class="programlisting">function edgeDetection()
% Create a connection to the Raspberry Pi hardware
  r = raspi;</pre></div><div class="code_responsive"><pre class="programlisting">% Create a connection to the Raspberry Pi camera module, capture live
% images, and then display the images
  w = webcam(r);</pre></div><div class="code_responsive"><pre class="programlisting">% Define convolutional kernel to be used for edge detection
  kern = [1 2 1; 0 0 0; -1 -2 -1];
% Run the edge detection algorithm on the images captured from the Raspberry Pi camera module.
  for k = 1:1000
  img = snapshot(w);
  h = conv2(img(:,:,2),kern,'same');
  v = conv2(img(:,:,2),kern','same');
  e = sqrt(h.*h + v.*v);
  edgeImg = uint8((e &gt; 100) * 240);
  imshow(edgeImg);
  end
end</pre></div><p>2. Run the <code class="literal">edgeDetection</code> function by using the run command in the MATLAB Command Window. When you run the function, MATLAB connects to the hardware and starts executing the edge detection algorithm on the images captured from the webcam connected to the hardware.</p><div class="code_responsive"><pre class="programlisting">run edgeDetection</pre></div><p>
</p>
<div class="informalfigure"><div id="d126e120355" class="mediaobject"><p><img src="../../examples/raspberrypiio/win64/xxlive_image_capture.png"></p></div></div><p>
 </p><p>4. Observe the output and fine tune the edge detection threshold to suit the characteristic of the camera and environment, if required.</p><h3 class="title" id="d126e120361">Step 3: Add the Compilation Directive to the MATLAB Function<span id="DeployAnEdgeDetectionAlgorithmOnTheRaspberryPiHardwareExample-5" class="anchor_target"></span></h3><p>Add the <code class="literal">%#codegen</code> directive (or pragma) after the <code class="literal">edgeDetection</code> function signature to indicate that you intend to deploy the function on the hardware. Adding this directive instructs the MATLAB Code Analyzer to help you diagnose and fix violations that would result in errors during deployment.</p><div class="code_responsive"><pre class="programlisting">function edgeDetection() %#codegen</pre></div><h3 class="title" id="d126e120372">Step 4: Prepare the Edge Detection Function for Deployment<span id="DeployAnEdgeDetectionAlgorithmOnTheRaspberryPiHardwareExample-6" class="anchor_target"></span></h3><p>1. Check the <code class="literal">edgeDetection</code> function using Code Analyzer for any errors and warnings by following the steps in <a href="check-the-matlab-function-using-code-analyzer.html" data-docid="mlsupportpkg#mw_c1e35b00-a28c-4e0a-9761-5f5935961dcb" class="a">Check MATLAB Function Using Code Analyzer</a> and fix them before proceeding to the next step.</p><p>In this example, the green color of the indicator specifies that the MATLAB function has no errors or warnings.</p><p>
</p>
<div class="informalfigure"><div id="d126e120386" class="mediaobject"><p><img src="../../examples/raspberrypiio/win64/xxcode_analyzer_edge_errorfree.png"></p></div></div><p>
 </p><p>2. Debug the <code class="literal">edgeDetection</code> function and replace all the unsupported calls with the calls that are supported by code generation.</p><p>In this example, the <code class="literal"><a href="../ref/image.html" data-docid="matlab_ref#buqdlnb" class="a"><code class="olink">image</code></a></code> function used at line number 18 is not supported by code generation. Deploying the <code class="literal">edgeDetection</code> function without any modification will result in an executable that may not behave as expected.</p><p>To fix this unsupported function call error, replace <code class="literal">image</code> with an equivalent call that is supported by code generation. You can replicate the functionality of <code class="literal">image</code> by using the <code class="literal"><a href="sensehat.displayimage.html" data-docid="mlsupportpkg#bve3b92" class="a"><code class="olink">displayImage</code></a></code> function provided by MATLAB Support Package for Raspberry Pi Hardware.</p><div class="code_responsive"><pre class="programlisting">function edgeDetection() %#codegen
% Create a connection to the Raspberry Pi hardware
  r = raspi;</pre></div><div class="code_responsive"><pre class="programlisting">% Create a connection to the Raspberry Pi camera module, capture live
% images, and then display the images
  w = webcam(r);</pre></div><div class="code_responsive"><pre class="programlisting">% Define convolutional kernel to be used for edge detection
  kern = [1 2 1; 0 0 0; -1 -2 -1];
% Run the edge detection algorithm on the images captured from the Raspberry Pi camera module.
  for k = 1:1000
  img = snapshot(w);
  h = conv2(img(:,:,2),kern,'same');
  v = conv2(img(:,:,2),kern','same');
  e = sqrt(h.*h + v.*v);
  edgeImg = uint8((e &gt; 100) * 240);
  displayImage(r,edgeImg,'Title','Edge Detection');
  end
end</pre></div><h3 class="title" id="d126e120413">Step 5: Create a Hardware Configuration Object<span id="DeployAnEdgeDetectionAlgorithmOnTheRaspberryPiHardwareExample-7" class="anchor_target"></span></h3><p>1. Create a hardware configuration object by using the <code class="literal"><a href="targethardware.html" data-docid="mlsupportpkg#mw_113cf339-3bf2-4736-aa57-af1fd0c9897c" class="a"><code class="olink">targetHardware</code></a></code> function in the MATLAB Command Window. Note: For Raspberry Pi with 32-bit OS use <code class="literal">targetHardware('Raspberry Pi')</code> and for 64-bit OS use <code class="literal">targetHardware('Raspberry Pi (64bit)')</code>.</p><div class="code_responsive"><pre class="programlisting">board = targetHardware('Raspberry Pi (64bit)')</pre></div><div class="code_responsive"><pre class="programlisting">board =</pre></div><div class="code_responsive"><pre class="programlisting">targetHardware with properties:</pre></div><div class="code_responsive"><pre class="programlisting">            Name: 'Raspberry Pi (64bit)'
   DeviceAddress: '192.168.1.2'
        Username: 'pi'
        Password: '*********'
        BuildDir: '/home/pi'
     BuildAction: 'Build, load, and run'</pre></div><p>
<strong class="emphasis bold">Note</strong>: You can deploy the edge detection algorithm from MATLAB&#174; Online&#8482;. See <a href="connect-to-raspberry-pi-hardware-board-in-matlab-online.html" data-docid="mlsupportpkg#mw_37fe1f7c-380a-4205-8f06-8dfdb9683f20" class="a">Connect to Raspberry Pi Hardware Board in MATLAB Online</a> for the steps.</p><p>Create a hardware configuration object</p><div class="code_responsive"><pre class="programlisting">board = targetHardware('Raspberry Pi (64bit)')</pre></div><div class="code_responsive"><pre class="programlisting">board =</pre></div><div class="code_responsive"><pre class="programlisting">targetHardware with properties:</pre></div><div class="code_responsive"><pre class="programlisting">            Name: 'Raspberry Pi (64bit)'
   DeviceAddress: '00000000a9f2c18c'
          Username: ''
          Password: ''
          BuildDir: '/home/matlabrpi'
   EnableRunOnBoot: 0
       BuildAction: 'Build, load, and run'
       CoderConfig: [1x1 coder.CodeConfig]</pre></div><p>In MATLAB Online&#8482; <code class="literal">DeviceAddress</code> is the <code class="literal">SerialNumber</code> of the hardware as displayed by <code class="literal">raspilist</code>.</p><p>2. Verify the <code class="literal">DeviceAddress</code>, <code class="literal">Username</code>, and <code class="literal">Password</code> properties listed in the output. If required, change the value of the properties by using the dot notation syntax.</p><p>For example, to change the device address to <code class="literal">173.21.22.327</code>, enter:</p><div class="code_responsive"><pre class="programlisting">board.DeviceAddress = '173.21.22.327'</pre></div><h3 class="title" id="d126e120464">Step 6: Deploy the MATLAB Function on Hardware<span id="DeployAnEdgeDetectionAlgorithmOnTheRaspberryPiHardwareExample-9" class="anchor_target"></span></h3><p>Deploy the MATLAB function as a standalone executable on the hardware by using the <code class="literal"><a href="deploy.html" data-docid="mlsupportpkg#mw_a8a63ef5-1af4-460a-8515-2432dd5670b6" class="a"><code class="olink">deploy</code></a></code> function.</p><div class="code_responsive"><pre class="programlisting">deploy(board,'edgeDetection')</pre></div><div class="code_responsive"><pre class="programlisting">Code generation successful: View report</pre></div><p>The <code class="literal">deploy</code> function initiates code generation of the <code class="literal">edgeDetection</code> function. At the end of code generation, MATLAB generates a code generation report. Use this report to debug the <code class="literal">edgeDetection</code> function for any build errors and warnings in the generated code.</p><p>After successfully generating the code, the support package loads and runs the code as a standalone executable on the hardware. The executable starts acquiring live images from the webcam, runs the edge detection algorithm on the acquired image, and then displays the result on the monitor.</p><p>
</p>
<div class="informalfigure"><div id="d126e120487" class="mediaobject"><p><img src="../../examples/raspberrypiio/win64/xxcode_generation_report_edgeDetection.png"></p></div></div><p>
 </p><h3 class="title" id="d126e120491">See Also<span id="DeployAnEdgeDetectionAlgorithmOnTheRaspberryPiHardwareExample-10" class="anchor_target"></span></h3><div class="itemizedlist"><ul><li><p>
<a href="connect-to-raspberry-pi-hardware-board-in-matlab-online.html" data-docid="mlsupportpkg#mw_37fe1f7c-380a-4205-8f06-8dfdb9683f20" class="a">Connect to Raspberry Pi Hardware Board in MATLAB Online</a>
</p></li><li><p>Video: <a href="https://www.mathworks.com/videos/deploy-an-edge-detection-algorithm-on-raspberry-pi-1591967219707.html">Deploy an Edge Detection Algorithm on the Raspberry Pi Hardware</a>
</p></li><li><p>Video: <a href="https://www.mathworks.com/videos/deploy-matlab-algorithms-on-raspberry-pi-1591965724601.html">Deploy MATLAB Algorithms on Raspberry Pi</a>
</p></li></ul></div></div></section>
    </div></section><div xmlns="http://www.w3.org/1999/xhtml" class="clearfix"></div>
<div xmlns="http://www.w3.org/1999/xhtml" align="center" class="feedbackblock" id="mw_docsurvey"><script src="https://www.mathworks.com/help/docsurvey/docfeedback.js"></script>
<script>loadSurveyHidden();</script>
<link rel="stylesheet" href="https://www.mathworks.com/help/docsurvey/release/index-css.css" type="text/css">
<script src="https://www.mathworks.com/help/docsurvey/release/bundle.index.js"></script>

<script>initDocSurvey();</script></div></main>


</div>
</div>
</div>
</div><!--close_0960-->
<footer xmlns="http://www.w3.org/1999/xhtml" id="footer" class="bs-footer">
<div class="container-fluid">
<div class="footer">
<div class="row">
<div class="col-12">
<p class="copyright">Â© 1994-2025 The MathWorks, Inc.</p>
<ul class="footernav"><li class="footernav_help"><a href="matlab:web(matlab.internal.licenseAgreement)">Terms of Use</a></li><li class="footernav_patents"><a href="matlab:web([matlabroot '/patents.txt'])">Patents</a></li><li class="footernav_trademarks"><a href="matlab:web([matlabroot '/trademarks.txt'])">Trademarks</a></li><li class="footernav_piracy"><a href="matlab:web([docroot '/acknowledgments.html'])">Acknowledgments</a></li></ul></div>
</div>
</div>
</div>
</footer>
</div><!--close row-offcanvas-->
</div><!--close_0970-->
</body>
</html>
