<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage">
<head>
<meta xmlns="http://www.w3.org/1999/xhtml" charset="utf-8">
<meta xmlns="http://www.w3.org/1999/xhtml" name="viewport" content="width=device-width, initial-scale=1.0">
<meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="X-UA-Compatible" content="IE=edge">
<title>Export to NetCDF Files</title>
<script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
      {
      "@context": "http://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement":
      [{
          "@type": "ListItem",
          "position": 1,

          "item": {
          "@id": "../index.html",
          "name": "MATLAB"
}

          } 
        ,
        {
          "@type": "ListItem",
          "position": 2,

          "item": {
          "@id": "../data-import-and-analysis.html",
          "name": "Data Import and Analysis"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 3,

          "item": {
          "@id": "../data-import-and-export.html",
          "name": "Data Import and Export"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 4,

          "item": {
          "@id": "../standard-file-formats.html",
          "name": "Standard File Formats"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 5,

          "item": {
          "@id": "../scientific-data.html",
          "name": "Scientific Data"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 6,

          "item": {
          "@id": "../network-common-data-form.html",
          "name": "NetCDF Files"
}

          }]
      }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "VisibleBreadcrumbs",

        "itemListElement":
        [
        "network-common-data-form"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/bootstrap.min.css" rel="stylesheet" type="text/css">


  <meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="Content-Script-Type" content="text/javascript">
<meta xmlns="http://www.w3.org/1999/xhtml" name="toctype" itemprop="pagetype" content="ug">
<meta xmlns="http://www.w3.org/1999/xhtml" name="infotype" itemprop="infotype" content="ex">

<meta xmlns="http://www.w3.org/1999/xhtml" name="description" itemprop="description" content="Create, merge, and write netCDF files using high-level functions and the netcdf namespace low-level functions."><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-3.6.0.min.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-migrate.min.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_lg.css" rel="stylesheet" media="screen and (min-width: 1200px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_md.css" rel="stylesheet" media="screen and (min-width: 992px) and (max-width: 1199px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm+xs.css" rel="stylesheet" media="screen and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm.css" rel="stylesheet" media="screen and (min-width: 768px) and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_xs.css" rel="stylesheet" media="screen and (max-width: 767px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_offcanvas_v2.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/shared/highlight/styles/mwdochighlight.min.css" rel="stylesheet" type="text/css">

<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/l10n.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/f1help.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/mw.imageanimation.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/jquery.highlight.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/underscore-min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/use_platform_screenshots.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/suggest.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/overload.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/helpservices.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/productfilter.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/matlab_dialog_shared.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/highlight/highlight.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/localstorage.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/product_group.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/saxonjs/SaxonJS2.rt.js"></script><script xmlns="http://www.w3.org/1999/xhtml">
            window.history.replaceState(window.location.href, null, ""); // Initialize
            window.onload = function() {    
            mystylesheetLocation = "../../includes/shared/scripts/product_group-sef.json";
            mysourceLocation = "../../docset/docset.xml";
            product_help_location = "matlab";
            pagetype = "section";
            doccentertype = "product";
            langcode = "";
            getProductFilteredList(mystylesheetLocation, mysourceLocation, product_help_location, pagetype, doccentertype, langcode);  
            }
          </script>




<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery.mobile.custom.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/bootstrap.bundle.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/global.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_base.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_installed.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_print.css" rel="stylesheet" type="text/css" media="print">
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/equationrenderer/release/MathRenderer.js"></script>
</head>
<body id="responsive_offcanvas">
<div xmlns="http://www.w3.org/1999/xhtml" id="doc_header_spacer" class="header"></div>
<div xmlns="http://www.w3.org/1999/xhtml" class="section_header level_3"><div class="container-fluid"><div class="row" id="mobile_search_row"><div class="col-sm-6 col-md-7 has_horizontal_local_nav" id="section_header_title"><div class="section_header_content"><div class="section_header_title"><h1><a href="../../documentation-center.html">Help Center</a></h1></div></div></div><div class="col-12 col-sm-6 col-md-5" id="mobile_search"><div class="search_nested_content_container"><form id="docsearch_form" name="docsearch_form" method="get" data-release="R2025b" data-language="en" action="../../templates/searchresults.html"><div class="input-group tokenized_search_field"><label class="visually-hidden form-label">Search Help</label><input type="text" class="form-control conjoined_search" autocomplete="off" name="qdoc" placeholder="Search Help" id="docsearch"> <div><button type="submit" name="submitsearch" id="submitsearch" class="btn icon-search btn_search_adjacent btn_search icon_16" tabindex="-1"></button></div></div></form></div><button class="btn icon-remove btn_search float-end icon_32 d-sm-none" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div><div class="d-sm-none" id="search_actuator"><button class="btn icon-search btn_search float-end icon_16" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div></div></div></div><div class="row-offcanvas row-offcanvas-left">
<div xmlns="http://www.w3.org/1999/xhtml" class="sidebar-offcanvas" id="sidebar">
<nav class="offcanvas_nav" role="navigation">
<div class="offcanvas_actuator" data-bs-toggle="offcanvas" data-bs-target="#sidebar" id="nav_toggle"><button type="button" class="btn"><span class="visually-hidden">Off-Canvas Navigation Menu Toggle
                  Off-Canvas Navigation Menu Toggle</span><span class="icon-menu"></span></button><span class="offcanvas_actuator_label" id="translation_icon-menu" tabindex="-1" aria-hidden="true"></span></div><div class="nav_list_wrapper" id="nav_list_wrapper"><nav class="offcanvas_nav" role="navigation"><ul class="nav_breadcrumb" id="ul_left_nav_ancestors"><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../../documentation-center.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Documentation Home</span></a></li></ul>
<ul class="nav_disambiguation"><li><a href="../index.html?s_tid=CRUX_lftnav" id="index">MATLAB</a>
</li>
<li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../data-import-and-analysis.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Data Import and Analysis</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../data-import-and-export.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Data Import and Export</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../standard-file-formats.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Standard File Formats</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../scientific-data.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Scientific Data</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../network-common-data-form.html?s_tid=CRUX_lftnav" itemprop="url" id="network-common-data-form"><span itemprop="title">NetCDF Files</span></a></li></ul><div class="search_refine_v4"><div id="facets_area"><ul class="nav_scrollspy nav list-unstyled" id="pnav">
<li class="nav_scrollspy_function nav-item"><a href="#responsive_offcanvas">Export to NetCDF Files</a></li>
<li class="nav_scrollspy_title nav-item" id="SSPY810-section">On this page</li>
<!--ADD_REFENTRY_TITLE_HERE 11--><li class="nav-item"><a href="#btikaa2" class="nav-link intrnllnk">MATLAB NetCDF Capabilities</a></li><li class="nav-item"><a href="#bsxb70a" class="nav-link intrnllnk">Create New NetCDF File from Existing File or Template</a></li><li class="nav-item"><a href="#bsxb8lu-1" class="nav-link intrnllnk">Merge Two NetCDF Files</a></li><li class="nav-item"><a href="#bsxb70y-1" class="nav-link intrnllnk">Write Data to NetCDF File Using Low-Level Functions</a></li><li class="nav-item"><a href="#seealsoref" class="nav-link intrnllnk">See Also</a></li></ul></div></div>
</nav></div></nav>
<script src="../../includes/product/scripts/offcanvas_v2.js"></script></div><!--END.CLASS sidebar-offcanvas-->
<div class="offcanvas_content_container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sticky_header_container"><div class="horizontal_nav"><div class="horizontal_nav_container"><div class="offcanvas_horizontal_nav"><div class="container-fluid"><div class="row"><div class="col-sm-12 d-none d-sm-block"><nav class="navbar navbar-default" role="navigation" id="subnav"><div><ul class="nav navbar-nav crux_browse"><li id="crux_nav_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_example" class="crux_resource"><a href="../examples.html?category=network-common-data-form&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=network-common-data-form&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=network-common-data-form&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></nav></div><div class="d-sm-none"><div class="container-fluid"><div class="row"><div class="col-9"><div class="mobile_crux_nav_trigger"><div class="btn-group"><button type="button" class="btn btn-default dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Resources</button><ul class="dropdown-menu"><li id="crux_nav_mobile_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_mobile_example" class="crux_resource"><a href="../examples.html?category=network-common-data-form&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_mobile_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=network-common-data-form&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_mobile_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=network-common-data-form&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></div></div><div class="col-3"><div class="translate_placeholder"></div></div></div></div></div></div></div></div></div></div></div><div class="content_container" id="content_container" itemprop="content">
<div class="container-fluid">
<div class="row">
<div class="col-12">

<main id="skip_link_anchor" tabindex="-1">
<div xmlns="http://www.w3.org/1999/xhtml" id="product_info_alert"></div><section xmlns="http://www.w3.org/1999/xhtml" id="doc_center_content" lang="en" data-language="en"><div id="pgtype-topic">
<section><h2 class="title r2025b" itemprop="title content" id="brue86d-1">Export to NetCDF Files</h2>
            <p class="shortdesc">Create, merge, and write netCDF files using high-level functions
                and the <code class="literal">netcdf</code> namespace low-level functions.</p>
        <ul><li><p><a class="intrnllnk" href="#btikaa2"><span class="trademark entity">MATLAB</span> NetCDF Capabilities</a></p></li><li><p><a class="intrnllnk" href="#bsxb70a">Create New NetCDF File from Existing File or Template</a></p></li><li><p><a class="intrnllnk" href="#bsxb8lu-1">Merge Two NetCDF Files</a></p></li><li><p><a class="intrnllnk" href="#bsxb70y-1">Write Data to NetCDF File Using Low-Level Functions</a></p></li></ul><section><h3 class="title" id="btikaa2"><span class="trademark entity">MATLAB</span> NetCDF Capabilities</h3><p>Network Common Data Form (netCDF) is a set of software libraries and
                machine-independent data formats that support the creation, access, and sharing of
                array-oriented scientific data. NetCDF is used by a wide range of engineering and
                scientific fields that want a standard way to store data so that it can be shared. </p><p>MATLAB<sup>&#x00AE;</sup> high-level functions make it easy to export data to a netCDF file.
                    MATLAB low-level functions provide access to the routines in the NetCDF C
                library. To use the low-level functions effectively, you should be familiar with the
                netCDF C Interface. The NetCDF documentation is available at the <a href="https://www.unidata.ucar.edu/software/netcdf/" target="_blank">Unidata
                    website</a>.</p><div class="alert alert-info d-inline-block"><span class="alert_icon icon-alert-info-reverse"></span><p class="alert_heading"><strong>Note</strong></p><p>For information about exporting to Common Data Format (CDF) files, which have
                    a separate and incompatible format, see <a href="exporting-to-common-data-file-format-cdf-files.html" class="a">Export to CDF Files</a>.</p></div></section><section><h3 class="title" id="bsxb70a">Create New NetCDF File from Existing File or Template</h3><div class="examples_short_list hidden_ios_android" data-products="ML"><div data-pane="metadata" class="card metadata_container"><div class="card-body metadata_content"><div class="d-grid"><a class="btn btn_color_blue" href="matlab:openExample('matlab/CreateNewNetCDFFileFromExistingFileOrTemplateExample')" data-ex-genre="Live Script">Open Live Script</a></div></div></div></div><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "DigitalDocument",
          "headline": "Create New NetCDF File from Existing File or Template",
          "description": "Create a new NetCDF file that contains the variable, dimension, and group definitions of an existing file, but uses a different format.",
          "thumbnailURL": "../../includes/product/images/doc_center/DefaultImage.png",
          "genre": "Live Script",
          "isBasedOn": {
          "@type": "Product",
          "name": "MATLAB"

        },
          "isPartOf": {
          "@type": "CreativeWork",
          "url": "exporting-to-network-common-data-form-netcdf-files.html"

        },
          "identifier": "matlab.CreateNewNetCDFFileFromExistingFileOrTemplateExample",
          "name": "CreateNewNetCDFFileFromExistingFileOrTemplateExample",
          "url": "exporting-to-network-common-data-form-netcdf-files.html#bsxb70a"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "PropertyValue",
          "name": "open_command",
          "value": "matlab:openExample('matlab/CreateNewNetCDFFileFromExistingFileOrTemplateExample')"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "ExampleSourceFiles",

        "itemListElement":
        [
        "CreateNewNetCDFFileFromExistingFileOrTemplateExample.mlx"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><div itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/Example" itemprop="example" class="em_example"><meta itemprop="exampleid" content="matlab-CreateNewNetCDFFileFromExistingFileOrTemplateExample"><meta itemprop="exampletitle" content="Create New NetCDF File from Existing File or Template"></div><span id="CreateNewNetCDFFileFromExistingFileOrTemplateExample" class="anchor_target"></span><p class="shortdesc">This example shows how to create a new NetCDF file that contains the variable, dimension, and group definitions of an existing file, but uses a different format.</p><p>Create a file containing one variable, using the <code class="literal">nccreate</code> function.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>nccreate(<span style="color:#A020F0">'myfile.nc'</span>,<span style="color:#A020F0">'myvar'</span>)</pre></div></div></div><p>Write data to the file.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>A = 99;
ncwrite(<span style="color:#A020F0">'myfile.nc'</span>,<span style="color:#A020F0">'myvar'</span>,A)</pre></div></div></div><p>Read the variable, dimension, and group definitions from the file using <code class="literal">ncinfo</code>. This information defines the file's <span class="emphasis"><em>schema</em></span>.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>S = ncinfo(<span style="color:#A020F0">'myfile.nc'</span>);</pre></div></div></div><p>Get the format of the file.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>file_fmt = S.Format</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>file_fmt = 
'netcdf4_classic'
</pre></div></div></div><p>Change the value of the <code class="literal">Format</code> field in the structure, <code class="literal">S</code>, to another supported NetCDF format.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>S.Format = <span style="color:#A020F0">'netcdf4'</span>;</pre></div></div></div><p>Create a new version of the file that uses the new format, using the <code class="literal">ncwriteschema</code> function. A schema defines the structure of the file but does not contain any of the data that was in the original file.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>ncwriteschema(<span style="color:#A020F0">'newfile.nc'</span>,S)
S = ncinfo(<span style="color:#A020F0">'newfile.nc'</span>);</pre></div></div></div><p><strong class="emphasis bold">Note:</strong> When you convert a file's format using <code class="literal">ncwriteschema</code>, you might get a warning message if the original file format includes fields that are not supported by the new format. For example, the netcdf4 format supports fill values but the NetCDF classic format does not. In these cases, <code class="literal">ncwriteschema</code> still creates the file, but omits the field that is undefined in the new format.</p><p>View the format of the new file.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>new_fmt = S.Format</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>new_fmt = 
'netcdf4'
</pre></div></div></div><p>The new file, <code class="literal">newfile.nc</code>, contains the variable and dimension definitions of <code class="literal">myfile.nc</code>, but does not contain the data. </p><p>Write data to the new file.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>ncwrite(<span style="color:#A020F0">'newfile.nc'</span>,<span style="color:#A020F0">'myvar'</span>,A)</pre></div></div></div><div class="procedure"></div></section><section><h3 class="title" id="bsxb8lu-1">Merge Two NetCDF Files</h3>
                <p class="shortdesc">This example shows how to merge two netCDF files using
                    high-level functions. The combined file contains the variable and dimension
                    definitions of the files that are combined, but does not contain the data in
                    these original files.</p>
            <div class="procedure"><p>Create a netCDF file named <code class="literal">ex1.nc</code> and define a variable
                        named <code class="literal">myvar</code>. Then, write data to the variable and display
                        the file contents.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>nccreate(<span style="color:#A020F0">'ex1.nc'</span>,<span style="color:#A020F0">'myvar'</span>);
ncwrite(<span style="color:#A020F0">'ex1.nc'</span>,<span style="color:#A020F0">'myvar'</span>,55)
ncdisp(<span style="color:#A020F0">'ex1.nc'</span>)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>Source:
           <em class="replaceable">pwd</em>\ex1.nc
Format:
           netcdf4_classic
Variables:
    myvar
           Size:       1x1
           Dimensions: 
           Datatype:   double</pre></div></div></div><p>Create a second file and define a variable named
                        <code class="literal">myvar2</code>. Then, write data to the variable and display the
                        file contents.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>nccreate(<span style="color:#A020F0">'ex2.nc'</span>,<span style="color:#A020F0">'myvar2'</span>);
ncwrite(<span style="color:#A020F0">'ex2.nc'</span>,<span style="color:#A020F0">'myvar2'</span>,99)
ncdisp(<span style="color:#A020F0">'ex2.nc'</span>)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>Source:
           <em class="replaceable">pwd</em>\ex2.nc
Format:
           netcdf4_classic
Variables:
    myvar2
           Size:       1x1
           Dimensions: 
           Datatype:   double</pre></div></div></div><p>Get the schema of each of the files, using the <code class="literal">ncinfo</code>
                        function.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>info1 = ncinfo(<span style="color:#A020F0">'ex1.nc'</span>)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>info1 = 

      Filename: '<em class="replaceable">pwd</em>\ex1.nc'
          Name: '/'
    Dimensions: []
     Variables: [1x1 struct]
    Attributes: []
        Groups: []
        Format: 'netcdf4_classic'</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>info2 = ncinfo(<span style="color:#A020F0">'ex2.nc'</span>)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>info2 = 

      Filename: '<em class="replaceable">pwd</em>\ex2.nc'
          Name: '/'
    Dimensions: []
     Variables: [1x1 struct]
    Attributes: []
        Groups: []
        Format: 'netcdf4_classic'
</pre></div></div></div><p>Create a new netCDF file that uses the schema of the first example file,
                        using the <code class="literal">ncwriteschema</code> function. Then, display the file
                        contents.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>ncwriteschema(<span style="color:#A020F0">'combined.nc'</span>,info1)
ncdisp(<span style="color:#A020F0">'combined.nc'</span>)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>Source:
           <em class="replaceable">pwd</em>\combined.nc
Format:
           netcdf4_classic
Variables:
    myvar
           Size:       1x1
           Dimensions: 
           Datatype:   double
           Attributes:
                       _FillValue = 9.969209968386869e+36</pre></div></div></div><p>Add the schema from <code class="literal">ex2.nc</code> to
                            <code class="literal">combined.nc</code>, using <code class="literal">ncwriteschema</code>. </p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>ncwriteschema(<span style="color:#A020F0">'combined.nc'</span>,info2)</pre></div></div></div><p>View the contents of the combined file.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>ncdisp(<span style="color:#A020F0">'combined.nc'</span>)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>Source:
           <em class="replaceable">pwd</em>\combined.nc
Format:
           netcdf4_classic
Variables:
    myvar 
           Size:       1x1
           Dimensions: 
           Datatype:   double
           Attributes:
                       _FillValue = 9.969209968386869e+36
    myvar2
           Size:       1x1
           Dimensions: 
           Datatype:   double
           Attributes:
                       _FillValue = 9.969209968386869e+36</pre></div></div></div><p>The file contains the <code class="literal">myvar</code> variable defined in the
                        first example file and the <code class="literal">myvar2</code> variable defined in the
                        second file.</p></div></section><section><h3 class="title" id="bsxb70y-1">Write Data to NetCDF File Using Low-Level Functions</h3><div class="examples_short_list hidden_ios_android" data-products="ML"><div data-pane="metadata" class="card metadata_container"><div class="card-body metadata_content"><div class="d-grid"><a class="btn btn_color_blue" href="matlab:openExample('matlab/WriteDataToNetCDFFileUsingLowLevelFunctionsExample')" data-ex-genre="Live Script">Open Live Script</a></div></div></div></div><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "DigitalDocument",
          "headline": "Write Data to NetCDF File Using Low-Level Functions",
          "description": "Use low-level functions to write data to a netCDF file. The MATLAB&#174; low-level functions provide access to the routines in the netCDF C library. MATLAB groups the functions into a namespace, called netcdf. To call one of the functions in the namespace, you must prefix the function name with the namespace.",
          "thumbnailURL": "../../includes/product/images/doc_center/DefaultImage.png",
          "genre": "Live Script",
          "isBasedOn": {
          "@type": "Product",
          "name": "MATLAB"

        },
          "isPartOf": {
          "@type": "CreativeWork",
          "url": "exporting-to-network-common-data-form-netcdf-files.html"

        },
          "identifier": "matlab.WriteDataToNetCDFFileUsingLowLevelFunctionsExample",
          "name": "WriteDataToNetCDFFileUsingLowLevelFunctionsExample",
          "url": "exporting-to-network-common-data-form-netcdf-files.html#bsxb70y-1"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "PropertyValue",
          "name": "open_command",
          "value": "matlab:openExample('matlab/WriteDataToNetCDFFileUsingLowLevelFunctionsExample')"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "ExampleSourceFiles",

        "itemListElement":
        [
        "WriteDataToNetCDFFileUsingLowLevelFunctionsExample.mlx"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><div itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/Example" itemprop="example" class="em_example"><meta itemprop="exampleid" content="matlab-WriteDataToNetCDFFileUsingLowLevelFunctionsExample"><meta itemprop="exampletitle" content="Write Data to NetCDF File Using LowLevel Functions"></div><span id="WriteDataToNetCDFFileUsingLowLevelFunctionsExample" class="anchor_target"></span><p class="shortdesc">This example shows how to use low-level functions to write data to a netCDF file. The MATLAB&#174; low-level functions provide access to the routines in the netCDF C library. MATLAB groups the functions into a namespace, called <code class="literal">netcdf</code>. To call one of the functions in the namespace, you must prefix the function name with the namespace.</p><p>To use the MATLAB netCDF functions effectively, you should be familiar with the information about the netCDF C Interface.</p><p>To run this example, you must have write permission in your current folder.</p><p>Create a 1-by-50 variable of numeric values named <code class="literal">my_data</code> in the MATLAB workspace. The vector is of class <code class="literal">double</code>.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>my_data = linspace(0,49,50);</pre></div></div></div><p>Create a netCDF file named <code class="literal">my_file.nc</code>, using the <code class="literal">netcdf.create</code> function. The <code class="literal">NOCLOBBER</code> parameter is a netCDF file access constant that indicates that you do not want to overwrite an existing file with the same name.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>ncid = netcdf.create(<span style="color:#A020F0">"my_file.nc"</span>,<span style="color:#A020F0">"NOCLOBBER"</span>);</pre></div></div></div><p><code class="literal">netcdf.create</code> returns a file identifier, <code class="literal">ncid</code>. When you create a netCDF file, the file opens in define mode. You must be in define mode to define dimensions and variables.</p><p>Define a dimension in the file, using the <code class="literal">netcdf.defDim</code> function. This function corresponds to the <code class="literal">nc_def_dim</code> function in the netCDF library C API. You must define dimensions in the file before you can define variables and write data to the file. In this case, define a dimension named <code class="literal">my_dim</code> with length 50.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>dimid = netcdf.defDim(ncid,<span style="color:#A020F0">"my_dim"</span>,50);</pre></div></div></div><p><code class="literal">netcdf.defDim</code> returns a dimension identifier that corresponds to the new dimension. Identifiers are zero-based indexes.</p><p>Define a variable named <code class="literal">my_var</code> on the dimension, using the <code class="literal">netcdf.defVar</code> function. This function corresponds to the <code class="literal">nc_def_var</code> function in the netCDF library C API. Specify the netCDF data type of the variable, in this case, <code class="literal">NC_BYTE</code>.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>varid = netcdf.defVar(ncid,<span style="color:#A020F0">"my_var"</span>,<span style="color:#A020F0">"NC_BYTE"</span>,dimid);</pre></div></div></div><p><code class="literal">netcdf.defVar</code> returns a variable identifier that corresponds to <code class="literal">my_var</code>.</p><p>Take the netCDF file out of define mode. To write data to a file, you must be in data mode.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>netcdf.endDef(ncid)</pre></div></div></div><p>Write the data from the MATLAB workspace into the variable in the netCDF file, using the <code class="literal">netcdf.putVar</code> function. The data in the workspace is of class <code class="literal">double</code> but the variable in the netCDF file is of type <code class="literal">NC_BYTE</code>. The MATLAB netCDF functions automatically do the conversion.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>netcdf.putVar(ncid,varid,my_data)</pre></div></div></div><p>Close the file, using the <code class="literal">netcdf.close</code> function.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>netcdf.close(ncid)</pre></div></div></div><p>Verify that the data was written to the file by opening the file and reading the data from the variable into a new variable in the MATLAB workspace.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>ncid2 = netcdf.open(<span style="color:#A020F0">"my_file.nc"</span>,<span style="color:#A020F0">"NC_NOWRITE"</span>);
x = netcdf.getVar(ncid2,0);</pre></div></div></div><p>View the data type of <code class="literal">x</code>.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>whos <span style="color:#A020F0">x</span></pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>  Name       Size            Bytes  Class    Attributes

  x         50x1                50  int8               
</pre></div></div></div><p>MATLAB stores data in column-major order while the netCDF C API uses row-major order. <code class="literal">x</code> represents the data stored in the netCDF file and is therefore 50-by-1 even though the original vector in the MATLAB workspace, <code class="literal">my_data</code>, is 1-by-50. Because you stored the data in the NetCDF file as <code class="literal">NC_BYTE</code>, MATLAB reads the data from the variable into the workspace as class <code class="literal">int8</code>.</p><p>Close the file.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>netcdf.close(ncid2)</pre></div></div></div><div class="procedure"></div></section>
            <h2 id="seealsoref">See Also</h2><h3 id="d126e13089">Topics</h3><ul class="list-unstyled"><li><a href="map-netcdf-api-syntax-to-matlab-syntax.html" class="a">Map NetCDF API Syntax to MATLAB Syntax</a></li></ul>
            <h3 id="d126e13094">External Websites</h3><ul class="list-unstyled"><li><a href="https://www.unidata.ucar.edu/software/netcdf/" target="_blank">NetCDF C
                    Interface</a></li></ul>
        </section>
    </div></section><div xmlns="http://www.w3.org/1999/xhtml" class="clearfix"></div>
<div xmlns="http://www.w3.org/1999/xhtml" align="center" class="feedbackblock" id="mw_docsurvey"><script src="https://www.mathworks.com/help/docsurvey/docfeedback.js"></script>
<script>loadSurveyHidden();</script>
<link rel="stylesheet" href="https://www.mathworks.com/help/docsurvey/release/index-css.css" type="text/css">
<script src="https://www.mathworks.com/help/docsurvey/release/bundle.index.js"></script>

<script>initDocSurvey();</script></div></main>


</div>
</div>
</div>
</div><!--close_0960-->
<footer xmlns="http://www.w3.org/1999/xhtml" id="footer" class="bs-footer">
<div class="container-fluid">
<div class="footer">
<div class="row">
<div class="col-12">
<p class="copyright">Â© 1994-2025 The MathWorks, Inc.</p>
<ul class="footernav"><li class="footernav_help"><a href="matlab:web(matlab.internal.licenseAgreement)">Terms of Use</a></li><li class="footernav_patents"><a href="matlab:web([matlabroot '/patents.txt'])">Patents</a></li><li class="footernav_trademarks"><a href="matlab:web([matlabroot '/trademarks.txt'])">Trademarks</a></li><li class="footernav_piracy"><a href="matlab:web([docroot '/acknowledgments.html'])">Acknowledgments</a></li></ul></div>
</div>
</div>
</div>
</footer>
</div><!--close row-offcanvas-->
</div><!--close_0970-->
</body>
</html>
