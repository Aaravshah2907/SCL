<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage">
<head>
<meta xmlns="http://www.w3.org/1999/xhtml" charset="utf-8">
<meta xmlns="http://www.w3.org/1999/xhtml" name="viewport" content="width=device-width, initial-scale=1.0">
<meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="X-UA-Compatible" content="IE=edge">
<title>Work with Remote Data</title>
<script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
      {
      "@context": "http://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement":
      [{
          "@type": "ListItem",
          "position": 1,

          "item": {
          "@id": "../index.html",
          "name": "MATLAB"
}

          } 
        ,
        {
          "@type": "ListItem",
          "position": 2,

          "item": {
          "@id": "../data-import-and-analysis.html",
          "name": "Data Import and Analysis"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 3,

          "item": {
          "@id": "../large-files-and-big-data.html",
          "name": "Large Files and Big Data"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 4,

          "item": {
          "@id": "../datastore.html",
          "name": "Datastore"
}

          }]
      }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
      {
      "@context": "http://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement":
      [{
          "@type": "ListItem",
          "position": 1,

          "item": {
          "@id": "../index.html",
          "name": "MATLAB"
}

          } 
        ,
        {
          "@type": "ListItem",
          "position": 2,

          "item": {
          "@id": "../programming-and-data-types.html",
          "name": "Programming"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 3,

          "item": {
          "@id": "../files-and-folders.html",
          "name": "Files and Folders"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 4,

          "item": {
          "@id": "../file-operations.html",
          "name": "File Operations"
}

          }]
      }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
      {
      "@context": "http://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement":
      [{
          "@type": "ListItem",
          "position": 1,

          "item": {
          "@id": "../index.html",
          "name": "MATLAB"
}

          } 
        ,
        {
          "@type": "ListItem",
          "position": 2,

          "item": {
          "@id": "../programming-and-data-types.html",
          "name": "Programming"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 3,

          "item": {
          "@id": "../security-in-MATLAB-code.html",
          "name": "Security in MATLAB Code"
}

          }]
      }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "VisibleBreadcrumbs",

        "itemListElement":
        [
        "datastore",
        "file-operations",
        "security-in-MATLAB-code"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/bootstrap.min.css" rel="stylesheet" type="text/css">


  <meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="Content-Script-Type" content="text/javascript">
<meta xmlns="http://www.w3.org/1999/xhtml" name="toctype" itemprop="pagetype" content="con">
<meta xmlns="http://www.w3.org/1999/xhtml" name="infotype" itemprop="infotype" content="con">

<meta xmlns="http://www.w3.org/1999/xhtml" name="description" itemprop="description" content="Work with remote data in Amazon S3, Azure Blob Storage, or HDFS."><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-3.6.0.min.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-migrate.min.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_lg.css" rel="stylesheet" media="screen and (min-width: 1200px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_md.css" rel="stylesheet" media="screen and (min-width: 992px) and (max-width: 1199px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm+xs.css" rel="stylesheet" media="screen and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm.css" rel="stylesheet" media="screen and (min-width: 768px) and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_xs.css" rel="stylesheet" media="screen and (max-width: 767px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_offcanvas_v2.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/shared/highlight/styles/mwdochighlight.min.css" rel="stylesheet" type="text/css">

<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/l10n.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/f1help.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/mw.imageanimation.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/jquery.highlight.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/underscore-min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/use_platform_screenshots.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/suggest.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/overload.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/helpservices.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/productfilter.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/matlab_dialog_shared.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/highlight/highlight.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/localstorage.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/product_group.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/saxonjs/SaxonJS2.rt.js"></script><script xmlns="http://www.w3.org/1999/xhtml">
            window.history.replaceState(window.location.href, null, ""); // Initialize
            window.onload = function() {    
            mystylesheetLocation = "../../includes/shared/scripts/product_group-sef.json";
            mysourceLocation = "../../docset/docset.xml";
            product_help_location = "matlab";
            pagetype = "section";
            doccentertype = "product";
            langcode = "";
            getProductFilteredList(mystylesheetLocation, mysourceLocation, product_help_location, pagetype, doccentertype, langcode);  
            }
          </script>




<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery.mobile.custom.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/bootstrap.bundle.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/global.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_base.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_installed.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_print.css" rel="stylesheet" type="text/css" media="print">
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/equationrenderer/release/MathRenderer.js"></script>
</head>
<body id="responsive_offcanvas">
<div xmlns="http://www.w3.org/1999/xhtml" id="doc_header_spacer" class="header"></div>
<div xmlns="http://www.w3.org/1999/xhtml" class="section_header level_3"><div class="container-fluid"><div class="row" id="mobile_search_row"><div class="col-sm-6 col-md-7 has_horizontal_local_nav" id="section_header_title"><div class="section_header_content"><div class="section_header_title"><h1><a href="../../documentation-center.html">Help Center</a></h1></div></div></div><div class="col-12 col-sm-6 col-md-5" id="mobile_search"><div class="search_nested_content_container"><form id="docsearch_form" name="docsearch_form" method="get" data-release="R2025b" data-language="en" action="../../templates/searchresults.html"><div class="input-group tokenized_search_field"><label class="visually-hidden form-label">Search Help</label><input type="text" class="form-control conjoined_search" autocomplete="off" name="qdoc" placeholder="Search Help" id="docsearch"> <div><button type="submit" name="submitsearch" id="submitsearch" class="btn icon-search btn_search_adjacent btn_search icon_16" tabindex="-1"></button></div></div></form></div><button class="btn icon-remove btn_search float-end icon_32 d-sm-none" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div><div class="d-sm-none" id="search_actuator"><button class="btn icon-search btn_search float-end icon_16" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div></div></div></div><div class="row-offcanvas row-offcanvas-left">
<div xmlns="http://www.w3.org/1999/xhtml" class="sidebar-offcanvas" id="sidebar">
<nav class="offcanvas_nav" role="navigation">
<div class="offcanvas_actuator" data-bs-toggle="offcanvas" data-bs-target="#sidebar" id="nav_toggle"><button type="button" class="btn"><span class="visually-hidden">Off-Canvas Navigation Menu Toggle
                  Off-Canvas Navigation Menu Toggle</span><span class="icon-menu"></span></button><span class="offcanvas_actuator_label" id="translation_icon-menu" tabindex="-1" aria-hidden="true"></span></div><div class="nav_list_wrapper" id="nav_list_wrapper"><nav class="offcanvas_nav" role="navigation"><ul class="nav_breadcrumb" id="ul_left_nav_ancestors"><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../../documentation-center.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Documentation Home</span></a></li></ul>
<ul class="nav_disambiguation"><li><a href="../index.html?s_tid=CRUX_lftnav" id="index">MATLAB</a>
</li>
<li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../data-import-and-analysis.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Data Import and Analysis</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../large-files-and-big-data.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Large Files and Big Data</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../datastore.html?s_tid=CRUX_lftnav" itemprop="url" id="buhq8av-1"><span itemprop="title">Datastore</span></a></li></ul><ul class="nav_disambiguation"><li><a href="../index.html?s_tid=CRUX_lftnav" id="index">MATLAB</a>
</li>
<li><a href="../programming-and-data-types.html?s_tid=CRUX_lftnav">Programming</a></li><li><a href="../files-and-folders.html?s_tid=CRUX_lftnav">Files and Folders</a></li><li><a href="../file-operations.html?s_tid=CRUX_lftnav" id="buq92f3-2">File Operations</a></li></ul><ul class="nav_disambiguation"><li><a href="../index.html?s_tid=CRUX_lftnav" id="index">MATLAB</a>
</li>
<li><a href="../programming-and-data-types.html?s_tid=CRUX_lftnav">Programming</a></li><li><a href="../security-in-MATLAB-code.html?s_tid=CRUX_lftnav" id="mw_09bd6f0b-5990-44a1-a0db-2051694a52b4">Security in MATLAB Code</a></li></ul><div class="search_refine_v4"><div id="facets_area"><ul class="nav_scrollspy nav list-unstyled" id="pnav">
<li class="nav_scrollspy_function nav-item"><a href="#responsive_offcanvas">Work with Remote Data</a></li>
<li class="nav_scrollspy_title nav-item" id="SSPY810-section">On this page</li>
<!--ADD_REFENTRY_TITLE_HERE 11--><li class="nav-item"><a href="#mw_59e955f7-e75e-4819-8ca5-8c1fc38de45b" class="nav-link intrnllnk">Internet URL</a></li><li class="nav-item"><a href="#bvn_hcu-2" class="nav-link intrnllnk">Amazon S3</a><ul class="nav"><li class="nav-item"><a href="#mw_8d482b76-905d-4665-b263-cbd6450aeebc" class="nav-link intrnllnk">Set Up Access</a></li><li class="nav-item"><a href="#mw_f7cce212-17a8-4da0-a76d-3db0f5e13b88" class="nav-link intrnllnk">Read Data from Amazon S3</a></li><li class="nav-item"><a href="#mw_5e11c3de-786b-42df-ba7b-c003a8aa3a38" class="nav-link intrnllnk">Write Data to Amazon S3</a></li></ul></li><li class="nav-item"><a href="#mw_11daa39e-c1f6-475d-927b-87dc94718b99" class="nav-link intrnllnk">Azure Blob Storage</a><ul class="nav"><li class="nav-item"><a href="#mw_74cd6d87-7721-40e2-8ac1-a015d5877401" class="nav-link intrnllnk">Set Up Access</a></li><li class="nav-item"><a href="#mw_adc96a14-625e-485e-bdc0-71002062939e" class="nav-link intrnllnk">Read Data from Azure</a></li><li class="nav-item"><a href="#mw_c7188307-35ff-4ea7-9c1e-ff9dbae9e62b" class="nav-link intrnllnk">Write Data to Azure</a></li></ul></li><li class="nav-item"><a href="#bvn_hcu-3" class="nav-link intrnllnk">Hadoop Distributed File System</a><ul class="nav"><li class="nav-item"><a href="#bvn_hcu-4" class="nav-link intrnllnk">Specify Location of Data</a></li><li class="nav-item"><a href="#bvn_hcu-5" class="nav-link intrnllnk">Set Hadoop Environment Variable</a></li><li class="nav-item"><a href="#mw_8ec9b66e-da7b-46d2-a3cb-6fcd30b9d4d1" class="nav-link intrnllnk">HDFS data on Hortonworks or CLOUDERA</a></li><li class="nav-item"><a href="#bvn_hcu-6" class="nav-link intrnllnk">Prevent Clearing Code from Memory</a></li><li class="nav-item"><a href="#mw_64e0528d-4095-42e5-969b-58c9e70f2dc0" class="nav-link intrnllnk">Write Data to HDFS</a></li></ul></li><li class="nav-item"><a href="#d126e28969" class="nav-link intrnllnk">See Also</a></li></ul></div></div>
</nav></div></nav>
<script src="../../includes/product/scripts/offcanvas_v2.js"></script></div><!--END.CLASS sidebar-offcanvas-->
<div class="offcanvas_content_container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sticky_header_container"><div class="horizontal_nav"><div class="horizontal_nav_container"><div class="offcanvas_horizontal_nav"><div class="container-fluid"><div class="row"><div class="col-sm-12 d-none d-sm-block"><nav class="navbar navbar-default" role="navigation" id="subnav"><div><ul class="nav navbar-nav crux_browse"><li id="crux_nav_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_example" class="crux_resource"><a href="../examples.html?category=datastore&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=datastore&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=datastore&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></nav></div><div class="d-sm-none"><div class="container-fluid"><div class="row"><div class="col-9"><div class="mobile_crux_nav_trigger"><div class="btn-group"><button type="button" class="btn btn-default dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Resources</button><ul class="dropdown-menu"><li id="crux_nav_mobile_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_mobile_example" class="crux_resource"><a href="../examples.html?category=datastore&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_mobile_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=datastore&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_mobile_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=datastore&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></div></div><div class="col-3"><div class="translate_placeholder"></div></div></div></div></div></div></div></div></div></div></div><div class="content_container" id="content_container" itemprop="content">
<div class="container-fluid">
<div class="row">
<div class="col-12">

<main id="skip_link_anchor" tabindex="-1">
<div xmlns="http://www.w3.org/1999/xhtml" id="product_info_alert"></div><section xmlns="http://www.w3.org/1999/xhtml" id="doc_center_content" lang="en" data-language="en"><div id="pgtype-topic">
<section><h2 class="title r2025b" itemprop="title content" id="buh9wge-1"><span id="IO_REMOTE_DATA" class="anchor_target"></span>Work with Remote Data</h2>
      <p class="shortdesc">You can read and write data from a remote location using MATLAB<sup>&#x00AE;</sup> functions and objects, such as file I/O functions and some datastore objects.
        These examples show how to set up, read from, and write to the following remote locations:</p>
<div class="itemizedlist"><ul><li><p>Internet URL &#8211; Import data only.</p></li><li><p>Amazon S3&#x2122; (Simple Storage Service)</p></li><li><p>
              Azure<sup>&#x00AE;</sup> Blob Storage (previously known as Windows Azure<sup>&#x00AE;</sup> Storage Blob (WASB)) </p></li><li><p>Hadoop<sup>&#x00AE;</sup> Distributed File System (HDFS&#x2122;)</p></li></ul></div><p>
</p>
    <section><h3 class="title add_margin_0" id="mw_59e955f7-e75e-4819-8ca5-8c1fc38de45b">Internet URL</h3><p><em>Since R2024b</em></p><p>MATLAB lets you read data from an internet uniform resource locator (URL) with the
        protocol type <code class="literal">http://</code> or <code class="literal">https://</code>. Reading data from
        an internet URL requires no additional setup. Writing data to an internet URL is not
        supported. This code shows how to read data from an internet URL as a table.</p><div class="code_responsive"><pre class="programlisting">T = readtable("https://<em class="replaceable">domain</em>/<em class="replaceable">path_to_file</em>");</pre></div><p>MATLAB does not support internet URLs that require authentication. <span class="entity">MATLAB
            Online&#x2122;</span> supports internet URLs associated with Microsoft<sup>&#x00AE;</sup>
        OneDrive&#x2122; files and folders, while the installed version of MATLAB supports only local OneDrive files.</p><p>Certain characters, such as <code class="literal">#</code> and <code class="literal">?</code>, cannot be
        included in a URL because they are reserved as delimiters. For more information on reserved
        characters, see <a href="https://datatracker.ietf.org/doc/html/rfc3986#autoid-13" target="_blank">Reserved Characters</a> on the Internet Engineering Task Force (IETF) website.</p></section><section><h3 class="title" id="bvn_hcu-2"><span class="trademark entity">Amazon S3</span></h3><p>MATLAB lets you use Amazon S3 as an online file storage web service offered by Amazon Web Services. When you
        specify the location of the data, you must specify the full path to the files or folders
        using a uniform resource locator (URL) of the form</p><div class="code_responsive"><pre class="programlisting">s3://<em class="replaceable">bucketname</em>/<em class="replaceable">path_to_file</em></pre></div><p><em class="replaceable"><code>bucketname</code></em> is the name of the container and
          <em class="replaceable"><code>path_to_file</code></em> is the path to the file or folders.</p><p><a href="https://aws.amazon.com/s3/" target="_blank">
          <span class="trademark entity">Amazon S3</span>
        </a> provides data storage through web services interfaces. You can use a
          <span class="emphasis"><em>bucket</em></span> as a container to store objects in Amazon S3.</p><section><h4 class="title" id="mw_8d482b76-905d-4665-b263-cbd6450aeebc">Set Up Access</h4><p>To work with remote data in Amazon S3, you must set up access first:</p>
<div class="orderedlist"><ol style="list-style: decimal;"><li><p>Sign up for an Amazon Web Services (AWS) root account. See <a href="https://aws.amazon.com/account/" target="_blank">Amazon Web Services:
                Account</a>.</p></li><li><p>Using your AWS root account, create an IAM (Identity and Access Management)
                user. See <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_users_create.html" target="_blank">Creating an IAM User in Your AWS Account</a>.</p></li><li><p>Generate an access key to receive an access key ID and a secret access key. See
                  <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_access-keys.html" target="_blank">Managing Access Keys for IAM Users</a>.</p></li><li><p>Configure your machine with the AWS access key ID, secret access key, and region
                using the AWS Command Line Interface tool from <a href="https://aws.amazon.com/cli/" target="_blank">https://aws.amazon.com/cli/</a>. Alternatively, set the environment
                variables directly by using <code class="literal">setenv</code>: </p>
<div class="itemizedlist"><ul><li><p><code class="literal">AWS_ACCESS_KEY_ID</code> and
                        <code class="literal">AWS_SECRET_ACCESS_KEY</code> &#8212; Authenticate and enable
                      use of Amazon S3 services. (You generated this pair of access key variables in
                      step 3.)</p></li><li><p><code class="literal">AWS_DEFAULT_REGION</code> (optional) &#8212; Select the
                      geographic region of your bucket. The value of this environment variable is
                      typically determined automatically, but the bucket owner might require that
                      you set it manually.</p></li><li><p><code class="literal">AWS_SESSION_TOKEN</code> (optional) &#8212; Specify the
                      session token if you are using temporary security credentials, such as with
                        AWS<sup>&#x00AE;</sup> Federated Authentication.</p></li></ul></div><p>
</p></li></ol></div><p>
</p><p>If your Amazon S3 location is authorized for public access, you do not need to set environment
          variables or configure authentication. For more information on how to configure public
          access, see <a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/access-control-block-public-access.html" target="_blank">Blocking public access to your Amazon S3 storage</a>.</p><p>Amazon S3 also allows multiple users to access one account. For more information on
            Amazon S3 access, see <a href="https://aws.amazon.com/iam/" target="_blank">AWS Identity and
            Access Management (IAM)</a>.</p><p> If you are using Parallel Computing Toolbox&#x2122;, you must ensure the cluster has been configured to access S3 services. You
          can copy your client environment variables to the workers on a cluster by setting
            <code class="literal">EnvironmentVariables</code> in <code class="literal">parpool</code>,
            <code class="literal">batch</code>, <code class="literal">createJob</code>, or in the Cluster Profile
          Manager. </p><p>You can store sensitive information, such as configuration data, in your MATLAB vault or in a <code class="literal">.env</code> file. For more information, see <a href="keep-sensitive-information-out-of-code.html" class="a">Keep Sensitive Information Out of Code</a>.</p></section><section><h4 class="title" id="mw_f7cce212-17a8-4da0-a76d-3db0f5e13b88">Read Data from <span class="trademark entity">Amazon S3</span></h4><p>The following example shows how to use an <code class="literal">ImageDatastore</code> object to
          read a specified image from Amazon S3, and then display the image to
          screen.<div class="code_responsive"><pre class="programlisting">setenv('AWS_ACCESS_KEY_ID', 'YOUR_AWS_ACCESS_KEY_ID'); 
setenv('AWS_SECRET_ACCESS_KEY', 'YOUR_AWS_SECRET_ACCESS_KEY');

ds = imageDatastore('s3://bucketname/image_datastore/jpegfiles', ...
  'IncludeSubfolders', true, 'LabelSource', 'foldernames'); 
img = ds.readimage(1);
imshow(img)
</pre></div></p></section><section><h4 class="title" id="mw_5e11c3de-786b-42df-ba7b-c003a8aa3a38">Write Data to <span class="trademark entity">Amazon S3</span></h4><p> The following example shows how to use a <code class="literal">tabularTextDatastore</code>
          object to read tabular data from Amazon S3 into a tall array, preprocess it by removing missing entries and sorting,
          and then write it back to Amazon S3.</p><div class="code_responsive"><pre class="programlisting">setenv('AWS_ACCESS_KEY_ID', 'YOUR_AWS_ACCESS_KEY_ID');
setenv('AWS_SECRET_ACCESS_KEY', 'YOUR_AWS_SECRET_ACCESS_KEY');

ds = tabularTextDatastore('s3://bucketname/dataset/airlinesmall.csv', ...
  'TreatAsMissing', 'NA', 'SelectedVariableNames', {'ArrDelay'});
tt = tall(ds);
tt = sortrows(rmmissing(tt));
write('s3://bucketname/preprocessedData/',tt);
</pre></div><p>To read your tall data back, use the <code class="function">datastore</code> function.</p><div class="code_responsive"><pre class="programlisting">ds = datastore('s3://bucketname/preprocessedData/');
tt = tall(ds);
</pre></div></section></section><section><h3 class="title" id="mw_11daa39e-c1f6-475d-927b-87dc94718b99"><span class="trademark entity">Azure</span> Blob Storage</h3><p>MATLAB lets you use Azure Blob Storage for online file storage. When you specify the location of the
        data, you must specify the full path to the files or folders using a uniform resource
        locator (URL) of the form</p><div class="code_responsive"><pre class="programlisting">wasbs://<em class="replaceable">container@account</em>/<em class="replaceable">path_to_file</em>/<em class="replaceable">file.ext</em></pre></div><p><em class="replaceable"><code>container@account</code></em> is the name of the container and
          <em class="replaceable"><code>path_to_file</code></em> is the path to the file or folders.</p><p><a href="https://azure.microsoft.com/" target="_blank">
          <span class="trademark entity">Azure</span>
        </a> provides data storage through web services interfaces. You can use a
          <span class="emphasis"><em>blob</em></span> to store data files in Azure. See <a href="https://azure.microsoft.com/en-us/resources/cloud-computing-dictionary/what-is-azure/" target="_blank">What is <span class="trademark entity">Azure</span></a> for more information.</p><section><h4 class="title" id="mw_74cd6d87-7721-40e2-8ac1-a015d5877401">Set Up Access</h4><p>To work with remote data in Azure storage, you must set up access first:</p>
<div class="orderedlist"><ol style="list-style: decimal;"><li><p>Sign up for a Microsoft Azure account, see <a href="https://azure.microsoft.com/" target="_blank">Microsoft Azure Account</a>.</p></li><li><p>Set up your authentication details by setting exactly one of the two following
                environment variables using <code class="literal">setenv</code>: </p>
<div class="itemizedlist"><ul><li><p><code class="literal">MW_WASB_SAS_TOKEN</code> &#8212; Authentication via Shared
                      Access Signature (SAS)</p><p>Obtain an SAS. For details, see the "Get the SAS for a blob container"
                      section in <a href="https://learn.microsoft.com/azure/vs-azure-tools-storage-explorer-blobs" target="_blank">Manage Azure Blob Storage resources with Storage Explorer</a>.</p><p>In MATLAB, set <code class="literal">MW_WASB_SAS_TOKEN</code> to the SAS query
                      string. For example,
                      <div class="code_responsive"><pre class="programlisting">setenv MW_WASB_SAS_TOKEN '?st=2017-04-11T09%3A45%3A00Z&amp;se=2017-05-12T09%3A45%3A00Z&amp;sp=rl&amp;sv=2015-12-11&amp;sr=c&amp;sig=E12eH4cRCLilp3Tw%2BArdYYR8RruMW45WBXhWpMzSRCE%3D'</pre></div></p><p>You must set this string to a valid SAS token generated from the Azure
                      Storage web UI or Explorer.</p></li><li><p><code class="literal">MW_WASB_SECRET_KEY</code> &#8212; Authentication via one of
                      the Account's two secret keys</p><p>Each Storage Account has two secret keys that permit administrative
                      privilege access. This same access can be given to MATLAB without having to
                      create an SAS token by setting the <code class="literal">MW_WASB_SECRET_KEY</code>
                      environment variable. For example:
                      <div class="code_responsive"><pre class="programlisting">setenv MW_WASB_SECRET_KEY '1234567890ABCDEF1234567890ABCDEF1234567890ABCDEF'</pre></div></p></li></ul></div><p>
</p></li></ol></div><p>
</p><p>If your Azure storage location is authorized for public access, you do not need to set
          environment variables or configure authentication. For more information on public access
          to Azure storage, see <a href="https://learn.microsoft.com/en-us/azure/storage/blobs/anonymous-read-access-configure?tabs=portal" target="_blank">Configure anonymous public read access</a>.</p><p>Azure storage also allows multiple users to access one account. For more
          information on managing multiple users, see <a href="https://learn.microsoft.com/en-us/azure/active-directory/fundamentals/active-directory-ops-guide-iam" target="_blank">Azure Active Directory Identity and access management operations reference
          guide</a>. </p><p>If you are using Parallel Computing Toolbox, you must copy your client environment variables to the workers on a cluster
          by setting <code class="literal">EnvironmentVariables</code> in <code class="literal">parpool</code>,
            <code class="literal">batch</code>, <code class="literal">createJob</code>, or in the Cluster Profile
          Manager.</p><p>For more information, see <a href="https://learn.microsoft.com/azure/hdinsight/hdinsight-hadoop-use-blob-storage" target="_blank">Use Azure storage with Azure HDInsight clusters</a>.</p><p>You can store sensitive information, such as configuration data, in your MATLAB vault or in a <code class="literal">.env</code> file. For more information, see <a href="keep-sensitive-information-out-of-code.html" class="a">Keep Sensitive Information Out of Code</a>.</p></section><section><h4 class="title" id="mw_adc96a14-625e-485e-bdc0-71002062939e">Read Data from <span class="trademark entity">Azure</span></h4><p>To read data from an Azure Blob Storage location, specify the location using the following
          syntax:</p><div class="code_responsive"><pre class="programlisting">wasbs://<em class="replaceable">container@account</em>/<em class="replaceable">path_to_file</em>/<em class="replaceable">file.ext</em></pre></div><p><em class="replaceable"><code>container@account</code></em> is the name of the container and
            <em class="replaceable"><code>path_to_file</code></em> is the path to the file or folders.</p><p>For example, if you have a file <code class="literal">airlinesmall.csv</code> in a folder
            <code class="literal">/airline</code> on a test storage account
            <code class="literal">wasbs://blobContainer@storageAccount.blob.core.windows.net/</code>, then you
          can create a datastore by
          using:<div class="code_responsive"><pre class="programlisting">location = 'wasbs://blobContainer@storageAccount.blob.core.windows.net/airline/airlinesmall.csv';</pre></div><div class="code_responsive"><pre class="programlisting">ds = tabularTextDatastore(location, 'TreatAsMissing', 'NA', ...
  'SelectedVariableNames', {'ArrDelay'});</pre></div></p><p>You can use Azure for all calculations datastores support, including direct reading,
            <code class="function">mapreduce</code>, tall arrays and deep learning. For example, create an
            <code class="literal">ImageDatastore</code> object, read a specified image from the datastore, and
          then display the image to
          screen.<div class="code_responsive"><pre class="programlisting">setenv('MW_WASB_SAS_TOKEN', 'YOUR_WASB_SAS_TOKEN');  
ds = imageDatastore('wasbs://YourContainer@YourAccount.blob.core.windows.net/', ...
  'IncludeSubfolders', true, 'LabelSource', 'foldernames'); 
img = ds.readimage(1);
imshow(img)</pre></div></p></section><section><h4 class="title" id="mw_c7188307-35ff-4ea7-9c1e-ff9dbae9e62b">Write Data to <span class="trademark entity">Azure</span></h4><p>This example shows how to read tabular data from Azure into a tall array using a <code class="literal">tabularTextDatastore</code> object,
          preprocess it by removing missing entries and sorting, and then write it back to
            Azure.</p><div class="code_responsive"><pre class="programlisting">setenv('MW_WASB_SAS_TOKEN', 'YOUR_WASB_SAS_TOKEN');  

ds = tabularTextDatastore('wasbs://YourContainer@YourAccount.blob.core.windows.net/dataset/airlinesmall.csv', ...
  'TreatAsMissing', 'NA', 'SelectedVariableNames', {'ArrDelay'});
tt = tall(ds);
tt = sortrows(rmmissing(tt));
write('wasbs://YourContainer@YourAccount.blob.core.windows.net/preprocessedData/',tt);</pre></div><p>To read your tall data back, use the <code class="literal">datastore</code> function.</p><div class="code_responsive"><pre class="programlisting">ds = datastore('wasbs://YourContainer@YourAccount.blob.core.windows.net/preprocessedData/');
tt = tall(ds);
</pre></div></section></section><section><h3 class="title" id="bvn_hcu-3"><span class="trademark entity">Hadoop</span> Distributed File System</h3><section><h4 class="title" id="bvn_hcu-4">Specify Location of Data</h4><p>MATLAB lets you use Hadoop Distributed File System (HDFS) as an online file storage web service. When you specify the location of the
          data, you must specify the full path to the files or folders using a uniform resource
          locator (URL) of one of these forms:
          <div class="code_responsive"><pre class="programlisting">hdfs:/<em class="replaceable">path_to_file</em></pre></div><div class="code_responsive"><pre class="programlisting">hdfs:///<em class="replaceable">path_to_file</em></pre></div><div class="code_responsive"><pre class="programlisting">hdfs://<em class="replaceable">hostname</em>/<em class="replaceable">path_to_file</em></pre></div></p><p><em class="replaceable"><code>hostname</code></em> is the name of the host or server and
            <em class="replaceable"><code>path_to_file</code></em> is the path to the file or folders. Specifying
          the <em class="replaceable"><code>hostname</code></em> is optional. When you do not specify the
            <em class="replaceable"><code>hostname</code></em>, Hadoop uses the default host name associated with the Hadoop Distributed File System (HDFS) installation in MATLAB.</p><p>For example, you can use either of these commands to create a datastore for the file,
            <code class="literal">file1.txt</code>, in a folder named <code class="literal">data</code> located at a
          host named <code class="literal">myserver</code>:</p><p>
          </p>
<div class="itemizedlist"><ul><li><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>ds = tabularTextDatastore(<span style="color:#A020F0">'hdfs:///data/file1.txt'</span>) </pre></div></div></div></li><li><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>ds = tabularTextDatastore(<span style="color:#A020F0">'hdfs://myserver/data/file1.txt'</span>) </pre></div></div></div></li></ul></div><p>

        </p><p>If <em class="replaceable"><code>hostname</code></em> is specified, it must correspond to the
          namenode defined by the <code class="literal">fs.default.name</code> property in the Hadoop XML configuration files for your Hadoop cluster.</p><p>Optionally, you can include the port number. For example, this location specifies a
          host named <code class="literal">myserver</code> with port <code class="literal">7867</code>, containing the
          file <code class="literal">file1.txt</code> in a folder named <code class="literal">data</code>:</p><div class="code_responsive"><pre class="programlisting">'hdfs://myserver:7867/data/file1.txt'</pre></div><p>The specified port number must match the port number set in your HDFS configuration.</p></section><section><h4 class="title" id="bvn_hcu-5">Set <span class="trademark entity">Hadoop</span> Environment Variable</h4><p>Before reading from HDFS, use the <code class="function">setenv</code> function to set the appropriate
          environment variable to the folder where Hadoop is installed. This folder must be accessible from the current machine.</p>
<div class="itemizedlist"><ul><li><p>Hadoop v1 only &#8212; Set the <code class="literal">HADOOP_HOME</code> environment
                variable.</p></li><li><p>Hadoop v2 only &#8212; Set the <code class="literal">HADOOP_PREFIX</code> environment
                variable.</p></li><li><p>If you work with both Hadoop v1 and Hadoop v2, or if the <code class="literal">HADOOP_HOME</code> and
                  <code class="literal">HADOOP_PREFIX</code> environment variables are not set, then set the
                  <code class="literal">MATLAB_HADOOP_INSTALL</code> environment variable.</p></li></ul></div><p>
For example, use this command to set the <code class="literal">HADOOP_HOME</code>
          environment variable. <em class="replaceable"><code>hadoop-folder</code></em> is the folder where
            Hadoop is installed, and <em class="replaceable"><code>/mypath/</code></em> is the path to that
          folder.</p><div class="code_responsive"><pre class="programlisting">setenv('HADOOP_HOME','<em class="replaceable">/mypath/</em><em class="replaceable">hadoop-folder</em>');</pre></div><p>You can store sensitive information, such as configuration data, in your MATLAB vault or in a <code class="literal">.env</code> file. For more information, see <a href="keep-sensitive-information-out-of-code.html" class="a">Keep Sensitive Information Out of Code</a>.</p></section><section><h4 class="title" id="mw_8ec9b66e-da7b-46d2-a3cb-6fcd30b9d4d1"><span class="trademark entity">HDFS</span> data on Hortonworks or <span class="trademark entity">CLOUDERA</span></h4><p>If your current machine has access to HDFS data on Hortonworks or CLOUDERA<sup>&#x00AE;</sup>, then you do not have to set the <code class="literal">HADOOP_HOME</code> or
            <code class="literal">HADOOP_PREFIX</code> environment variables. MATLAB automatically assigns these environment variables when using Hortonworks or
            CLOUDERA application edge nodes.</p></section><section><h4 class="title" id="bvn_hcu-6">Prevent Clearing Code from Memory</h4><p>When reading from HDFS or when reading Sequence files locally, the <code class="literal">datastore</code>
          function calls the <code class="literal">javaaddpath</code> command. This command does the
          following: </p>
<div class="itemizedlist"><ul><li><p>Clears the definitions of all Java<sup>&#x00AE;</sup> classes defined by files on the dynamic class path</p></li><li><p>Removes all global variables and variables from the base workspace</p></li><li><p>Removes all compiled scripts, functions, and MEX-functions from memory</p></li></ul></div><p>
To prevent persistent variables, code files, or MEX-files from being
          cleared, use the <a href="../ref/mlock.html"><code class="function">mlock</code></a> function.</p></section><section><h4 class="title" id="mw_64e0528d-4095-42e5-969b-58c9e70f2dc0">Write Data to <span class="trademark entity">HDFS</span></h4><p>This example shows how to use a <code class="literal">tabularTextDatastore</code> object to
          write data to an HDFS location. Use the <code class="literal">write</code> function to write your
          tall and distributed arrays to a Hadoop Distributed File System. When you call this function on a distributed or
          tall array, you must specify the full path to a HDFS folder. The following example shows how to read tabular data from
            HDFS into a tall array, preprocess it by removing missing entries and sorting,
          and then write it back to HDFS.</p><div class="code_responsive"><pre class="programlisting">ds = tabularTextDatastore('hdfs://myserver/some/path/dataset/airlinesmall.csv', ...
  'TreatAsMissing', 'NA', 'SelectedVariableNames', {'ArrDelay'});
tt = tall(ds);
tt = sortrows(rmmissing(tt));
write('hdfs://myserver/some/path/preprocessedData/',tt);
</pre></div><p>To read your tall data back, use the <code class="literal">datastore</code> function.</p><div class="code_responsive"><pre class="programlisting">ds = datastore('hdfs://myserver/some/path/preprocessedData/');
tt = tall(ds);
</pre></div></section></section>
      <h2 id="d126e28969">See Also</h2><p><span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/datastore.html"><span itemprop="name"><code class="function">datastore</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/matlab.io.datastore.tabulartextdatastore.html"><span itemprop="name"><code class="function">tabularTextDatastore</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/tall.write.html"><span itemprop="name"><code class="function">write</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/matlab.io.datastore.imagedatastore.html"><span itemprop="name"><code class="object">imageDatastore</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/imread.html"><span itemprop="name"><code class="function">imread</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/imshow.html"><span itemprop="name"><code class="function">imshow</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/javaaddpath.html"><span itemprop="name"><code class="function">javaaddpath</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/mlock.html"><span itemprop="name"><code class="function">mlock</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/setenv.html"><span itemprop="name"><code class="function">setenv</code></span></a></span></p>
      <h3 id="d126e29000">Topics</h3><ul class="list-unstyled"><li><a href="read-and-analyze-data-in-keyvaluedatastore-for-sequence-file.html" class="a">Read and Analyze Hadoop Sequence File</a></li><li><a href="../../deeplearning/ug/work-with-deep-learning-data-in-aws.html" class="a">Work with Deep Learning Data in AWS</a><span role="cross_prod"> (Deep Learning Toolbox)</span></li><li><a href="keep-sensitive-information-out-of-code.html" class="a">Keep Sensitive Information Out of Code</a></li></ul>
    </section>
    </div></section><div xmlns="http://www.w3.org/1999/xhtml" class="clearfix"></div>
<div xmlns="http://www.w3.org/1999/xhtml" align="center" class="feedbackblock" id="mw_docsurvey"><script src="https://www.mathworks.com/help/docsurvey/docfeedback.js"></script>
<script>loadSurveyHidden();</script>
<link rel="stylesheet" href="https://www.mathworks.com/help/docsurvey/release/index-css.css" type="text/css">
<script src="https://www.mathworks.com/help/docsurvey/release/bundle.index.js"></script>

<script>initDocSurvey();</script></div></main>


</div>
</div>
</div>
</div><!--close_0960-->
<footer xmlns="http://www.w3.org/1999/xhtml" id="footer" class="bs-footer">
<div class="container-fluid">
<div class="footer">
<div class="row">
<div class="col-12">
<p class="copyright">Â© 1994-2025 The MathWorks, Inc.</p>
<ul class="footernav"><li class="footernav_help"><a href="matlab:web(matlab.internal.licenseAgreement)">Terms of Use</a></li><li class="footernav_patents"><a href="matlab:web([matlabroot '/patents.txt'])">Patents</a></li><li class="footernav_trademarks"><a href="matlab:web([matlabroot '/trademarks.txt'])">Trademarks</a></li><li class="footernav_piracy"><a href="matlab:web([docroot '/acknowledgments.html'])">Acknowledgments</a></li></ul></div>
</div>
</div>
</div>
</footer>
</div><!--close row-offcanvas-->
</div><!--close_0970-->
</body>
</html>
