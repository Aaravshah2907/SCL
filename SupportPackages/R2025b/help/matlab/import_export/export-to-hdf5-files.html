<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage">
<head>
<meta xmlns="http://www.w3.org/1999/xhtml" charset="utf-8">
<meta xmlns="http://www.w3.org/1999/xhtml" name="viewport" content="width=device-width, initial-scale=1.0">
<meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="X-UA-Compatible" content="IE=edge">
<title>Export to HDF5 Files</title>
<script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
      {
      "@context": "http://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement":
      [{
          "@type": "ListItem",
          "position": 1,

          "item": {
          "@id": "../index.html",
          "name": "MATLAB"
}

          } 
        ,
        {
          "@type": "ListItem",
          "position": 2,

          "item": {
          "@id": "../data-import-and-analysis.html",
          "name": "Data Import and Analysis"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 3,

          "item": {
          "@id": "../data-import-and-export.html",
          "name": "Data Import and Export"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 4,

          "item": {
          "@id": "../standard-file-formats.html",
          "name": "Standard File Formats"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 5,

          "item": {
          "@id": "../scientific-data.html",
          "name": "Scientific Data"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 6,

          "item": {
          "@id": "../hdf5-files.html",
          "name": "HDF5 Files"
}

          }]
      }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "VisibleBreadcrumbs",

        "itemListElement":
        [
        "hdf5-files"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/bootstrap.min.css" rel="stylesheet" type="text/css">


  <meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="Content-Script-Type" content="text/javascript">
<meta xmlns="http://www.w3.org/1999/xhtml" name="toctype" itemprop="pagetype" content="ug">
<meta xmlns="http://www.w3.org/1999/xhtml" name="infotype" itemprop="infotype" content="ex">

<meta xmlns="http://www.w3.org/1999/xhtml" name="description" itemprop="description" content="Write data and metadata from the MATLAB workspace to an HDF5 file."><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-3.6.0.min.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-migrate.min.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_lg.css" rel="stylesheet" media="screen and (min-width: 1200px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_md.css" rel="stylesheet" media="screen and (min-width: 992px) and (max-width: 1199px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm+xs.css" rel="stylesheet" media="screen and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm.css" rel="stylesheet" media="screen and (min-width: 768px) and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_xs.css" rel="stylesheet" media="screen and (max-width: 767px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_offcanvas_v2.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/shared/highlight/styles/mwdochighlight.min.css" rel="stylesheet" type="text/css">

<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/l10n.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/f1help.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/mw.imageanimation.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/jquery.highlight.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/underscore-min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/use_platform_screenshots.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/suggest.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/overload.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/helpservices.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/productfilter.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/matlab_dialog_shared.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/highlight/highlight.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/localstorage.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/product_group.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/saxonjs/SaxonJS2.rt.js"></script><script xmlns="http://www.w3.org/1999/xhtml">
            window.history.replaceState(window.location.href, null, ""); // Initialize
            window.onload = function() {    
            mystylesheetLocation = "../../includes/shared/scripts/product_group-sef.json";
            mysourceLocation = "../../docset/docset.xml";
            product_help_location = "matlab";
            pagetype = "section";
            doccentertype = "product";
            langcode = "";
            getProductFilteredList(mystylesheetLocation, mysourceLocation, product_help_location, pagetype, doccentertype, langcode);  
            }
          </script>




<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery.mobile.custom.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/bootstrap.bundle.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/global.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_base.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_installed.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_print.css" rel="stylesheet" type="text/css" media="print">
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/equationrenderer/release/MathRenderer.js"></script>
</head>
<body id="responsive_offcanvas">
<div xmlns="http://www.w3.org/1999/xhtml" id="doc_header_spacer" class="header"></div>
<div xmlns="http://www.w3.org/1999/xhtml" class="section_header level_3"><div class="container-fluid"><div class="row" id="mobile_search_row"><div class="col-sm-6 col-md-7 has_horizontal_local_nav" id="section_header_title"><div class="section_header_content"><div class="section_header_title"><h1><a href="../../documentation-center.html">Help Center</a></h1></div></div></div><div class="col-12 col-sm-6 col-md-5" id="mobile_search"><div class="search_nested_content_container"><form id="docsearch_form" name="docsearch_form" method="get" data-release="R2025b" data-language="en" action="../../templates/searchresults.html"><div class="input-group tokenized_search_field"><label class="visually-hidden form-label">Search Help</label><input type="text" class="form-control conjoined_search" autocomplete="off" name="qdoc" placeholder="Search Help" id="docsearch"> <div><button type="submit" name="submitsearch" id="submitsearch" class="btn icon-search btn_search_adjacent btn_search icon_16" tabindex="-1"></button></div></div></form></div><button class="btn icon-remove btn_search float-end icon_32 d-sm-none" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div><div class="d-sm-none" id="search_actuator"><button class="btn icon-search btn_search float-end icon_16" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div></div></div></div><div class="row-offcanvas row-offcanvas-left">
<div xmlns="http://www.w3.org/1999/xhtml" class="sidebar-offcanvas" id="sidebar">
<nav class="offcanvas_nav" role="navigation">
<div class="offcanvas_actuator" data-bs-toggle="offcanvas" data-bs-target="#sidebar" id="nav_toggle"><button type="button" class="btn"><span class="visually-hidden">Off-Canvas Navigation Menu Toggle
                  Off-Canvas Navigation Menu Toggle</span><span class="icon-menu"></span></button><span class="offcanvas_actuator_label" id="translation_icon-menu" tabindex="-1" aria-hidden="true"></span></div><div class="nav_list_wrapper" id="nav_list_wrapper"><nav class="offcanvas_nav" role="navigation"><ul class="nav_breadcrumb" id="ul_left_nav_ancestors"><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../../documentation-center.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Documentation Home</span></a></li></ul>
<ul class="nav_disambiguation"><li><a href="../index.html?s_tid=CRUX_lftnav" id="index">MATLAB</a>
</li>
<li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../data-import-and-analysis.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Data Import and Analysis</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../data-import-and-export.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Data Import and Export</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../standard-file-formats.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Standard File Formats</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../scientific-data.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Scientific Data</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../hdf5-files.html?s_tid=CRUX_lftnav" itemprop="url" id="btpwvi2"><span itemprop="title">HDF5 Files</span></a></li></ul><div class="search_refine_v4"><div id="facets_area"><ul class="nav_scrollspy nav list-unstyled" id="pnav">
<li class="nav_scrollspy_function nav-item"><a href="#responsive_offcanvas">Export to HDF5 Files</a></li>
<li class="nav_scrollspy_title nav-item" id="SSPY810-section">On this page</li>
<!--ADD_REFENTRY_TITLE_HERE 11--><li class="nav-item"><a href="#btikadf" class="nav-link intrnllnk">Overview</a></li><li class="nav-item"><a href="#br726cd" class="nav-link intrnllnk">Export Data Using MATLAB High-Level HDF5 Functions</a><ul class="nav"><li class="nav-item"><a href="#bsxiyi5" class="nav-link intrnllnk">Write Numeric Array to HDF5 Data Set</a></li></ul></li><li class="nav-item"><a href="#bqwssia-1" class="nav-link intrnllnk">Export Data Using MATLAB Low-Level HDF5 Functions</a><ul class="nav"><li class="nav-item"><a href="#bqwssia-2" class="nav-link intrnllnk">Map HDF5 Function Syntax to MATLAB Function Syntax</a></li><li class="nav-item"><a href="#bqwssia-3" class="nav-link intrnllnk">Map Between HDF5 Data Types and MATLAB Data Types</a></li><li class="nav-item"><a href="#bqyqs27" class="nav-link intrnllnk">Report Data Set Dimensions</a></li><li class="nav-item"><a href="#bqwssia-4" class="nav-link intrnllnk">Write Data to HDF5 Data Set Using MATLAB Low-Level Functions</a></li><li class="nav-item"><a href="#bub60bt" class="nav-link intrnllnk">Write Large Data Set</a></li><li class="nav-item"><a href="#br2cgm3-1" class="nav-link intrnllnk">Preserve Correct Layout of Your Data</a></li></ul></li><li class="nav-item"><a href="#mw_804f8a6d-7aaa-44f8-83a5-29db15c2d6ca" class="nav-link intrnllnk">Write HDF5 Dataset Using Dynamically Loaded Filters</a><ul class="nav"><li class="nav-item"><a href="#mw_9cfb6a4a-46f0-4185-a53d-622d376bb29c" class="nav-link intrnllnk">Linux Users Only: Rebuild Filter Plugins Using MATLAB HDF5 Shared Library</a></li></ul></li><li class="nav-item"><a href="#seealsoref" class="nav-link intrnllnk">See Also</a></li></ul></div></div>
</nav></div></nav>
<script src="../../includes/product/scripts/offcanvas_v2.js"></script></div><!--END.CLASS sidebar-offcanvas-->
<div class="offcanvas_content_container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sticky_header_container"><div class="horizontal_nav"><div class="horizontal_nav_container"><div class="offcanvas_horizontal_nav"><div class="container-fluid"><div class="row"><div class="col-sm-12 d-none d-sm-block"><nav class="navbar navbar-default" role="navigation" id="subnav"><div><ul class="nav navbar-nav crux_browse"><li id="crux_nav_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_example" class="crux_resource"><a href="../examples.html?category=hdf5-files&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=hdf5-files&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=hdf5-files&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></nav></div><div class="d-sm-none"><div class="container-fluid"><div class="row"><div class="col-9"><div class="mobile_crux_nav_trigger"><div class="btn-group"><button type="button" class="btn btn-default dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Resources</button><ul class="dropdown-menu"><li id="crux_nav_mobile_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_mobile_example" class="crux_resource"><a href="../examples.html?category=hdf5-files&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_mobile_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=hdf5-files&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_mobile_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=hdf5-files&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></div></div><div class="col-3"><div class="translate_placeholder"></div></div></div></div></div></div></div></div></div></div></div><div class="content_container" id="content_container" itemprop="content">
<div class="container-fluid">
<div class="row">
<div class="col-12">

<main id="skip_link_anchor" tabindex="-1">
<div xmlns="http://www.w3.org/1999/xhtml" id="product_info_alert"></div><section xmlns="http://www.w3.org/1999/xhtml" id="doc_center_content" lang="en" data-language="en"><div id="pgtype-topic">
<section><h2 class="title r2025b" itemprop="title content" id="bqwrfk4-1">Export to HDF5 Files</h2><section><h3 class="title" id="btikadf">Overview</h3><p>Hierarchical Data Format, Version 5 (HDF5) is a
    general-purpose, machine-independent standard for storing scientific data in files, developed by
    the National Center for Supercomputing Applications (NCSA). HDF5 is used by a wide range of
    engineering and scientific fields that want a standard way to store data so that it can be
    shared. For more information about the HDF5 file format, read the HDF5 documentation available
    at The HDF Group website (<code class="literal"><a href="https://www.hdfgroup.org" target="_blank">https://www.hdfgroup.org</a></code>).</p><p>MATLAB<sup>&#x00AE;</sup> provides two methods to export data to an HDF5 file:</p><div class="itemizedlist"><ul><li><p>High-level functions that simplify the process of exporting data, when
                        working with numeric data sets</p></li><li><p>Low-level functions that provide a MATLAB interface to routines in the HDF5 C library</p></li></ul></div><div class="alert alert-info d-inline-block"><span class="alert_icon icon-alert-info-reverse"></span><p class="alert_heading"><strong>Note</strong></p><p>For information about exporting to HDF4 files, which have a separate and
                    incompatible format, see <a href="exporting-to-hierarchical-data-format-hdf4-files.html" class="a">Export to HDF4 Files</a>. </p></div></section><section><h3 class="title" id="br726cd">Export Data Using <span class="trademark entity">MATLAB</span> High-Level HDF5 Functions</h3><a class="indexterm" name="d126e14092"></a><a class="indexterm" name="d126e14095"></a><a class="indexterm" name="d126e14098"></a><p>The easiest way to write data or metadata from the MATLAB workspace to an HDF5 file is to use these MATLAB high-level functions.</p><div class="itemizedlist"><ul><li><p><a href="../ref/h5create.html"><code class="function">h5create</code></a> &#8212; Create an
                        HDF5 data set.</p></li><li><p><a href="../ref/h5write.html"><code class="function">h5write</code></a> &#8212; Write data
                        to an HDF5 data set.</p></li><li><p><a href="../ref/h5writeatt.html"><code class="function">h5writeatt</code></a> &#8212; Write
                        data to an HDF5 attribute.</p></li></ul></div><p>For details about how to use these functions, see their reference pages, which
                include examples. The following sections illustrate some common usage
                scenarios.</p><section><h4 class="title" id="bsxiyi5">Write Numeric Array to HDF5 Data Set</h4><p>This example creates an array and then writes the array to an HDF5 file. </p><div class="procedure"><span id="bsxiyw4-1" class="anchor_target"></span><ol type="1"><li><p id="bsxiyw4-2">Create a MATLAB variable in the workspace. This example creates a 5-by-5
                            array of <code class="literal">uint8</code> values.</p><div class="code_responsive"><pre class="programlisting">testdata = uint8(magic(5))</pre></div></li><li><p id="bsxiy2u-1">Create the HDF5 file and the data set, using
                                <code class="literal">h5create</code>.</p><div class="code_responsive"><pre class="programlisting">h5create('my_example_file.h5', '/dataset1', size(testdata))</pre></div></li><li><p id="bsxiyw4-3">Write the data to the HDF5 file.</p><div class="code_responsive"><pre class="programlisting">h5write('my_example_file.h5', '/dataset1', testdata)</pre></div></li></ol></div></section></section><section><h3 class="title" id="bqwssia-1">Export Data Using <span class="trademark entity">MATLAB</span> Low-Level HDF5 Functions</h3><a class="indexterm" name="d126e14158"></a><p>MATLAB provides direct access to dozens of functions in the HDF5 library with
                low-level functions that correspond to the functions in the HDF5 library. In this
                way, you can access the features of the HDF5 library from MATLAB, such as using the HDF5 subsetting capabilities and writing complex
                data types. For more information, see <a href="import-hdf5-files.html#bsxixpv-7" class="a">Import Data Using Low-Level HDF5 Functions</a>.</p><p>The HDF5 library organizes the library functions into collections, called
                    <span class="emphasis"><em>interfaces</em></span>. For example, all the routines related to
                working with files, such as opening and closing, are in the H5F interface, where
                    <span class="emphasis"><em>F</em></span> stands for file. MATLAB organizes the low-level HDF5 functions into classes that correspond to
                each HDF5 interface. For example, the MATLAB functions that correspond to the HDF5 file interface (H5F) are in the
                @H5F class folder.</p><p>The following sections provide more detail about how to use the MATLAB HDF5 low-level functions.</p><div class="alert alert-info d-inline-block"><span class="alert_icon icon-alert-info-reverse"></span><p class="alert_heading"><strong>Note</strong></p><p>This topic does not describe all features of the HDF5 library or explain basic
                    HDF5 programming concepts. To use the MATLAB HDF5 low-level functions effectively, refer to the official HDF5
                    documentation available at <a href="https://www.hdfgroup.org" target="_blank"><code class="literal">https://www.hdfgroup.org</code></a>.</p></div><section><h4 class="title" id="bqwssia-2">Map HDF5 Function Syntax to <span class="trademark entity">MATLAB</span> Function Syntax</h4><a class="indexterm" name="d126e14202"></a><p>In most cases, the syntax of the MATLAB low-level HDF5 functions matches the syntax of the corresponding
                    HDF5 library functions. For example, the following is the function signature of
                    the <code class="literal">H5Fopen</code> function in the HDF5 library. In the HDF5
                    function signatures, <code class="literal">hid_t</code> and <code class="literal">herr_t</code> are
                    HDF5 types that return numeric values that represent object identifiers or error
                    status values.</p><div class="code_responsive"><pre class="programlisting">hid_t H5Fopen(const char *name, unsigned flags, hid_t access_id) /* C syntax */</pre></div><p> In MATLAB, each function in an HDF5 interface is a method of a MATLAB class. The following shows the signature of the corresponding
                        MATLAB function. First note that, because it's a method of a class, you
                    must use the dot notation to call the MATLAB function: <code class="literal">H5F.open</code>. This MATLAB function accepts the same three arguments as the HDF5 function: a
                    character vector containing the name, an HDF5-defined constant for the flags
                    argument, and an HDF5 property list ID. You use property lists to specify
                    characteristics of many different HDF5 objects. In this case, it's a file access
                    property list. Refer to the HDF5 documentation to see which constants can be
                    used with a particular function and note that, in MATLAB, constants are passed as character vectors.</p><div class="code_responsive"><pre class="programlisting">file_id = H5F.open(name,flags,plist_id)</pre></div><p>There are, however, some functions where the MATLAB function signature is different than the corresponding HDF5
                    library function. In general, keep the following differences in mind when using
                    the MATLAB low-level HDF5 functions.</p><div class="itemizedlist"><ul><li><p><strong class="emphasis bold">HDF5 output parameters become MATLAB return values</strong> &#8212; Some HDF5 library
                            functions use function parameters to return data. Because MATLAB functions can return multiple values, these output
                            parameters become return values. To illustrate, the HDF5
                                <code class="literal">H5Dread</code> function returns data in the
                                <code class="literal">buf</code> parameter.</p><div class="code_responsive"><pre class="programlisting">herr_t H5Dread(hid_t dataset_id,
		  hid_t mem_type_id,
		  hid_t mem_space_id, 
		  hid_t file_space_id, 
		  hid_t xfer_plist_id, 
		  void * buf )   /* C syntax */</pre></div><p>The corresponding MATLAB function changes the output parameter
                                <code class="literal">buf</code> into a return value. Also, in the MATLAB function, the nonzero or negative value
                                <code class="literal">herr_t</code> return values become MATLAB errors. Use MATLAB
                            <code class="literal">try</code>-<code class="literal">catch</code> statements to handle
                            errors. <div class="code_responsive"><pre class="programlisting">buf = H5D.read(dataset_id,
		  mem_type_id,
 	 	mem_space_id,
 	       file_space_id,
 		 plist_id)</pre></div></p></li><li><p><strong class="emphasis bold">String length parameters are
                                unnecessary</strong> &#8212; The length parameter, used by some
                            HDF5 library functions to specify the length of a string parameter, is
                            not necessary in the corresponding MATLAB function. For example, the <code class="literal">H5Aget_name</code>
                            function in the HDF5 library includes a buffer as an output parameter
                            and the size of the buffer as an input parameter.</p><div class="code_responsive"><pre class="programlisting">ssize_t H5Aget_name(hid_t attr_id,
                    size_t buf_size,
                    char *buf ) /* C syntax */</pre></div><p>The corresponding MATLAB function changes the output parameter
                                <code class="literal">buf</code> into a return value and drops the
                                <code class="literal">buf_size</code>
                            parameter.<div class="code_responsive"><pre class="programlisting">buf = H5A.get_name(attr_id)</pre></div></p></li><li><p><strong class="emphasis bold">Use an empty array to specify NULL</strong>
                            &#8212; Wherever HDF5 library functions accept the value
                                <code class="literal">NULL</code>, the corresponding MATLAB function uses empty arrays (<code class="literal">[]</code>). For
                            example, the <code class="literal">H5Pset_fill_value</code> function in the HDF5
                            library accepts the value <code class="literal">NULL</code> in place of a
                            specified fill value.</p><div class="code_responsive"><pre class="programlisting">herr_t H5Pset_fill_value(hid_t plist_id,
                         hid_t type_id,
                         const void *value ) /* C syntax */
</pre></div><p>When using the corresponding MATLAB function, you can specify an empty array
                                (<code class="literal">[]</code>) instead of <code class="literal">NULL</code>. </p></li><li><p><strong class="emphasis bold">Use cell arrays to specify multiple
                                constants</strong> &#8212; Some functions in the HDF5 library
                            require you to specify an array of constants. For example, in the
                                <code class="literal">H5Screate_simple</code> function, to specify that a
                            dimension in the data space can be unlimited, you use the constant
                                <code class="literal">H5S_UNLIMITED</code> for the dimension in
                                <code class="literal">maxdims</code>. In MATLAB, because you pass constants as character vectors, you must
                            use a cell array of character vectors to achieve the same result. The
                            following code fragment provides an example of using a cell array of
                            character vectors to specify this constant for each dimension of this
                            data space.</p><div class="code_responsive"><pre class="programlisting">ds_id = H5S.create_simple(2,[3 4],{'H5S_UNLIMITED' 'H5S_UNLIMITED'}); 
</pre></div></li></ul></div></section><section><h4 class="title" id="bqwssia-3">Map Between HDF5 Data Types and <span class="trademark entity">MATLAB</span> Data Types</h4><a class="indexterm" name="d126e14365"></a><p>When the HDF5 low-level functions read data from an HDF5 file or write data to
                    an HDF5 file, the functions map HDF5 data types to MATLAB data types automatically. </p><p>For <span class="emphasis"><em>atomic</em></span> data types, such as commonly used binary
                    formats for numbers (integers and floating point) and characters (ASCII), the
                    mapping is typically straightforward because MATLAB supports similar types. See the table <a href="export-to-hdf5-files.html#bqyqr_q-1" class="intrnllnk">Map Between HDF5 Atomic Data Types and MATLAB Data Types</a> for a
                    list of these mappings. </p><div itemprop="content" id="bqyqr_q-1" class="table_class"><p class="title"><strong class="title">Map Between HDF5 Atomic Data Types and <span class="trademark entity">MATLAB</span> Data Types</strong></p><div class="table-responsive"><table class="table table-condensed" summary="Map Between HDF5 Atomic Data Types and MATLAB Data Types"><colgroup><col class="tcol1" width="28%"><col class="tcol2" width="72%"></colgroup><thead><tr><th>HDF5 Atomic Data Type</th><th>MATLAB Data Type</th></tr></thead><tbody><tr><td>Bit-field</td><td>Array of packed 8-bit integers</td></tr><tr><td>Float</td><td>MATLAB single and double types, provided that they occupy
                                    64 bits or fewer</td></tr><tr><td>Integer types, signed and unsigned</td><td>Equivalent MATLAB integer types, signed and unsigned</td></tr><tr><td>Opaque</td><td>Array of <code class="literal">uint8</code> values</td></tr><tr><td>Reference</td><td>Array of <code class="literal">uint8</code> values</td></tr><tr><td>String</td><td>MATLAB string arrays</td></tr></tbody></table></div></div><p>For <span class="emphasis"><em>composite</em></span> data types, such as aggregations of one or
                    more atomic data types into structures, multidimensional arrays, and
                    variable-length data types (one-dimensional arrays), the mapping is sometimes
                    ambiguous with reference to the HDF5 data type. In HDF5, a 5-by-5 data set
                    containing a single <code class="literal">uint8</code> value in each element is distinct
                    from a 1-by-1 data set containing a 5-by-5 array of <code class="literal">uint8</code>
                    values. In the first case, the data set contains 25 observations of a single
                    value. In the second case, the data set contains a single observation with 25
                    values. In MATLAB both of these data sets are represented by a 5-by-5 matrix. </p><p>If your data is a complex data set, you might need to create HDF5 data types
                    directly to make sure that you have the mapping you intend. See the table <a href="export-to-hdf5-files.html#bqxqga3" class="intrnllnk">Map Between HDF5 Composite Data Types and MATLAB Data Types</a> for
                    a list of the default mappings. You can specify the data type when you write
                    data to the file using the <code class="literal">H5Dwrite</code> function. See the HDF5
                    data type interface documentation for more information.</p><div itemprop="content" id="bqxqga3" class="table_class"><p class="title"><strong class="title">Map Between HDF5 Composite Data Types and <span class="trademark entity">MATLAB</span> Data Types</strong></p><div class="table-responsive"><table class="table table-condensed" summary="Map Between HDF5 Composite Data Types and MATLAB Data Types"><colgroup><col class="tcol1" width="28%"><col class="tcol2" width="72%"></colgroup><thead><tr><th>HDF5 Composite Data Type</th><th>MATLAB Data Type</th></tr></thead><tbody><tr><td>Array</td><td>Extends the dimensionality of the data type which it
                                    contains. For example, an array of integers in HDF5 maps onto a
                                    two-dimensional array of integers in MATLAB.</td></tr><tr><td>Compound</td><td>MATLAB structure. Note: All structures representing HDF5
                                    data in MATLAB are scalar.</td></tr><tr><td>Enumeration</td><td>Array of integers which each have an associated name</td></tr><tr><td>Variable Length</td><td>MATLAB 1-D cell arrays</td></tr></tbody></table></div></div></section><section><h4 class="title" id="bqyqs27">Report Data Set Dimensions</h4><p>The MATLAB low-level HDF5 functions report data set dimensions and the shape
                    of data sets differently than the MATLAB high-level functions. For ease of use, the MATLAB high-level functions report data set dimensions consistent with
                        MATLAB column-major indexing. To be consistent with the HDF5 library, and
                    to support the possibility of nested data sets and complicated data types, the
                        MATLAB low-level functions report array dimensions using the C row-major
                    orientation. </p></section><section><h4 class="title" id="bqwssia-4">Write Data to HDF5 Data Set Using MATLAB Low-Level Functions</h4><div class="examples_short_list hidden_ios_android" data-products="ML"><div data-pane="metadata" class="card metadata_container"><div class="card-body metadata_content"><div class="d-grid"><a class="btn btn_color_blue" href="matlab:openExample('matlab/WriteDataToHDF5DataSetUsingMATLABLowLevelFunctionsExample')" data-ex-genre="Live Script">Open Live Script</a></div></div></div></div><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "DigitalDocument",
          "headline": "Write Data to HDF5 Data Set Using MATLAB Low-Level Functions",
          "description": "Use the MATLAB&#174; HDF5 low-level functions to write a data set to an HDF5 file and then read the data set from the file.",
          "thumbnailURL": "../../includes/product/images/doc_center/DefaultImage.png",
          "genre": "Live Script",
          "isBasedOn": {
          "@type": "Product",
          "name": "MATLAB"

        },
          "isPartOf": {
          "@type": "CreativeWork",
          "url": "export-to-hdf5-files.html"

        },
          "identifier": "matlab.WriteDataToHDF5DataSetUsingMATLABLowLevelFunctionsExample",
          "name": "WriteDataToHDF5DataSetUsingMATLABLowLevelFunctionsExample",
          "url": "export-to-hdf5-files.html#bqwssia-4"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "PropertyValue",
          "name": "open_command",
          "value": "matlab:openExample('matlab/WriteDataToHDF5DataSetUsingMATLABLowLevelFunctionsExample')"

        }</script><script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "ExampleSourceFiles",

        "itemListElement":
        [
        "WriteDataToHDF5DataSetUsingMATLABLowLevelFunctionsExample.mlx"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><div itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/Example" itemprop="example" class="em_example"><meta itemprop="exampleid" content="matlab-WriteDataToHDF5DataSetUsingMATLABLowLevelFunctionsExample"><meta itemprop="exampletitle" content="Write Data to HDF5 Data Set Using MATLAB LowLevel Functions"></div><span id="WriteDataToHDF5DataSetUsingMATLABLowLevelFunctionsExample" class="anchor_target"></span><p class="shortdesc">This example shows how to use the MATLAB&#174; HDF5 low-level functions to write a data set to an HDF5 file and then read the data set from the file. </p><p>Create a 2-by-3 array of data to write to an HDF5 file. </p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>testdata = [1 3 5; 2 4 6];</pre></div></div></div><p>Create a new HDF5 file named <code class="literal">my_file.h5</code> in the system temp folder. Use the MATLAB <code class="literal">H5F.create</code> function to create a file. This MATLAB function corresponds to the HDF5 function, <code class="literal">H5Fcreate</code>. As arguments, specify the name you want to assign to the file, the type of access you want to the file (<code class="literal">'H5F_ACC_TRUNC'</code> in this case), and optional additional characteristics specified by a file creation property list and a file access property list. In this case, use default values for these property lists (<code class="literal">'H5P_DEFAULT'</code>). Pass C constants to the MATLAB function as character vectors.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>filename = fullfile(tempdir,<span style="color:#A020F0">'my_file.h5'</span>);
fileID = H5F.create(filename,<span style="color:#A020F0">'H5F_ACC_TRUNC'</span>,<span style="color:#A020F0">'H5P_DEFAULT'</span>,<span style="color:#A020F0">'H5P_DEFAULT'</span>);</pre></div></div></div><p><code class="literal">H5F.create</code> returns a file identifier corresponding to the HDF5 file.</p><p>Create the data set in the file to hold the MATLAB variable. In the HDF5 programming model, you must define the data type and dimensionality (data space) of the data set as separate entities. First, use the <code class="literal">H5T.copy</code> function to specify the data type used by the data set, in this case, <code class="literal">double</code>. This MATLAB function corresponds to the HDF5 function, <code class="literal">H5Tcopy</code>.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>datatypeID = H5T.copy(<span style="color:#A020F0">'H5T_NATIVE_DOUBLE'</span>);</pre></div></div></div><p><code class="literal">H5T.copy</code> returns a data type identifier.</p><p>Create a data space using <code class="literal">H5S.create_simple</code>, which corresponds to the HDF5 function, <code class="literal">H5Screate_simple</code>. The first input, <code class="literal">2</code>, is the rank of the data space. The second input is an array specifying the size of each dimension of the dataset. Because HDF5 stores data in row-major order and the MATLAB array is organized in column-major order, you should reverse the ordering of the dimension extents before using <code class="literal">H5Screate_simple</code> to preserve the layout of the data. You can use <code class="literal">fliplr</code> for this purpose.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>dims = size(testdata);
dataspaceID = H5S.create_simple(2,fliplr(dims),[]);</pre></div></div></div><p><code class="literal">H5S.create_simple</code> returns a data space identifier, <code class="literal">dataspaceID</code>. Note that other software programs that use row-major ordering (such as <code class="literal">H5DUMP</code> from the HDF Group) might report the size of the dataset to be 3-by-2 instead of 2-by-3.</p><p>Create the data set using <code class="literal">H5D.create</code>, which corresponds to the HDF5 function, <code class="literal">H5Dcreate</code>. Specify the file identifier, the name you want to assign to the data set, the data type identifier, the data space identifier, and a data set creation property list identifier as arguments. <code class="literal">'H5P_DEFAULT'</code> specifies the default property list settings.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>dsetname = <span style="color:#A020F0">'my_dataset'</span>;  
datasetID = H5D.create(fileID,dsetname,datatypeID,dataspaceID,<span style="color:#A020F0">'H5P_DEFAULT'</span>);</pre></div></div></div><p><code class="literal">H5D.create</code> returns a data set identifier, <code class="literal">datasetID</code>.</p><p>Write the data to the data set using <code class="literal">H5D.write</code>, which corresponds to the HDF5 function, <code class="literal">H5Dwrite</code>. The input arguments are the data set identifier, the memory data type identifier, the memory space identifier, the data space identifier, the transfer property list identifier and the name of the MATLAB variable to write to the data set. The constant, <code class="literal">'H5ML_DEFAULT'</code>, specifies automatic mapping to HDF5 data types. The constant, <code class="literal">'H5S_ALL'</code>, tells <code class="literal">H5D.write</code> to write all the data to the file.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>H5D.write(datasetID,<span style="color:#A020F0">'H5ML_DEFAULT'</span>,<span style="color:#A020F0">'H5S_ALL'</span>,<span style="color:#A020F0">'H5S_ALL'</span>, <span style="color:#0000FF">...</span>
    <span style="color:#A020F0">'H5P_DEFAULT'</span>,testdata);</pre></div></div></div><p>Close the data set, data space, data type, and file objects. If used inside a MATLAB function, these identifiers are closed automatically when they go out of scope.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>H5D.close(datasetID);
H5S.close(dataspaceID);
H5T.close(datatypeID);
H5F.close(fileID);</pre></div></div></div><p>Open the HDF5 file in order to read the data set you wrote. Use <code class="literal">H5F.open</code> to open the file for read-only access. This MATLAB function corresponds to the HDF5 function, <code class="literal">H5Fopen</code>.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>fileID = H5F.open(filename,<span style="color:#A020F0">'H5F_ACC_RDONLY'</span>,<span style="color:#A020F0">'H5P_DEFAULT'</span>);</pre></div></div></div><p>Open the data set to read using <code class="literal">H5D.open</code>, which corresponds to the HDF5 function, <code class="literal">H5Dopen</code>. Specify as arguments the file identifier and the name of the data set, defined earlier in the example.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>datasetID = H5D.open(fileID,dsetname);</pre></div></div></div><p>Read the data into the MATLAB workspace using <code class="literal">H5D.read</code>, which corresponds to the HDF5 function, <code class="literal">H5Dread</code>. The input arguments are the data set identifier, the memory data type identifier, the memory space identifier, the data space identifier, and the transfer property list identifier.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>returned_data = H5D.read(datasetID,<span style="color:#A020F0">'H5ML_DEFAULT'</span>, <span style="color:#0000FF">...</span>
    <span style="color:#A020F0">'H5S_ALL'</span>,<span style="color:#A020F0">'H5S_ALL'</span>,<span style="color:#A020F0">'H5P_DEFAULT'</span>);</pre></div></div></div><p>Compare the original MATLAB variable, <code class="literal">testdata</code>, with the variable just created, <code class="literal">returned_data</code>.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>isequal(testdata,returned_data)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>ans = <span class="emphasis"><em>logical</em></span>
   1

</pre></div></div></div><p>The two variables are the same.</p><div class="procedure"></div></section><section><h4 class="title" id="bub60bt">Write Large Data Set</h4><p>To write a large data set, you must use the chunking capability of the HDF5
                    library. Create a property list and use the <code class="literal">H5P.set_chunk</code>
                    function to set the chunk size in the property list. Suppose the dimensions of
                    your data set are <code class="literal">[2^16 2^16]</code> and the chunk size is
                    1024-by-1024. You then pass the property list as the last argument to the data
                    set creation function, <code class="literal">H5D.create</code>, instead of using the
                        <code class="literal">H5P_DEFAULT</code> value.</p><div class="code_responsive"><pre class="programlisting">dims = [2^16 2^16];
plistID = H5P.create('H5P_DATASET_CREATE'); % create property list

chunk_size = min([1024 1024], dims); % define chunk size 
H5P.set_chunk(plistID, fliplr(chunk_size)); % set chunk size in property list

datasetID = H5D.create(fileID, dsetname, datatypeID, dataspaceID, plistID); </pre></div></section><section><h4 class="title" id="br2cgm3-1">Preserve Correct Layout of Your Data</h4><p>When you use any of the following functions that deal with dataspaces, you
                    should flip dimension extents to preserve the correct layout of the data.</p><div class="itemizedlist"><ul><li><p><code class="literal">H5D.set_extent</code></p></li><li><p><code class="literal">H5P.get_chunk</code></p></li><li><p><code class="literal">H5P.set_chunk</code></p></li><li><p><code class="literal">H5S.create_simple</code></p></li><li><p><code class="literal">H5S.get_simple_extent_dims</code></p></li><li><p><code class="literal">H5S.select_hyperslab</code></p></li><li><p><code class="literal">H5T.array_create</code></p></li><li><p><code class="literal">H5T.get_array_dims</code></p></li></ul></div></section></section><section><h3 class="title" id="mw_804f8a6d-7aaa-44f8-83a5-29db15c2d6ca">Write HDF5 Dataset Using Dynamically Loaded Filters</h3><p>MATLAB supports reading and writing HDF5 datasets using dynamically loaded
                filters. The HDF Group maintains a list of registered filters at <a href="https://github.com/HDFGroup/hdf5_plugins/blob/master/docs/RegisteredFilterPlugins.md" target="_blank">Filters</a> on their website.</p><p>To write a dataset using a third-party filter, follow these steps:</p>
<div class="orderedlist"><ol style="list-style: decimal;"><li><p>Install the HDF5 filter plugin on your system as a shared library or
                            DLL.</p></li><li><p>Obtain the unique filter identifier for the filter plugin assigned by
                            The HDF Group from the list of registered filters.</p></li><li><p>Set the <code class="literal">HDF5_PLUGIN_PATH</code> environment variable to
                            point to the local installation of the plugin, and then start
                                MATLAB:</p>
<div class="itemizedlist"><ul><li><p>On Windows<sup>&#x00AE;</sup> &#8212; Set the environment variable using <span class="emphasis"><em>System Properties &gt; Advanced &gt; Environment
                                            Variables</em></span>, and then start MATLAB.</p></li><li><p>On Linux<sup>&#x00AE;</sup> and <span class="entity">Mac</span> &#8212; Set the environment variable from the
                                        terminal, and then start MATLAB from the same terminal.</p></li></ul></div><p>
</p></li></ol></div><p>
After you complete these steps, you can use the high-level or
                low-level MATLAB HDF5 functions to create and write data sets using the third-party
                filter specified by its unique filter identifier. For more information, see <a href="https://support.hdfgroup.org/archive/support/HDF5/doc/Advanced/DynamicallyLoadedFilters/HDF5DynamicallyLoadedFilters.pdf" target="_blank">HDF5 Dynamically Loaded Filters</a>.</p><section><h4 class="title" id="mw_9cfb6a4a-46f0-4185-a53d-622d376bb29c"><span class="trademark entity">Linux</span> Users Only: Rebuild Filter Plugins Using <span class="trademark entity">MATLAB</span> HDF5 Shared Library</h4><p>Starting in R2021b, in certain cases, Linux users using a filter plugin with callbacks to core HDF5 library
                    functions must rebuild the plugin using the shipping MATLAB HDF5 shared library,
                        <code class="literal">/matlab/bin/glnxa64/libhdf5.so.x.x.x</code>. If you do not
                    rebuild the plugin using this version of the shared library, you might
                    experience issues ranging from undefined behavior to crashes. For more
                    information, see <a href="https://www.mathworks.com/matlabcentral/answers/880033-build-hdf5-filter-plugins-on-linux-using-matlab-hdf5-shared-library-or-gnu-export-map">Build HDF5 Filter Plugins on <span class="trademark entity">Linux</span> Using <span class="trademark entity">MATLAB</span> HDF5 Shared Library or GNU Export Map</a>.</p></section></section>
            
            <h2 id="seealsoref">See Also</h2><h3 id="d126e14801">Topics</h3><ul class="list-unstyled"><li><a href="import-hdf5-files.html" class="a">Import HDF5 Files</a></li></ul>
            
        </section>
    </div></section><div xmlns="http://www.w3.org/1999/xhtml" class="clearfix"></div>
<div xmlns="http://www.w3.org/1999/xhtml" align="center" class="feedbackblock" id="mw_docsurvey"><script src="https://www.mathworks.com/help/docsurvey/docfeedback.js"></script>
<script>loadSurveyHidden();</script>
<link rel="stylesheet" href="https://www.mathworks.com/help/docsurvey/release/index-css.css" type="text/css">
<script src="https://www.mathworks.com/help/docsurvey/release/bundle.index.js"></script>

<script>initDocSurvey();</script></div></main>


</div>
</div>
</div>
</div><!--close_0960-->
<footer xmlns="http://www.w3.org/1999/xhtml" id="footer" class="bs-footer">
<div class="container-fluid">
<div class="footer">
<div class="row">
<div class="col-12">
<p class="copyright">Â© 1994-2025 The MathWorks, Inc.</p>
<ul class="footernav"><li class="footernav_help"><a href="matlab:web(matlab.internal.licenseAgreement)">Terms of Use</a></li><li class="footernav_patents"><a href="matlab:web([matlabroot '/patents.txt'])">Patents</a></li><li class="footernav_trademarks"><a href="matlab:web([matlabroot '/trademarks.txt'])">Trademarks</a></li><li class="footernav_piracy"><a href="matlab:web([docroot '/acknowledgments.html'])">Acknowledgments</a></li></ul></div>
</div>
</div>
</div>
</footer>
</div><!--close row-offcanvas-->
</div><!--close_0970-->
</body>
</html>
