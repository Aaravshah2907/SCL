<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage">
<head>
<meta xmlns="http://www.w3.org/1999/xhtml" charset="utf-8">
<meta xmlns="http://www.w3.org/1999/xhtml" name="viewport" content="width=device-width, initial-scale=1.0">
<meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="X-UA-Compatible" content="IE=edge">
<title>Create Factory Settings for Toolboxes</title>
<script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
      {
      "@context": "http://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement":
      [{
          "@type": "ListItem",
          "position": 1,

          "item": {
          "@id": "../index.html",
          "name": "MATLAB"
}

          } 
        ,
        {
          "@type": "ListItem",
          "position": 2,

          "item": {
          "@id": "../software-development.html",
          "name": "Software Development Tools"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 3,

          "item": {
          "@id": "../creating-help.html",
          "name": "Toolbox Distribution"
}

          }]
      }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "VisibleBreadcrumbs",

        "itemListElement":
        [
        "creating-help"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/bootstrap.min.css" rel="stylesheet" type="text/css">


  <meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="Content-Script-Type" content="text/javascript">
<meta xmlns="http://www.w3.org/1999/xhtml" name="toctype" itemprop="pagetype" content="ug">
<meta xmlns="http://www.w3.org/1999/xhtml" name="infotype" itemprop="infotype" content="ex">

<meta xmlns="http://www.w3.org/1999/xhtml" name="description" itemprop="description" content="Create factory settings that can be used to customize the appearance and behavior of the toolbox after installation."><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-3.6.0.min.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-migrate.min.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_lg.css" rel="stylesheet" media="screen and (min-width: 1200px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_md.css" rel="stylesheet" media="screen and (min-width: 992px) and (max-width: 1199px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm+xs.css" rel="stylesheet" media="screen and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm.css" rel="stylesheet" media="screen and (min-width: 768px) and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_xs.css" rel="stylesheet" media="screen and (max-width: 767px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_offcanvas_v2.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/shared/highlight/styles/mwdochighlight.min.css" rel="stylesheet" type="text/css">

<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/l10n.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/f1help.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/mw.imageanimation.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/jquery.highlight.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/underscore-min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/use_platform_screenshots.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/suggest.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/overload.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/helpservices.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/productfilter.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/matlab_dialog_shared.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/highlight/highlight.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/localstorage.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/product_group.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/saxonjs/SaxonJS2.rt.js"></script><script xmlns="http://www.w3.org/1999/xhtml">
            window.history.replaceState(window.location.href, null, ""); // Initialize
            window.onload = function() {    
            mystylesheetLocation = "../../includes/shared/scripts/product_group-sef.json";
            mysourceLocation = "../../docset/docset.xml";
            product_help_location = "matlab";
            pagetype = "section";
            doccentertype = "product";
            langcode = "";
            getProductFilteredList(mystylesheetLocation, mysourceLocation, product_help_location, pagetype, doccentertype, langcode);  
            }
          </script>




<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery.mobile.custom.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/bootstrap.bundle.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/global.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_base.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_installed.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_print.css" rel="stylesheet" type="text/css" media="print">
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/equationrenderer/release/MathRenderer.js"></script>
</head>
<body id="responsive_offcanvas">
<div xmlns="http://www.w3.org/1999/xhtml" id="doc_header_spacer" class="header"></div>
<div xmlns="http://www.w3.org/1999/xhtml" class="section_header level_3"><div class="container-fluid"><div class="row" id="mobile_search_row"><div class="col-sm-6 col-md-7 has_horizontal_local_nav" id="section_header_title"><div class="section_header_content"><div class="section_header_title"><h1><a href="../../documentation-center.html">Help Center</a></h1></div></div></div><div class="col-12 col-sm-6 col-md-5" id="mobile_search"><div class="search_nested_content_container"><form id="docsearch_form" name="docsearch_form" method="get" data-release="R2025b" data-language="en" action="../../templates/searchresults.html"><div class="input-group tokenized_search_field"><label class="visually-hidden form-label">Search Help</label><input type="text" class="form-control conjoined_search" autocomplete="off" name="qdoc" placeholder="Search Help" id="docsearch"> <div><button type="submit" name="submitsearch" id="submitsearch" class="btn icon-search btn_search_adjacent btn_search icon_16" tabindex="-1"></button></div></div></form></div><button class="btn icon-remove btn_search float-end icon_32 d-sm-none" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div><div class="d-sm-none" id="search_actuator"><button class="btn icon-search btn_search float-end icon_16" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div></div></div></div><div class="row-offcanvas row-offcanvas-left">
<div xmlns="http://www.w3.org/1999/xhtml" class="sidebar-offcanvas" id="sidebar">
<nav class="offcanvas_nav" role="navigation">
<div class="offcanvas_actuator" data-bs-toggle="offcanvas" data-bs-target="#sidebar" id="nav_toggle"><button type="button" class="btn"><span class="visually-hidden">Off-Canvas Navigation Menu Toggle
                  Off-Canvas Navigation Menu Toggle</span><span class="icon-menu"></span></button><span class="offcanvas_actuator_label" id="translation_icon-menu" tabindex="-1" aria-hidden="true"></span></div><div class="nav_list_wrapper" id="nav_list_wrapper"><nav class="offcanvas_nav" role="navigation"><ul class="nav_breadcrumb" id="ul_left_nav_ancestors"><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../../documentation-center.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Documentation Home</span></a></li></ul>
<ul class="nav_disambiguation"><li><a href="../index.html?s_tid=CRUX_lftnav" id="index">MATLAB</a>
</li>
<li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../software-development.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Software Development Tools</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../creating-help.html?s_tid=CRUX_lftnav" itemprop="url" id="creating-help"><span itemprop="title">Toolbox Distribution</span></a></li></ul><div class="search_refine_v4"><div id="facets_area"><ul class="nav_scrollspy nav list-unstyled" id="pnav">
<li class="nav_scrollspy_function nav-item"><a href="#responsive_offcanvas">Create Factory Settings for Toolboxes</a></li>
<li class="nav_scrollspy_title nav-item" id="SSPY810-section">On this page</li>
<!--ADD_REFENTRY_TITLE_HERE 11--><li class="nav-item"><a href="#mw_7b5f42e9-9aee-45ba-99eb-cafffce97875" class="nav-link intrnllnk">Create Factory Settings Tree</a></li><li class="nav-item"><a href="#mw_78744ad2-66e5-48a3-b385-b3cb525711d2" class="nav-link intrnllnk">Create Factory Settings JSON File</a></li><li class="nav-item"><a href="#mw_51546556-397b-45e0-85ef-482491f74050" class="nav-link intrnllnk">Test Factory Settings Tree</a></li><li class="nav-item"><a href="#mw_15f2b19a-d977-4f13-ad8c-958d0e3699b7" class="nav-link intrnllnk">Validate Settings Using Functions</a><ul class="nav"><li class="nav-item"><a href="#mw_9aa53c50-d803-4805-981f-aa0d8efa2e92" class="nav-link intrnllnk">Define Custom Validation Functions</a></li></ul></li><li class="nav-item"><a href="#mw_0e11a634-cf05-41a1-a5f1-8ec5b0ec4fbd" class="nav-link intrnllnk">Ensure Backward Compatibility Across Toolbox Versions</a><ul class="nav"><li class="nav-item"><a href="#mw_f48baede-a5ce-4160-a60e-c39191616090" class="nav-link intrnllnk">Modify Factory Settings Tree</a></li><li class="nav-item"><a href="#mw_fb0f9724-dcd2-4b3d-b35b-2f096c53954c" class="nav-link intrnllnk">Log Changes to Tree</a></li><li class="nav-item"><a href="#mw_f83b7823-d0cd-40c5-9c56-cb19b714caec" class="nav-link intrnllnk">Modify Factory Settings JSON File</a></li><li class="nav-item"><a href="#mw_1da99fd9-c3a9-4486-9f23-ff8d1517172a" class="nav-link intrnllnk">Examine Personal Settings Tree Upgrade Results</a></li></ul></li><li class="nav-item"><a href="#mw_210934d0-b410-4145-8265-71496f8de7f0" class="nav-link intrnllnk">Listen for Changes to Toolbox Settings</a></li><li class="nav-item"><a href="#d126e96321" class="nav-link intrnllnk">See Also</a></li></ul></div></div>
</nav></div></nav>
<script src="../../includes/product/scripts/offcanvas_v2.js"></script></div><!--END.CLASS sidebar-offcanvas-->
<div class="offcanvas_content_container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sticky_header_container"><div class="horizontal_nav"><div class="horizontal_nav_container"><div class="offcanvas_horizontal_nav"><div class="container-fluid"><div class="row"><div class="col-sm-12 d-none d-sm-block"><nav class="navbar navbar-default" role="navigation" id="subnav"><div><ul class="nav navbar-nav crux_browse"><li id="crux_nav_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_example" class="crux_resource"><a href="../examples.html?category=creating-help&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=creating-help&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=creating-help&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></nav></div><div class="d-sm-none"><div class="container-fluid"><div class="row"><div class="col-9"><div class="mobile_crux_nav_trigger"><div class="btn-group"><button type="button" class="btn btn-default dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Resources</button><ul class="dropdown-menu"><li id="crux_nav_mobile_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_mobile_example" class="crux_resource"><a href="../examples.html?category=creating-help&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_mobile_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=creating-help&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_mobile_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=creating-help&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></div></div><div class="col-3"><div class="translate_placeholder"></div></div></div></div></div></div></div></div></div></div></div><div class="content_container" id="content_container" itemprop="content">
<div class="container-fluid">
<div class="row">
<div class="col-12">

<main id="skip_link_anchor" tabindex="-1">
<div xmlns="http://www.w3.org/1999/xhtml" id="product_info_alert"></div><section xmlns="http://www.w3.org/1999/xhtml" id="doc_center_content" lang="en" data-language="en"><div id="pgtype-topic">
<section><h2 class="title r2025b" itemprop="title content" id="mw_92b28928-16f0-408c-b012-9918d690c35e">Create Factory Settings for Toolboxes</h2><p>If you create a toolbox that works with MathWorks<sup>&#x00AE;</sup> products, you can add settings to the toolbox that enable users to
            customize the appearance and behavior of the toolbox after installation. For example,
            you can add a setting that allows a user to change the font size in your toolbox. After
            installing your toolbox, users can either use the factory values or specify their own
            personal or temporary values.</p><p>You can create factory settings for toolboxes using these steps:</p>
<div class="orderedlist"><ol style="list-style: decimal;"><li><p>Create the factory settings tree.</p></li><li><p>Create the factory settings JSON file.</p></li><li><p>Test the factory settings tree.</p></li></ol></div><p>
</p><section><h3 class="title" id="mw_7b5f42e9-9aee-45ba-99eb-cafffce97875">Create Factory Settings Tree</h3><p>The first step to creating factory settings for a toolbox is to create the factory
                settings tree. Use the <a href="../ref/matlab.settings.factorygroup.createtoolboxgroup.html"><code class="function">matlab.settings.FactoryGroup.createToolboxGroup</code></a> function to create
                the root factory settings group for a toolbox. For example, create the root factory
                group for the toolbox <code class="literal">mytoolbox</code>. By default, factory groups are
                hidden, which means that they do not display in the parent settings group. Specify
                the <code class="literal">Hidden</code> name-value argument as <code class="literal">false</code> so
                that the group is visible in the factory settings tree, either when displayed in the
                Command Window or as part of tab completion.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>myToolboxFactoryTree = matlab.settings.FactoryGroup.createToolboxGroup(<span style="color:#A020F0">"mytoolbox"</span>,Hidden=false);</pre></div></div></div><p>Once the toolbox root factory group is created, create the factory settings tree
                by adding factory settings and factory settings groups to the root. To add a new
                factory settings group, use the <a href="../ref/matlab.settings.factorygroup.addgroup.html"><code class="function">addGroup</code></a> function. Specify the <code class="literal">Hidden</code> name-value
                argument as <code class="literal">false</code> to create a visible factory group. For example,
                add the <code class="literal">font</code> factory group as a visible group to store the font
                settings for your toolbox.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>toolboxFontGroup = addGroup(myToolboxFactoryTree,<span style="color:#A020F0">"font"</span>,Hidden=false)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>toolboxFontGroup = 
  FactoryGroup with properties:

             Name: "font"
    ValidationFcn: []
          Hidden: 0</pre></div></div></div><p>To add a new factory setting, use the <a href="../ref/matlab.settings.factorygroup.addsetting.html"><code class="function">addSetting</code></a> function. For example, add <code class="literal">FontSize</code> as
                a visible factory setting in the <code class="literal">font</code> factory group. Specify a
                factory value for the setting. This value ships with the toolbox.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>addSetting(toolboxFontGroup,<span style="color:#A020F0">"FontSize"</span>,FactoryValue=11,Hidden=false)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>ans = 

  FactorySetting with properties:

               Name: "FontSize"
       FactoryValue: 11
    FactoryValueFcn: []
      ValidationFcn: []
             Hidden: 0
           ReadOnly: 0</pre></div></div></div><p>You also can add read-only settings using the <code class="literal">ReadOnly</code>
                name-value argument. Add read-only settings to prevent toolbox users from changing
                the settings values.</p><p>Place all the factory settings tree creation commands in a function with no
                inputs. Include the function file with your toolbox code when you package and
                distribute the toolbox. For example, the function
                    <code class="literal">createMyToolboxFactoryTree</code> creates the factory settings tree
                for the toolbox <code class="literal">mytoolbox</code> and adds the factory group
                    <code class="literal">font</code> and two factory settings, <code class="literal">MyFontSize</code>
                and <code class="literal">MyFontColor</code>, to the tree.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#0000FF">function</span> myToolboxFactoryTree = createMyToolboxFactoryTree
myToolboxFactoryTree = matlab.settings.FactoryGroup.createToolboxGroup(<span style="color:#A020F0">"mytoolbox"</span>, <span style="color:#0000FF">...</span>
    Hidden=false);

toolboxFontGroup = addGroup(myToolboxFactoryTree,<span style="color:#A020F0">"font"</span>,Hidden=false);
addSetting(toolboxFontGroup,<span style="color:#A020F0">"MyFontSize"</span>,FactoryValue=11,Hidden=false);    
addSetting(toolboxFontGroup,<span style="color:#A020F0">"MyFontColor"</span>,FactoryValue=<span style="color:#A020F0">"Black"</span>, <span style="color:#0000FF">...</span>
    Hidden=false);
<span style="color:#0000FF">end</span></pre></div></div></div></section><section><h3 class="title" id="mw_78744ad2-66e5-48a3-b385-b3cb525711d2">Create Factory Settings JSON File</h3><p>To specify the function that creates the factory settings tree for the toolbox,
                create a JSON file named <code class="literal">settingsInfo.json</code>. Include the file in
                the toolbox <code class="literal">resources</code> folder when you package and distribute the
                toolbox.</p><p><code class="literal">settingsInfo.json</code> must follow this template. The
                    <code class="literal">ToolboxGroupName</code> and <code class="literal">CreateTreeFcn</code>
                elements are required. </p><div class="code_responsive"><pre class="programlisting">{
"ToolboxGroupName" : "<em class="replaceable">toolbox root factory group name</em>",
"Hidden" : "<em class="replaceable">hidden state of toolbox root factory group</em>",
"CreateTreeFcn" : "<em class="replaceable">toolbox factory tree creation function</em>", 
"CreateUpgradersFcn" : "<em class="replaceable">toolbox factory tree upgrade function</em>"
}</pre></div><div class="alert alert-info d-inline-block"><span class="alert_icon icon-alert-info-reverse"></span><p class="alert_heading"><strong>Note</strong></p><p>The values for <code class="literal">ToolboxGroupName</code> and
                        <code class="literal">Hidden</code> must match the toolbox root factory group name and
                    hidden state.</p></div><p>For example, create the <code class="literal">settingsInfo.json</code> file for
                    <code class="literal">mytoolbox</code>. Specify the root settings group name as
                    <code class="literal">mytoolbox</code>, the hidden state as <code class="literal">false</code>, and
                the settings tree creation function as
                <code class="literal">createMyToolboxFactoryTree</code>.</p><div class="code_responsive"><pre class="programlisting">{
"ToolboxGroupName" : "mytoolbox",
"Hidden" : false,
"CreateTreeFcn" : "createMyToolboxFactoryTree"
}</pre></div></section><section><h3 class="title" id="mw_51546556-397b-45e0-85ef-482491f74050">Test Factory Settings Tree</h3><p>After creating the settings tree creation function and the
                    <code class="literal">settingsInfo.json</code> file for your toolbox, you can test the
                settings tree before packaging and distributing the toolbox to verify that the
                settings are working as expected.</p><div class="alert alert-info d-inline-block"><span class="alert_icon icon-alert-info-reverse"></span><p class="alert_heading"><strong>Note</strong></p><p>You must add the toolbox folder that contains the settings tree creation
                    function and the toolbox <code class="literal">resources</code> folder to the MATLAB<sup>&#x00AE;</sup> path.</p></div><p>To test the tree, use the <code class="function">matlab.settings.reloadFactoryFile</code>
                function to load your toolbox factory settings. The <code class="function">settings</code>
                function gives MATLAB access to the root of the settings tree and your toolbox factory
                settings tree underneath it.</p><p>For example, test the factory settings tree for
                <code class="literal">mytoolbox</code>.<div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>matlab.settings.reloadFactoryFile(<span style="color:#A020F0">"mytoolbox"</span>);
s = settings;
s.mytoolbox.font.myFontSize.PersonalValue = 15;
s.mytoolbox.font.MyFontSize</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>ans = 
  Setting 'mytoolbox.font.MyFontSize' with properties:
       ActiveValue: 15
    TemporaryValue: &lt;no value&gt;
     PersonalValue: 15
  InstallationValue: &lt;no value&gt;
      FactoryValue: 11</pre></div></div></div></p><div class="alert alert-info d-inline-block"><span class="alert_icon icon-alert-info-reverse"></span><p class="alert_heading"><strong>Note</strong></p><div class="itemizedlist"><ul><li><p>The <code class="function">matlab.settings.reloadFactoryFile</code> function is
                            meant for debugging purposes only. Do not include the function in
                            shipping toolbox code.</p></li><li><p>You must re-create any variables that reference the specified toolbox
                            after calling <code class="function">matlab.settings.reloadFactoryFile</code>.
                            For example, if you create the variable <code class="literal">a =
                                s.mytoolbox</code> and then call
                                <code class="function">matlab.settings.reloadFactoryFile</code>, you must
                            re-create <code class="literal">a</code> to access the updated settings for
                                <code class="literal">mytoolbox</code>.</p></li></ul></div></div></section><section><h3 class="title" id="mw_15f2b19a-d977-4f13-ad8c-958d0e3699b7">Validate Settings Using Functions</h3><p>You can impose specific restrictions on settings values by specifying a validation
                function for a setting or group. A validation function accepts a potential setting
                value as an argument and throws an error if the value does not meet a specific
                requirement.</p><p>MATLAB defines several validation functions that you can use to validate
                settings.</p><div class="table-responsive"><table class="table table-condensed"><colgroup><col class="tcol1" width="189"><col class="tcol2" width="149"><col class="tcol3" width="130"></colgroup><thead><tr><th><p>Name</p></th><th><p>Meaning</p></th><th><p>Functions Called on Inputs</p></th></tr></thead><tbody><tr><td><p><code class="literal"><a href="../ref/matlab.settings.mustbestringscalar.html"><code class="function">matlab.settings.mustBeStringScalar</code></a>(A)</code></p></td><td><p><code class="literal">A</code> must be a string
                            scalar.</p></td><td><p><a href="../ref/isstringscalar.html"><code class="function">isStringScalar</code></a></p></td></tr><tr><td><p><code class="literal"><a href="../ref/matlab.settings.mustbelogicalscalar.html"><code class="function">matlab.settings.mustBeLogicalScalar</code></a>(A)</code></p></td><td><p><code class="literal">A</code> must be a logical
                            scalar.</p></td><td><p><a href="../ref/islogical.html"><code class="function">islogical</code></a>, <a href="../ref/double.isscalar.html"><code class="function">isscalar</code></a></p></td></tr><tr><td><p><code class="literal"><a href="../ref/matlab.settings.mustbenumericscalar.html"><code class="function">matlab.settings.mustBeNumericScalar</code></a>(A)</code></p></td><td><p><code class="literal">A</code> must be a numeric
                            scalar.</p></td><td><p><a href="../ref/isnumeric.html"><code class="function">isnumeric</code></a>, <a href="../ref/double.isscalar.html"><code class="function">isscalar</code></a></p></td></tr><tr><td><p><code class="literal"><a href="../ref/matlab.settings.mustbeintegerscalar.html"><code class="function">matlab.settings.mustBeIntegerScalar</code></a>(A)</code></p></td><td><p><code class="literal">A</code> must be an integer
                            scalar.</p></td><td><p><a href="../ref/isinteger.html"><code class="function">isinteger</code></a>, <a href="../ref/double.isscalar.html"><code class="function">isscalar</code></a></p></td></tr><tr><td><p><code class="literal"><a href="../ref/mustbepositive.html"><code class="function">mustBePositive</code></a>(A)</code></p></td><td><p><code class="literal">A &gt; 0</code></p></td><td><p><a href="../ref/double.gt.html"><code class="function">gt</code></a>, <a href="../ref/double.isreal.html"><code class="function">isreal</code></a>, <a href="../ref/isnumeric.html"><code class="function">isnumeric</code></a>, <a href="../ref/islogical.html"><code class="function">islogical</code></a></p></td></tr><tr><td><p><code class="literal"><a href="../ref/mustbenonpositive.html"><code class="function">mustBeNonpositive</code></a>(A)</code></p></td><td><p><code class="literal">A &lt;=
                        0</code></p></td><td><p><a href="../ref/double.ge.html"><code class="function">ge</code></a>, <a href="../ref/double.isreal.html"><code class="function">isreal</code></a>, <a href="../ref/isnumeric.html"><code class="function">isnumeric</code></a>, <a href="../ref/islogical.html"><code class="function">islogical</code></a></p></td></tr><tr><td><p><code class="literal"><a href="../ref/mustbefinite.html"><code class="function">mustBeFinite</code></a>(A)</code></p></td><td><p><code class="literal">A</code> has no
                                <code class="literal">NaN</code> and no <code class="literal">Inf</code>
                            elements.</p></td><td><p><a href="../ref/double.isfinite.html"><code class="function">isfinite</code></a></p></td></tr><tr><td><p><code class="literal"><a href="../ref/mustbenonnan.html"><code class="function">mustBeNonNan</code></a>(A)</code></p></td><td><p><code class="literal">A</code> has no
                                <code class="literal">NaN</code> elements.</p></td><td><p><a href="../ref/double.isnan.html"><code class="function">isnan</code></a></p></td></tr><tr><td><p><code class="literal"><a href="../ref/mustbenonnegative.html"><code class="function">mustBeNonnegative</code></a>(A)</code></p></td><td><p><code class="literal">A &gt;=
                        0</code></p></td><td><p><a href="../ref/double.ge.html"><code class="function">ge</code></a>, <a href="../ref/double.isreal.html"><code class="function">isreal</code></a>, <a href="../ref/isnumeric.html"><code class="function">isnumeric</code></a>, <a href="../ref/islogical.html"><code class="function">islogical</code></a></p></td></tr><tr><td><p><code class="literal"><a href="../ref/mustbenegative.html"><code class="function">mustBeNegative</code></a>(A)</code></p></td><td><p><code class="literal">A &lt; 0</code></p></td><td><p><a href="../ref/double.lt.html"><code class="function">lt</code></a>, <a href="../ref/double.isreal.html"><code class="function">isreal</code></a>, <a href="../ref/isnumeric.html"><code class="function">isnumeric</code></a>, <a href="../ref/islogical.html"><code class="function">islogical</code></a></p></td></tr><tr><td><p><code class="literal"><a href="../ref/mustbenonzero.html"><code class="function">mustBeNonzero</code></a>(A)</code></p></td><td><p><code class="literal">A ~= 0</code></p></td><td><p><a href="../ref/double.eq.html"><code class="function">eq</code></a>, <a href="../ref/isnumeric.html"><code class="function">isnumeric</code></a>, <a href="../ref/islogical.html"><code class="function">islogical</code></a></p></td></tr><tr><td><p><code class="literal"><a href="../ref/mustbenonempty.html"><code class="function">mustBeNonempty</code></a>(A)</code></p></td><td><p><code class="literal">A</code> must not be
                            empty.</p></td><td><p><a href="../ref/double.isempty.html"><code class="function">isempty</code></a></p></td></tr><tr><td><p><code class="literal"><a href="../ref/mustbenonsparse.html"><code class="function">mustBeNonsparse</code></a>(A)</code></p></td><td><p><code class="literal">A</code> has no sparse
                            elements.</p></td><td><p><a href="../ref/issparse.html"><code class="function">issparse</code></a></p></td></tr><tr><td><p><code class="literal"><a href="../ref/mustbenumeric.html"><code class="function">mustBeNumeric</code></a>(A)</code></p></td><td><p><code class="literal">A</code> must be
                            numeric.</p></td><td><p><a href="../ref/isnumeric.html"><code class="function">isnumeric</code></a></p></td></tr><tr><td><p><code class="literal"><a href="../ref/mustbenumericorlogical.html"><code class="function">mustBeNumericOrLogical</code></a>(A)</code></p></td><td><p><code class="literal">A</code> must be numeric or
                            logical.</p></td><td><p><a href="../ref/isnumeric.html"><code class="function">isnumeric</code></a>, <a href="../ref/islogical.html"><code class="function">islogical</code></a></p></td></tr><tr><td><p><code class="literal"><a href="../ref/mustbereal.html"><code class="function">mustBeReal</code></a>(A)</code></p></td><td><p><code class="literal">A</code> has no imaginary
                            part.</p></td><td><p><a href="../ref/double.isreal.html"><code class="function">isreal</code></a></p></td></tr><tr><td><p><code class="literal"><a href="../ref/mustbeinteger.html"><code class="function">mustBeInteger</code></a>(A)</code></p></td><td><p><code class="literal">A ==
                        floor(A)</code></p></td><td><p><a href="../ref/double.isreal.html"><code class="function">isreal</code></a>, <a href="../ref/double.isfinite.html"><code class="function">isfinite</code></a>, <a href="../ref/double.floor.html"><code class="function">floor</code></a>, <a href="../ref/isnumeric.html"><code class="function">isnumeric</code></a>, <a href="../ref/islogical.html"><code class="function">islogical</code></a></p></td></tr></tbody></table></div><p>To specify a validation function when creating a factory setting, use the
                    <code class="literal">ValidationFcn</code> name-value argument and specify the function
                handle. For example, add the setting <code class="literal">MyLogicalSetting</code> to the
                    <code class="literal">mytoolbox</code> group and specify that its value must be a logical
                scalar.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>addSetting(s.mytoolbox,<span style="color:#A020F0">"MyLogicalSetting"</span>,ValidationFcn= <span style="color:#0000FF">...</span>
    @matlab.settings.mustBeLogicalScalar);</pre></div></div></div><p>Try setting the value of <code class="literal">MyLogicalSetting</code> to a nonlogical
                value. As expected, MATLAB throws an error.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>s.mytoolbox.MyLogicalSetting.PersonalValue = 10</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>Error setting 'MyLogicalSetting' in group 'mytoolbox':
Value must be logical or convertible to logical.</pre></div></div></div><p>You also can specify a validation function for an entire factory settings group.
                When specified, the function validates the values of all factory settings within the
                group that do not specify their own validation functions. The specified function
                also validates settings in subgroups, as long as the subgroup or settings do not
                specify their own validation functions. For example, create the settings group
                    <code class="literal">mylogicalsettings</code> and specify the validation function
                    <code class="function">matlab.settings.mustBeLogicalScalar</code>.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>addGroup(s.mytoolbox,<span style="color:#A020F0">"mylogicalsettings"</span>,ValidationFcn= <span style="color:#0000FF">...</span>
    @matlab.settings.mustBeLogicalScalar);</pre></div></div></div><p>Create the setting <code class="literal">MyLogicalSetting</code> within the
                    <code class="literal">mylogicalsettings</code> group and try setting its value to a
                nonlogical value. As expected, MATLAB throws an error.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>addSetting(s.mytoolbox.mylogicalsettings,<span style="color:#A020F0">"MyLogicalSetting"</span>)
s.mytoolbox.mylogicalsettings.MyLogicalSetting.PersonalValue = 10;</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>Error setting 'MyLogicalSetting' in group 'mytoolbox.mylogicalsettings': 
Value must be logical or convertible to logical.</pre></div></div></div><section><h4 class="title" id="mw_9aa53c50-d803-4805-981f-aa0d8efa2e92">Define Custom Validation Functions</h4><p>You can create your own validation functions to check factory settings for
                    characteristics that are not covered by the MATLAB validation functions. Validation functions are ordinary
                        MATLAB functions that are designed for validating the values of settings.
                    They must satisfy these conditions:</p><div class="itemizedlist"><ul><li><p>Accept the potential setting value as an input argument.</p></li><li><p>Have no output arguments.</p></li><li><p>Throw an error if the validation fails.</p></li></ul></div><p>Place validation functions on the MATLAB path to make them available.</p><p> For example, create a function to validate whether the value of a setting is
                    an even number.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#0000FF">function</span> evenNumberValidationFcn(x)
errorMsg = <span style="color:#A020F0">"Value must be an even number."</span>;
iseven = isnumeric(x) &amp;&amp; mod(x,2) == 0;
assert(iseven,errorMsg);
<span style="color:#0000FF">end</span>
</pre></div></div></div><p>Add this validation function to a new setting.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>addSetting(s.mytoolbox,<span style="color:#A020F0">"MyEvenNumberSetting"</span>,ValidationFcn=@evenNumberValidationFcn);</pre></div></div></div><p>Set the value of <code class="literal">MyEvenNumberSetting</code> to an odd number. As
                    expected, MATLAB throws an error.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>s.mytoolbox.MyEvenNumberSetting.PersonalValue = 1;</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>Unable to validate settings data. Error using assert
Value must be an even number.</pre></div></div></div><p>You also can create custom validation functions to make use of MATLAB validation functions that require multiple inputs, such as
                        <a href="../ref/mustbegreaterthan.html"><code class="function">mustBeGreaterThan</code></a>, <a href="../ref/mustbelessthan.html"><code class="function">mustBeLessThan</code></a>, <a href="../ref/mustbegreaterthanorequal.html"><code class="function">mustBeGreaterThanOrEqual</code></a>,
                        <a href="../ref/mustbelessthanorequal.html"><code class="function">mustBeLessThanOrEqual</code></a>, and
                        <a href="../ref/mustbemember.html"><code class="function">mustBeMember</code></a>. For example, this
                    function validates that the value of a setting is one of four colors.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#0000FF">function</span> colorValidationFcn(val) 
mustBeMember(val,[<span style="color:#A020F0">"Black"</span> <span style="color:#A020F0">"Blue"</span> <span style="color:#A020F0">"Yellow"</span> <span style="color:#A020F0">"Green"</span>]); 
<span style="color:#0000FF">end</span></pre></div></div></div><p>For more information about adding a validation function to a factory setting
                    or factory settings group, see <a href="../ref/matlab.settings.factorygroup.addsetting.html"><code class="function">addSetting</code></a> and <a href="../ref/matlab.settings.factorygroup.addgroup.html"><code class="function">addGroup</code></a>.</p></section></section><section><h3 class="title" id="mw_0e11a634-cf05-41a1-a5f1-8ec5b0ec4fbd">Ensure Backward Compatibility Across Toolbox Versions</h3><p>To create a new version of your toolbox that includes modifications to the factory
                settings tree, you can take steps to ensure that any personal settings configured in
                a previously installed version of the toolbox are properly moved to the upgraded
                factory settings tree.</p><p>To ensure backward compatibility when making modifications to the factory settings
                tree, follow these steps:</p><div class="orderedlist"><ol style="list-style: decimal;"><li><p>Modify the factory settings tree.</p></li><li><p>Log changes to the tree.</p></li><li><p>Modify the factory settings JSON file.</p></li><li><p>Examine personal settings tree upgrade results.</p></li></ol></div><p>Modifications that can cause backward incompatibility issues include renaming,
                moving, and removing toolbox factory settings or settings groups. If you are adding
                new settings to the factory settings tree, then you do not need to follow these
                steps.</p><div class="alert alert-warning d-inline-block"><span class="alert_icon icon-alert-warning"></span><p class="alert_heading"><strong>Caution</strong></p><p>Changes to the factory settings tree creation function can affect the saved
                    personal and temporary values of settings for the toolbox. To save a copy of the
                    values of your settings, back up your toolbox settings file before making any
                    changes or before upgrading your toolbox. The toolbox settings file,
                            <code class="literal"><em class="replaceable"><code>toolboxname</code></em>.mlsettings</code>, is
                    located in your settings folder. To see the full path for the settings folder,
                    enter <code class="literal">prefdir</code> in the MATLAB Command Window.</p><p>If you experience unexpected changes to a toolbox settings tree after an
                    upgrade, you can restore the tree by replacing the toolbox settings file with
                    the backup that you created.</p></div><section><h4 class="title" id="mw_f48baede-a5ce-4160-a60e-c39191616090">Modify Factory Settings Tree</h4><p>To update the factory settings tree for the latest toolbox version, modify the
                    factory settings tree creation functions.</p><div class="alert alert-info d-inline-block"><span class="alert_icon icon-alert-info-reverse"></span><p class="alert_heading"><strong>Note</strong></p><p>The commands in the factory settings tree creation function represent the
                        latest toolbox version settings tree.</p></div><p>For example, suppose that in version <code class="literal">2</code> of
                        <code class="literal">mytoolbox</code>, you want to rename the settings
                        <code class="literal">MyFontSize</code> and <code class="literal">MyFontColor</code> to
                        <code class="literal">FontSize</code> and <code class="literal">FontColor</code>. Change the
                    settings names in <code class="literal">createMyToolboxFactoryTree</code>.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#0000FF">function</span> myToolboxFactoryTree = createMyToolboxFactoryTree
myToolboxFactoryTree = matlab.settings.FactoryGroup.createToolboxGroup(<span style="color:#A020F0">"mytoolbox"</span>, <span style="color:#0000FF">...</span>
    Hidden=false);

toolboxFontGroup = addGroup(myToolboxFactoryTree,<span style="color:#A020F0">"font"</span>,Hidden=false);
addSetting(toolboxFontGroup,<span style="color:#A020F0">"FontSize"</span>,FactoryValue=11,Hidden=false, <span style="color:#0000FF">...</span>
    ValidationFcn=@matlab.settings.mustBeNumericScalar);    
addSetting(toolboxFontGroup,<span style="color:#A020F0">"FontColor"</span>,FactoryValue=<span style="color:#A020F0">"Black"</span>, <span style="color:#0000FF">...</span>
    Hidden=false,ValidationFcn=@matlab.settings.mustBeStringScalar);
<span style="color:#0000FF">end</span></pre></div></div></div></section><section><h4 class="title" id="mw_fb0f9724-dcd2-4b3d-b35b-2f096c53954c">Log Changes to Tree</h4><p>Create a function with no inputs to store the instructions for upgrading the
                    personal settings from a previous version of the toolbox. Include the file with
                    your toolbox code when you package and distribute the toolbox. Logging changes
                    to the factory settings tree supports backward compatibility for a toolbox with
                    modified settings.</p><p>In the function, add a settings file upgrader object for each version of the
                    toolbox that contains changes to the factory settings tree. Use the <a href="../ref/matlab.settings.settingsfileupgrader.move.html"><code class="function">move</code></a> and <a href="../ref/matlab.settings.settingsfileupgrader.remove.html"><code class="function">remove</code></a> functions to log individual changes. For example, the
                    function <code class="literal">createMyToolboxSettingsFileUpgraders</code> logs the
                    changes to <code class="literal">MyFontSize</code> and <code class="literal">MyFontColor</code> for
                    version <code class="literal">2</code> of <code class="literal">mytoolbox</code>.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#0000FF">function</span> upgraders = createMyToolboxSettingsFileUpgraders
upgraders = matlab.settings.SettingsFileUpgrader(<span style="color:#A020F0">"Version2"</span>);
move(upgraders,<span style="color:#A020F0">"mytoolbox.font.MyFontSize"</span>,<span style="color:#A020F0">"mytoolbox.font.FontSize"</span>);
move(upgraders,<span style="color:#A020F0">"mytoolbox.font.MyFontColor"</span>,<span style="color:#A020F0">"mytoolbox.font.FontColor"</span>); 
<span style="color:#0000FF">end</span></pre></div></div></div><p>Do not modify logged upgrade instructions in the settings tree upgrade
                    function after packaging and distributing the toolbox to your users. Modifying
                    instructions can have unexpected results. If you make additional changes to the
                    settings tree, log the changes by appending them to the existing instructions or
                    by creating a new upgrader instance.</p><p>For example, this code logs changes for version <code class="literal">2</code> and
                    version <code class="literal">3</code> of
                    <code class="literal">mytoolbox</code>.<div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#0000FF">function</span> upgraders = createMyToolboxSettingsFileUpgraders
upgraders = matlab.settings.SettingsFileUpgrader(<span style="color:#A020F0">"Version2"</span>);
move(upgraders,<span style="color:#A020F0">"mytoolbox.font.MyFontSize"</span>,<span style="color:#A020F0">"mytoolbox.font.FontSize"</span>);
move(upgraders,<span style="color:#A020F0">"mytoolbox.font.MyFontColor"</span>,<span style="color:#A020F0">"mytoolbox.font.FontColor"</span>); 

upgraders(2) = matlab.settings.SettingsFileUpgrader(<span style="color:#A020F0">"Version3"</span>);
remove(upgraders(2),<span style="color:#A020F0">"mytoolbox.font.FontName"</span>); 
<span style="color:#0000FF">end</span></pre></div></div></div></p></section><section><h4 class="title" id="mw_f83b7823-d0cd-40c5-9c56-cb19b714caec">Modify Factory Settings JSON File</h4><p>To specify the function that upgrades the factory settings tree for the
                    toolbox, add the settings tree upgrade function to the factory settings file
                        (<code class="literal">settingsInfo.json</code>). For example, in
                        <code class="literal">settingsInfo.json</code> for <code class="literal">mytoolbox</code>,
                    specify the settings tree upgrade function as
                        <code class="literal">createMyToolboxSettingsFileUpgraders</code>.</p><div class="code_responsive"><pre class="programlisting">{
"ToolboxGroupName" : "mytoolbox",
"Hidden" : false,
"CreateTreeFcn" : "createMyToolboxFactoryTree",
"CreateUpgradersFcn" : "createMyToolboxSettingsFileUpgraders"
}</pre></div><div class="alert alert-info d-inline-block"><span class="alert_icon icon-alert-info-reverse"></span><p class="alert_heading"><strong>Note</strong></p><p>You must restart MATLAB after changing the <code class="literal">settingsInfo.json</code>
                        file.</p></div></section><section><h4 class="title" id="mw_1da99fd9-c3a9-4486-9f23-ff8d1517172a">Examine Personal Settings Tree Upgrade Results</h4><p>After upgrading the personal settings of a toolbox, you can examine the
                    upgrade results to verify that the upgrade occurred as intended. Be sure to
                    examine the upgrade results before distributing the toolbox. </p><p>For example, examine the upgrade results for version <code class="literal">2</code> of
                        <code class="literal">mytoolbox</code> before distributing the toolbox.</p><div class="orderedlist"><ol style="list-style: decimal;"><li><p>Reload the factory settings tree for
                            <code class="literal">mytoolbox</code>.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>matlab.settings.reloadFactoryFile(<span style="color:#A020F0">"mytoolbox"</span>);</pre></div></div></div></li><li><p>Use the <code class="function">settings</code> function to access the root of
                            the settings tree and verify that the personal value for the
                                <code class="literal">FontSize</code> setting was moved over from the
                                <code class="literal">MyFontSize</code> setting as intended. Accessing your
                            toolbox settings triggers the personal settings upgrade process.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>s = settings;
s.mytoolbox.font.FontSize</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>ans = 
  Setting 'mytoolbox.font.FontSize' with properties:
       ActiveValue: 15
    TemporaryValue: &lt;no value&gt;
     PersonalValue: 15
 InstallationValue: &lt;no value&gt;
      FactoryValue: 11</pre></div></div></div></li><li><p>Run the
                                <code class="function">matlab.settings.loadSettingsCompatibilityResults</code>
                            function to get the upgrade results for version <code class="literal">2</code> of
                                <code class="literal">mytoolbox</code>. Verify that there are no prevalidation
                            exceptions.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>upgradeResults = matlab.settings.loadSettingsCompatibilityResults(<span style="color:#A020F0">"mytoolbox"</span>,<span style="color:#A020F0">"Version2"</span>)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>upgradeResults = 
  ReleaseCompatibilityResults with properties:
               VersionLabel: "Version2"
    PreValidationExceptions: [00 matlab.settings.ReleaseCompatibilityException]
                    Results: [11 matlab.settings.VersionResults]</pre></div></div></div></li><li><p>Access the <code class="property">Results</code> property to determine the
                            number of upgrade operations performed.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>upgradeResults.Results</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>ans = 
  VersionResults with properties:
      VersionLabel: "Version2"
    VersionChanges: [12 matlab.settings.OperationResult]</pre></div></div></div></li><li><p>Check the status of each upgrade operation.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>upgradeResults.Results.VersionChanges.Status</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>ans = 
    "Succeeded"

ans = 
    "Succeeded"
</pre></div></div></div></li></ol></div><p>You also can examine upgrade results after you have installed a new version of
                    a toolbox. This approach is useful, for example, if you are helping a toolbox
                    user troubleshoot their toolbox settings after an upgrade.</p><p>For example, suppose that you have version <code class="literal">1</code> of
                        <code class="literal">mytoolbox</code> installed and have set personal values for
                    several settings. After installing version <code class="literal">2</code> of
                        <code class="literal">mytoolbox</code>, examine the upgrade results to ensure that
                    your personal settings moved over as expected.</p>
<div class="orderedlist"><ol style="list-style: decimal;"><li><p>Use the <code class="function">settings</code> function to access the root
                                of the settings tree and your toolbox settings. Accessing your
                                toolbox settings triggers the personal settings upgrade
                                process.<div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>s = settings;
s.mytoolbox</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>ans = 
  SettingsGroup 'mytoolbox' with properties:
    font: [11 SettingsGroup]</pre></div></div></div></p></li><li><p>Run the
                                    <code class="function">matlab.settings.loadSettingsCompatibilityResults</code>
                                function to get the upgrade results. Check the status of each
                                upgrade operation.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>upgradeResults = matlab.settings.loadSettingsCompatibilityResults(<span style="color:#A020F0">"mytoolbox"</span>,<span style="color:#A020F0">"Version2"</span>);
upgradeResults.Results.VersionChanges.Status</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>ans = 
    "Succeeded"

ans = 
    "Succeeded"
</pre></div></div></div></li></ol></div><p>
</p><div class="alert alert-info d-inline-block"><span class="alert_icon icon-alert-info-reverse"></span><p class="alert_heading"><strong>Note</strong></p><div class="itemizedlist"><ul><li><p>After running the
                                    <code class="function">matlab.settings.reloadFactoryFile</code> and
                                    <code class="function">matlab.settings.loadSettingsCompatibilityResults</code>
                                functions, delete the log of results before running the functions
                                again. Deleting the log allows MATLAB to load the latest upgrade results.. The log is
                                located in the settings folder, in the
                                        <code class="literal"><em class="replaceable"><code>toolboxname</code></em></code>
                                folder.</p></li><li><p>The <code class="function">matlab.settings.reloadFactoryFile</code> and
                                    <code class="function">matlab.settings.loadSettingsCompatibilityResults</code>
                                functions are meant for debugging purposes only. Do not include the
                                functions in shipping toolbox code.</p></li></ul></div></div></section></section><section><h3 class="title" id="mw_210934d0-b410-4145-8265-71496f8de7f0">Listen for Changes to Toolbox Settings</h3><p>If you add settings to your toolbox for toolbox users to modify, you can create
                settings listeners to detect when a setting value changes so that your toolbox can
                react to the change. To create a setting listener, use the <a href="../ref/handle.addlistener.html"><code class="function">addlistener</code></a> function. </p><p>For example, create a setting listener for the
                    <code class="literal">mytoolbox.font.FontSize</code>
                setting.<div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>s = settings;
settingListener = addlistener(s.mytoolbox.font,<span style="color:#A020F0">"FontSize"</span>,<span style="color:#A020F0">"PostSet"</span>, <span style="color:#0000FF">...</span>
    @(src,evnt)disp(<span style="color:#A020F0">"Font size changed"</span>));</pre></div></div></div></p><p>Set the value of the <code class="setting">FontSize</code> setting to <code class="literal">12</code>.
                Setting the value triggers the <code class="literal">PostSet</code> event on the
                setting.<div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>s.mytoolbox.font.FontSize.PersonalValue = 12;
</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>Font size changed</pre></div></div></div></p></section>
            <h2 id="d126e96321">See Also</h2><p><span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/matlab.settings.reloadfactoryfile.html"><span itemprop="name"><code class="function">matlab.settings.reloadFactoryFile</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/matlab.settings.loadsettingscompatibilityresults.html"><span itemprop="name"><code class="function">matlab.settings.loadSettingsCompatibilityResults</code></span></a></span> | <span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/matlab.settings.factorygroup.createtoolboxgroup.html"><span itemprop="name"><code class="function">matlab.settings.FactoryGroup.createToolboxGroup</code></span></a></span></p>
            <h3 id="d126e96333">Topics</h3><ul class="list-unstyled"><li><a href="access-and-modify-settings.html" class="a">Access and Modify Settings Programmatically</a></li><li><a href="create-custom-settings.html" class="a">Create Custom Settings</a></li></ul>
        </section>
    </div></section><div xmlns="http://www.w3.org/1999/xhtml" class="clearfix"></div>
<div xmlns="http://www.w3.org/1999/xhtml" align="center" class="feedbackblock" id="mw_docsurvey"><script src="https://www.mathworks.com/help/docsurvey/docfeedback.js"></script>
<script>loadSurveyHidden();</script>
<link rel="stylesheet" href="https://www.mathworks.com/help/docsurvey/release/index-css.css" type="text/css">
<script src="https://www.mathworks.com/help/docsurvey/release/bundle.index.js"></script>

<script>initDocSurvey();</script></div></main>


</div>
</div>
</div>
</div><!--close_0960-->
<footer xmlns="http://www.w3.org/1999/xhtml" id="footer" class="bs-footer">
<div class="container-fluid">
<div class="footer">
<div class="row">
<div class="col-12">
<p class="copyright"> 1994-2025 The MathWorks, Inc.</p>
<ul class="footernav"><li class="footernav_help"><a href="matlab:web(matlab.internal.licenseAgreement)">Terms of Use</a></li><li class="footernav_patents"><a href="matlab:web([matlabroot '/patents.txt'])">Patents</a></li><li class="footernav_trademarks"><a href="matlab:web([matlabroot '/trademarks.txt'])">Trademarks</a></li><li class="footernav_piracy"><a href="matlab:web([docroot '/acknowledgments.html'])">Acknowledgments</a></li></ul></div>
</div>
</div>
</div>
</footer>
</div><!--close row-offcanvas-->
</div><!--close_0970-->
</body>
</html>
