<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage">
<head>
<meta xmlns="http://www.w3.org/1999/xhtml" charset="utf-8">
<meta xmlns="http://www.w3.org/1999/xhtml" name="viewport" content="width=device-width, initial-scale=1.0">
<meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="X-UA-Compatible" content="IE=edge">
<title>Header and C++ Compiled Library Files on Linux</title>
<script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
      {
      "@context": "http://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement":
      [{
          "@type": "ListItem",
          "position": 1,

          "item": {
          "@id": "../index.html",
          "name": "MATLAB"
}

          } 
        ,
        {
          "@type": "ListItem",
          "position": 2,

          "item": {
          "@id": "../external-language-interfaces.html",
          "name": "External Language Interfaces"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 3,

          "item": {
          "@id": "../cpp-language.html",
          "name": "C++ with MATLAB"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 4,

          "item": {
          "@id": "../call-cpp-library-functions.html",
          "name": "Call C++ from MATLAB"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 5,

          "item": {
          "@id": "../build-matlab-interface-to-c-library.html",
          "name": "Build MATLAB Interface to C++ Library"
}

          }]
      }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
      {
      "@context": "http://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement":
      [{
          "@type": "ListItem",
          "position": 1,

          "item": {
          "@id": "../index.html",
          "name": "MATLAB"
}

          } 
        ,
        {
          "@type": "ListItem",
          "position": 2,

          "item": {
          "@id": "../external-language-interfaces.html",
          "name": "External Language Interfaces"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 3,

          "item": {
          "@id": "../cpp-language.html",
          "name": "C++ with MATLAB"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 4,

          "item": {
          "@id": "../call-cpp-library-functions.html",
          "name": "Call C++ from MATLAB"
}

          }]
      }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "VisibleBreadcrumbs",

        "itemListElement":
        [
        "build-matlab-interface-to-c-library",
        "call-cpp-library-functions"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/bootstrap.min.css" rel="stylesheet" type="text/css">


  <meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="Content-Script-Type" content="text/javascript">
<meta xmlns="http://www.w3.org/1999/xhtml" name="toctype" itemprop="pagetype" content="con">
<meta xmlns="http://www.w3.org/1999/xhtml" name="infotype" itemprop="infotype" content="fe">

<meta xmlns="http://www.w3.org/1999/xhtml" name="description" itemprop="description" content="This example creates a MATLAB interface to a C++ library with a shared object file libmwmatrixOperations.so."><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-3.6.0.min.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-migrate.min.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_lg.css" rel="stylesheet" media="screen and (min-width: 1200px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_md.css" rel="stylesheet" media="screen and (min-width: 992px) and (max-width: 1199px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm+xs.css" rel="stylesheet" media="screen and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm.css" rel="stylesheet" media="screen and (min-width: 768px) and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_xs.css" rel="stylesheet" media="screen and (max-width: 767px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_offcanvas_v2.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/shared/highlight/styles/mwdochighlight.min.css" rel="stylesheet" type="text/css">

<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/l10n.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/f1help.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/mw.imageanimation.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/jquery.highlight.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/underscore-min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/use_platform_screenshots.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/suggest.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/overload.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/helpservices.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/productfilter.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/matlab_dialog_shared.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/highlight/highlight.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/localstorage.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/product_group.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/saxonjs/SaxonJS2.rt.js"></script><script xmlns="http://www.w3.org/1999/xhtml">
            window.history.replaceState(window.location.href, null, ""); // Initialize
            window.onload = function() {    
            mystylesheetLocation = "../../includes/shared/scripts/product_group-sef.json";
            mysourceLocation = "../../docset/docset.xml";
            product_help_location = "matlab";
            pagetype = "section";
            doccentertype = "product";
            langcode = "";
            getProductFilteredList(mystylesheetLocation, mysourceLocation, product_help_location, pagetype, doccentertype, langcode);  
            }
          </script>




<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery.mobile.custom.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/bootstrap.bundle.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/global.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_base.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_installed.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_print.css" rel="stylesheet" type="text/css" media="print">
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/equationrenderer/release/MathRenderer.js"></script>
</head>
<body id="responsive_offcanvas">
<div xmlns="http://www.w3.org/1999/xhtml" id="doc_header_spacer" class="header"></div>
<div xmlns="http://www.w3.org/1999/xhtml" class="section_header level_3"><div class="container-fluid"><div class="row" id="mobile_search_row"><div class="col-sm-6 col-md-7 has_horizontal_local_nav" id="section_header_title"><div class="section_header_content"><div class="section_header_title"><h1><a href="../../documentation-center.html">Help Center</a></h1></div></div></div><div class="col-12 col-sm-6 col-md-5" id="mobile_search"><div class="search_nested_content_container"><form id="docsearch_form" name="docsearch_form" method="get" data-release="R2025b" data-language="en" action="../../templates/searchresults.html"><div class="input-group tokenized_search_field"><label class="visually-hidden form-label">Search Help</label><input type="text" class="form-control conjoined_search" autocomplete="off" name="qdoc" placeholder="Search Help" id="docsearch"> <div><button type="submit" name="submitsearch" id="submitsearch" class="btn icon-search btn_search_adjacent btn_search icon_16" tabindex="-1"></button></div></div></form></div><button class="btn icon-remove btn_search float-end icon_32 d-sm-none" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div><div class="d-sm-none" id="search_actuator"><button class="btn icon-search btn_search float-end icon_16" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div></div></div></div><div class="row-offcanvas row-offcanvas-left">
<div xmlns="http://www.w3.org/1999/xhtml" class="sidebar-offcanvas" id="sidebar">
<nav class="offcanvas_nav" role="navigation">
<div class="offcanvas_actuator" data-bs-toggle="offcanvas" data-bs-target="#sidebar" id="nav_toggle"><button type="button" class="btn"><span class="visually-hidden">Off-Canvas Navigation Menu Toggle
                  Off-Canvas Navigation Menu Toggle</span><span class="icon-menu"></span></button><span class="offcanvas_actuator_label" id="translation_icon-menu" tabindex="-1" aria-hidden="true"></span></div><div class="nav_list_wrapper" id="nav_list_wrapper"><nav class="offcanvas_nav" role="navigation"><ul class="nav_breadcrumb" id="ul_left_nav_ancestors"><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../../documentation-center.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Documentation Home</span></a></li></ul>
<ul class="nav_disambiguation"><li><a href="../index.html?s_tid=CRUX_lftnav" id="index">MATLAB</a>
</li>
<li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../external-language-interfaces.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">External Language Interfaces</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../cpp-language.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">C++ with MATLAB</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../call-cpp-library-functions.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Call C++ from MATLAB</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../build-matlab-interface-to-c-library.html?s_tid=CRUX_lftnav" itemprop="url" id="mw_7875953d-23b2-4f08-879f-c7ea4d3016d7"><span itemprop="title">Build MATLAB Interface to C++ Library</span></a></li></ul><ul class="nav_disambiguation"><li><a href="../index.html?s_tid=CRUX_lftnav" id="index">MATLAB</a>
</li>
<li><a href="../external-language-interfaces.html?s_tid=CRUX_lftnav">External Language Interfaces</a></li><li><a href="../cpp-language.html?s_tid=CRUX_lftnav">C++ with MATLAB</a></li><li><a href="../call-cpp-library-functions.html?s_tid=CRUX_lftnav" id="mw_85a357f1-d3ea-40ec-80d6-3daa449354a8">Call C++ from MATLAB</a></li></ul><div class="search_refine_v4"><div id="facets_area"><ul class="nav_scrollspy nav list-unstyled" id="pnav">
<li class="nav_scrollspy_function nav-item"><a href="#responsive_offcanvas">Header and C++ Compiled Library Files on Linux</a></li>
<li class="nav_scrollspy_title nav-item" id="SSPY810-section">On this page</li>
<!--ADD_REFENTRY_TITLE_HERE 11--><li class="nav-item"><a href="#mw_0eb21fd6-9857-4167-8fd3-40dec711d220" class="nav-link intrnllnk">Create Workflow Script</a></li><li class="nav-item"><a href="#mw_71be453a-bc5b-476e-b276-69ad694635d5" class="nav-link intrnllnk">Step 1: GENERATE</a><ul class="nav"><li class="nav-item"><a href="#mw_7747e732-8550-4a39-af1b-4d5406d45877" class="nav-link intrnllnk">Select files</a></li><li class="nav-item"><a href="#mw_e08e29c7-7ba6-4c9d-a228-3b6cca0bb4c0" class="nav-link intrnllnk">Select configuration</a></li><li class="nav-item"><a href="#mw_0f02e2ad-79ac-47db-a90d-28ce4022a856" class="nav-link intrnllnk">Specify optional C++ library settings</a></li><li class="nav-item"><a href="#mw_64e928ca-6b6c-476c-af73-2b3f4c9324b4" class="nav-link intrnllnk">Specify optional definition configurations</a></li><li class="nav-item"><a href="#mw_6a260cb8-614f-4b91-b52c-87eac0eb7d45" class="nav-link intrnllnk">Display results</a></li></ul></li><li class="nav-item"><a href="#mw_baba5a36-e614-4283-a465-377a3b98caf2" class="nav-link intrnllnk">Generate Definition File</a></li><li class="nav-item"><a href="#mw_8e28e279-ef21-47c5-9846-339dc4e74f51" class="nav-link intrnllnk">Enable Tools for Development over Multiple Sessions</a></li><li class="nav-item"><a href="#mw_f0d3777b-b8a4-4983-b72d-a861ad6cbd17" class="nav-link intrnllnk">Step 2: DEFINE</a></li><li class="nav-item"><a href="#mw_c7f6fbf9-86c6-4218-a406-1c84494e878d" class="nav-link intrnllnk">Step 3: BUILD</a></li><li class="nav-item"><a href="#mw_738957a5-bb6e-417b-a483-02f38f7b0a16" class="nav-link intrnllnk">Step 4: TEST</a><ul class="nav"><li class="nav-item"><a href="#mw_ffdcd00f-7a5c-4b28-a4fd-d044ac965c34" class="nav-link intrnllnk">Set up and copy run-time libraries</a></li><li class="nav-item"><a href="#mw_88f24a67-15c1-4890-bb9a-2046384e6577_sep_mw_7459df1a-edba-4884-b12d-821e966de2c2" class="nav-link intrnllnk">Enable out-of-process execution mode</a></li><li class="nav-item"><a href="#mw_88f24a67-15c1-4890-bb9a-2046384e6577_sep_mw_effe91c9-39eb-4d29-b629-5ed5dbee50f5" class="nav-link intrnllnk">Call help on interface library</a></li><li class="nav-item"><a href="#mw_88f24a67-15c1-4890-bb9a-2046384e6577_sep_mw_c7f463b1-997a-484a-8f5f-28fe53d1500d" class="nav-link intrnllnk">Write code to call and test interface library</a></li></ul></li><li class="nav-item"><a href="#mw_66e1f395-b281-4ff8-8f67-b29e172296b6" class="nav-link intrnllnk">Share Interface</a></li><li class="nav-item"><a href="#d126e11444" class="nav-link intrnllnk">See Also</a></li></ul></div></div>
</nav></div></nav>
<script src="../../includes/product/scripts/offcanvas_v2.js"></script></div><!--END.CLASS sidebar-offcanvas-->
<div class="offcanvas_content_container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sticky_header_container"><div class="horizontal_nav"><div class="horizontal_nav_container"><div class="offcanvas_horizontal_nav"><div class="container-fluid"><div class="row"><div class="col-sm-12 d-none d-sm-block"><nav class="navbar navbar-default" role="navigation" id="subnav"><div><ul class="nav navbar-nav crux_browse"><li id="crux_nav_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_example" class="crux_resource"><a href="../examples.html?category=build-matlab-interface-to-c-library&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=build-matlab-interface-to-c-library&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=build-matlab-interface-to-c-library&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></nav></div><div class="d-sm-none"><div class="container-fluid"><div class="row"><div class="col-9"><div class="mobile_crux_nav_trigger"><div class="btn-group"><button type="button" class="btn btn-default dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Resources</button><ul class="dropdown-menu"><li id="crux_nav_mobile_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_mobile_example" class="crux_resource"><a href="../examples.html?category=build-matlab-interface-to-c-library&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_mobile_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=build-matlab-interface-to-c-library&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_mobile_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=build-matlab-interface-to-c-library&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></div></div><div class="col-3"><div class="translate_placeholder"></div></div></div></div></div></div></div></div></div></div></div><div class="content_container" id="content_container" itemprop="content">
<div class="container-fluid">
<div class="row">
<div class="col-12">

<main id="skip_link_anchor" tabindex="-1">
<div xmlns="http://www.w3.org/1999/xhtml" id="product_info_alert"></div><section xmlns="http://www.w3.org/1999/xhtml" id="doc_center_content" lang="en" data-language="en"><div id="pgtype-topic">
<section><h2 class="title r2025b" itemprop="title content" id="mw_88f24a67-15c1-4890-bb9a-2046384e6577">Header and C++ Compiled Library Files on <span class="trademark entity">Linux</span></h2><p>This example shows how to create a MATLAB<sup>&#x00AE;</sup> interface to a C++ library <code class="literal">matrixOperations</code> for Linux<sup>&#x00AE;</sup> by calling <a href="../ref/clibpublishinterfaceworkflow.html"><code class="function">clibPublishInterfaceWorkflow</code></a>. For this example, the library is defined by header
      file <code class="literal">matrixOperations.hpp</code> and shared object file
        <code class="literal">libmwmatrixOperations.so</code>.</p><p>MATLAB provides these files in this folder:</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>fullfile(matlabroot,<span style="color:#A020F0">"extern"</span>,<span style="color:#A020F0">"examples"</span>,<span style="color:#A020F0">"cpp_interface"</span>);</pre></div></div></div><p>To create an interface named <code class="literal">matrixlib</code> for this library, follow these
      steps in a workflow script: generate a library definition file, define any missing constructs,
      build the interface, and then test the interface. If you need to iterate over the publishing
      process, you can take additional steps to restore parameters and enable out-of-process
      execution mode. You can then share your published interface with other users.</p><section><h3 class="title" id="mw_0eb21fd6-9857-4167-8fd3-40dec711d220">Create Workflow Script</h3><p>Navigate to a writable folder and call
        <code class="function">clibPublishInterfaceWorkflow</code>. In the dialog box, specify the name of
        the workflow script, for example, <code class="literal">publishmatrixlib.mlx</code>. The workflow
        script has steps to help you publish the interface. Use the script to save the parameters
        for publishing the interface. You can use the same script on all platforms.</p><div class="alert alert-info d-inline-block"><span class="alert_icon icon-alert-info-reverse"></span><p class="alert_heading"><strong>Note</strong></p><p>The workflow script allows you to repeatedly generate, define, build, and test an
          interface during multiple MATLAB sessions. However, the script does not save edits to library definition
          files recreated using the <strong class="guilabel">Overwrite existing definition files</strong>
          option.</p></div></section><section><h3 class="title" id="mw_71be453a-bc5b-476e-b276-69ad694635d5">Step 1: GENERATE</h3><p>First, generate the library definition file. The workflow script contains the
          <a href="../ref/generatecinterface.html"><span class="liveeditortask">Generate C++
          Interface</span></a> Live Editor task for this step. Use this task to select the
        files that make up the library and to set options for generating the library definition
        file.</p><section><h4 class="title" id="mw_7747e732-8550-4a39-af1b-4d5406d45877">Select files</h4><p>The library is defined by the <code class="literal">matrixOperations.hpp</code> header file and
          the <code class="literal">libmwmatrixOperations.so</code> shared object file. The <strong class="guibutton">Library
            type</strong> is <code class="literal">Headers and compiled library files</code>, which is the
          default setting.</p><p>To set the <strong class="guilabel">Library start path</strong>, browse to the folder
            <code class="literal">fullfile(matlabroot,"extern","examples","cpp_interface")</code> and click
            <strong class="guilabel">Select Folder</strong>. </p><p>To select the header file, click <strong class="guilabel">Browse</strong> to open the file
            <code class="literal">matrixOperations.hpp</code>.</p><p>The header file depends on the <code class="literal">cppshrhelp.hpp</code> header file. Navigate
          to the folder in <strong class="guilabel">Library start path</strong> and click <strong class="guilabel">Select
            Folder</strong>.</p><p>To select the compiled library file, browse to the <code class="literal">glnxa64</code> folder
          and open the <code class="literal">libmwmatrixOperations.so</code> file.</p></section><section><h4 class="title" id="mw_e08e29c7-7ba6-4c9d-a228-3b6cca0bb4c0">Select configuration</h4><p>In this example, the <strong class="guilabel">C++ compiler</strong> is set to
            <code class="literal">g++</code>.</p><p>Change <strong class="guilabel">Name of interface library</strong> to <code class="literal">matrixlib</code>.
          Use this name with <code class="literal">clib</code> to call functionality from MATLAB. For example, to create a library object <code class="literal">Mat</code>, from the
          command prompt, enter:</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>clib.matrixlib.Mat</pre></div></div></div><p>Verify that <strong class="guilabel">Output folder</strong> is a writable folder.</p><p>Select the <strong class="guilabel">Overwrite existing definition files</strong> check box so that
          you can recreate the definition file while developing the interface.</p></section><section><h4 class="title" id="mw_0f02e2ad-79ac-47db-a90d-28ce4022a856">Specify optional C++ library settings</h4><p>Building the interface to this library does not require optional C++ library
          settings.</p></section><section><h4 class="title" id="mw_64e928ca-6b6c-476c-af73-2b3f4c9324b4">Specify optional definition configurations</h4><p>Building the interface to this library does not require optional definition
          configurations.</p></section><section><h4 class="title" id="mw_6a260cb8-614f-4b91-b52c-87eac0eb7d45">Display results</h4><p>By default, when you generate a definition file, the function displays available
          constructs (classes and functions in the library). While developing the interface, also
          select the <strong class="guilabel">Show unavailable constructs</strong> check box so that you can see
          what constructs are not included because they are unsupported.</p></section></section><section><h3 class="title" id="mw_baba5a36-e614-4283-a465-377a3b98caf2">Generate Definition File</h3><p>Click <strong class="guibutton">Generate definition file</strong>. The script displays its progress
        and creates the library definition file <code class="literal">definematrixlib.m</code> in the
        specified output folder.</p><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>Warning: Some C++ language constructs in the files for generating interface file are not supported and not imported.

Using g++ compiler.
Definition file definematrixlib.m contains definitions for 10 constructs supported by MATLAB.
- 5 constructs are fully defined.
- 5 constructs partially defined and commented out.

To include the 5 undefined constructs in the interface, uncomment and complete the definitions in definematrixlib.m.
To build the interface, call build(definematrixlib).</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>MATLAB Interface to matrixlib Library

Class clib.matrixlib.Mat

  Constructors:
    clib.matrixlib.Mat(clib.matrixlib.Mat)
    clib.matrixlib.Mat()

  Methods:
    uint64 getLength()
    
  No Properties defined

Functions
clib.matrixlib.updateMatByX(clib.matrixlib.Mat,int32)
</pre></div></div></div></section><section><h3 class="title" id="mw_8e28e279-ef21-47c5-9846-339dc4e74f51">Enable Tools for Development over Multiple Sessions</h3><p>While publishing the interface, you might iterate over the steps, close and reopen the <code class="literal">publishmatrixlib.mlx</code> script, or restart MATLAB. Follow the instructions in these sections to help you with these workflows.</p><div class="itemizedlist"><ul><li><p>Preserve workspace variables across MATLAB sessions. In the <strong class="guilabel">Restore library definition</strong>
                section, set the <code class="literal">outputFolderPath</code> variable to the value in the
                    <strong class="guilabel">Output folder</strong> parameter. Set the
                    <code class="literal">libraryNameForInterface</code> variable to the <strong class="guilabel">Name of
                    interface library</strong> parameter <code class="literal">matrixlib</code>. Then run
                the section. For more information, see <a href="restore-library-definition.html" class="a">Restore Library Definition</a>.</p></li><li><p>Consider running the <strong class="guilabel">Enable out-of-process execution mode</strong>
                section. Using this mode while developing an interface eliminates the need to
                restart MATLAB while testing. After calling functionality in your library, you can
                unload the library by running the <strong class="guilabel">Unload out-of-process library</strong>
                section. For more information, see <a href="load-cpp-library-in-process-or-out-of-process.html#mw_4804d536-8376-441e-aa7a-1622b7f3ebc5" class="a">Load Out-of-Process C++ Library</a></p></li></ul></div></section><section><h3 class="title" id="mw_f0d3777b-b8a4-4983-b72d-a861ad6cbd17">Step 2: DEFINE</h3><p>When you created the library definition file, MATLAB reported that five constructs are partially defined. To completely define the
        functionality, edit the <code class="literal">definematrixlib.m</code> file. To edit the file, run the
          <strong class="guilabel">DEFINE</strong> section.</p><p>Scroll through the library definition file to find blocks of commented code for these
        constructs. MATLAB cannot automatically determine the size of arguments used by these
        functions.</p><div class="itemizedlist"><ul><li><p><code class="literal">setMat</code> &#8212; C++ method for class <code class="literal">Mat</code></p></li><li><p><code class="literal">getMat</code> &#8212; C++ method for class <code class="literal">Mat</code></p></li><li><p><code class="literal">copyMat</code> &#8212; C++ method for class <code class="literal">Mat</code></p></li><li><p><code class="literal">addMat</code> &#8212; C++ function</p></li><li><p><code class="literal">updateMatBySize</code> &#8212; C++ function</p></li></ul></div><p>Based on the documentation of the <code class="literal">matrixOperations</code> library, you can
        provide values for <code class="literal">&lt;SHAPE&gt;</code> in the argument definition statements.
        For more information, see <a href="define-missing-shape-parameter.html" class="a">Define Missing SHAPE Parameter</a>.</p><div class="orderedlist"><ol style="list-style: decimal;"><li><p>For each construct, uncomment the statements defining it.</p></li><li><p>Replace <code class="literal">&lt;SHAPE&gt;</code> arguments with these values.</p><div class="table-responsive"><table class="table table-condensed"><colgroup><col class="tcol1" width="19%"><col class="tcol2" width="12%"><col class="tcol3" width="25%"><col class="tcol4" width="34%"><col class="tcol5" width="10%"></colgroup><thead><tr><th><p>Construct</p></th><th><p>Argument Name</p></th><th><p>Argument C++ Definition</p></th><th><p>Description</p></th><th><p>Replace <code class="literal">&lt;SHAPE&gt;</code> with
                                Value</p></th></tr></thead><tbody><tr><td><code class="literal">setMat</code></td><td><code class="literal">src</code></td><td><code class="literal">int [] src</code></td><td><p>The length of the matrix is defined by the input argument
                                        <code class="literal">len</code>.</p></td><td><code class="literal">"len"</code></td></tr><tr><td><code class="literal">getMat</code></td><td><code class="literal">RetVal</code></td><td><code class="literal">int const *</code></td><td><p>The length of the output argument is defined by the input
                                    argument <code class="literal">len</code>.</p></td><td><code class="literal">"len"</code></td></tr><tr><td><code class="literal">copyMat</code></td><td><code class="literal">dest</code></td><td><code class="literal">int * dest</code></td><td><p>The length of <code class="literal">dest</code> is defined by the
                                    input argument <code class="literal">len</code>.</p></td><td><code class="literal">"len"</code></td></tr><tr><td><code class="literal">addMat</code></td><td><code class="literal">mat</code></td><td><code class="literal">Mat const * mat</code></td><td><p>The function takes a single <code class="literal">mat</code>
                                    argument.</p></td><td><code class="literal">1</code></td></tr><tr><td><code class="literal">updateMatBySize</code></td><td><code class="literal">arr</code></td><td><code class="literal">int * arr</code></td><td><p>The length of <code class="literal">arr</code> is defined by the
                                    input argument <code class="literal">len</code>.</p></td><td><code class="literal">"len"</code></td></tr></tbody></table></div></li><li><p>Save and close the definition file.</p></li><li><p>To validate the edits you made in the file, run the <strong class="guilabel">Confirm edits and
                    run summary</strong> section. Fix any reported errors in the file. The
                    <code class="function">summary</code> function shows that the interface now includes
                    <code class="literal">setMat</code>, <code class="literal">getMat</code>,
                <code class="literal">copyMat</code>, <code class="literal">addMat</code>, and
                    <code class="literal">updateMatBySize</code>.</p></li></ol></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>MATLAB Interface to matrixlib Library

Class clib.matrixlib.Mat

  Constructors:
    clib.matrixlib.Mat(clib.matrixlib.Mat)
    clib.matrixlib.Mat()

  Methods:
    setMat(clib.array.matrixlib.Int)
    clib.array.matrixlib.Int getMat(uint64)
    uint64 getLength()
    copyMat(clib.array.matrixlib.Int)

  No Properties defined

Functions
int32 clib.matrixlib.addMat(clib.matrixlib.Mat)
clib.matrixlib.updateMatByX(clib.matrixlib.Mat,int32)
clib.matrixlib.updateMatBySize(clib.matrixlib.Mat,clib.array.matrixlib.Int)</pre></div></div></div></section><section><h3 class="title" id="mw_c7f6fbf9-86c6-4218-a406-1c84494e878d">Step 3: BUILD</h3><p>To build the <code class="literal">matrixlib</code> interface to the library, run the
          <strong class="guilabel">BUILD</strong> section of the script.</p><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>Building interface file 'matrixlibInterface.so' for clib interface 'matrixlib'.
Interface file 'matrixlibInterface.so' built in folder '/home/Documents/MATLAB/matrixlib'.

To use the library, add the interface file folder to the MATLAB path.
addpath('/home/Documents/MATLAB/matrixlib')</pre></div></div></div><div class="alert alert-info d-inline-block"><span class="alert_icon icon-alert-info-reverse"></span><p class="alert_heading"><strong>Note</strong></p><p>You can repeat the generate, define, and build steps. However, once you display help
          for or call functions in the library, you cannot update the
            <code class="literal">definematrixlib</code> definition file in the same MATLAB session. Either restart MATLAB or create a new definition file by changing the <strong class="guilabel">Name of interface
            library</strong> parameter in the <strong class="guilabel">Select configuration</strong>
          section.</p></div></section><section><h3 class="title" id="mw_738957a5-bb6e-417b-a483-02f38f7b0a16">Step 4: TEST</h3><section><h4 class="title" id="mw_ffdcd00f-7a5c-4b28-a4fd-d044ac965c34">Set up and copy run-time libraries</h4><p>Run the <strong class="guilabel">Set up and copy run-time libraries</strong> section. This library
          does not have additional run-time dependencies, so you do not need to modify the
          commands.</p></section><section><h4 class="title" id="mw_88f24a67-15c1-4890-bb9a-2046384e6577_sep_mw_7459df1a-edba-4884-b12d-821e966de2c2">Enable out-of-process execution mode</h4><p>If the definition file needs to change, run this command to set up the ability to call the interface library out of process so that you do not have to restart MATLAB. For more information, see <a href="load-cpp-library-in-process-or-out-of-process.html" class="a">Load C++ Library In-Process or Out-of-Process</a>.</p></section><section><h4 class="title" id="mw_88f24a67-15c1-4890-bb9a-2046384e6577_sep_mw_effe91c9-39eb-4d29-b629-5ed5dbee50f5">Call help on interface library</h4><p>To display help for the interface library, run the <strong class="guilabel">Call help on interface
                library</strong> section.</p></section><section><h4 class="title" id="mw_88f24a67-15c1-4890-bb9a-2046384e6577_sep_mw_c7f463b1-997a-484a-8f5f-28fe53d1500d">Write code to call and test interface library</h4><p>Use the code section in <strong class="guilabel">Write code to call and test interface
                library</strong> to write these tests:</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>matObj = clib.matrixlib.Mat;   <span style="color:#228B22">% Create a Mat object</span>
intArr = [1,2,3,4,5];
matObj.setMat(intArr);     <span style="color:#228B22">% Set the values to intArr</span>
retMat = matObj.getMat(5)  <span style="color:#228B22">% Display the values</span>
</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>retMat = 

&nbsp;&nbsp;read-only clib.array.matrixlib.Int with properties:

    Dimensions: 5
     Resizable: 0
</pre></div></div></div></section></section><section><h3 class="title" id="mw_66e1f395-b281-4ff8-8f67-b29e172296b6">Share Interface</h3><p>To share the interface with another MATLAB user, create a toolbox installation (<code class="literal">.mltbx</code>) file. Using
        the instructions in <a href="distribute-matlab-interface-to-c-library.html" class="a">Distribute MATLAB Interface to C++ Library</a>:</p><div class="itemizedlist"><ul><li><p>Set the toolbox folder to your <code class="literal">matrixlib</code> folder, which contains
            the interface file <code class="literal">matrixlibInterface.so</code>.</p></li><li><p>Put the compiled library file <code class="literal">libmwmatrixOperations.so</code> in the
            same folder.</p></li><li><p>Identify the namespace (calling syntax) as <code class="literal">clib.matrixlib</code>.</p></li></ul></div></section>
      <h2 id="d126e11444">See Also</h2><p><span itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/SeeAlso" itemprop="seealso"><a itemprop="url" href="../ref/clibpublishinterfaceworkflow.html"><span itemprop="name"><code class="function">clibPublishInterfaceWorkflow</code></span></a></span></p>
      <h3 id="d126e11450">Topics</h3><ul class="list-unstyled"><li><a href="publish-interface-to-shared-c-library-on-windows.html" class="a">Header and C++ Compiled Library Files on Windows</a></li><li><a href="publish-interface-to-shared-c-library-on-macos.html" class="a">Header and C++ Compiled Library Files on macOS</a></li></ul>
      
    </section>
    </div></section><div xmlns="http://www.w3.org/1999/xhtml" class="clearfix"></div>
<div xmlns="http://www.w3.org/1999/xhtml" align="center" class="feedbackblock" id="mw_docsurvey"><script src="https://www.mathworks.com/help/docsurvey/docfeedback.js"></script>
<script>loadSurveyHidden();</script>
<link rel="stylesheet" href="https://www.mathworks.com/help/docsurvey/release/index-css.css" type="text/css">
<script src="https://www.mathworks.com/help/docsurvey/release/bundle.index.js"></script>

<script>initDocSurvey();</script></div></main>


</div>
</div>
</div>
</div><!--close_0960-->
<footer xmlns="http://www.w3.org/1999/xhtml" id="footer" class="bs-footer">
<div class="container-fluid">
<div class="footer">
<div class="row">
<div class="col-12">
<p class="copyright">Â© 1994-2025 The MathWorks, Inc.</p>
<ul class="footernav"><li class="footernav_help"><a href="matlab:web(matlab.internal.licenseAgreement)">Terms of Use</a></li><li class="footernav_patents"><a href="matlab:web([matlabroot '/patents.txt'])">Patents</a></li><li class="footernav_trademarks"><a href="matlab:web([matlabroot '/trademarks.txt'])">Trademarks</a></li><li class="footernav_piracy"><a href="matlab:web([docroot '/acknowledgments.html'])">Acknowledgments</a></li></ul></div>
</div>
</div>
</div>
</footer>
</div><!--close row-offcanvas-->
</div><!--close_0970-->
</body>
</html>
