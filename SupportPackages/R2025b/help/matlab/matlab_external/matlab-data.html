<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage">
<head>
<meta xmlns="http://www.w3.org/1999/xhtml" charset="utf-8">
<meta xmlns="http://www.w3.org/1999/xhtml" name="viewport" content="width=device-width, initial-scale=1.0">
<meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="X-UA-Compatible" content="IE=edge">
<title>MATLAB Data</title>
<script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
      {
      "@context": "http://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement":
      [{
          "@type": "ListItem",
          "position": 1,

          "item": {
          "@id": "../index.html",
          "name": "MATLAB"
}

          } 
        ,
        {
          "@type": "ListItem",
          "position": 2,

          "item": {
          "@id": "../external-language-interfaces.html",
          "name": "External Language Interfaces"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 3,

          "item": {
          "@id": "../c-language.html",
          "name": "C with MATLAB"
}

          }
        ,
        {
          "@type": "ListItem",
          "position": 4,

          "item": {
          "@id": "../call-mex-files-1.html",
          "name": "Write C Functions Callable from MATLAB (MEX Files)"
}

          }]
      }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "VisibleBreadcrumbs",

        "itemListElement":
        [
        "call-mex-files-1"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/bootstrap.min.css" rel="stylesheet" type="text/css">


  <meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="Content-Script-Type" content="text/javascript">
<meta xmlns="http://www.w3.org/1999/xhtml" name="toctype" itemprop="pagetype" content="con">
<meta xmlns="http://www.w3.org/1999/xhtml" name="infotype" itemprop="infotype" content="con">

<meta xmlns="http://www.w3.org/1999/xhtml" name="description" itemprop="description" content="Using mxArray in MEX files."><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-3.6.0.min.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery-migrate.min.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_lg.css" rel="stylesheet" media="screen and (min-width: 1200px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_md.css" rel="stylesheet" media="screen and (min-width: 992px) and (max-width: 1199px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm+xs.css" rel="stylesheet" media="screen and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_sm.css" rel="stylesheet" media="screen and (min-width: 768px) and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_xs.css" rel="stylesheet" media="screen and (max-width: 767px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/site6_offcanvas_v2.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/shared/highlight/styles/mwdochighlight.min.css" rel="stylesheet" type="text/css">

<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/l10n.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/f1help.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/mw.imageanimation.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/jquery.highlight.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/underscore-min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/use_platform_screenshots.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/suggest.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/overload.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/helpservices.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/productfilter.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/matlab_dialog_shared.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/highlight/highlight.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/localstorage.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/product_group.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/scripts/saxonjs/SaxonJS2.rt.js"></script><script xmlns="http://www.w3.org/1999/xhtml">
            window.history.replaceState(window.location.href, null, ""); // Initialize
            window.onload = function() {    
            mystylesheetLocation = "../../includes/shared/scripts/product_group-sef.json";
            mysourceLocation = "../../docset/docset.xml";
            product_help_location = "matlab";
            pagetype = "section";
            doccentertype = "product";
            langcode = "";
            getProductFilteredList(mystylesheetLocation, mysourceLocation, product_help_location, pagetype, doccentertype, langcode);  
            }
          </script>




<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/jquery/jquery.mobile.custom.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/bootstrap.bundle.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/product/scripts/global.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_base.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_installed.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../../includes/product/css/doc_center_print.css" rel="stylesheet" type="text/css" media="print">
<script xmlns="http://www.w3.org/1999/xhtml" src="../../includes/shared/equationrenderer/release/MathRenderer.js"></script>
</head>
<body id="responsive_offcanvas">
<div xmlns="http://www.w3.org/1999/xhtml" id="doc_header_spacer" class="header"></div>
<div xmlns="http://www.w3.org/1999/xhtml" class="section_header level_3"><div class="container-fluid"><div class="row" id="mobile_search_row"><div class="col-sm-6 col-md-7 has_horizontal_local_nav" id="section_header_title"><div class="section_header_content"><div class="section_header_title"><h1><a href="../../documentation-center.html">Help Center</a></h1></div></div></div><div class="col-12 col-sm-6 col-md-5" id="mobile_search"><div class="search_nested_content_container"><form id="docsearch_form" name="docsearch_form" method="get" data-release="R2025b" data-language="en" action="../../templates/searchresults.html"><div class="input-group tokenized_search_field"><label class="visually-hidden form-label">Search Help</label><input type="text" class="form-control conjoined_search" autocomplete="off" name="qdoc" placeholder="Search Help" id="docsearch"> <div><button type="submit" name="submitsearch" id="submitsearch" class="btn icon-search btn_search_adjacent btn_search icon_16" tabindex="-1"></button></div></div></form></div><button class="btn icon-remove btn_search float-end icon_32 d-sm-none" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div><div class="d-sm-none" id="search_actuator"><button class="btn icon-search btn_search float-end icon_16" data-bs-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div></div></div></div><div class="row-offcanvas row-offcanvas-left">
<div xmlns="http://www.w3.org/1999/xhtml" class="sidebar-offcanvas" id="sidebar">
<nav class="offcanvas_nav" role="navigation">
<div class="offcanvas_actuator" data-bs-toggle="offcanvas" data-bs-target="#sidebar" id="nav_toggle"><button type="button" class="btn"><span class="visually-hidden">Off-Canvas Navigation Menu Toggle
                  Off-Canvas Navigation Menu Toggle</span><span class="icon-menu"></span></button><span class="offcanvas_actuator_label" id="translation_icon-menu" tabindex="-1" aria-hidden="true"></span></div><div class="nav_list_wrapper" id="nav_list_wrapper"><nav class="offcanvas_nav" role="navigation"><ul class="nav_breadcrumb" id="ul_left_nav_ancestors"><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../../documentation-center.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Documentation Home</span></a></li></ul>
<ul class="nav_disambiguation"><li><a href="../index.html?s_tid=CRUX_lftnav" id="index">MATLAB</a>
</li>
<li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../external-language-interfaces.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">External Language Interfaces</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../c-language.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">C with MATLAB</span></a></li><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../call-mex-files-1.html?s_tid=CRUX_lftnav" itemprop="url" id="btv27nw"><span itemprop="title">Write C Functions Callable from MATLAB (MEX Files)</span></a></li></ul><div class="search_refine_v4"><div id="facets_area"><ul class="nav_scrollspy nav list-unstyled" id="pnav">
<li class="nav_scrollspy_function nav-item"><a href="#responsive_offcanvas">MATLAB Data</a></li>
<li class="nav_scrollspy_title nav-item" id="SSPY810-section">On this page</li>
<!--ADD_REFENTRY_TITLE_HERE 11--><li class="nav-item"><a href="#f17318" class="nav-link intrnllnk">MATLAB Array in C/C++ Applications</a></li><li class="nav-item"><a href="#mw_ff0eae97-1512-4fa0-bdae-28cbc4d59d65" class="nav-link intrnllnk">Lifecycle of mxArray</a><ul class="nav"><li class="nav-item"><a href="#mw_0f843678-993f-42e9-b72c-904915d64e5e" class="nav-link intrnllnk">Input Argument prhs</a></li><li class="nav-item"><a href="#mw_94454ebc-86be-4445-aacf-075bc2f2e467" class="nav-link intrnllnk">Output Argument plhs</a></li><li class="nav-item"><a href="#mw_9725837b-5cac-476c-8d5b-55ce37ff5e92" class="nav-link intrnllnk">Local Variable</a></li></ul></li><li class="nav-item"><a href="#f22019" class="nav-link intrnllnk">Data Storage</a></li><li class="nav-item"><a href="#f22000" class="nav-link intrnllnk">MATLAB Data Types</a><ul class="nav"><li class="nav-item"><a href="#f22319" class="nav-link intrnllnk">Complex Double-Precision Matrices</a></li><li class="nav-item"><a href="#f22346" class="nav-link intrnllnk">Other Numeric Matrices</a></li><li class="nav-item"><a href="#f47669" class="nav-link intrnllnk">Logical Matrices</a></li><li class="nav-item"><a href="#f47672" class="nav-link intrnllnk">MATLAB char Arrays</a></li><li class="nav-item"><a href="#f22324" class="nav-link intrnllnk">Cell Arrays</a></li><li class="nav-item"><a href="#f22326" class="nav-link intrnllnk">Structures</a></li><li class="nav-item"><a href="#f22334" class="nav-link intrnllnk">Objects</a></li><li class="nav-item"><a href="#f22339" class="nav-link intrnllnk">Multidimensional Arrays</a></li><li class="nav-item"><a href="#f22341" class="nav-link intrnllnk">Empty Arrays</a></li></ul></li><li class="nav-item"><a href="#f47606" class="nav-link intrnllnk">Sparse Matrices</a></li><li class="nav-item"><a href="#f10347" class="nav-link intrnllnk">Using Data Types</a><ul class="nav"><li class="nav-item"><a href="#bt452xz-3" class="nav-link intrnllnk">Declaring Data Structures</a></li><li class="nav-item"><a href="#bt452xz-7" class="nav-link intrnllnk">Manipulating Data</a></li><li class="nav-item"><a href="#f21831" class="nav-link intrnllnk">explore Example</a></li></ul></li><li class="nav-item"><a href="#seealsoref" class="nav-link intrnllnk">See Also</a></li></ul></div></div>
</nav></div></nav>
<script src="../../includes/product/scripts/offcanvas_v2.js"></script></div><!--END.CLASS sidebar-offcanvas-->
<div class="offcanvas_content_container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sticky_header_container"><div class="horizontal_nav"><div class="horizontal_nav_container"><div class="offcanvas_horizontal_nav"><div class="container-fluid"><div class="row"><div class="col-sm-12 d-none d-sm-block"><nav class="navbar navbar-default" role="navigation" id="subnav"><div><ul class="nav navbar-nav crux_browse"><li id="crux_nav_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_example" class="crux_resource"><a href="../examples.html?category=call-mex-files-1&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=call-mex-files-1&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=call-mex-files-1&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></nav></div><div class="d-sm-none"><div class="container-fluid"><div class="row"><div class="col-9"><div class="mobile_crux_nav_trigger"><div class="btn-group"><button type="button" class="btn btn-default dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Resources</button><ul class="dropdown-menu"><li id="crux_nav_mobile_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_mobile_example" class="crux_resource"><a href="../examples.html?category=call-mex-files-1&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_mobile_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=call-mex-files-1&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_mobile_app" class="crux_resource"><a href="../referencelist.html?type=app&amp;category=call-mex-files-1&amp;s_tid=CRUX_topnav">Apps</a></li></ul></div></div></div><div class="col-3"><div class="translate_placeholder"></div></div></div></div></div></div></div></div></div></div></div><div class="content_container" id="content_container" itemprop="content">
<div class="container-fluid">
<div class="row">
<div class="col-12">

<main id="skip_link_anchor" tabindex="-1">
<div xmlns="http://www.w3.org/1999/xhtml" id="product_info_alert"></div><section xmlns="http://www.w3.org/1999/xhtml" id="doc_center_content" lang="en" data-language="en"><div id="pgtype-topic">
<section><h2 class="title r2025b" itemprop="title content" id="f21585"><span class="trademark entity">MATLAB</span> Data</h2><section><h3 class="title" id="f17318"><span class="trademark entity">MATLAB</span> Array in C/C++ Applications</h3><span id="the_matlab_array" class="anchor_target"></span><p>The MATLAB<sup>&#x00AE;</sup> language works with a single object type: the MATLAB array. All MATLAB variables (including scalars, vectors, matrices, character arrays,
                cell arrays, structures, and objects) are stored as MATLAB arrays. In C/C++, the MATLAB array is declared to be of type <a href="../apiref/mxarray.html"><code class="function">mxArray</code></a>. The
                    <code class="literal">mxArray</code> structure contains the following information about
                the array:</p><div class="itemizedlist"><ul><li><p>Its type</p></li><li><p>Its dimensions</p></li><li><p>The data associated with this array</p></li><li><p>If numeric, whether the variable is real or complex</p></li><li><p>If sparse, its indices and nonzero maximum elements</p></li><li><p>If a structure or an object, the number of fields and field names</p></li></ul></div><p>To access the <code class="literal">mxArray</code> structure, use functions in the C or
                Fortran Matrix APIs. These functions allow you to create, read, and query
                information about the MATLAB data in your MEX files. Matrix APIs use the <a href="../apiref/mwsize.html"><code class="function">mwSize</code></a> and <a href="../apiref/mwindex.html"><code class="function">mwIndex</code></a> types to avoid
                portability issues and allow MEX source files to be compiled correctly on all
                systems.</p></section><section><h3 class="title" id="mw_ff0eae97-1512-4fa0-bdae-28cbc4d59d65">Lifecycle of mxArray</h3><p>Like MATLAB functions, a MEX-file <a href="gateway-routine.html" class="a">gateway
                    routine</a> passes MATLAB variables by reference. However, these arguments are C pointers. A
                    <em class="firstterm">pointer</em> to a variable is the
                    <em class="firstterm">address</em> (location in memory) of the variable. MATLAB functions handle data storage for you automatically. When passing data
                to a MEX-file, you use pointers, which follow specific rules for accessing and
                manipulating variables. For information about working with pointers, refer to a
                programming reference, such as <em class="citetitle">The C Programming Language</em> by
                Kernighan, B. W., and D. M. Ritchie.</p><div class="alert alert-info d-inline-block"><span class="alert_icon icon-alert-info-reverse"></span><p class="alert_heading"><strong>Note</strong></p><p>Since variables use memory, you need to understand how your MEX-file creates
                    an <code class="literal">mxArray</code> and your responsibility for releasing (freeing)
                    the memory. This is important to prevent memory leaks. The lifecycle of an
                        <code class="literal">mxArray</code>&#8212;and the rules for managing
                    memory&#8212;depends on whether it is an input argument, output argument, or
                    local variable. The function you call to deallocate an
                        <code class="literal">mxArray</code> depends on the function you used to create it.
                    For more information, look up the functions to create arrays in the <a href="../cc-mx-matrix-library.html" class="a">C Matrix API</a>.</p></div><section><h4 class="title" id="mw_0f843678-993f-42e9-b72c-904915d64e5e">Input Argument <code class="literal">prhs</code></h4><p>An <code class="literal">mxArray</code> passed to a MEX-file through the
                        <code class="literal">prhs</code> input parameter exists outside the scope of the
                    MEX-file. Do not free memory for any <code class="literal">mxArray</code> in the
                        <code class="literal">prhs</code> parameter. Also, <code class="literal">prhs</code> variables
                    are read-only; do not modify them in your MEX-file.</p></section><section><h4 class="title" id="mw_94454ebc-86be-4445-aacf-075bc2f2e467">Output Argument <code class="literal">plhs</code></h4><p>If you create an <code class="literal">mxArray</code> (allocate memory and create data)
                    for an output argument, the memory and data exist beyond the scope of the
                    MEX-file. Do not free memory on an <code class="literal">mxArray</code> returned in the
                        <code class="literal">plhs</code> output parameter.</p></section><section><h4 class="title" id="mw_9725837b-5cac-476c-8d5b-55ce37ff5e92">Local Variable</h4><p>You allocate memory whenever you use an <code class="literal">mxCreate*</code> function
                    to create an <code class="literal">mxArray</code> or when you call the
                        <code class="function">mxCalloc</code> and associated functions. After observing the
                    rules for handling input and output arguments, the MEX-file should destroy
                    temporary arrays and free dynamically allocated memory. To deallocate memory,
                    use either <code class="function">mxDestroyArray</code> or <code class="function">mxFree</code>.
                    For information about which function to use, see <a href="../cc-mx-matrix-library.html" class="a">MX Matrix Library</a>.</p></section></section><section><h3 class="title" id="f22019">Data Storage</h3><p>MATLAB stores data in a column-major (column-wise) numbering scheme, which is
                how Fortran stores matrices. MATLAB uses this convention because it was originally written in Fortran.
                    MATLAB internally stores data elements from the first column first, then data
                elements from the second column second, and so on, through the last column.</p><p>For example, given the matrix:</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>a = [<span style="color:#A020F0">'house'</span>; <span style="color:#A020F0">'floor'</span>; <span style="color:#A020F0">'porch'</span>]
</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>a =
   house
   floor
   porch</pre></div></div></div><p>its dimensions are:</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>size(a)
</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>ans =
     3     5</pre></div></div></div><p>and its data is stored as:</p><div class="informalfigure"><div id="d126e30138" class="mediaobject"><p><img src="ch_mex_introa.gif" alt="Data layout is h f p o l o u o r s o c e r h." height="21" width="302"></p></div></div><p>If a matrix is N-dimensional, MATLAB represents the data in N-major order. For example, consider a
                three-dimensional array having dimensions
                    <code class="literal">4</code>-by-<code class="literal">2</code>-by-<code class="literal">3</code>. Although
                you can visualize the data as:</p><div class="informalfigure"><div id="d126e30155" class="mediaobject"><p><img src="mx-ca.gif" alt="Letters of alphabet arranged on three data pages A-H, I-P, and Q-X." height="237" width="349"></p></div></div><p>MATLAB internally represents the data for this three-dimensional array in
                this order:</p><div class="table-responsive"><table class="table table-condensed" width="100%"><colgroup><col class="tcol1" width="4%"><col class="tcol2" width="4%"><col class="tcol3" width="4%"><col class="tcol4" width="4%"><col class="tcol5" width="4%"><col class="tcol6" width="4%"><col class="tcol7" width="4%"><col class="tcol8" width="4%"><col class="tcol9" width="4%"><col class="tcol10" width="4%"><col class="tcol11" width="4%"><col class="tcol12" width="4%"><col class="tcol13" width="4%"><col class="tcol14" width="4%"><col class="tcol15" width="4%"><col class="tcol16" width="4%"><col class="tcol17" width="4%"><col class="tcol18" width="4%"><col class="tcol19" width="4%"><col class="tcol20" width="4%"><col class="tcol21" width="4%"><col class="tcol22" width="4%"><col class="tcol23" width="4%"><col class="tcol24" width="4%"></colgroup><tbody><tr><td><p>A</p></td><td><p>B</p></td><td><p>C</p></td><td><p>D</p></td><td><p>E</p></td><td><p>F</p></td><td><p>G</p></td><td><p>H</p></td><td><p>I</p></td><td><p>J</p></td><td><p>K</p></td><td><p>L</p></td><td><p>M</p></td><td><p>N</p></td><td><p>O</p></td><td><p>P</p></td><td><p>Q</p></td><td><p>R</p></td><td><p>S</p></td><td><p>T</p></td><td><p>U</p></td><td><p>V</p></td><td><p>W</p></td><td><p>X</p></td></tr><tr><td><p>0</p></td><td><p>1</p></td><td><p>2</p></td><td><p>3</p></td><td><p>4</p></td><td><p>5</p></td><td><p>6</p></td><td><p>7</p></td><td><p>8</p></td><td><p>9</p></td><td><p>10</p></td><td><p>11</p></td><td><p>12</p></td><td><p>13</p></td><td><p>14</p></td><td><p>15</p></td><td><p>16</p></td><td><p>17</p></td><td><p>18</p></td><td><p>19</p></td><td><p>20</p></td><td><p>21</p></td><td><p>22</p></td><td><p>23</p></td></tr></tbody></table></div><p>The <a href="../apiref/mxcalcsinglesubscript.html"><code class="function">mxCalcSingleSubscript</code></a> function
                creates the offset from the first element of an array to the desired element, using
                N-dimensional subscripting.</p></section><section><h3 class="title" id="f22000"><span class="trademark entity">MATLAB</span> Data Types</h3><section><h4 class="title" id="f22319">Complex Double-Precision Matrices</h4><span id="api_complex_matrices" class="anchor_target"></span><p>The most common data type in MATLAB is the complex double-precision, nonsparse matrix. These matrices
                    are of type <code class="literal">double</code> and have dimensions
                        <code class="literal">m</code>-by-<code class="literal">n</code>, where <code class="literal">m</code> is
                    the number of rows and <code class="literal">n</code> is the number of columns. The data
                    is stored as a vector of interleaved, double-precision numbers where the real
                    and imaginary parts are stored next to each other. The pointer to this data is
                    referred to as <code class="literal">pa</code> (pointer to array). To test for a
                    noncomplex matrix, call <a href="../apiref/mxiscomplex.html"><code class="function">mxIsComplex</code></a>.</p><p>Before MATLAB Version 9.4 (R2018a), MATLAB used a <span class="emphasis"><em>separate</em></span> storage
                    representation. The data is stored as two vectors of double-precision
                    numbers&#8212;one contains the real data and one contains the imaginary data.
                    The pointers to this data are referred to as <code class="literal">pr</code> (pointer to
                    real data) and <code class="literal">pi</code> (pointer to imaginary data), respectively.
                    A noncomplex matrix is one whose <code class="literal">pi</code> is
                        <code class="literal">NULL</code>. However, to test for a noncomplex matrix, call
                        <a href="../apiref/mxiscomplex.html"><code class="function">mxIsComplex</code></a>.</p></section><section><h4 class="title" id="f22346">Other Numeric Matrices</h4><p>MATLAB supports single-precision floating-point and 8-, 16-, 32-, and
                    64-bit integers, both signed and unsigned.</p></section><section><h4 class="title" id="f47669">Logical Matrices</h4><p>The logical data type represents a logical <code class="literal">true</code> or
                        <code class="literal">false</code> state using the numbers <code class="literal">1</code> and
                        <code class="literal">0</code>, respectively. Certain MATLAB functions and operators return logical <code class="literal">1</code> or
                    logical <code class="literal">0</code> to indicate whether a certain condition was found
                    to be true or not. For example, the statement <code class="literal">(5 * 10) &gt;
                        40</code> returns a logical <code class="literal">1</code> value.</p></section><section><h4 class="title" id="f47672"><span class="trademark entity">MATLAB</span>                     <code class="literal">char</code> Arrays</h4><p>MATLAB
                    <code class="literal">char</code> arrays store data as unsigned 16-bit integers. To convert a
                        MATLAB
                    <code class="literal">char</code> array to a C-style string, call <a href="../apiref/mxarraytostring.html"><code class="function">mxArrayToString</code></a>. To convert
                    a C-style string to a <code class="literal">char</code> array, call <a href="../apiref/mxcreatestring.html"><code class="function">mxCreateString</code></a>.</p></section><section><h4 class="title" id="f22324">Cell Arrays</h4><p>Cell arrays are a collection of MATLAB arrays where each <code class="literal">mxArray</code> is referred to as a
                    cell. Cell arrays allow MATLAB arrays of different types to be stored together. Cell arrays are
                    stored in a similar manner to numeric matrices, except the data portion contains
                    a single vector of pointers to <code class="literal">mxArrays</code>. Members of this
                    vector are called cells. Each cell can be of any supported data type, even
                    another cell array.</p></section><section><h4 class="title" id="f22326">Structures</h4><p>A <code class="literal">1</code>-by-<code class="literal">1</code> structure is stored in the same
                    manner as a <code class="literal">1</code>-by-<code class="literal">n</code> cell array where
                        <code class="literal">n</code> is the number of fields in the structure. Members of
                    the data vector are called fields. Each field is associated with a name stored
                    in the <code class="literal">mxArray</code>.</p></section><section><h4 class="title" id="f22334">Objects</h4><p>Objects are stored and accessed the same way as structures. In MATLAB, objects are named structures with registered methods. Outside
                        MATLAB, an object is a structure that contains storage for an additional
                    class name that identifies the name of the object.</p></section><section><h4 class="title" id="f22339">Multidimensional Arrays</h4><p>MATLAB arrays of any type can be multidimensional. A vector of integers
                    is stored where each element is the size of the corresponding dimension. The
                    storage method of the data is the same as for matrices.</p></section><section><h4 class="title" id="f22341">Empty Arrays</h4><p>MATLAB arrays of any type can be empty. An empty
                        <code class="literal">mxArray</code> is one with at least one dimension equal to zero.
                    For example, a double-precision <code class="literal">mxArray</code> of type
                        <code class="literal">double</code>, where <code class="literal">m</code> and
                        <code class="literal">n</code> equal 0 and <code class="literal">pa</code> is
                        <code class="literal">NULL</code>, is an empty array.</p></section></section><section><h3 class="title" id="f47606">Sparse Matrices</h3><p>Sparse matrices have a different storage convention from full matrices in
                    MATLAB. The parameter <code class="literal">pa</code> is still an array of
                double-precision numbers or logical values, but this array contains only nonzero
                data elements.</p><p>There are three additional parameters: <code class="literal">nzmax</code>,
                    <code class="literal">ir</code>, and <code class="literal">jc</code>. Use the <a href="../apiref/mwsize.html"><code class="function">mwSize</code></a> and <a href="../apiref/mwindex.html"><code class="function">mwIndex</code></a> types when declaring
                variables for these parameters.</p><div class="itemizedlist"><ul><li><p><code class="literal">nzmax</code> is an integer that contains the length of
                            <code class="literal">ir</code> and <code class="literal">pa</code>. It is the maximum
                        number of nonzero elements in the sparse matrix.</p></li><li><p><code class="literal">ir</code> points to an integer array of length
                            <code class="literal">nzmax</code> containing the row indices of the corresponding
                        elements in <code class="literal">pa</code>.</p></li><li><p><code class="literal">jc</code> points to an integer array of length
                            <code class="literal">n+1</code>, where <code class="literal">n</code> is the number of
                        columns in the sparse matrix. In C, the first element of an
                            <code class="literal">mxArray</code> has an index of 0. The <code class="literal">jc</code>
                        array contains column index information. If the <code class="literal">j</code>th
                        column of the sparse matrix has any nonzero elements,
                            <code class="literal">jc[j]</code> is the index into <code class="literal">ir</code> and
                            <code class="literal">pa</code> of the
                        first nonzero element in the <code class="literal">j</code>th column. Index
                            <code class="literal">jc[j+1] - 1</code> contains the last nonzero element in that
                        column. For the <code class="literal">j</code>th column of the sparse matrix,
                            <code class="literal">jc[j]</code> is the total number of nonzero elements in all
                        preceding columns. The last element of the <code class="literal">jc</code> array,
                            <code class="literal">jc[n]</code>, is equal to <code class="literal">nnz</code>, the number
                        of nonzero elements in the entire sparse matrix. If <code class="literal">nnz</code>
                        is less than <code class="literal">nzmax</code>, more nonzero entries can be inserted
                        into the array without allocating more storage.</p></li></ul></div><p>Do not try to reshape a sparse array using the
                    <code class="function">mxSetDimensions</code> function.</p></section><section><h3 class="title" id="f10347">Using Data Types</h3><p>You can write source MEX files, MAT-file applications, and engine applications in
                C/C++ that accept any class or data type supported by MATLAB (see <a href="../data-types.html" class="a">Data Types</a>). In Fortran, only
                the creation of double-precision <code class="literal">n</code>-by-<code class="literal">m</code> arrays
                and strings are supported. You use binary C/C++ and Fortran MEX files like
                    MATLAB functions.</p><div class="alert alert-info d-inline-block"><span class="alert_icon icon-alert-info-reverse"></span><p class="alert_heading"><strong>Caution</strong></p><p>MATLAB does not check the validity of MATLAB data structures created in C/C++ or Fortran using one of the
                    Matrix Library create functions (for example,
                        <code class="literal">mxCreateStructArray</code>). Using invalid syntax to create a
                        MATLAB data structure can result in unexpected behavior in your C/C++ or
                    Fortran program.</p></div><section><h4 class="title" id="bt452xz-3">Declaring Data Structures</h4><p>To handle MATLAB arrays, use type <code class="literal">mxArray</code>. The following
                    statement declares an <code class="literal">mxArray</code> named
                    <code class="literal">myData</code>:</p><div class="code_responsive"><pre class="programlisting">mxArray *myData;</pre></div><p>To define the values of <code class="literal">myData</code>, use one of the
                        <code class="literal">mxCreate*</code> functions. Some useful array creation routines
                    are <code class="function">mxCreateNumericArray</code>,
                        <code class="function">mxCreateCellArray</code>, and
                        <code class="function">mxCreateCharArray</code>. For example, the following statement
                    allocates an <code class="literal">m</code>-by-<code class="literal">1</code> floating-point
                        <code class="literal">mxArray</code> initialized to <code class="literal">0</code>:</p><div class="code_responsive"><pre class="programlisting">myData = mxCreateDoubleMatrix(m, 1, mxREAL);</pre></div><p>C/C++ programmers should note that data in a MATLAB array is in column-major order. (For an illustration, see <a href="matlab-data.html#f22019" class="intrnllnk">Data Storage</a>.) Use the MATLAB
                    <code class="literal">mxGet*</code> array access routines to read data from an
                        <code class="literal">mxArray</code>.</p></section><section><h4 class="title" id="bt452xz-7">Manipulating Data</h4><p>The <code class="literal">mxGet*</code> array access routines get references to the data
                    in an <code class="literal">mxArray</code>. Use these routines to modify data in your MEX
                    file. Each function provides access to specific information in the
                        <code class="literal">mxArray</code>. Some useful functions are
                        <code class="function">mxGetDoubles</code>, <code class="function">mxGetComplexDoubles</code>,
                        <code class="function">mxGetM</code>, and <code class="function">mxGetString</code>. Many of
                    these functions have corresponding <code class="literal">mxSet*</code> routines to allow
                    you to modify values in the array.</p><p>The following statements read the input <code class="literal">prhs[0]</code> into a
                    C-style string <code class="literal">buf</code>.</p><div class="code_responsive"><pre class="programlisting">char *buf;
int buflen;
int status;
buflen = mxGetN(prhs[0])*sizeof(mxChar)+1;
buf = mxMalloc(buflen);
status = mxGetString(prhs[0], buf, buflen);
</pre></div></section><section><h4 class="title" id="f21831"><code class="literal">explore</code> Example</h4><p>There is an example source MEX file included with MATLAB, called <a href="matlab:edit([matlabroot '/extern/examples/mex/explore.c']);" target="_blank"><code class="literal">explore.c</code></a>, that identifies the data type of
                    an input variable. The source code for this example is in
                        <em class="replaceable"><code>matlabroot</code></em><code class="literal">/extern/examples/mex</code>,
                    where <em class="replaceable"><code>matlabroot</code></em> represents the top-level folder
                    where MATLAB is installed on your system.</p><div class="alert alert-info d-inline-block"><span class="alert_icon icon-alert-info-reverse"></span><p class="alert_heading"><strong>Note</strong></p><p>In platform-independent discussions that refer to folder paths, this
                        documentation uses the UNIX<sup>&#x00AE;</sup> convention. For example, a general reference to the
                            <code class="literal">mex</code> folder is
                            <em class="replaceable"><code>matlabroot</code></em><code class="literal">/extern/examples/mex</code>.</p></div><p>To build the example MEX file, first copy the file to a writable folder on
                    your path.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>copyfile(fullfile(matlabroot,<span style="color:#A020F0">'extern'</span>,<span style="color:#A020F0">'examples'</span>,<span style="color:#A020F0">'mex'</span>,<span style="color:#A020F0">'explore.c'</span>),<span style="color:#A020F0">'.'</span>,<span style="color:#A020F0">'f'</span>)</pre></div></div></div><p>Use the <code class="function">mex</code> command to build the MEX file.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>mex <span style="color:#A020F0">explore.c</span> <span style="color:#A020F0">-R2018a</span></pre></div></div></div><p>Type:</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>x = 2;
explore(x)</pre></div></div></div><div class="code_responsive"><div class="programlisting"><div class="codeoutput"><pre>------------------------------------------------
Name: prhs[0]
Dimensions: 1x1 
Class Name: double
------------------------------------------------
	(1,1) = 2</pre></div></div></div><p><code class="literal">explore</code> accepts any data type. Try using
                        <code class="literal">explore</code> with these examples:</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre>explore([1 2 3 4 5])
explore <span style="color:#A020F0">1</span> <span style="color:#A020F0">2</span> <span style="color:#A020F0">3</span> <span style="color:#A020F0">4</span> <span style="color:#A020F0">5</span>
explore({1 2 3 4 5})
explore(int8([1 2 3 4 5]))
explore <span style="color:#A020F0">{1 2 3 4 5}</span>
explore(sparse(eye(5)))
explore(struct(<span style="color:#A020F0">'name'</span>, <span style="color:#A020F0">'Joe Jones'</span>, <span style="color:#A020F0">'ext'</span>, 7332))
explore(1, 2, 3, 4, 5)
explore(complex(3,4))</pre></div></div></div></section></section>
            <h2 id="seealsoref">See Also</h2><h3 id="d126e30741">Topics</h3><ul class="list-unstyled"><li><a href="../data-types.html" class="a">Data Types</a></li></ul>
        </section>
    </div></section><div xmlns="http://www.w3.org/1999/xhtml" class="clearfix"></div>
<div xmlns="http://www.w3.org/1999/xhtml" align="center" class="feedbackblock" id="mw_docsurvey"><script src="https://www.mathworks.com/help/docsurvey/docfeedback.js"></script>
<script>loadSurveyHidden();</script>
<link rel="stylesheet" href="https://www.mathworks.com/help/docsurvey/release/index-css.css" type="text/css">
<script src="https://www.mathworks.com/help/docsurvey/release/bundle.index.js"></script>

<script>initDocSurvey();</script></div></main>


</div>
</div>
</div>
</div><!--close_0960-->
<footer xmlns="http://www.w3.org/1999/xhtml" id="footer" class="bs-footer">
<div class="container-fluid">
<div class="footer">
<div class="row">
<div class="col-12">
<p class="copyright">Â© 1994-2025 The MathWorks, Inc.</p>
<ul class="footernav"><li class="footernav_help"><a href="matlab:web(matlab.internal.licenseAgreement)">Terms of Use</a></li><li class="footernav_patents"><a href="matlab:web([matlabroot '/patents.txt'])">Patents</a></li><li class="footernav_trademarks"><a href="matlab:web([matlabroot '/trademarks.txt'])">Trademarks</a></li><li class="footernav_piracy"><a href="matlab:web([docroot '/acknowledgments.html'])">Acknowledgments</a></li></ul></div>
</div>
</div>
</div>
</footer>
</div><!--close row-offcanvas-->
</div><!--close_0970-->
</body>
</html>
